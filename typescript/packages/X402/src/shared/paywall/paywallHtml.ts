// This file is auto-generated by build-paywall.js
// Do not edit manually - changes will be overwritten on next build

export const paywallHtml = "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n  <head>\r\n    <meta charset=\"UTF-8\" />\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n    <title>x402 Paywall</title>\r\n    <link rel=\"icon\" type=\"image/png\" href=\"https://card-pulic-new.oss-cn-hongkong.aliyuncs.com/logo/20251031-153633.png\" />\r\n    <link rel=\"shortcut icon\" type=\"image/png\" href=\"https://card-pulic-new.oss-cn-hongkong.aliyuncs.com/logo/20251031-153633.png\" />\r\n    <script type=\"module\" crossorigin>var yfe=Object.defineProperty;var bfe=(t,e,n)=>e in t?yfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ql=(t,e,n)=>bfe(t,typeof e!=\"symbol\"?e+\"\":e,n);(function(){const e=document.createElement(\"link\").relList;if(e&&e.supports&&e.supports(\"modulepreload\"))return;for(const i of document.querySelectorAll('link[rel=\"modulepreload\"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type===\"childList\")for(const o of s.addedNodes)o.tagName===\"LINK\"&&o.rel===\"modulepreload\"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin===\"use-credentials\"?s.credentials=\"include\":i.crossOrigin===\"anonymous\"?s.credentials=\"omit\":s.credentials=\"same-origin\",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Gs=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function ah(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function wfe(t){if(Object.prototype.hasOwnProperty.call(t,\"__esModule\"))return t;var e=t.default;if(typeof e==\"function\"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,\"__esModule\",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var VS={exports:{}},Ib={};/**\n * @license React\n * react-jsx-runtime.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var uU;function vfe(){if(uU)return Ib;uU=1;var t=Symbol.for(\"react.transitional.element\"),e=Symbol.for(\"react.fragment\");function n(r,i,s){var o=null;if(s!==void 0&&(o=\"\"+s),i.key!==void 0&&(o=\"\"+i.key),\"key\"in i){s={};for(var a in i)a!==\"key\"&&(s[a]=i[a])}else s=i;return i=s.ref,{$$typeof:t,type:r,key:o,ref:i!==void 0?i:null,props:s}}return Ib.Fragment=e,Ib.jsx=n,Ib.jsxs=n,Ib}var dU;function Efe(){return dU||(dU=1,VS.exports=vfe()),VS.exports}var Ke=Efe(),KS={exports:{}},At={};/**\n * @license React\n * react.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var fU;function _fe(){if(fU)return At;fU=1;var t=Symbol.for(\"react.transitional.element\"),e=Symbol.for(\"react.portal\"),n=Symbol.for(\"react.fragment\"),r=Symbol.for(\"react.strict_mode\"),i=Symbol.for(\"react.profiler\"),s=Symbol.for(\"react.consumer\"),o=Symbol.for(\"react.context\"),a=Symbol.for(\"react.forward_ref\"),c=Symbol.for(\"react.suspense\"),l=Symbol.for(\"react.memo\"),d=Symbol.for(\"react.lazy\"),h=Symbol.for(\"react.activity\"),p=Symbol.iterator;function m(L){return L===null||typeof L!=\"object\"?null:(L=p&&L[p]||L[\"@@iterator\"],typeof L==\"function\"?L:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,E={};function v(L,B,j){this.props=L,this.context=B,this.refs=E,this.updater=j||b}v.prototype.isReactComponent={},v.prototype.setState=function(L,B){if(typeof L!=\"object\"&&typeof L!=\"function\"&&L!=null)throw Error(\"takes an object of state variables to update or a function which returns an object of state variables.\");this.updater.enqueueSetState(this,L,B,\"setState\")},v.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,\"forceUpdate\")};function _(){}_.prototype=v.prototype;function C(L,B,j){this.props=L,this.context=B,this.refs=E,this.updater=j||b}var S=C.prototype=new _;S.constructor=C,y(S,v.prototype),S.isPureReactComponent=!0;var A=Array.isArray;function I(){}var O={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(L,B,j){var K=j.ref;return{$$typeof:t,type:L,key:B,ref:K!==void 0?K:null,props:j}}function U(L,B){return N(L.type,B,L.props)}function F(L){return typeof L==\"object\"&&L!==null&&L.$$typeof===t}function H(L){var B={\"=\":\"=0\",\":\":\"=2\"};return\"$\"+L.replace(/[=:]/g,function(j){return B[j]})}var V=/\\/+/g;function M(L,B){return typeof L==\"object\"&&L!==null&&L.key!=null?H(\"\"+L.key):B.toString(36)}function $(L){switch(L.status){case\"fulfilled\":return L.value;case\"rejected\":throw L.reason;default:switch(typeof L.status==\"string\"?L.then(I,I):(L.status=\"pending\",L.then(function(B){L.status===\"pending\"&&(L.status=\"fulfilled\",L.value=B)},function(B){L.status===\"pending\"&&(L.status=\"rejected\",L.reason=B)})),L.status){case\"fulfilled\":return L.value;case\"rejected\":throw L.reason}}throw L}function P(L,B,j,K,G){var Z=typeof L;(Z===\"undefined\"||Z===\"boolean\")&&(L=null);var Y=!1;if(L===null)Y=!0;else switch(Z){case\"bigint\":case\"string\":case\"number\":Y=!0;break;case\"object\":switch(L.$$typeof){case t:case e:Y=!0;break;case d:return Y=L._init,P(Y(L._payload),B,j,K,G)}}if(Y)return G=G(L),Y=K===\"\"?\".\"+M(L,0):K,A(G)?(j=\"\",Y!=null&&(j=Y.replace(V,\"$&/\")+\"/\"),P(G,B,j,\"\",function(re){return re})):G!=null&&(F(G)&&(G=U(G,j+(G.key==null||L&&L.key===G.key?\"\":(\"\"+G.key).replace(V,\"$&/\")+\"/\")+Y)),B.push(G)),1;Y=0;var X=K===\"\"?\".\":K+\":\";if(A(L))for(var Q=0;Q<L.length;Q++)K=L[Q],Z=X+M(K,Q),Y+=P(K,B,j,Z,G);else if(Q=m(L),typeof Q==\"function\")for(L=Q.call(L),Q=0;!(K=L.next()).done;)K=K.value,Z=X+M(K,Q++),Y+=P(K,B,j,Z,G);else if(Z===\"object\"){if(typeof L.then==\"function\")return P($(L),B,j,K,G);throw B=String(L),Error(\"Objects are not valid as a React child (found: \"+(B===\"[object Object]\"?\"object with keys {\"+Object.keys(L).join(\", \")+\"}\":B)+\"). If you meant to render a collection of children, use an array instead.\")}return Y}function q(L,B,j){if(L==null)return L;var K=[],G=0;return P(L,K,\"\",\"\",function(Z){return B.call(j,Z,G++)}),K}function T(L){if(L._status===-1){var B=L._result;B=B(),B.then(function(j){(L._status===0||L._status===-1)&&(L._status=1,L._result=j)},function(j){(L._status===0||L._status===-1)&&(L._status=2,L._result=j)}),L._status===-1&&(L._status=0,L._result=B)}if(L._status===1)return L._result.default;throw L._result}var k=typeof reportError==\"function\"?reportError:function(L){if(typeof window==\"object\"&&typeof window.ErrorEvent==\"function\"){var B=new window.ErrorEvent(\"error\",{bubbles:!0,cancelable:!0,message:typeof L==\"object\"&&L!==null&&typeof L.message==\"string\"?String(L.message):String(L),error:L});if(!window.dispatchEvent(B))return}else if(typeof process==\"object\"&&typeof process.emit==\"function\"){process.emit(\"uncaughtException\",L);return}console.error(L)},z={map:q,forEach:function(L,B,j){q(L,function(){B.apply(this,arguments)},j)},count:function(L){var B=0;return q(L,function(){B++}),B},toArray:function(L){return q(L,function(B){return B})||[]},only:function(L){if(!F(L))throw Error(\"React.Children.only expected to receive a single React element child.\");return L}};return At.Activity=h,At.Children=z,At.Component=v,At.Fragment=n,At.Profiler=i,At.PureComponent=C,At.StrictMode=r,At.Suspense=c,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=O,At.__COMPILER_RUNTIME={__proto__:null,c:function(L){return O.H.useMemoCache(L)}},At.cache=function(L){return function(){return L.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(L,B,j){if(L==null)throw Error(\"The argument must be a React element, but you passed \"+L+\".\");var K=y({},L.props),G=L.key;if(B!=null)for(Z in B.key!==void 0&&(G=\"\"+B.key),B)!D.call(B,Z)||Z===\"key\"||Z===\"__self\"||Z===\"__source\"||Z===\"ref\"&&B.ref===void 0||(K[Z]=B[Z]);var Z=arguments.length-2;if(Z===1)K.children=j;else if(1<Z){for(var Y=Array(Z),X=0;X<Z;X++)Y[X]=arguments[X+2];K.children=Y}return N(L.type,G,K)},At.createContext=function(L){return L={$$typeof:o,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:s,_context:L},L},At.createElement=function(L,B,j){var K,G={},Z=null;if(B!=null)for(K in B.key!==void 0&&(Z=\"\"+B.key),B)D.call(B,K)&&K!==\"key\"&&K!==\"__self\"&&K!==\"__source\"&&(G[K]=B[K]);var Y=arguments.length-2;if(Y===1)G.children=j;else if(1<Y){for(var X=Array(Y),Q=0;Q<Y;Q++)X[Q]=arguments[Q+2];G.children=X}if(L&&L.defaultProps)for(K in Y=L.defaultProps,Y)G[K]===void 0&&(G[K]=Y[K]);return N(L,Z,G)},At.createRef=function(){return{current:null}},At.forwardRef=function(L){return{$$typeof:a,render:L}},At.isValidElement=F,At.lazy=function(L){return{$$typeof:d,_payload:{_status:-1,_result:L},_init:T}},At.memo=function(L,B){return{$$typeof:l,type:L,compare:B===void 0?null:B}},At.startTransition=function(L){var B=O.T,j={};O.T=j;try{var K=L(),G=O.S;G!==null&&G(j,K),typeof K==\"object\"&&K!==null&&typeof K.then==\"function\"&&K.then(I,k)}catch(Z){k(Z)}finally{B!==null&&j.types!==null&&(B.types=j.types),O.T=B}},At.unstable_useCacheRefresh=function(){return O.H.useCacheRefresh()},At.use=function(L){return O.H.use(L)},At.useActionState=function(L,B,j){return O.H.useActionState(L,B,j)},At.useCallback=function(L,B){return O.H.useCallback(L,B)},At.useContext=function(L){return O.H.useContext(L)},At.useDebugValue=function(){},At.useDeferredValue=function(L,B){return O.H.useDeferredValue(L,B)},At.useEffect=function(L,B){return O.H.useEffect(L,B)},At.useEffectEvent=function(L){return O.H.useEffectEvent(L)},At.useId=function(){return O.H.useId()},At.useImperativeHandle=function(L,B,j){return O.H.useImperativeHandle(L,B,j)},At.useInsertionEffect=function(L,B){return O.H.useInsertionEffect(L,B)},At.useLayoutEffect=function(L,B){return O.H.useLayoutEffect(L,B)},At.useMemo=function(L,B){return O.H.useMemo(L,B)},At.useOptimistic=function(L,B){return O.H.useOptimistic(L,B)},At.useReducer=function(L,B,j){return O.H.useReducer(L,B,j)},At.useRef=function(L){return O.H.useRef(L)},At.useState=function(L){return O.H.useState(L)},At.useSyncExternalStore=function(L,B,j){return O.H.useSyncExternalStore(L,B,j)},At.useTransition=function(){return O.H.useTransition()},At.version=\"19.2.0\",At}var hU;function NO(){return hU||(hU=1,KS.exports=_fe()),KS.exports}var gt=NO(),WS={exports:{}},Tb={},GS={exports:{}},ZS={};/**\n * @license React\n * scheduler.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var pU;function Cfe(){return pU||(pU=1,(function(t){function e(P,q){var T=P.length;P.push(q);e:for(;0<T;){var k=T-1>>>1,z=P[k];if(0<i(z,q))P[k]=q,P[T]=z,T=k;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var q=P[0],T=P.pop();if(T!==q){P[0]=T;e:for(var k=0,z=P.length,L=z>>>1;k<L;){var B=2*(k+1)-1,j=P[B],K=B+1,G=P[K];if(0>i(j,T))K<z&&0>i(G,j)?(P[k]=G,P[K]=T,k=K):(P[k]=j,P[B]=T,k=B);else if(K<z&&0>i(G,T))P[k]=G,P[K]=T,k=K;else break e}}return q}function i(P,q){var T=P.sortIndex-q.sortIndex;return T!==0?T:P.id-q.id}if(t.unstable_now=void 0,typeof performance==\"object\"&&typeof performance.now==\"function\"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],d=1,h=null,p=3,m=!1,b=!1,y=!1,E=!1,v=typeof setTimeout==\"function\"?setTimeout:null,_=typeof clearTimeout==\"function\"?clearTimeout:null,C=typeof setImmediate<\"u\"?setImmediate:null;function S(P){for(var q=n(l);q!==null;){if(q.callback===null)r(l);else if(q.startTime<=P)r(l),q.sortIndex=q.expirationTime,e(c,q);else break;q=n(l)}}function A(P){if(y=!1,S(P),!b)if(n(c)!==null)b=!0,I||(I=!0,H());else{var q=n(l);q!==null&&$(A,q.startTime-P)}}var I=!1,O=-1,D=5,N=-1;function U(){return E?!0:!(t.unstable_now()-N<D)}function F(){if(E=!1,I){var P=t.unstable_now();N=P;var q=!0;try{e:{b=!1,y&&(y=!1,_(O),O=-1),m=!0;var T=p;try{t:{for(S(P),h=n(c);h!==null&&!(h.expirationTime>P&&U());){var k=h.callback;if(typeof k==\"function\"){h.callback=null,p=h.priorityLevel;var z=k(h.expirationTime<=P);if(P=t.unstable_now(),typeof z==\"function\"){h.callback=z,S(P),q=!0;break t}h===n(c)&&r(c),S(P)}else r(c);h=n(c)}if(h!==null)q=!0;else{var L=n(l);L!==null&&$(A,L.startTime-P),q=!1}}break e}finally{h=null,p=T,m=!1}q=void 0}}finally{q?H():I=!1}}}var H;if(typeof C==\"function\")H=function(){C(F)};else if(typeof MessageChannel<\"u\"){var V=new MessageChannel,M=V.port2;V.port1.onmessage=F,H=function(){M.postMessage(null)}}else H=function(){v(F,0)};function $(P,q){O=v(function(){P(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error(\"forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported\"):D=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var q=3;break;default:q=p}var T=p;p=q;try{return P()}finally{p=T}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(P,q){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var T=p;p=P;try{return q()}finally{p=T}},t.unstable_scheduleCallback=function(P,q,T){var k=t.unstable_now();switch(typeof T==\"object\"&&T!==null?(T=T.delay,T=typeof T==\"number\"&&0<T?k+T:k):T=k,P){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=T+z,P={id:d++,callback:q,priorityLevel:P,startTime:T,expirationTime:z,sortIndex:-1},T>k?(P.sortIndex=T,e(l,P),n(c)===null&&P===n(l)&&(y?(_(O),O=-1):y=!0,$(A,T-k))):(P.sortIndex=z,e(c,P),b||m||(b=!0,I||(I=!0,H()))),P},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(P){var q=p;return function(){var T=p;p=q;try{return P.apply(this,arguments)}finally{p=T}}}})(ZS)),ZS}var gU;function Sfe(){return gU||(gU=1,GS.exports=Cfe()),GS.exports}var YS={exports:{}},Wi={};/**\n * @license React\n * react-dom.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var mU;function xfe(){if(mU)return Wi;mU=1;var t=NO();function e(c){var l=\"https://react.dev/errors/\"+c;if(1<arguments.length){l+=\"?args[]=\"+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)l+=\"&args[]=\"+encodeURIComponent(arguments[d])}return\"Minified React error #\"+c+\"; visit \"+l+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for(\"react.portal\");function s(c,l,d){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:\"\"+h,children:c,containerInfo:l,implementation:d}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function a(c,l){if(c===\"font\")return\"\";if(typeof l==\"string\")return l===\"use-credentials\"?l:\"\"}return Wi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wi.createPortal=function(c,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)throw Error(e(299));return s(c,l,null,d)},Wi.flushSync=function(c){var l=o.T,d=r.p;try{if(o.T=null,r.p=2,c)return c()}finally{o.T=l,r.p=d,r.d.f()}},Wi.preconnect=function(c,l){typeof c==\"string\"&&(l?(l=l.crossOrigin,l=typeof l==\"string\"?l===\"use-credentials\"?l:\"\":void 0):l=null,r.d.C(c,l))},Wi.prefetchDNS=function(c){typeof c==\"string\"&&r.d.D(c)},Wi.preinit=function(c,l){if(typeof c==\"string\"&&l&&typeof l.as==\"string\"){var d=l.as,h=a(d,l.crossOrigin),p=typeof l.integrity==\"string\"?l.integrity:void 0,m=typeof l.fetchPriority==\"string\"?l.fetchPriority:void 0;d===\"style\"?r.d.S(c,typeof l.precedence==\"string\"?l.precedence:void 0,{crossOrigin:h,integrity:p,fetchPriority:m}):d===\"script\"&&r.d.X(c,{crossOrigin:h,integrity:p,fetchPriority:m,nonce:typeof l.nonce==\"string\"?l.nonce:void 0})}},Wi.preinitModule=function(c,l){if(typeof c==\"string\")if(typeof l==\"object\"&&l!==null){if(l.as==null||l.as===\"script\"){var d=a(l.as,l.crossOrigin);r.d.M(c,{crossOrigin:d,integrity:typeof l.integrity==\"string\"?l.integrity:void 0,nonce:typeof l.nonce==\"string\"?l.nonce:void 0})}}else l==null&&r.d.M(c)},Wi.preload=function(c,l){if(typeof c==\"string\"&&typeof l==\"object\"&&l!==null&&typeof l.as==\"string\"){var d=l.as,h=a(d,l.crossOrigin);r.d.L(c,d,{crossOrigin:h,integrity:typeof l.integrity==\"string\"?l.integrity:void 0,nonce:typeof l.nonce==\"string\"?l.nonce:void 0,type:typeof l.type==\"string\"?l.type:void 0,fetchPriority:typeof l.fetchPriority==\"string\"?l.fetchPriority:void 0,referrerPolicy:typeof l.referrerPolicy==\"string\"?l.referrerPolicy:void 0,imageSrcSet:typeof l.imageSrcSet==\"string\"?l.imageSrcSet:void 0,imageSizes:typeof l.imageSizes==\"string\"?l.imageSizes:void 0,media:typeof l.media==\"string\"?l.media:void 0})}},Wi.preloadModule=function(c,l){if(typeof c==\"string\")if(l){var d=a(l.as,l.crossOrigin);r.d.m(c,{as:typeof l.as==\"string\"&&l.as!==\"script\"?l.as:void 0,crossOrigin:d,integrity:typeof l.integrity==\"string\"?l.integrity:void 0})}else r.d.m(c)},Wi.requestFormReset=function(c){r.d.r(c)},Wi.unstable_batchedUpdates=function(c,l){return c(l)},Wi.useFormState=function(c,l,d){return o.H.useFormState(c,l,d)},Wi.useFormStatus=function(){return o.H.useHostTransitionStatus()},Wi.version=\"19.2.0\",Wi}var yU;function Afe(){if(yU)return YS.exports;yU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),YS.exports=xfe(),YS.exports}/**\n * @license React\n * react-dom-client.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */var bU;function $fe(){if(bU)return Tb;bU=1;var t=Sfe(),e=NO(),n=Afe();function r(u){var f=\"https://react.dev/errors/\"+u;if(1<arguments.length){f+=\"?args[]=\"+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)f+=\"&args[]=\"+encodeURIComponent(arguments[g])}return\"Minified React error #\"+u+\"; visit \"+f+\" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.\"}function i(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function s(u){var f=u,g=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(g=f.return),u=f.return;while(u)}return f.tag===3?g:null}function o(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function a(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(s(u)!==u)throw Error(r(188))}function l(u){var f=u.alternate;if(!f){if(f=s(u),f===null)throw Error(r(188));return f!==u?null:u}for(var g=u,w=f;;){var x=g.return;if(x===null)break;var R=x.alternate;if(R===null){if(w=x.return,w!==null){g=w;continue}break}if(x.child===R.child){for(R=x.child;R;){if(R===g)return c(x),u;if(R===w)return c(x),f;R=R.sibling}throw Error(r(188))}if(g.return!==w.return)g=x,w=R;else{for(var W=!1,J=x.child;J;){if(J===g){W=!0,g=x,w=R;break}if(J===w){W=!0,w=x,g=R;break}J=J.sibling}if(!W){for(J=R.child;J;){if(J===g){W=!0,g=R,w=x;break}if(J===w){W=!0,w=R,g=x;break}J=J.sibling}if(!W)throw Error(r(189))}}if(g.alternate!==w)throw Error(r(190))}if(g.tag!==3)throw Error(r(188));return g.stateNode.current===g?u:f}function d(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=d(u),f!==null)return f;u=u.sibling}return null}var h=Object.assign,p=Symbol.for(\"react.element\"),m=Symbol.for(\"react.transitional.element\"),b=Symbol.for(\"react.portal\"),y=Symbol.for(\"react.fragment\"),E=Symbol.for(\"react.strict_mode\"),v=Symbol.for(\"react.profiler\"),_=Symbol.for(\"react.consumer\"),C=Symbol.for(\"react.context\"),S=Symbol.for(\"react.forward_ref\"),A=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),O=Symbol.for(\"react.memo\"),D=Symbol.for(\"react.lazy\"),N=Symbol.for(\"react.activity\"),U=Symbol.for(\"react.memo_cache_sentinel\"),F=Symbol.iterator;function H(u){return u===null||typeof u!=\"object\"?null:(u=F&&u[F]||u[\"@@iterator\"],typeof u==\"function\"?u:null)}var V=Symbol.for(\"react.client.reference\");function M(u){if(u==null)return null;if(typeof u==\"function\")return u.$$typeof===V?null:u.displayName||u.name||null;if(typeof u==\"string\")return u;switch(u){case y:return\"Fragment\";case v:return\"Profiler\";case E:return\"StrictMode\";case A:return\"Suspense\";case I:return\"SuspenseList\";case N:return\"Activity\"}if(typeof u==\"object\")switch(u.$$typeof){case b:return\"Portal\";case C:return u.displayName||\"Context\";case _:return(u._context.displayName||\"Context\")+\".Consumer\";case S:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||\"\",u=u!==\"\"?\"ForwardRef(\"+u+\")\":\"ForwardRef\"),u;case O:return f=u.displayName||null,f!==null?f:M(u.type)||\"Memo\";case D:f=u._payload,u=u._init;try{return M(u(f))}catch{}}return null}var $=Array.isArray,P=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,T={pending:!1,data:null,method:null,action:null},k=[],z=-1;function L(u){return{current:u}}function B(u){0>z||(u.current=k[z],k[z]=null,z--)}function j(u,f){z++,k[z]=u.current,u.current=f}var K=L(null),G=L(null),Z=L(null),Y=L(null);function X(u,f){switch(j(Z,f),j(G,u),j(K,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?RL(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=RL(f),u=kL(f,u);else switch(u){case\"svg\":u=1;break;case\"math\":u=2;break;default:u=0}}B(K),j(K,u)}function Q(){B(K),B(G),B(Z)}function re(u){u.memoizedState!==null&&j(Y,u);var f=K.current,g=kL(f,u.type);f!==g&&(j(G,u),j(K,g))}function oe(u){G.current===u&&(B(K),B(G)),Y.current===u&&(B(Y),Sb._currentValue=T)}var ue,ye;function xe(u){if(ue===void 0)try{throw Error()}catch(g){var f=g.stack.trim().match(/\\n( *(at )?)/);ue=f&&f[1]||\"\",ye=-1<g.stack.indexOf(`\n    at`)?\" (<anonymous>)\":-1<g.stack.indexOf(\"@\")?\"@unknown:0:0\":\"\"}return`\n`+ue+u+ye}var Be=!1;function ke(u,f){if(!u||Be)return\"\";Be=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var w={DetermineComponentFrameRoot:function(){try{if(f){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(pe){var fe=pe}Reflect.construct(u,[],Ce)}else{try{Ce.call()}catch(pe){fe=pe}u.call(Ce.prototype)}}else{try{throw Error()}catch(pe){fe=pe}(Ce=u())&&typeof Ce.catch==\"function\"&&Ce.catch(function(){})}}catch(pe){if(pe&&fe&&typeof pe.stack==\"string\")return[pe.stack,fe.stack]}return[null,null]}};w.DetermineComponentFrameRoot.displayName=\"DetermineComponentFrameRoot\";var x=Object.getOwnPropertyDescriptor(w.DetermineComponentFrameRoot,\"name\");x&&x.configurable&&Object.defineProperty(w.DetermineComponentFrameRoot,\"name\",{value:\"DetermineComponentFrameRoot\"});var R=w.DetermineComponentFrameRoot(),W=R[0],J=R[1];if(W&&J){var te=W.split(`\n`),de=J.split(`\n`);for(x=w=0;w<te.length&&!te[w].includes(\"DetermineComponentFrameRoot\");)w++;for(;x<de.length&&!de[x].includes(\"DetermineComponentFrameRoot\");)x++;if(w===te.length||x===de.length)for(w=te.length-1,x=de.length-1;1<=w&&0<=x&&te[w]!==de[x];)x--;for(;1<=w&&0<=x;w--,x--)if(te[w]!==de[x]){if(w!==1||x!==1)do if(w--,x--,0>x||te[w]!==de[x]){var be=`\n`+te[w].replace(\" at new \",\" at \");return u.displayName&&be.includes(\"<anonymous>\")&&(be=be.replace(\"<anonymous>\",u.displayName)),be}while(1<=w&&0<=x);break}}}finally{Be=!1,Error.prepareStackTrace=g}return(g=u?u.displayName||u.name:\"\")?xe(g):\"\"}function Ve(u,f){switch(u.tag){case 26:case 27:case 5:return xe(u.type);case 16:return xe(\"Lazy\");case 13:return u.child!==f&&f!==null?xe(\"Suspense Fallback\"):xe(\"Suspense\");case 19:return xe(\"SuspenseList\");case 0:case 15:return ke(u.type,!1);case 11:return ke(u.type.render,!1);case 1:return ke(u.type,!0);case 31:return xe(\"Activity\");default:return\"\"}}function Xe(u){try{var f=\"\",g=null;do f+=Ve(u,g),g=u,u=u.return;while(u);return f}catch(w){return`\nError generating stack: `+w.message+`\n`+w.stack}}var We=Object.prototype.hasOwnProperty,st=t.unstable_scheduleCallback,xt=t.unstable_cancelCallback,Je=t.unstable_shouldYield,lt=t.unstable_requestPaint,dt=t.unstable_now,An=t.unstable_getCurrentPriorityLevel,Jn=t.unstable_ImmediatePriority,bd=t.unstable_UserBlockingPriority,Nc=t.unstable_NormalPriority,Qp=t.unstable_LowPriority,eg=t.unstable_IdlePriority,wh=t.log,P9=t.unstable_setDisableYieldValue,vh=null,is=null;function Rc(u){if(typeof wh==\"function\"&&P9(u),is&&typeof is.setStrictMode==\"function\")try{is.setStrictMode(vh,u)}catch{}}var vi=Math.clz32?Math.clz32:N9,O9=Math.log,Eh=Math.LN2;function N9(u){return u>>>=0,u===0?32:31-(O9(u)/Eh|0)|0}var U5=256,j5=262144,z5=4194304;function _h(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function F5(u,f,g){var w=u.pendingLanes;if(w===0)return 0;var x=0,R=u.suspendedLanes,W=u.pingedLanes;u=u.warmLanes;var J=w&134217727;return J!==0?(w=J&~R,w!==0?x=_h(w):(W&=J,W!==0?x=_h(W):g||(g=J&~u,g!==0&&(x=_h(g))))):(J=w&~R,J!==0?x=_h(J):W!==0?x=_h(W):g||(g=w&~u,g!==0&&(x=_h(g)))),x===0?0:f!==0&&f!==x&&(f&R)===0&&(R=x&-x,g=f&-f,R>=g||R===32&&(g&4194048)!==0)?f:x}function By(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function iue(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pM(){var u=z5;return z5<<=1,(z5&62914560)===0&&(z5=4194304),u}function R9(u){for(var f=[],g=0;31>g;g++)f.push(u);return f}function Ly(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function sue(u,f,g,w,x,R){var W=u.pendingLanes;u.pendingLanes=g,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=g,u.entangledLanes&=g,u.errorRecoveryDisabledLanes&=g,u.shellSuspendCounter=0;var J=u.entanglements,te=u.expirationTimes,de=u.hiddenUpdates;for(g=W&~g;0<g;){var be=31-vi(g),Ce=1<<be;J[be]=0,te[be]=-1;var fe=de[be];if(fe!==null)for(de[be]=null,be=0;be<fe.length;be++){var pe=fe[be];pe!==null&&(pe.lane&=-536870913)}g&=~Ce}w!==0&&gM(u,w,0),R!==0&&x===0&&u.tag!==0&&(u.suspendedLanes|=R&~(W&~f))}function gM(u,f,g){u.pendingLanes|=f,u.suspendedLanes&=~f;var w=31-vi(f);u.entangledLanes|=f,u.entanglements[w]=u.entanglements[w]|1073741824|g&261930}function mM(u,f){var g=u.entangledLanes|=f;for(u=u.entanglements;g;){var w=31-vi(g),x=1<<w;x&f|u[w]&f&&(u[w]|=f),g&=~x}}function yM(u,f){var g=f&-f;return g=(g&42)!==0?1:k9(g),(g&(u.suspendedLanes|f))!==0?0:g}function k9(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function M9(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function bM(){var u=q.p;return u!==0?u:(u=window.event,u===void 0?32:rU(u.type))}function wM(u,f){var g=q.p;try{return q.p=u,f()}finally{q.p=g}}var wd=Math.random().toString(36).slice(2),Ei=\"__reactFiber$\"+wd,Ss=\"__reactProps$\"+wd,tg=\"__reactContainer$\"+wd,D9=\"__reactEvents$\"+wd,oue=\"__reactListeners$\"+wd,aue=\"__reactHandles$\"+wd,vM=\"__reactResources$\"+wd,Uy=\"__reactMarker$\"+wd;function B9(u){delete u[Ei],delete u[Ss],delete u[D9],delete u[oue],delete u[aue]}function ng(u){var f=u[Ei];if(f)return f;for(var g=u.parentNode;g;){if(f=g[tg]||g[Ei]){if(g=f.alternate,f.child!==null||g!==null&&g.child!==null)for(u=zL(u);u!==null;){if(g=u[Ei])return g;u=zL(u)}return f}u=g,g=u.parentNode}return null}function rg(u){if(u=u[Ei]||u[tg]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function jy(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(r(33))}function ig(u){var f=u[vM];return f||(f=u[vM]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Wr(u){u[Uy]=!0}var EM=new Set,_M={};function Ch(u,f){sg(u,f),sg(u+\"Capture\",f)}function sg(u,f){for(_M[u]=f,u=0;u<f.length;u++)EM.add(f[u])}var cue=RegExp(\"^[:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD][:A-Z_a-z\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u02FF\\\\u0370-\\\\u037D\\\\u037F-\\\\u1FFF\\\\u200C-\\\\u200D\\\\u2070-\\\\u218F\\\\u2C00-\\\\u2FEF\\\\u3001-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFFD\\\\-.0-9\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]*$\"),CM={},SM={};function lue(u){return We.call(SM,u)?!0:We.call(CM,u)?!1:cue.test(u)?SM[u]=!0:(CM[u]=!0,!1)}function q5(u,f,g){if(lue(f))if(g===null)u.removeAttribute(f);else{switch(typeof g){case\"undefined\":case\"function\":case\"symbol\":u.removeAttribute(f);return;case\"boolean\":var w=f.toLowerCase().slice(0,5);if(w!==\"data-\"&&w!==\"aria-\"){u.removeAttribute(f);return}}u.setAttribute(f,\"\"+g)}}function H5(u,f,g){if(g===null)u.removeAttribute(f);else{switch(typeof g){case\"undefined\":case\"function\":case\"symbol\":case\"boolean\":u.removeAttribute(f);return}u.setAttribute(f,\"\"+g)}}function Ml(u,f,g,w){if(w===null)u.removeAttribute(g);else{switch(typeof w){case\"undefined\":case\"function\":case\"symbol\":case\"boolean\":u.removeAttribute(g);return}u.setAttributeNS(f,g,\"\"+w)}}function Qo(u){switch(typeof u){case\"bigint\":case\"boolean\":case\"number\":case\"string\":case\"undefined\":return u;case\"object\":return u;default:return\"\"}}function xM(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()===\"input\"&&(f===\"checkbox\"||f===\"radio\")}function uue(u,f,g){var w=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof w<\"u\"&&typeof w.get==\"function\"&&typeof w.set==\"function\"){var x=w.get,R=w.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return x.call(this)},set:function(W){g=\"\"+W,R.call(this,W)}}),Object.defineProperty(u,f,{enumerable:w.enumerable}),{getValue:function(){return g},setValue:function(W){g=\"\"+W},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function L9(u){if(!u._valueTracker){var f=xM(u)?\"checked\":\"value\";u._valueTracker=uue(u,f,\"\"+u[f])}}function AM(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var g=f.getValue(),w=\"\";return u&&(w=xM(u)?u.checked?\"true\":\"false\":u.value),u=w,u!==g?(f.setValue(u),!0):!1}function V5(u){if(u=u||(typeof document<\"u\"?document:void 0),typeof u>\"u\")return null;try{return u.activeElement||u.body}catch{return u.body}}var due=/[\\n\"\\\\]/g;function ea(u){return u.replace(due,function(f){return\"\\\\\"+f.charCodeAt(0).toString(16)+\" \"})}function U9(u,f,g,w,x,R,W,J){u.name=\"\",W!=null&&typeof W!=\"function\"&&typeof W!=\"symbol\"&&typeof W!=\"boolean\"?u.type=W:u.removeAttribute(\"type\"),f!=null?W===\"number\"?(f===0&&u.value===\"\"||u.value!=f)&&(u.value=\"\"+Qo(f)):u.value!==\"\"+Qo(f)&&(u.value=\"\"+Qo(f)):W!==\"submit\"&&W!==\"reset\"||u.removeAttribute(\"value\"),f!=null?j9(u,W,Qo(f)):g!=null?j9(u,W,Qo(g)):w!=null&&u.removeAttribute(\"value\"),x==null&&R!=null&&(u.defaultChecked=!!R),x!=null&&(u.checked=x&&typeof x!=\"function\"&&typeof x!=\"symbol\"),J!=null&&typeof J!=\"function\"&&typeof J!=\"symbol\"&&typeof J!=\"boolean\"?u.name=\"\"+Qo(J):u.removeAttribute(\"name\")}function $M(u,f,g,w,x,R,W,J){if(R!=null&&typeof R!=\"function\"&&typeof R!=\"symbol\"&&typeof R!=\"boolean\"&&(u.type=R),f!=null||g!=null){if(!(R!==\"submit\"&&R!==\"reset\"||f!=null)){L9(u);return}g=g!=null?\"\"+Qo(g):\"\",f=f!=null?\"\"+Qo(f):g,J||f===u.value||(u.value=f),u.defaultValue=f}w=w??x,w=typeof w!=\"function\"&&typeof w!=\"symbol\"&&!!w,u.checked=J?u.checked:!!w,u.defaultChecked=!!w,W!=null&&typeof W!=\"function\"&&typeof W!=\"symbol\"&&typeof W!=\"boolean\"&&(u.name=W),L9(u)}function j9(u,f,g){f===\"number\"&&V5(u.ownerDocument)===u||u.defaultValue===\"\"+g||(u.defaultValue=\"\"+g)}function og(u,f,g,w){if(u=u.options,f){f={};for(var x=0;x<g.length;x++)f[\"$\"+g[x]]=!0;for(g=0;g<u.length;g++)x=f.hasOwnProperty(\"$\"+u[g].value),u[g].selected!==x&&(u[g].selected=x),x&&w&&(u[g].defaultSelected=!0)}else{for(g=\"\"+Qo(g),f=null,x=0;x<u.length;x++){if(u[x].value===g){u[x].selected=!0,w&&(u[x].defaultSelected=!0);return}f!==null||u[x].disabled||(f=u[x])}f!==null&&(f.selected=!0)}}function IM(u,f,g){if(f!=null&&(f=\"\"+Qo(f),f!==u.value&&(u.value=f),g==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=g!=null?\"\"+Qo(g):\"\"}function TM(u,f,g,w){if(f==null){if(w!=null){if(g!=null)throw Error(r(92));if($(w)){if(1<w.length)throw Error(r(93));w=w[0]}g=w}g==null&&(g=\"\"),f=g}g=Qo(f),u.defaultValue=g,w=u.textContent,w===g&&w!==\"\"&&w!==null&&(u.value=w),L9(u)}function ag(u,f){if(f){var g=u.firstChild;if(g&&g===u.lastChild&&g.nodeType===3){g.nodeValue=f;return}}u.textContent=f}var fue=new Set(\"animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp\".split(\" \"));function PM(u,f,g){var w=f.indexOf(\"--\")===0;g==null||typeof g==\"boolean\"||g===\"\"?w?u.setProperty(f,\"\"):f===\"float\"?u.cssFloat=\"\":u[f]=\"\":w?u.setProperty(f,g):typeof g!=\"number\"||g===0||fue.has(f)?f===\"float\"?u.cssFloat=g:u[f]=(\"\"+g).trim():u[f]=g+\"px\"}function OM(u,f,g){if(f!=null&&typeof f!=\"object\")throw Error(r(62));if(u=u.style,g!=null){for(var w in g)!g.hasOwnProperty(w)||f!=null&&f.hasOwnProperty(w)||(w.indexOf(\"--\")===0?u.setProperty(w,\"\"):w===\"float\"?u.cssFloat=\"\":u[w]=\"\");for(var x in f)w=f[x],f.hasOwnProperty(x)&&g[x]!==w&&PM(u,x,w)}else for(var R in f)f.hasOwnProperty(R)&&PM(u,R,f[R])}function z9(u){if(u.indexOf(\"-\")===-1)return!1;switch(u){case\"annotation-xml\":case\"color-profile\":case\"font-face\":case\"font-face-src\":case\"font-face-uri\":case\"font-face-format\":case\"font-face-name\":case\"missing-glyph\":return!1;default:return!0}}var hue=new Map([[\"acceptCharset\",\"accept-charset\"],[\"htmlFor\",\"for\"],[\"httpEquiv\",\"http-equiv\"],[\"crossOrigin\",\"crossorigin\"],[\"accentHeight\",\"accent-height\"],[\"alignmentBaseline\",\"alignment-baseline\"],[\"arabicForm\",\"arabic-form\"],[\"baselineShift\",\"baseline-shift\"],[\"capHeight\",\"cap-height\"],[\"clipPath\",\"clip-path\"],[\"clipRule\",\"clip-rule\"],[\"colorInterpolation\",\"color-interpolation\"],[\"colorInterpolationFilters\",\"color-interpolation-filters\"],[\"colorProfile\",\"color-profile\"],[\"colorRendering\",\"color-rendering\"],[\"dominantBaseline\",\"dominant-baseline\"],[\"enableBackground\",\"enable-background\"],[\"fillOpacity\",\"fill-opacity\"],[\"fillRule\",\"fill-rule\"],[\"floodColor\",\"flood-color\"],[\"floodOpacity\",\"flood-opacity\"],[\"fontFamily\",\"font-family\"],[\"fontSize\",\"font-size\"],[\"fontSizeAdjust\",\"font-size-adjust\"],[\"fontStretch\",\"font-stretch\"],[\"fontStyle\",\"font-style\"],[\"fontVariant\",\"font-variant\"],[\"fontWeight\",\"font-weight\"],[\"glyphName\",\"glyph-name\"],[\"glyphOrientationHorizontal\",\"glyph-orientation-horizontal\"],[\"glyphOrientationVertical\",\"glyph-orientation-vertical\"],[\"horizAdvX\",\"horiz-adv-x\"],[\"horizOriginX\",\"horiz-origin-x\"],[\"imageRendering\",\"image-rendering\"],[\"letterSpacing\",\"letter-spacing\"],[\"lightingColor\",\"lighting-color\"],[\"markerEnd\",\"marker-end\"],[\"markerMid\",\"marker-mid\"],[\"markerStart\",\"marker-start\"],[\"overlinePosition\",\"overline-position\"],[\"overlineThickness\",\"overline-thickness\"],[\"paintOrder\",\"paint-order\"],[\"panose-1\",\"panose-1\"],[\"pointerEvents\",\"pointer-events\"],[\"renderingIntent\",\"rendering-intent\"],[\"shapeRendering\",\"shape-rendering\"],[\"stopColor\",\"stop-color\"],[\"stopOpacity\",\"stop-opacity\"],[\"strikethroughPosition\",\"strikethrough-position\"],[\"strikethroughThickness\",\"strikethrough-thickness\"],[\"strokeDasharray\",\"stroke-dasharray\"],[\"strokeDashoffset\",\"stroke-dashoffset\"],[\"strokeLinecap\",\"stroke-linecap\"],[\"strokeLinejoin\",\"stroke-linejoin\"],[\"strokeMiterlimit\",\"stroke-miterlimit\"],[\"strokeOpacity\",\"stroke-opacity\"],[\"strokeWidth\",\"stroke-width\"],[\"textAnchor\",\"text-anchor\"],[\"textDecoration\",\"text-decoration\"],[\"textRendering\",\"text-rendering\"],[\"transformOrigin\",\"transform-origin\"],[\"underlinePosition\",\"underline-position\"],[\"underlineThickness\",\"underline-thickness\"],[\"unicodeBidi\",\"unicode-bidi\"],[\"unicodeRange\",\"unicode-range\"],[\"unitsPerEm\",\"units-per-em\"],[\"vAlphabetic\",\"v-alphabetic\"],[\"vHanging\",\"v-hanging\"],[\"vIdeographic\",\"v-ideographic\"],[\"vMathematical\",\"v-mathematical\"],[\"vectorEffect\",\"vector-effect\"],[\"vertAdvY\",\"vert-adv-y\"],[\"vertOriginX\",\"vert-origin-x\"],[\"vertOriginY\",\"vert-origin-y\"],[\"wordSpacing\",\"word-spacing\"],[\"writingMode\",\"writing-mode\"],[\"xmlnsXlink\",\"xmlns:xlink\"],[\"xHeight\",\"x-height\"]]),pue=/^[\\u0000-\\u001F ]*j[\\r\\n\\t]*a[\\r\\n\\t]*v[\\r\\n\\t]*a[\\r\\n\\t]*s[\\r\\n\\t]*c[\\r\\n\\t]*r[\\r\\n\\t]*i[\\r\\n\\t]*p[\\r\\n\\t]*t[\\r\\n\\t]*:/i;function K5(u){return pue.test(\"\"+u)?\"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')\":u}function Dl(){}var F9=null;function q9(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var cg=null,lg=null;function NM(u){var f=rg(u);if(f&&(u=f.stateNode)){var g=u[Ss]||null;e:switch(u=f.stateNode,f.type){case\"input\":if(U9(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name),f=g.name,g.type===\"radio\"&&f!=null){for(g=u;g.parentNode;)g=g.parentNode;for(g=g.querySelectorAll('input[name=\"'+ea(\"\"+f)+'\"][type=\"radio\"]'),f=0;f<g.length;f++){var w=g[f];if(w!==u&&w.form===u.form){var x=w[Ss]||null;if(!x)throw Error(r(90));U9(w,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name)}}for(f=0;f<g.length;f++)w=g[f],w.form===u.form&&AM(w)}break e;case\"textarea\":IM(u,g.value,g.defaultValue);break e;case\"select\":f=g.value,f!=null&&og(u,!!g.multiple,f,!1)}}}var H9=!1;function RM(u,f,g){if(H9)return u(f,g);H9=!0;try{var w=u(f);return w}finally{if(H9=!1,(cg!==null||lg!==null)&&(R6(),cg&&(f=cg,u=lg,lg=cg=null,NM(f),u)))for(f=0;f<u.length;f++)NM(u[f])}}function zy(u,f){var g=u.stateNode;if(g===null)return null;var w=g[Ss]||null;if(w===null)return null;g=w[f];e:switch(f){case\"onClick\":case\"onClickCapture\":case\"onDoubleClick\":case\"onDoubleClickCapture\":case\"onMouseDown\":case\"onMouseDownCapture\":case\"onMouseMove\":case\"onMouseMoveCapture\":case\"onMouseUp\":case\"onMouseUpCapture\":case\"onMouseEnter\":(w=!w.disabled)||(u=u.type,w=!(u===\"button\"||u===\"input\"||u===\"select\"||u===\"textarea\")),u=!w;break e;default:u=!1}if(u)return null;if(g&&typeof g!=\"function\")throw Error(r(231,f,typeof g));return g}var Bl=!(typeof window>\"u\"||typeof window.document>\"u\"||typeof window.document.createElement>\"u\"),V9=!1;if(Bl)try{var Fy={};Object.defineProperty(Fy,\"passive\",{get:function(){V9=!0}}),window.addEventListener(\"test\",Fy,Fy),window.removeEventListener(\"test\",Fy,Fy)}catch{V9=!1}var vd=null,K9=null,W5=null;function kM(){if(W5)return W5;var u,f=K9,g=f.length,w,x=\"value\"in vd?vd.value:vd.textContent,R=x.length;for(u=0;u<g&&f[u]===x[u];u++);var W=g-u;for(w=1;w<=W&&f[g-w]===x[R-w];w++);return W5=x.slice(u,1<w?1-w:void 0)}function G5(u){var f=u.keyCode;return\"charCode\"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Z5(){return!0}function MM(){return!1}function xs(u){function f(g,w,x,R,W){this._reactName=g,this._targetInst=x,this.type=w,this.nativeEvent=R,this.target=W,this.currentTarget=null;for(var J in u)u.hasOwnProperty(J)&&(g=u[J],this[J]=g?g(R):R[J]);return this.isDefaultPrevented=(R.defaultPrevented!=null?R.defaultPrevented:R.returnValue===!1)?Z5:MM,this.isPropagationStopped=MM,this}return h(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var g=this.nativeEvent;g&&(g.preventDefault?g.preventDefault():typeof g.returnValue!=\"unknown\"&&(g.returnValue=!1),this.isDefaultPrevented=Z5)},stopPropagation:function(){var g=this.nativeEvent;g&&(g.stopPropagation?g.stopPropagation():typeof g.cancelBubble!=\"unknown\"&&(g.cancelBubble=!0),this.isPropagationStopped=Z5)},persist:function(){},isPersistent:Z5}),f}var Sh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y5=xs(Sh),qy=h({},Sh,{view:0,detail:0}),gue=xs(qy),W9,G9,Hy,J5=h({},qy,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Y9,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return\"movementX\"in u?u.movementX:(u!==Hy&&(Hy&&u.type===\"mousemove\"?(W9=u.screenX-Hy.screenX,G9=u.screenY-Hy.screenY):G9=W9=0,Hy=u),W9)},movementY:function(u){return\"movementY\"in u?u.movementY:G9}}),DM=xs(J5),mue=h({},J5,{dataTransfer:0}),yue=xs(mue),bue=h({},qy,{relatedTarget:0}),Z9=xs(bue),wue=h({},Sh,{animationName:0,elapsedTime:0,pseudoElement:0}),vue=xs(wue),Eue=h({},Sh,{clipboardData:function(u){return\"clipboardData\"in u?u.clipboardData:window.clipboardData}}),_ue=xs(Eue),Cue=h({},Sh,{data:0}),BM=xs(Cue),Sue={Esc:\"Escape\",Spacebar:\" \",Left:\"ArrowLeft\",Up:\"ArrowUp\",Right:\"ArrowRight\",Down:\"ArrowDown\",Del:\"Delete\",Win:\"OS\",Menu:\"ContextMenu\",Apps:\"ContextMenu\",Scroll:\"ScrollLock\",MozPrintableKey:\"Unidentified\"},xue={8:\"Backspace\",9:\"Tab\",12:\"Clear\",13:\"Enter\",16:\"Shift\",17:\"Control\",18:\"Alt\",19:\"Pause\",20:\"CapsLock\",27:\"Escape\",32:\" \",33:\"PageUp\",34:\"PageDown\",35:\"End\",36:\"Home\",37:\"ArrowLeft\",38:\"ArrowUp\",39:\"ArrowRight\",40:\"ArrowDown\",45:\"Insert\",46:\"Delete\",112:\"F1\",113:\"F2\",114:\"F3\",115:\"F4\",116:\"F5\",117:\"F6\",118:\"F7\",119:\"F8\",120:\"F9\",121:\"F10\",122:\"F11\",123:\"F12\",144:\"NumLock\",145:\"ScrollLock\",224:\"Meta\"},Aue={Alt:\"altKey\",Control:\"ctrlKey\",Meta:\"metaKey\",Shift:\"shiftKey\"};function $ue(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=Aue[u])?!!f[u]:!1}function Y9(){return $ue}var Iue=h({},qy,{key:function(u){if(u.key){var f=Sue[u.key]||u.key;if(f!==\"Unidentified\")return f}return u.type===\"keypress\"?(u=G5(u),u===13?\"Enter\":String.fromCharCode(u)):u.type===\"keydown\"||u.type===\"keyup\"?xue[u.keyCode]||\"Unidentified\":\"\"},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Y9,charCode:function(u){return u.type===\"keypress\"?G5(u):0},keyCode:function(u){return u.type===\"keydown\"||u.type===\"keyup\"?u.keyCode:0},which:function(u){return u.type===\"keypress\"?G5(u):u.type===\"keydown\"||u.type===\"keyup\"?u.keyCode:0}}),Tue=xs(Iue),Pue=h({},J5,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),LM=xs(Pue),Oue=h({},qy,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Y9}),Nue=xs(Oue),Rue=h({},Sh,{propertyName:0,elapsedTime:0,pseudoElement:0}),kue=xs(Rue),Mue=h({},J5,{deltaX:function(u){return\"deltaX\"in u?u.deltaX:\"wheelDeltaX\"in u?-u.wheelDeltaX:0},deltaY:function(u){return\"deltaY\"in u?u.deltaY:\"wheelDeltaY\"in u?-u.wheelDeltaY:\"wheelDelta\"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),Due=xs(Mue),Bue=h({},Sh,{newState:0,oldState:0}),Lue=xs(Bue),Uue=[9,13,27,32],J9=Bl&&\"CompositionEvent\"in window,Vy=null;Bl&&\"documentMode\"in document&&(Vy=document.documentMode);var jue=Bl&&\"TextEvent\"in window&&!Vy,UM=Bl&&(!J9||Vy&&8<Vy&&11>=Vy),jM=\" \",zM=!1;function FM(u,f){switch(u){case\"keyup\":return Uue.indexOf(f.keyCode)!==-1;case\"keydown\":return f.keyCode!==229;case\"keypress\":case\"mousedown\":case\"focusout\":return!0;default:return!1}}function qM(u){return u=u.detail,typeof u==\"object\"&&\"data\"in u?u.data:null}var ug=!1;function zue(u,f){switch(u){case\"compositionend\":return qM(f);case\"keypress\":return f.which!==32?null:(zM=!0,jM);case\"textInput\":return u=f.data,u===jM&&zM?null:u;default:return null}}function Fue(u,f){if(ug)return u===\"compositionend\"||!J9&&FM(u,f)?(u=kM(),W5=K9=vd=null,ug=!1,u):null;switch(u){case\"paste\":return null;case\"keypress\":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case\"compositionend\":return UM&&f.locale!==\"ko\"?null:f.data;default:return null}}var que={color:!0,date:!0,datetime:!0,\"datetime-local\":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HM(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f===\"input\"?!!que[u.type]:f===\"textarea\"}function VM(u,f,g,w){cg?lg?lg.push(w):lg=[w]:cg=w,f=j6(f,\"onChange\"),0<f.length&&(g=new Y5(\"onChange\",\"change\",null,g,w),u.push({event:g,listeners:f}))}var Ky=null,Wy=null;function Hue(u){$L(u,0)}function X5(u){var f=jy(u);if(AM(f))return u}function KM(u,f){if(u===\"change\")return f}var WM=!1;if(Bl){var X9;if(Bl){var Q9=\"oninput\"in document;if(!Q9){var GM=document.createElement(\"div\");GM.setAttribute(\"oninput\",\"return;\"),Q9=typeof GM.oninput==\"function\"}X9=Q9}else X9=!1;WM=X9&&(!document.documentMode||9<document.documentMode)}function ZM(){Ky&&(Ky.detachEvent(\"onpropertychange\",YM),Wy=Ky=null)}function YM(u){if(u.propertyName===\"value\"&&X5(Wy)){var f=[];VM(f,Wy,u,q9(u)),RM(Hue,f)}}function Vue(u,f,g){u===\"focusin\"?(ZM(),Ky=f,Wy=g,Ky.attachEvent(\"onpropertychange\",YM)):u===\"focusout\"&&ZM()}function Kue(u){if(u===\"selectionchange\"||u===\"keyup\"||u===\"keydown\")return X5(Wy)}function Wue(u,f){if(u===\"click\")return X5(f)}function Gue(u,f){if(u===\"input\"||u===\"change\")return X5(f)}function Zue(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ao=typeof Object.is==\"function\"?Object.is:Zue;function Gy(u,f){if(ao(u,f))return!0;if(typeof u!=\"object\"||u===null||typeof f!=\"object\"||f===null)return!1;var g=Object.keys(u),w=Object.keys(f);if(g.length!==w.length)return!1;for(w=0;w<g.length;w++){var x=g[w];if(!We.call(f,x)||!ao(u[x],f[x]))return!1}return!0}function JM(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function XM(u,f){var g=JM(u);u=0;for(var w;g;){if(g.nodeType===3){if(w=u+g.textContent.length,u<=f&&w>=f)return{node:g,offset:f-u};u=w}e:{for(;g;){if(g.nextSibling){g=g.nextSibling;break e}g=g.parentNode}g=void 0}g=JM(g)}}function QM(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?QM(u,f.parentNode):\"contains\"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function eD(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=V5(u.document);f instanceof u.HTMLIFrameElement;){try{var g=typeof f.contentWindow.location.href==\"string\"}catch{g=!1}if(g)u=f.contentWindow;else break;f=V5(u.document)}return f}function eC(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f===\"input\"&&(u.type===\"text\"||u.type===\"search\"||u.type===\"tel\"||u.type===\"url\"||u.type===\"password\")||f===\"textarea\"||u.contentEditable===\"true\")}var Yue=Bl&&\"documentMode\"in document&&11>=document.documentMode,dg=null,tC=null,Zy=null,nC=!1;function tD(u,f,g){var w=g.window===g?g.document:g.nodeType===9?g:g.ownerDocument;nC||dg==null||dg!==V5(w)||(w=dg,\"selectionStart\"in w&&eC(w)?w={start:w.selectionStart,end:w.selectionEnd}:(w=(w.ownerDocument&&w.ownerDocument.defaultView||window).getSelection(),w={anchorNode:w.anchorNode,anchorOffset:w.anchorOffset,focusNode:w.focusNode,focusOffset:w.focusOffset}),Zy&&Gy(Zy,w)||(Zy=w,w=j6(tC,\"onSelect\"),0<w.length&&(f=new Y5(\"onSelect\",\"select\",null,f,g),u.push({event:f,listeners:w}),f.target=dg)))}function xh(u,f){var g={};return g[u.toLowerCase()]=f.toLowerCase(),g[\"Webkit\"+u]=\"webkit\"+f,g[\"Moz\"+u]=\"moz\"+f,g}var fg={animationend:xh(\"Animation\",\"AnimationEnd\"),animationiteration:xh(\"Animation\",\"AnimationIteration\"),animationstart:xh(\"Animation\",\"AnimationStart\"),transitionrun:xh(\"Transition\",\"TransitionRun\"),transitionstart:xh(\"Transition\",\"TransitionStart\"),transitioncancel:xh(\"Transition\",\"TransitionCancel\"),transitionend:xh(\"Transition\",\"TransitionEnd\")},rC={},nD={};Bl&&(nD=document.createElement(\"div\").style,\"AnimationEvent\"in window||(delete fg.animationend.animation,delete fg.animationiteration.animation,delete fg.animationstart.animation),\"TransitionEvent\"in window||delete fg.transitionend.transition);function Ah(u){if(rC[u])return rC[u];if(!fg[u])return u;var f=fg[u],g;for(g in f)if(f.hasOwnProperty(g)&&g in nD)return rC[u]=f[g];return u}var rD=Ah(\"animationend\"),iD=Ah(\"animationiteration\"),sD=Ah(\"animationstart\"),Jue=Ah(\"transitionrun\"),Xue=Ah(\"transitionstart\"),Que=Ah(\"transitioncancel\"),oD=Ah(\"transitionend\"),aD=new Map,iC=\"abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel\".split(\" \");iC.push(\"scrollEnd\");function Ba(u,f){aD.set(u,f),Ch(f,[u])}var Q5=typeof reportError==\"function\"?reportError:function(u){if(typeof window==\"object\"&&typeof window.ErrorEvent==\"function\"){var f=new window.ErrorEvent(\"error\",{bubbles:!0,cancelable:!0,message:typeof u==\"object\"&&u!==null&&typeof u.message==\"string\"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process==\"object\"&&typeof process.emit==\"function\"){process.emit(\"uncaughtException\",u);return}console.error(u)},ta=[],hg=0,sC=0;function e6(){for(var u=hg,f=sC=hg=0;f<u;){var g=ta[f];ta[f++]=null;var w=ta[f];ta[f++]=null;var x=ta[f];ta[f++]=null;var R=ta[f];if(ta[f++]=null,w!==null&&x!==null){var W=w.pending;W===null?x.next=x:(x.next=W.next,W.next=x),w.pending=x}R!==0&&cD(g,x,R)}}function t6(u,f,g,w){ta[hg++]=u,ta[hg++]=f,ta[hg++]=g,ta[hg++]=w,sC|=w,u.lanes|=w,u=u.alternate,u!==null&&(u.lanes|=w)}function oC(u,f,g,w){return t6(u,f,g,w),n6(u)}function $h(u,f){return t6(u,null,null,f),n6(u)}function cD(u,f,g){u.lanes|=g;var w=u.alternate;w!==null&&(w.lanes|=g);for(var x=!1,R=u.return;R!==null;)R.childLanes|=g,w=R.alternate,w!==null&&(w.childLanes|=g),R.tag===22&&(u=R.stateNode,u===null||u._visibility&1||(x=!0)),u=R,R=R.return;return u.tag===3?(R=u.stateNode,x&&f!==null&&(x=31-vi(g),u=R.hiddenUpdates,w=u[x],w===null?u[x]=[f]:w.push(f),f.lane=g|536870912),R):null}function n6(u){if(50<yb)throw yb=0,gS=null,Error(r(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var pg={};function ede(u,f,g,w){this.tag=u,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function co(u,f,g,w){return new ede(u,f,g,w)}function aC(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Ll(u,f){var g=u.alternate;return g===null?(g=co(u.tag,f,u.key,u.mode),g.elementType=u.elementType,g.type=u.type,g.stateNode=u.stateNode,g.alternate=u,u.alternate=g):(g.pendingProps=f,g.type=u.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=u.flags&65011712,g.childLanes=u.childLanes,g.lanes=u.lanes,g.child=u.child,g.memoizedProps=u.memoizedProps,g.memoizedState=u.memoizedState,g.updateQueue=u.updateQueue,f=u.dependencies,g.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},g.sibling=u.sibling,g.index=u.index,g.ref=u.ref,g.refCleanup=u.refCleanup,g}function lD(u,f){u.flags&=65011714;var g=u.alternate;return g===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=g.childLanes,u.lanes=g.lanes,u.child=g.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=g.memoizedProps,u.memoizedState=g.memoizedState,u.updateQueue=g.updateQueue,u.type=g.type,f=g.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function r6(u,f,g,w,x,R){var W=0;if(w=u,typeof u==\"function\")aC(u)&&(W=1);else if(typeof u==\"string\")W=sfe(u,g,K.current)?26:u===\"html\"||u===\"head\"||u===\"body\"?27:5;else e:switch(u){case N:return u=co(31,g,f,x),u.elementType=N,u.lanes=R,u;case y:return Ih(g.children,x,R,f);case E:W=8,x|=24;break;case v:return u=co(12,g,f,x|2),u.elementType=v,u.lanes=R,u;case A:return u=co(13,g,f,x),u.elementType=A,u.lanes=R,u;case I:return u=co(19,g,f,x),u.elementType=I,u.lanes=R,u;default:if(typeof u==\"object\"&&u!==null)switch(u.$$typeof){case C:W=10;break e;case _:W=9;break e;case S:W=11;break e;case O:W=14;break e;case D:W=16,w=null;break e}W=29,g=Error(r(130,u===null?\"null\":typeof u,\"\")),w=null}return f=co(W,g,f,x),f.elementType=u,f.type=w,f.lanes=R,f}function Ih(u,f,g,w){return u=co(7,u,w,f),u.lanes=g,u}function cC(u,f,g){return u=co(6,u,null,f),u.lanes=g,u}function uD(u){var f=co(18,null,null,0);return f.stateNode=u,f}function lC(u,f,g){return f=co(4,u.children!==null?u.children:[],u.key,f),f.lanes=g,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var dD=new WeakMap;function na(u,f){if(typeof u==\"object\"&&u!==null){var g=dD.get(u);return g!==void 0?g:(f={value:u,source:f,stack:Xe(f)},dD.set(u,f),f)}return{value:u,source:f,stack:Xe(f)}}var gg=[],mg=0,i6=null,Yy=0,ra=[],ia=0,Ed=null,kc=1,Mc=\"\";function Ul(u,f){gg[mg++]=Yy,gg[mg++]=i6,i6=u,Yy=f}function fD(u,f,g){ra[ia++]=kc,ra[ia++]=Mc,ra[ia++]=Ed,Ed=u;var w=kc;u=Mc;var x=32-vi(w)-1;w&=~(1<<x),g+=1;var R=32-vi(f)+x;if(30<R){var W=x-x%5;R=(w&(1<<W)-1).toString(32),w>>=W,x-=W,kc=1<<32-vi(f)+x|g<<x|w,Mc=R+u}else kc=1<<R|g<<x|w,Mc=u}function uC(u){u.return!==null&&(Ul(u,1),fD(u,1,0))}function dC(u){for(;u===i6;)i6=gg[--mg],gg[mg]=null,Yy=gg[--mg],gg[mg]=null;for(;u===Ed;)Ed=ra[--ia],ra[ia]=null,Mc=ra[--ia],ra[ia]=null,kc=ra[--ia],ra[ia]=null}function hD(u,f){ra[ia++]=kc,ra[ia++]=Mc,ra[ia++]=Ed,kc=f.id,Mc=f.overflow,Ed=u}var _i=null,Kn=null,zt=!1,_d=null,sa=!1,fC=Error(r(519));function Cd(u){var f=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?\"text\":\"HTML\",\"\"));throw Jy(na(f,u)),fC}function pD(u){var f=u.stateNode,g=u.type,w=u.memoizedProps;switch(f[Ei]=u,f[Ss]=w,g){case\"dialog\":Bt(\"cancel\",f),Bt(\"close\",f);break;case\"iframe\":case\"object\":case\"embed\":Bt(\"load\",f);break;case\"video\":case\"audio\":for(g=0;g<wb.length;g++)Bt(wb[g],f);break;case\"source\":Bt(\"error\",f);break;case\"img\":case\"image\":case\"link\":Bt(\"error\",f),Bt(\"load\",f);break;case\"details\":Bt(\"toggle\",f);break;case\"input\":Bt(\"invalid\",f),$M(f,w.value,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name,!0);break;case\"select\":Bt(\"invalid\",f);break;case\"textarea\":Bt(\"invalid\",f),TM(f,w.value,w.defaultValue,w.children)}g=w.children,typeof g!=\"string\"&&typeof g!=\"number\"&&typeof g!=\"bigint\"||f.textContent===\"\"+g||w.suppressHydrationWarning===!0||OL(f.textContent,g)?(w.popover!=null&&(Bt(\"beforetoggle\",f),Bt(\"toggle\",f)),w.onScroll!=null&&Bt(\"scroll\",f),w.onScrollEnd!=null&&Bt(\"scrollend\",f),w.onClick!=null&&(f.onclick=Dl),f=!0):f=!1,f||Cd(u,!0)}function gD(u){for(_i=u.return;_i;)switch(_i.tag){case 5:case 31:case 13:sa=!1;return;case 27:case 3:sa=!0;return;default:_i=_i.return}}function yg(u){if(u!==_i)return!1;if(!zt)return gD(u),zt=!0,!1;var f=u.tag,g;if((g=f!==3&&f!==27)&&((g=f===5)&&(g=u.type,g=!(g!==\"form\"&&g!==\"button\")||PS(u.type,u.memoizedProps)),g=!g),g&&Kn&&Cd(u),gD(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Kn=jL(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));Kn=jL(u)}else f===27?(f=Kn,Bd(u.type)?(u=MS,MS=null,Kn=u):Kn=f):Kn=_i?aa(u.stateNode.nextSibling):null;return!0}function Th(){Kn=_i=null,zt=!1}function hC(){var u=_d;return u!==null&&(Ts===null?Ts=u:Ts.push.apply(Ts,u),_d=null),u}function Jy(u){_d===null?_d=[u]:_d.push(u)}var pC=L(null),Ph=null,jl=null;function Sd(u,f,g){j(pC,f._currentValue),f._currentValue=g}function zl(u){u._currentValue=pC.current,B(pC)}function gC(u,f,g){for(;u!==null;){var w=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,w!==null&&(w.childLanes|=f)):w!==null&&(w.childLanes&f)!==f&&(w.childLanes|=f),u===g)break;u=u.return}}function mC(u,f,g,w){var x=u.child;for(x!==null&&(x.return=u);x!==null;){var R=x.dependencies;if(R!==null){var W=x.child;R=R.firstContext;e:for(;R!==null;){var J=R;R=x;for(var te=0;te<f.length;te++)if(J.context===f[te]){R.lanes|=g,J=R.alternate,J!==null&&(J.lanes|=g),gC(R.return,g,u),w||(W=null);break e}R=J.next}}else if(x.tag===18){if(W=x.return,W===null)throw Error(r(341));W.lanes|=g,R=W.alternate,R!==null&&(R.lanes|=g),gC(W,g,u),W=null}else W=x.child;if(W!==null)W.return=x;else for(W=x;W!==null;){if(W===u){W=null;break}if(x=W.sibling,x!==null){x.return=W.return,W=x;break}W=W.return}x=W}}function bg(u,f,g,w){u=null;for(var x=f,R=!1;x!==null;){if(!R){if((x.flags&524288)!==0)R=!0;else if((x.flags&262144)!==0)break}if(x.tag===10){var W=x.alternate;if(W===null)throw Error(r(387));if(W=W.memoizedProps,W!==null){var J=x.type;ao(x.pendingProps.value,W.value)||(u!==null?u.push(J):u=[J])}}else if(x===Y.current){if(W=x.alternate,W===null)throw Error(r(387));W.memoizedState.memoizedState!==x.memoizedState.memoizedState&&(u!==null?u.push(Sb):u=[Sb])}x=x.return}u!==null&&mC(f,u,g,w),f.flags|=262144}function s6(u){for(u=u.firstContext;u!==null;){if(!ao(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Oh(u){Ph=u,jl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Ci(u){return mD(Ph,u)}function o6(u,f){return Ph===null&&Oh(u),mD(u,f)}function mD(u,f){var g=f._currentValue;if(f={context:f,memoizedValue:g,next:null},jl===null){if(u===null)throw Error(r(308));jl=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else jl=jl.next=f;return g}var tde=typeof AbortController<\"u\"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(g,w){u.push(w)}};this.abort=function(){f.aborted=!0,u.forEach(function(g){return g()})}},nde=t.unstable_scheduleCallback,rde=t.unstable_NormalPriority,Sr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function yC(){return{controller:new tde,data:new Map,refCount:0}}function Xy(u){u.refCount--,u.refCount===0&&nde(rde,function(){u.controller.abort()})}var Qy=null,bC=0,wg=0,vg=null;function ide(u,f){if(Qy===null){var g=Qy=[];bC=0,wg=ES(),vg={status:\"pending\",value:void 0,then:function(w){g.push(w)}}}return bC++,f.then(yD,yD),f}function yD(){if(--bC===0&&Qy!==null){vg!==null&&(vg.status=\"fulfilled\");var u=Qy;Qy=null,wg=0,vg=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function sde(u,f){var g=[],w={status:\"pending\",value:null,reason:null,then:function(x){g.push(x)}};return u.then(function(){w.status=\"fulfilled\",w.value=f;for(var x=0;x<g.length;x++)(0,g[x])(f)},function(x){for(w.status=\"rejected\",w.reason=x,x=0;x<g.length;x++)(0,g[x])(void 0)}),w}var bD=P.S;P.S=function(u,f){tL=dt(),typeof f==\"object\"&&f!==null&&typeof f.then==\"function\"&&ide(u,f),bD!==null&&bD(u,f)};var Nh=L(null);function wC(){var u=Nh.current;return u!==null?u:Rn.pooledCache}function a6(u,f){f===null?j(Nh,Nh.current):j(Nh,f.pool)}function wD(){var u=wC();return u===null?null:{parent:Sr._currentValue,pool:u}}var Eg=Error(r(460)),vC=Error(r(474)),c6=Error(r(542)),l6={then:function(){}};function vD(u){return u=u.status,u===\"fulfilled\"||u===\"rejected\"}function ED(u,f,g){switch(g=u[g],g===void 0?u.push(f):g!==f&&(f.then(Dl,Dl),f=g),f.status){case\"fulfilled\":return f.value;case\"rejected\":throw u=f.reason,CD(u),u;default:if(typeof f.status==\"string\")f.then(Dl,Dl);else{if(u=Rn,u!==null&&100<u.shellSuspendCounter)throw Error(r(482));u=f,u.status=\"pending\",u.then(function(w){if(f.status===\"pending\"){var x=f;x.status=\"fulfilled\",x.value=w}},function(w){if(f.status===\"pending\"){var x=f;x.status=\"rejected\",x.reason=w}})}switch(f.status){case\"fulfilled\":return f.value;case\"rejected\":throw u=f.reason,CD(u),u}throw kh=f,Eg}}function Rh(u){try{var f=u._init;return f(u._payload)}catch(g){throw g!==null&&typeof g==\"object\"&&typeof g.then==\"function\"?(kh=g,Eg):g}}var kh=null;function _D(){if(kh===null)throw Error(r(459));var u=kh;return kh=null,u}function CD(u){if(u===Eg||u===c6)throw Error(r(483))}var _g=null,eb=0;function u6(u){var f=eb;return eb+=1,_g===null&&(_g=[]),ED(_g,u,f)}function tb(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function d6(u,f){throw f.$$typeof===p?Error(r(525)):(u=Object.prototype.toString.call(f),Error(r(31,u===\"[object Object]\"?\"object with keys {\"+Object.keys(f).join(\", \")+\"}\":u)))}function SD(u){function f(se,ie){if(u){var le=se.deletions;le===null?(se.deletions=[ie],se.flags|=16):le.push(ie)}}function g(se,ie){if(!u)return null;for(;ie!==null;)f(se,ie),ie=ie.sibling;return null}function w(se){for(var ie=new Map;se!==null;)se.key!==null?ie.set(se.key,se):ie.set(se.index,se),se=se.sibling;return ie}function x(se,ie){return se=Ll(se,ie),se.index=0,se.sibling=null,se}function R(se,ie,le){return se.index=le,u?(le=se.alternate,le!==null?(le=le.index,le<ie?(se.flags|=67108866,ie):le):(se.flags|=67108866,ie)):(se.flags|=1048576,ie)}function W(se){return u&&se.alternate===null&&(se.flags|=67108866),se}function J(se,ie,le,_e){return ie===null||ie.tag!==6?(ie=cC(le,se.mode,_e),ie.return=se,ie):(ie=x(ie,le),ie.return=se,ie)}function te(se,ie,le,_e){var ht=le.type;return ht===y?be(se,ie,le.props.children,_e,le.key):ie!==null&&(ie.elementType===ht||typeof ht==\"object\"&&ht!==null&&ht.$$typeof===D&&Rh(ht)===ie.type)?(ie=x(ie,le.props),tb(ie,le),ie.return=se,ie):(ie=r6(le.type,le.key,le.props,null,se.mode,_e),tb(ie,le),ie.return=se,ie)}function de(se,ie,le,_e){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==le.containerInfo||ie.stateNode.implementation!==le.implementation?(ie=lC(le,se.mode,_e),ie.return=se,ie):(ie=x(ie,le.children||[]),ie.return=se,ie)}function be(se,ie,le,_e,ht){return ie===null||ie.tag!==7?(ie=Ih(le,se.mode,_e,ht),ie.return=se,ie):(ie=x(ie,le),ie.return=se,ie)}function Ce(se,ie,le){if(typeof ie==\"string\"&&ie!==\"\"||typeof ie==\"number\"||typeof ie==\"bigint\")return ie=cC(\"\"+ie,se.mode,le),ie.return=se,ie;if(typeof ie==\"object\"&&ie!==null){switch(ie.$$typeof){case m:return le=r6(ie.type,ie.key,ie.props,null,se.mode,le),tb(le,ie),le.return=se,le;case b:return ie=lC(ie,se.mode,le),ie.return=se,ie;case D:return ie=Rh(ie),Ce(se,ie,le)}if($(ie)||H(ie))return ie=Ih(ie,se.mode,le,null),ie.return=se,ie;if(typeof ie.then==\"function\")return Ce(se,u6(ie),le);if(ie.$$typeof===C)return Ce(se,o6(se,ie),le);d6(se,ie)}return null}function fe(se,ie,le,_e){var ht=ie!==null?ie.key:null;if(typeof le==\"string\"&&le!==\"\"||typeof le==\"number\"||typeof le==\"bigint\")return ht!==null?null:J(se,ie,\"\"+le,_e);if(typeof le==\"object\"&&le!==null){switch(le.$$typeof){case m:return le.key===ht?te(se,ie,le,_e):null;case b:return le.key===ht?de(se,ie,le,_e):null;case D:return le=Rh(le),fe(se,ie,le,_e)}if($(le)||H(le))return ht!==null?null:be(se,ie,le,_e,null);if(typeof le.then==\"function\")return fe(se,ie,u6(le),_e);if(le.$$typeof===C)return fe(se,ie,o6(se,le),_e);d6(se,le)}return null}function pe(se,ie,le,_e,ht){if(typeof _e==\"string\"&&_e!==\"\"||typeof _e==\"number\"||typeof _e==\"bigint\")return se=se.get(le)||null,J(ie,se,\"\"+_e,ht);if(typeof _e==\"object\"&&_e!==null){switch(_e.$$typeof){case m:return se=se.get(_e.key===null?le:_e.key)||null,te(ie,se,_e,ht);case b:return se=se.get(_e.key===null?le:_e.key)||null,de(ie,se,_e,ht);case D:return _e=Rh(_e),pe(se,ie,le,_e,ht)}if($(_e)||H(_e))return se=se.get(le)||null,be(ie,se,_e,ht,null);if(typeof _e.then==\"function\")return pe(se,ie,le,u6(_e),ht);if(_e.$$typeof===C)return pe(se,ie,le,o6(ie,_e),ht);d6(ie,_e)}return null}function tt(se,ie,le,_e){for(var ht=null,en=null,ot=ie,Ot=ie=0,Ut=null;ot!==null&&Ot<le.length;Ot++){ot.index>Ot?(Ut=ot,ot=null):Ut=ot.sibling;var tn=fe(se,ot,le[Ot],_e);if(tn===null){ot===null&&(ot=Ut);break}u&&ot&&tn.alternate===null&&f(se,ot),ie=R(tn,ie,Ot),en===null?ht=tn:en.sibling=tn,en=tn,ot=Ut}if(Ot===le.length)return g(se,ot),zt&&Ul(se,Ot),ht;if(ot===null){for(;Ot<le.length;Ot++)ot=Ce(se,le[Ot],_e),ot!==null&&(ie=R(ot,ie,Ot),en===null?ht=ot:en.sibling=ot,en=ot);return zt&&Ul(se,Ot),ht}for(ot=w(ot);Ot<le.length;Ot++)Ut=pe(ot,se,Ot,le[Ot],_e),Ut!==null&&(u&&Ut.alternate!==null&&ot.delete(Ut.key===null?Ot:Ut.key),ie=R(Ut,ie,Ot),en===null?ht=Ut:en.sibling=Ut,en=Ut);return u&&ot.forEach(function(Fd){return f(se,Fd)}),zt&&Ul(se,Ot),ht}function yt(se,ie,le,_e){if(le==null)throw Error(r(151));for(var ht=null,en=null,ot=ie,Ot=ie=0,Ut=null,tn=le.next();ot!==null&&!tn.done;Ot++,tn=le.next()){ot.index>Ot?(Ut=ot,ot=null):Ut=ot.sibling;var Fd=fe(se,ot,tn.value,_e);if(Fd===null){ot===null&&(ot=Ut);break}u&&ot&&Fd.alternate===null&&f(se,ot),ie=R(Fd,ie,Ot),en===null?ht=Fd:en.sibling=Fd,en=Fd,ot=Ut}if(tn.done)return g(se,ot),zt&&Ul(se,Ot),ht;if(ot===null){for(;!tn.done;Ot++,tn=le.next())tn=Ce(se,tn.value,_e),tn!==null&&(ie=R(tn,ie,Ot),en===null?ht=tn:en.sibling=tn,en=tn);return zt&&Ul(se,Ot),ht}for(ot=w(ot);!tn.done;Ot++,tn=le.next())tn=pe(ot,se,Ot,tn.value,_e),tn!==null&&(u&&tn.alternate!==null&&ot.delete(tn.key===null?Ot:tn.key),ie=R(tn,ie,Ot),en===null?ht=tn:en.sibling=tn,en=tn);return u&&ot.forEach(function(mfe){return f(se,mfe)}),zt&&Ul(se,Ot),ht}function Tn(se,ie,le,_e){if(typeof le==\"object\"&&le!==null&&le.type===y&&le.key===null&&(le=le.props.children),typeof le==\"object\"&&le!==null){switch(le.$$typeof){case m:e:{for(var ht=le.key;ie!==null;){if(ie.key===ht){if(ht=le.type,ht===y){if(ie.tag===7){g(se,ie.sibling),_e=x(ie,le.props.children),_e.return=se,se=_e;break e}}else if(ie.elementType===ht||typeof ht==\"object\"&&ht!==null&&ht.$$typeof===D&&Rh(ht)===ie.type){g(se,ie.sibling),_e=x(ie,le.props),tb(_e,le),_e.return=se,se=_e;break e}g(se,ie);break}else f(se,ie);ie=ie.sibling}le.type===y?(_e=Ih(le.props.children,se.mode,_e,le.key),_e.return=se,se=_e):(_e=r6(le.type,le.key,le.props,null,se.mode,_e),tb(_e,le),_e.return=se,se=_e)}return W(se);case b:e:{for(ht=le.key;ie!==null;){if(ie.key===ht)if(ie.tag===4&&ie.stateNode.containerInfo===le.containerInfo&&ie.stateNode.implementation===le.implementation){g(se,ie.sibling),_e=x(ie,le.children||[]),_e.return=se,se=_e;break e}else{g(se,ie);break}else f(se,ie);ie=ie.sibling}_e=lC(le,se.mode,_e),_e.return=se,se=_e}return W(se);case D:return le=Rh(le),Tn(se,ie,le,_e)}if($(le))return tt(se,ie,le,_e);if(H(le)){if(ht=H(le),typeof ht!=\"function\")throw Error(r(150));return le=ht.call(le),yt(se,ie,le,_e)}if(typeof le.then==\"function\")return Tn(se,ie,u6(le),_e);if(le.$$typeof===C)return Tn(se,ie,o6(se,le),_e);d6(se,le)}return typeof le==\"string\"&&le!==\"\"||typeof le==\"number\"||typeof le==\"bigint\"?(le=\"\"+le,ie!==null&&ie.tag===6?(g(se,ie.sibling),_e=x(ie,le),_e.return=se,se=_e):(g(se,ie),_e=cC(le,se.mode,_e),_e.return=se,se=_e),W(se)):g(se,ie)}return function(se,ie,le,_e){try{eb=0;var ht=Tn(se,ie,le,_e);return _g=null,ht}catch(ot){if(ot===Eg||ot===c6)throw ot;var en=co(29,ot,null,se.mode);return en.lanes=_e,en.return=se,en}finally{}}}var Mh=SD(!0),xD=SD(!1),xd=!1;function EC(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _C(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Ad(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function $d(u,f,g){var w=u.updateQueue;if(w===null)return null;if(w=w.shared,(un&2)!==0){var x=w.pending;return x===null?f.next=f:(f.next=x.next,x.next=f),w.pending=f,f=n6(u),cD(u,null,g),f}return t6(u,w,f,g),n6(u)}function nb(u,f,g){if(f=f.updateQueue,f!==null&&(f=f.shared,(g&4194048)!==0)){var w=f.lanes;w&=u.pendingLanes,g|=w,f.lanes=g,mM(u,g)}}function CC(u,f){var g=u.updateQueue,w=u.alternate;if(w!==null&&(w=w.updateQueue,g===w)){var x=null,R=null;if(g=g.firstBaseUpdate,g!==null){do{var W={lane:g.lane,tag:g.tag,payload:g.payload,callback:null,next:null};R===null?x=R=W:R=R.next=W,g=g.next}while(g!==null);R===null?x=R=f:R=R.next=f}else x=R=f;g={baseState:w.baseState,firstBaseUpdate:x,lastBaseUpdate:R,shared:w.shared,callbacks:w.callbacks},u.updateQueue=g;return}u=g.lastBaseUpdate,u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=f}var SC=!1;function rb(){if(SC){var u=vg;if(u!==null)throw u}}function ib(u,f,g,w){SC=!1;var x=u.updateQueue;xd=!1;var R=x.firstBaseUpdate,W=x.lastBaseUpdate,J=x.shared.pending;if(J!==null){x.shared.pending=null;var te=J,de=te.next;te.next=null,W===null?R=de:W.next=de,W=te;var be=u.alternate;be!==null&&(be=be.updateQueue,J=be.lastBaseUpdate,J!==W&&(J===null?be.firstBaseUpdate=de:J.next=de,be.lastBaseUpdate=te))}if(R!==null){var Ce=x.baseState;W=0,be=de=te=null,J=R;do{var fe=J.lane&-536870913,pe=fe!==J.lane;if(pe?(Lt&fe)===fe:(w&fe)===fe){fe!==0&&fe===wg&&(SC=!0),be!==null&&(be=be.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var tt=u,yt=J;fe=f;var Tn=g;switch(yt.tag){case 1:if(tt=yt.payload,typeof tt==\"function\"){Ce=tt.call(Tn,Ce,fe);break e}Ce=tt;break e;case 3:tt.flags=tt.flags&-65537|128;case 0:if(tt=yt.payload,fe=typeof tt==\"function\"?tt.call(Tn,Ce,fe):tt,fe==null)break e;Ce=h({},Ce,fe);break e;case 2:xd=!0}}fe=J.callback,fe!==null&&(u.flags|=64,pe&&(u.flags|=8192),pe=x.callbacks,pe===null?x.callbacks=[fe]:pe.push(fe))}else pe={lane:fe,tag:J.tag,payload:J.payload,callback:J.callback,next:null},be===null?(de=be=pe,te=Ce):be=be.next=pe,W|=fe;if(J=J.next,J===null){if(J=x.shared.pending,J===null)break;pe=J,J=pe.next,pe.next=null,x.lastBaseUpdate=pe,x.shared.pending=null}}while(!0);be===null&&(te=Ce),x.baseState=te,x.firstBaseUpdate=de,x.lastBaseUpdate=be,R===null&&(x.shared.lanes=0),Nd|=W,u.lanes=W,u.memoizedState=Ce}}function AD(u,f){if(typeof u!=\"function\")throw Error(r(191,u));u.call(f)}function $D(u,f){var g=u.callbacks;if(g!==null)for(u.callbacks=null,u=0;u<g.length;u++)AD(g[u],f)}var Cg=L(null),f6=L(0);function ID(u,f){u=Yl,j(f6,u),j(Cg,f),Yl=u|f.baseLanes}function xC(){j(f6,Yl),j(Cg,Cg.current)}function AC(){Yl=f6.current,B(Cg),B(f6)}var lo=L(null),oa=null;function Id(u){var f=u.alternate;j(hr,hr.current&1),j(lo,u),oa===null&&(f===null||Cg.current!==null||f.memoizedState!==null)&&(oa=u)}function $C(u){j(hr,hr.current),j(lo,u),oa===null&&(oa=u)}function TD(u){u.tag===22?(j(hr,hr.current),j(lo,u),oa===null&&(oa=u)):Td()}function Td(){j(hr,hr.current),j(lo,lo.current)}function uo(u){B(lo),oa===u&&(oa=null),B(hr)}var hr=L(0);function h6(u){for(var f=u;f!==null;){if(f.tag===13){var g=f.memoizedState;if(g!==null&&(g=g.dehydrated,g===null||RS(g)||kS(g)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder===\"forwards\"||f.memoizedProps.revealOrder===\"backwards\"||f.memoizedProps.revealOrder===\"unstable_legacy-backwards\"||f.memoizedProps.revealOrder===\"together\")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Fl=0,It=null,$n=null,xr=null,p6=!1,Sg=!1,Dh=!1,g6=0,sb=0,xg=null,ode=0;function ar(){throw Error(r(321))}function IC(u,f){if(f===null)return!1;for(var g=0;g<f.length&&g<u.length;g++)if(!ao(u[g],f[g]))return!1;return!0}function TC(u,f,g,w,x,R){return Fl=R,It=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,P.H=u===null||u.memoizedState===null?fB:HC,Dh=!1,R=g(w,x),Dh=!1,Sg&&(R=OD(f,g,w,x)),PD(u),R}function PD(u){P.H=cb;var f=$n!==null&&$n.next!==null;if(Fl=0,xr=$n=It=null,p6=!1,sb=0,xg=null,f)throw Error(r(300));u===null||Ar||(u=u.dependencies,u!==null&&s6(u)&&(Ar=!0))}function OD(u,f,g,w){It=u;var x=0;do{if(Sg&&(xg=null),sb=0,Sg=!1,25<=x)throw Error(r(301));if(x+=1,xr=$n=null,u.updateQueue!=null){var R=u.updateQueue;R.lastEffect=null,R.events=null,R.stores=null,R.memoCache!=null&&(R.memoCache.index=0)}P.H=hB,R=f(g,w)}while(Sg);return R}function ade(){var u=P.H,f=u.useState()[0];return f=typeof f.then==\"function\"?ob(f):f,u=u.useState()[0],($n!==null?$n.memoizedState:null)!==u&&(It.flags|=1024),f}function PC(){var u=g6!==0;return g6=0,u}function OC(u,f,g){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~g}function NC(u){if(p6){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}p6=!1}Fl=0,xr=$n=It=null,Sg=!1,sb=g6=0,xg=null}function ss(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xr===null?It.memoizedState=xr=u:xr=xr.next=u,xr}function pr(){if($n===null){var u=It.alternate;u=u!==null?u.memoizedState:null}else u=$n.next;var f=xr===null?It.memoizedState:xr.next;if(f!==null)xr=f,$n=u;else{if(u===null)throw It.alternate===null?Error(r(467)):Error(r(310));$n=u,u={memoizedState:$n.memoizedState,baseState:$n.baseState,baseQueue:$n.baseQueue,queue:$n.queue,next:null},xr===null?It.memoizedState=xr=u:xr=xr.next=u}return xr}function m6(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ob(u){var f=sb;return sb+=1,xg===null&&(xg=[]),u=ED(xg,u,f),f=It,(xr===null?f.memoizedState:xr.next)===null&&(f=f.alternate,P.H=f===null||f.memoizedState===null?fB:HC),u}function y6(u){if(u!==null&&typeof u==\"object\"){if(typeof u.then==\"function\")return ob(u);if(u.$$typeof===C)return Ci(u)}throw Error(r(438,String(u)))}function RC(u){var f=null,g=It.updateQueue;if(g!==null&&(f=g.memoCache),f==null){var w=It.alternate;w!==null&&(w=w.updateQueue,w!==null&&(w=w.memoCache,w!=null&&(f={data:w.data.map(function(x){return x.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),g===null&&(g=m6(),It.updateQueue=g),g.memoCache=f,g=f.data[f.index],g===void 0)for(g=f.data[f.index]=Array(u),w=0;w<u;w++)g[w]=U;return f.index++,g}function ql(u,f){return typeof f==\"function\"?f(u):f}function b6(u){var f=pr();return kC(f,$n,u)}function kC(u,f,g){var w=u.queue;if(w===null)throw Error(r(311));w.lastRenderedReducer=g;var x=u.baseQueue,R=w.pending;if(R!==null){if(x!==null){var W=x.next;x.next=R.next,R.next=W}f.baseQueue=x=R,w.pending=null}if(R=u.baseState,x===null)u.memoizedState=R;else{f=x.next;var J=W=null,te=null,de=f,be=!1;do{var Ce=de.lane&-536870913;if(Ce!==de.lane?(Lt&Ce)===Ce:(Fl&Ce)===Ce){var fe=de.revertLane;if(fe===0)te!==null&&(te=te.next={lane:0,revertLane:0,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null}),Ce===wg&&(be=!0);else if((Fl&fe)===fe){de=de.next,fe===wg&&(be=!0);continue}else Ce={lane:0,revertLane:de.revertLane,gesture:null,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(J=te=Ce,W=R):te=te.next=Ce,It.lanes|=fe,Nd|=fe;Ce=de.action,Dh&&g(R,Ce),R=de.hasEagerState?de.eagerState:g(R,Ce)}else fe={lane:Ce,revertLane:de.revertLane,gesture:de.gesture,action:de.action,hasEagerState:de.hasEagerState,eagerState:de.eagerState,next:null},te===null?(J=te=fe,W=R):te=te.next=fe,It.lanes|=Ce,Nd|=Ce;de=de.next}while(de!==null&&de!==f);if(te===null?W=R:te.next=J,!ao(R,u.memoizedState)&&(Ar=!0,be&&(g=vg,g!==null)))throw g;u.memoizedState=R,u.baseState=W,u.baseQueue=te,w.lastRenderedState=R}return x===null&&(w.lanes=0),[u.memoizedState,w.dispatch]}function MC(u){var f=pr(),g=f.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=u;var w=g.dispatch,x=g.pending,R=f.memoizedState;if(x!==null){g.pending=null;var W=x=x.next;do R=u(R,W.action),W=W.next;while(W!==x);ao(R,f.memoizedState)||(Ar=!0),f.memoizedState=R,f.baseQueue===null&&(f.baseState=R),g.lastRenderedState=R}return[R,w]}function ND(u,f,g){var w=It,x=pr(),R=zt;if(R){if(g===void 0)throw Error(r(407));g=g()}else g=f();var W=!ao(($n||x).memoizedState,g);if(W&&(x.memoizedState=g,Ar=!0),x=x.queue,LC(MD.bind(null,w,x,u),[u]),x.getSnapshot!==f||W||xr!==null&&xr.memoizedState.tag&1){if(w.flags|=2048,Ag(9,{destroy:void 0},kD.bind(null,w,x,g,f),null),Rn===null)throw Error(r(349));R||(Fl&127)!==0||RD(w,f,g)}return g}function RD(u,f,g){u.flags|=16384,u={getSnapshot:f,value:g},f=It.updateQueue,f===null?(f=m6(),It.updateQueue=f,f.stores=[u]):(g=f.stores,g===null?f.stores=[u]:g.push(u))}function kD(u,f,g,w){f.value=g,f.getSnapshot=w,DD(f)&&BD(u)}function MD(u,f,g){return g(function(){DD(f)&&BD(u)})}function DD(u){var f=u.getSnapshot;u=u.value;try{var g=f();return!ao(u,g)}catch{return!0}}function BD(u){var f=$h(u,2);f!==null&&Ps(f,u,2)}function DC(u){var f=ss();if(typeof u==\"function\"){var g=u;if(u=g(),Dh){Rc(!0);try{g()}finally{Rc(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:u},f}function LD(u,f,g,w){return u.baseState=g,kC(u,$n,typeof w==\"function\"?w:ql)}function cde(u,f,g,w,x){if(E6(u))throw Error(r(485));if(u=f.action,u!==null){var R={payload:x,action:u,next:null,isTransition:!0,status:\"pending\",value:null,reason:null,listeners:[],then:function(W){R.listeners.push(W)}};P.T!==null?g(!0):R.isTransition=!1,w(R),g=f.pending,g===null?(R.next=f.pending=R,UD(f,R)):(R.next=g.next,f.pending=g.next=R)}}function UD(u,f){var g=f.action,w=f.payload,x=u.state;if(f.isTransition){var R=P.T,W={};P.T=W;try{var J=g(x,w),te=P.S;te!==null&&te(W,J),jD(u,f,J)}catch(de){BC(u,f,de)}finally{R!==null&&W.types!==null&&(R.types=W.types),P.T=R}}else try{R=g(x,w),jD(u,f,R)}catch(de){BC(u,f,de)}}function jD(u,f,g){g!==null&&typeof g==\"object\"&&typeof g.then==\"function\"?g.then(function(w){zD(u,f,w)},function(w){return BC(u,f,w)}):zD(u,f,g)}function zD(u,f,g){f.status=\"fulfilled\",f.value=g,FD(f),u.state=g,f=u.pending,f!==null&&(g=f.next,g===f?u.pending=null:(g=g.next,f.next=g,UD(u,g)))}function BC(u,f,g){var w=u.pending;if(u.pending=null,w!==null){w=w.next;do f.status=\"rejected\",f.reason=g,FD(f),f=f.next;while(f!==w)}u.action=null}function FD(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function qD(u,f){return f}function HD(u,f){if(zt){var g=Rn.formState;if(g!==null){e:{var w=It;if(zt){if(Kn){t:{for(var x=Kn,R=sa;x.nodeType!==8;){if(!R){x=null;break t}if(x=aa(x.nextSibling),x===null){x=null;break t}}R=x.data,x=R===\"F!\"||R===\"F\"?x:null}if(x){Kn=aa(x.nextSibling),w=x.data===\"F!\";break e}}Cd(w)}w=!1}w&&(f=g[0])}}return g=ss(),g.memoizedState=g.baseState=f,w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qD,lastRenderedState:f},g.queue=w,g=lB.bind(null,It,w),w.dispatch=g,w=DC(!1),R=qC.bind(null,It,!1,w.queue),w=ss(),x={state:f,dispatch:null,action:u,pending:null},w.queue=x,g=cde.bind(null,It,x,R,g),x.dispatch=g,w.memoizedState=u,[f,g,!1]}function VD(u){var f=pr();return KD(f,$n,u)}function KD(u,f,g){if(f=kC(u,f,qD)[0],u=b6(ql)[0],typeof f==\"object\"&&f!==null&&typeof f.then==\"function\")try{var w=ob(f)}catch(W){throw W===Eg?c6:W}else w=f;f=pr();var x=f.queue,R=x.dispatch;return g!==f.memoizedState&&(It.flags|=2048,Ag(9,{destroy:void 0},lde.bind(null,x,g),null)),[w,R,u]}function lde(u,f){u.action=f}function WD(u){var f=pr(),g=$n;if(g!==null)return KD(f,g,u);pr(),f=f.memoizedState,g=pr();var w=g.queue.dispatch;return g.memoizedState=u,[f,w,!1]}function Ag(u,f,g,w){return u={tag:u,create:g,deps:w,inst:f,next:null},f=It.updateQueue,f===null&&(f=m6(),It.updateQueue=f),g=f.lastEffect,g===null?f.lastEffect=u.next=u:(w=g.next,g.next=u,u.next=w,f.lastEffect=u),u}function GD(){return pr().memoizedState}function w6(u,f,g,w){var x=ss();It.flags|=u,x.memoizedState=Ag(1|f,{destroy:void 0},g,w===void 0?null:w)}function v6(u,f,g,w){var x=pr();w=w===void 0?null:w;var R=x.memoizedState.inst;$n!==null&&w!==null&&IC(w,$n.memoizedState.deps)?x.memoizedState=Ag(f,R,g,w):(It.flags|=u,x.memoizedState=Ag(1|f,R,g,w))}function ZD(u,f){w6(8390656,8,u,f)}function LC(u,f){v6(2048,8,u,f)}function ude(u){It.flags|=4;var f=It.updateQueue;if(f===null)f=m6(),It.updateQueue=f,f.events=[u];else{var g=f.events;g===null?f.events=[u]:g.push(u)}}function YD(u){var f=pr().memoizedState;return ude({ref:f,nextImpl:u}),function(){if((un&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}function JD(u,f){return v6(4,2,u,f)}function XD(u,f){return v6(4,4,u,f)}function QD(u,f){if(typeof f==\"function\"){u=u();var g=f(u);return function(){typeof g==\"function\"?g():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function eB(u,f,g){g=g!=null?g.concat([u]):null,v6(4,4,QD.bind(null,f,u),g)}function UC(){}function tB(u,f){var g=pr();f=f===void 0?null:f;var w=g.memoizedState;return f!==null&&IC(f,w[1])?w[0]:(g.memoizedState=[u,f],u)}function nB(u,f){var g=pr();f=f===void 0?null:f;var w=g.memoizedState;if(f!==null&&IC(f,w[1]))return w[0];if(w=u(),Dh){Rc(!0);try{u()}finally{Rc(!1)}}return g.memoizedState=[w,f],w}function jC(u,f,g){return g===void 0||(Fl&1073741824)!==0&&(Lt&261930)===0?u.memoizedState=f:(u.memoizedState=g,u=rL(),It.lanes|=u,Nd|=u,g)}function rB(u,f,g,w){return ao(g,f)?g:Cg.current!==null?(u=jC(u,g,w),ao(u,f)||(Ar=!0),u):(Fl&42)===0||(Fl&1073741824)!==0&&(Lt&261930)===0?(Ar=!0,u.memoizedState=g):(u=rL(),It.lanes|=u,Nd|=u,f)}function iB(u,f,g,w,x){var R=q.p;q.p=R!==0&&8>R?R:8;var W=P.T,J={};P.T=J,qC(u,!1,f,g);try{var te=x(),de=P.S;if(de!==null&&de(J,te),te!==null&&typeof te==\"object\"&&typeof te.then==\"function\"){var be=sde(te,w);ab(u,f,be,po(u))}else ab(u,f,w,po(u))}catch(Ce){ab(u,f,{then:function(){},status:\"rejected\",reason:Ce},po())}finally{q.p=R,W!==null&&J.types!==null&&(W.types=J.types),P.T=W}}function dde(){}function zC(u,f,g,w){if(u.tag!==5)throw Error(r(476));var x=sB(u).queue;iB(u,x,f,T,g===null?dde:function(){return oB(u),g(w)})}function sB(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:T,baseState:T,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:T},next:null};var g={};return f.next={memoizedState:g,baseState:g,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ql,lastRenderedState:g},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function oB(u){var f=sB(u);f.next===null&&(f=u.alternate.memoizedState),ab(u,f.next.queue,{},po())}function FC(){return Ci(Sb)}function aB(){return pr().memoizedState}function cB(){return pr().memoizedState}function fde(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var g=po();u=Ad(g);var w=$d(f,u,g);w!==null&&(Ps(w,f,g),nb(w,f,g)),f={cache:yC()},u.payload=f;return}f=f.return}}function hde(u,f,g){var w=po();g={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},E6(u)?uB(f,g):(g=oC(u,f,g,w),g!==null&&(Ps(g,u,w),dB(g,f,w)))}function lB(u,f,g){var w=po();ab(u,f,g,w)}function ab(u,f,g,w){var x={lane:w,revertLane:0,gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null};if(E6(u))uB(f,x);else{var R=u.alternate;if(u.lanes===0&&(R===null||R.lanes===0)&&(R=f.lastRenderedReducer,R!==null))try{var W=f.lastRenderedState,J=R(W,g);if(x.hasEagerState=!0,x.eagerState=J,ao(J,W))return t6(u,f,x,0),Rn===null&&e6(),!1}catch{}finally{}if(g=oC(u,f,x,w),g!==null)return Ps(g,u,w),dB(g,f,w),!0}return!1}function qC(u,f,g,w){if(w={lane:2,revertLane:ES(),gesture:null,action:w,hasEagerState:!1,eagerState:null,next:null},E6(u)){if(f)throw Error(r(479))}else f=oC(u,g,w,2),f!==null&&Ps(f,u,2)}function E6(u){var f=u.alternate;return u===It||f!==null&&f===It}function uB(u,f){Sg=p6=!0;var g=u.pending;g===null?f.next=f:(f.next=g.next,g.next=f),u.pending=f}function dB(u,f,g){if((g&4194048)!==0){var w=f.lanes;w&=u.pendingLanes,g|=w,f.lanes=g,mM(u,g)}}var cb={readContext:Ci,use:y6,useCallback:ar,useContext:ar,useEffect:ar,useImperativeHandle:ar,useLayoutEffect:ar,useInsertionEffect:ar,useMemo:ar,useReducer:ar,useRef:ar,useState:ar,useDebugValue:ar,useDeferredValue:ar,useTransition:ar,useSyncExternalStore:ar,useId:ar,useHostTransitionStatus:ar,useFormState:ar,useActionState:ar,useOptimistic:ar,useMemoCache:ar,useCacheRefresh:ar};cb.useEffectEvent=ar;var fB={readContext:Ci,use:y6,useCallback:function(u,f){return ss().memoizedState=[u,f===void 0?null:f],u},useContext:Ci,useEffect:ZD,useImperativeHandle:function(u,f,g){g=g!=null?g.concat([u]):null,w6(4194308,4,QD.bind(null,f,u),g)},useLayoutEffect:function(u,f){return w6(4194308,4,u,f)},useInsertionEffect:function(u,f){w6(4,2,u,f)},useMemo:function(u,f){var g=ss();f=f===void 0?null:f;var w=u();if(Dh){Rc(!0);try{u()}finally{Rc(!1)}}return g.memoizedState=[w,f],w},useReducer:function(u,f,g){var w=ss();if(g!==void 0){var x=g(f);if(Dh){Rc(!0);try{g(f)}finally{Rc(!1)}}}else x=f;return w.memoizedState=w.baseState=x,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:x},w.queue=u,u=u.dispatch=hde.bind(null,It,u),[w.memoizedState,u]},useRef:function(u){var f=ss();return u={current:u},f.memoizedState=u},useState:function(u){u=DC(u);var f=u.queue,g=lB.bind(null,It,f);return f.dispatch=g,[u.memoizedState,g]},useDebugValue:UC,useDeferredValue:function(u,f){var g=ss();return jC(g,u,f)},useTransition:function(){var u=DC(!1);return u=iB.bind(null,It,u.queue,!0,!1),ss().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,g){var w=It,x=ss();if(zt){if(g===void 0)throw Error(r(407));g=g()}else{if(g=f(),Rn===null)throw Error(r(349));(Lt&127)!==0||RD(w,f,g)}x.memoizedState=g;var R={value:g,getSnapshot:f};return x.queue=R,ZD(MD.bind(null,w,R,u),[u]),w.flags|=2048,Ag(9,{destroy:void 0},kD.bind(null,w,R,g,f),null),g},useId:function(){var u=ss(),f=Rn.identifierPrefix;if(zt){var g=Mc,w=kc;g=(w&~(1<<32-vi(w)-1)).toString(32)+g,f=\"_\"+f+\"R_\"+g,g=g6++,0<g&&(f+=\"H\"+g.toString(32)),f+=\"_\"}else g=ode++,f=\"_\"+f+\"r_\"+g.toString(32)+\"_\";return u.memoizedState=f},useHostTransitionStatus:FC,useFormState:HD,useActionState:HD,useOptimistic:function(u){var f=ss();f.memoizedState=f.baseState=u;var g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=g,f=qC.bind(null,It,!0,g),g.dispatch=f,[u,f]},useMemoCache:RC,useCacheRefresh:function(){return ss().memoizedState=fde.bind(null,It)},useEffectEvent:function(u){var f=ss(),g={impl:u};return f.memoizedState=g,function(){if((un&2)!==0)throw Error(r(440));return g.impl.apply(void 0,arguments)}}},HC={readContext:Ci,use:y6,useCallback:tB,useContext:Ci,useEffect:LC,useImperativeHandle:eB,useInsertionEffect:JD,useLayoutEffect:XD,useMemo:nB,useReducer:b6,useRef:GD,useState:function(){return b6(ql)},useDebugValue:UC,useDeferredValue:function(u,f){var g=pr();return rB(g,$n.memoizedState,u,f)},useTransition:function(){var u=b6(ql)[0],f=pr().memoizedState;return[typeof u==\"boolean\"?u:ob(u),f]},useSyncExternalStore:ND,useId:aB,useHostTransitionStatus:FC,useFormState:VD,useActionState:VD,useOptimistic:function(u,f){var g=pr();return LD(g,$n,u,f)},useMemoCache:RC,useCacheRefresh:cB};HC.useEffectEvent=YD;var hB={readContext:Ci,use:y6,useCallback:tB,useContext:Ci,useEffect:LC,useImperativeHandle:eB,useInsertionEffect:JD,useLayoutEffect:XD,useMemo:nB,useReducer:MC,useRef:GD,useState:function(){return MC(ql)},useDebugValue:UC,useDeferredValue:function(u,f){var g=pr();return $n===null?jC(g,u,f):rB(g,$n.memoizedState,u,f)},useTransition:function(){var u=MC(ql)[0],f=pr().memoizedState;return[typeof u==\"boolean\"?u:ob(u),f]},useSyncExternalStore:ND,useId:aB,useHostTransitionStatus:FC,useFormState:WD,useActionState:WD,useOptimistic:function(u,f){var g=pr();return $n!==null?LD(g,$n,u,f):(g.baseState=u,[u,g.queue.dispatch])},useMemoCache:RC,useCacheRefresh:cB};hB.useEffectEvent=YD;function VC(u,f,g,w){f=u.memoizedState,g=g(w,f),g=g==null?f:h({},f,g),u.memoizedState=g,u.lanes===0&&(u.updateQueue.baseState=g)}var KC={enqueueSetState:function(u,f,g){u=u._reactInternals;var w=po(),x=Ad(w);x.payload=f,g!=null&&(x.callback=g),f=$d(u,x,w),f!==null&&(Ps(f,u,w),nb(f,u,w))},enqueueReplaceState:function(u,f,g){u=u._reactInternals;var w=po(),x=Ad(w);x.tag=1,x.payload=f,g!=null&&(x.callback=g),f=$d(u,x,w),f!==null&&(Ps(f,u,w),nb(f,u,w))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var g=po(),w=Ad(g);w.tag=2,f!=null&&(w.callback=f),f=$d(u,w,g),f!==null&&(Ps(f,u,g),nb(f,u,g))}};function pB(u,f,g,w,x,R,W){return u=u.stateNode,typeof u.shouldComponentUpdate==\"function\"?u.shouldComponentUpdate(w,R,W):f.prototype&&f.prototype.isPureReactComponent?!Gy(g,w)||!Gy(x,R):!0}function gB(u,f,g,w){u=f.state,typeof f.componentWillReceiveProps==\"function\"&&f.componentWillReceiveProps(g,w),typeof f.UNSAFE_componentWillReceiveProps==\"function\"&&f.UNSAFE_componentWillReceiveProps(g,w),f.state!==u&&KC.enqueueReplaceState(f,f.state,null)}function Bh(u,f){var g=f;if(\"ref\"in f){g={};for(var w in f)w!==\"ref\"&&(g[w]=f[w])}if(u=u.defaultProps){g===f&&(g=h({},g));for(var x in u)g[x]===void 0&&(g[x]=u[x])}return g}function mB(u){Q5(u)}function yB(u){console.error(u)}function bB(u){Q5(u)}function _6(u,f){try{var g=u.onUncaughtError;g(f.value,{componentStack:f.stack})}catch(w){setTimeout(function(){throw w})}}function wB(u,f,g){try{var w=u.onCaughtError;w(g.value,{componentStack:g.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(x){setTimeout(function(){throw x})}}function WC(u,f,g){return g=Ad(g),g.tag=3,g.payload={element:null},g.callback=function(){_6(u,f)},g}function vB(u){return u=Ad(u),u.tag=3,u}function EB(u,f,g,w){var x=g.type.getDerivedStateFromError;if(typeof x==\"function\"){var R=w.value;u.payload=function(){return x(R)},u.callback=function(){wB(f,g,w)}}var W=g.stateNode;W!==null&&typeof W.componentDidCatch==\"function\"&&(u.callback=function(){wB(f,g,w),typeof x!=\"function\"&&(Rd===null?Rd=new Set([this]):Rd.add(this));var J=w.stack;this.componentDidCatch(w.value,{componentStack:J!==null?J:\"\"})})}function pde(u,f,g,w,x){if(g.flags|=32768,w!==null&&typeof w==\"object\"&&typeof w.then==\"function\"){if(f=g.alternate,f!==null&&bg(f,g,x,!0),g=lo.current,g!==null){switch(g.tag){case 31:case 13:return oa===null?k6():g.alternate===null&&cr===0&&(cr=3),g.flags&=-257,g.flags|=65536,g.lanes=x,w===l6?g.flags|=16384:(f=g.updateQueue,f===null?g.updateQueue=new Set([w]):f.add(w),bS(u,w,x)),!1;case 22:return g.flags|=65536,w===l6?g.flags|=16384:(f=g.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([w])},g.updateQueue=f):(g=f.retryQueue,g===null?f.retryQueue=new Set([w]):g.add(w)),bS(u,w,x)),!1}throw Error(r(435,g.tag))}return bS(u,w,x),k6(),!1}if(zt)return f=lo.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=x,w!==fC&&(u=Error(r(422),{cause:w}),Jy(na(u,g)))):(w!==fC&&(f=Error(r(423),{cause:w}),Jy(na(f,g))),u=u.current.alternate,u.flags|=65536,x&=-x,u.lanes|=x,w=na(w,g),x=WC(u.stateNode,w,x),CC(u,x),cr!==4&&(cr=2)),!1;var R=Error(r(520),{cause:w});if(R=na(R,g),mb===null?mb=[R]:mb.push(R),cr!==4&&(cr=2),f===null)return!0;w=na(w,g),g=f;do{switch(g.tag){case 3:return g.flags|=65536,u=x&-x,g.lanes|=u,u=WC(g.stateNode,w,u),CC(g,u),!1;case 1:if(f=g.type,R=g.stateNode,(g.flags&128)===0&&(typeof f.getDerivedStateFromError==\"function\"||R!==null&&typeof R.componentDidCatch==\"function\"&&(Rd===null||!Rd.has(R))))return g.flags|=65536,x&=-x,g.lanes|=x,x=vB(x),EB(x,u,g,w),CC(g,x),!1}g=g.return}while(g!==null);return!1}var GC=Error(r(461)),Ar=!1;function Si(u,f,g,w){f.child=u===null?xD(f,null,g,w):Mh(f,u.child,g,w)}function _B(u,f,g,w,x){g=g.render;var R=f.ref;if(\"ref\"in w){var W={};for(var J in w)J!==\"ref\"&&(W[J]=w[J])}else W=w;return Oh(f),w=TC(u,f,g,W,R,x),J=PC(),u!==null&&!Ar?(OC(u,f,x),Hl(u,f,x)):(zt&&J&&uC(f),f.flags|=1,Si(u,f,w,x),f.child)}function CB(u,f,g,w,x){if(u===null){var R=g.type;return typeof R==\"function\"&&!aC(R)&&R.defaultProps===void 0&&g.compare===null?(f.tag=15,f.type=R,SB(u,f,R,w,x)):(u=r6(g.type,null,w,f,f.mode,x),u.ref=f.ref,u.return=f,f.child=u)}if(R=u.child,!nS(u,x)){var W=R.memoizedProps;if(g=g.compare,g=g!==null?g:Gy,g(W,w)&&u.ref===f.ref)return Hl(u,f,x)}return f.flags|=1,u=Ll(R,w),u.ref=f.ref,u.return=f,f.child=u}function SB(u,f,g,w,x){if(u!==null){var R=u.memoizedProps;if(Gy(R,w)&&u.ref===f.ref)if(Ar=!1,f.pendingProps=w=R,nS(u,x))(u.flags&131072)!==0&&(Ar=!0);else return f.lanes=u.lanes,Hl(u,f,x)}return ZC(u,f,g,w,x)}function xB(u,f,g,w){var x=w.children,R=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),w.mode===\"hidden\"){if((f.flags&128)!==0){if(R=R!==null?R.baseLanes|g:g,u!==null){for(w=f.child=u.child,x=0;w!==null;)x=x|w.lanes|w.childLanes,w=w.sibling;w=x&~R}else w=0,f.child=null;return AB(u,f,R,g,w)}if((g&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&a6(f,R!==null?R.cachePool:null),R!==null?ID(f,R):xC(),TD(f);else return w=f.lanes=536870912,AB(u,f,R!==null?R.baseLanes|g:g,g,w)}else R!==null?(a6(f,R.cachePool),ID(f,R),Td(),f.memoizedState=null):(u!==null&&a6(f,null),xC(),Td());return Si(u,f,x,g),f.child}function lb(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function AB(u,f,g,w,x){var R=wC();return R=R===null?null:{parent:Sr._currentValue,pool:R},f.memoizedState={baseLanes:g,cachePool:R},u!==null&&a6(f,null),xC(),TD(f),u!==null&&bg(u,f,w,!0),f.childLanes=x,null}function C6(u,f){return f=x6({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function $B(u,f,g){return Mh(f,u.child,null,g),u=C6(f,f.pendingProps),u.flags|=2,uo(f),f.memoizedState=null,u}function gde(u,f,g){var w=f.pendingProps,x=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(zt){if(w.mode===\"hidden\")return u=C6(f,w),f.lanes=536870912,lb(null,u);if($C(f),(u=Kn)?(u=UL(u,sa),u=u!==null&&u.data===\"&\"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ed!==null?{id:kc,overflow:Mc}:null,retryLane:536870912,hydrationErrors:null},g=uD(u),g.return=f,f.child=g,_i=f,Kn=null)):u=null,u===null)throw Cd(f);return f.lanes=536870912,null}return C6(f,w)}var R=u.memoizedState;if(R!==null){var W=R.dehydrated;if($C(f),x)if(f.flags&256)f.flags&=-257,f=$B(u,f,g);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(r(558));else if(Ar||bg(u,f,g,!1),x=(g&u.childLanes)!==0,Ar||x){if(w=Rn,w!==null&&(W=yM(w,g),W!==0&&W!==R.retryLane))throw R.retryLane=W,$h(u,W),Ps(w,u,W),GC;k6(),f=$B(u,f,g)}else u=R.treeContext,Kn=aa(W.nextSibling),_i=f,zt=!0,_d=null,sa=!1,u!==null&&hD(f,u),f=C6(f,w),f.flags|=4096;return f}return u=Ll(u.child,{mode:w.mode,children:w.children}),u.ref=f.ref,f.child=u,u.return=f,u}function S6(u,f){var g=f.ref;if(g===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof g!=\"function\"&&typeof g!=\"object\")throw Error(r(284));(u===null||u.ref!==g)&&(f.flags|=4194816)}}function ZC(u,f,g,w,x){return Oh(f),g=TC(u,f,g,w,void 0,x),w=PC(),u!==null&&!Ar?(OC(u,f,x),Hl(u,f,x)):(zt&&w&&uC(f),f.flags|=1,Si(u,f,g,x),f.child)}function IB(u,f,g,w,x,R){return Oh(f),f.updateQueue=null,g=OD(f,w,g,x),PD(u),w=PC(),u!==null&&!Ar?(OC(u,f,R),Hl(u,f,R)):(zt&&w&&uC(f),f.flags|=1,Si(u,f,g,R),f.child)}function TB(u,f,g,w,x){if(Oh(f),f.stateNode===null){var R=pg,W=g.contextType;typeof W==\"object\"&&W!==null&&(R=Ci(W)),R=new g(w,R),f.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R.updater=KC,f.stateNode=R,R._reactInternals=f,R=f.stateNode,R.props=w,R.state=f.memoizedState,R.refs={},EC(f),W=g.contextType,R.context=typeof W==\"object\"&&W!==null?Ci(W):pg,R.state=f.memoizedState,W=g.getDerivedStateFromProps,typeof W==\"function\"&&(VC(f,g,W,w),R.state=f.memoizedState),typeof g.getDerivedStateFromProps==\"function\"||typeof R.getSnapshotBeforeUpdate==\"function\"||typeof R.UNSAFE_componentWillMount!=\"function\"&&typeof R.componentWillMount!=\"function\"||(W=R.state,typeof R.componentWillMount==\"function\"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount==\"function\"&&R.UNSAFE_componentWillMount(),W!==R.state&&KC.enqueueReplaceState(R,R.state,null),ib(f,w,R,x),rb(),R.state=f.memoizedState),typeof R.componentDidMount==\"function\"&&(f.flags|=4194308),w=!0}else if(u===null){R=f.stateNode;var J=f.memoizedProps,te=Bh(g,J);R.props=te;var de=R.context,be=g.contextType;W=pg,typeof be==\"object\"&&be!==null&&(W=Ci(be));var Ce=g.getDerivedStateFromProps;be=typeof Ce==\"function\"||typeof R.getSnapshotBeforeUpdate==\"function\",J=f.pendingProps!==J,be||typeof R.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof R.componentWillReceiveProps!=\"function\"||(J||de!==W)&&gB(f,R,w,W),xd=!1;var fe=f.memoizedState;R.state=fe,ib(f,w,R,x),rb(),de=f.memoizedState,J||fe!==de||xd?(typeof Ce==\"function\"&&(VC(f,g,Ce,w),de=f.memoizedState),(te=xd||pB(f,g,te,w,fe,de,W))?(be||typeof R.UNSAFE_componentWillMount!=\"function\"&&typeof R.componentWillMount!=\"function\"||(typeof R.componentWillMount==\"function\"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount==\"function\"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount==\"function\"&&(f.flags|=4194308)):(typeof R.componentDidMount==\"function\"&&(f.flags|=4194308),f.memoizedProps=w,f.memoizedState=de),R.props=w,R.state=de,R.context=W,w=te):(typeof R.componentDidMount==\"function\"&&(f.flags|=4194308),w=!1)}else{R=f.stateNode,_C(u,f),W=f.memoizedProps,be=Bh(g,W),R.props=be,Ce=f.pendingProps,fe=R.context,de=g.contextType,te=pg,typeof de==\"object\"&&de!==null&&(te=Ci(de)),J=g.getDerivedStateFromProps,(de=typeof J==\"function\"||typeof R.getSnapshotBeforeUpdate==\"function\")||typeof R.UNSAFE_componentWillReceiveProps!=\"function\"&&typeof R.componentWillReceiveProps!=\"function\"||(W!==Ce||fe!==te)&&gB(f,R,w,te),xd=!1,fe=f.memoizedState,R.state=fe,ib(f,w,R,x),rb();var pe=f.memoizedState;W!==Ce||fe!==pe||xd||u!==null&&u.dependencies!==null&&s6(u.dependencies)?(typeof J==\"function\"&&(VC(f,g,J,w),pe=f.memoizedState),(be=xd||pB(f,g,be,w,fe,pe,te)||u!==null&&u.dependencies!==null&&s6(u.dependencies))?(de||typeof R.UNSAFE_componentWillUpdate!=\"function\"&&typeof R.componentWillUpdate!=\"function\"||(typeof R.componentWillUpdate==\"function\"&&R.componentWillUpdate(w,pe,te),typeof R.UNSAFE_componentWillUpdate==\"function\"&&R.UNSAFE_componentWillUpdate(w,pe,te)),typeof R.componentDidUpdate==\"function\"&&(f.flags|=4),typeof R.getSnapshotBeforeUpdate==\"function\"&&(f.flags|=1024)):(typeof R.componentDidUpdate!=\"function\"||W===u.memoizedProps&&fe===u.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!=\"function\"||W===u.memoizedProps&&fe===u.memoizedState||(f.flags|=1024),f.memoizedProps=w,f.memoizedState=pe),R.props=w,R.state=pe,R.context=te,w=be):(typeof R.componentDidUpdate!=\"function\"||W===u.memoizedProps&&fe===u.memoizedState||(f.flags|=4),typeof R.getSnapshotBeforeUpdate!=\"function\"||W===u.memoizedProps&&fe===u.memoizedState||(f.flags|=1024),w=!1)}return R=w,S6(u,f),w=(f.flags&128)!==0,R||w?(R=f.stateNode,g=w&&typeof g.getDerivedStateFromError!=\"function\"?null:R.render(),f.flags|=1,u!==null&&w?(f.child=Mh(f,u.child,null,x),f.child=Mh(f,null,g,x)):Si(u,f,g,x),f.memoizedState=R.state,u=f.child):u=Hl(u,f,x),u}function PB(u,f,g,w){return Th(),f.flags|=256,Si(u,f,g,w),f.child}var YC={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function JC(u){return{baseLanes:u,cachePool:wD()}}function XC(u,f,g){return u=u!==null?u.childLanes&~g:0,f&&(u|=ho),u}function OB(u,f,g){var w=f.pendingProps,x=!1,R=(f.flags&128)!==0,W;if((W=R)||(W=u!==null&&u.memoizedState===null?!1:(hr.current&2)!==0),W&&(x=!0,f.flags&=-129),W=(f.flags&32)!==0,f.flags&=-33,u===null){if(zt){if(x?Id(f):Td(),(u=Kn)?(u=UL(u,sa),u=u!==null&&u.data!==\"&\"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Ed!==null?{id:kc,overflow:Mc}:null,retryLane:536870912,hydrationErrors:null},g=uD(u),g.return=f,f.child=g,_i=f,Kn=null)):u=null,u===null)throw Cd(f);return kS(u)?f.lanes=32:f.lanes=536870912,null}var J=w.children;return w=w.fallback,x?(Td(),x=f.mode,J=x6({mode:\"hidden\",children:J},x),w=Ih(w,x,g,null),J.return=f,w.return=f,J.sibling=w,f.child=J,w=f.child,w.memoizedState=JC(g),w.childLanes=XC(u,W,g),f.memoizedState=YC,lb(null,w)):(Id(f),QC(f,J))}var te=u.memoizedState;if(te!==null&&(J=te.dehydrated,J!==null)){if(R)f.flags&256?(Id(f),f.flags&=-257,f=eS(u,f,g)):f.memoizedState!==null?(Td(),f.child=u.child,f.flags|=128,f=null):(Td(),J=w.fallback,x=f.mode,w=x6({mode:\"visible\",children:w.children},x),J=Ih(J,x,g,null),J.flags|=2,w.return=f,J.return=f,w.sibling=J,f.child=w,Mh(f,u.child,null,g),w=f.child,w.memoizedState=JC(g),w.childLanes=XC(u,W,g),f.memoizedState=YC,f=lb(null,w));else if(Id(f),kS(J)){if(W=J.nextSibling&&J.nextSibling.dataset,W)var de=W.dgst;W=de,w=Error(r(419)),w.stack=\"\",w.digest=W,Jy({value:w,source:null,stack:null}),f=eS(u,f,g)}else if(Ar||bg(u,f,g,!1),W=(g&u.childLanes)!==0,Ar||W){if(W=Rn,W!==null&&(w=yM(W,g),w!==0&&w!==te.retryLane))throw te.retryLane=w,$h(u,w),Ps(W,u,w),GC;RS(J)||k6(),f=eS(u,f,g)}else RS(J)?(f.flags|=192,f.child=u.child,f=null):(u=te.treeContext,Kn=aa(J.nextSibling),_i=f,zt=!0,_d=null,sa=!1,u!==null&&hD(f,u),f=QC(f,w.children),f.flags|=4096);return f}return x?(Td(),J=w.fallback,x=f.mode,te=u.child,de=te.sibling,w=Ll(te,{mode:\"hidden\",children:w.children}),w.subtreeFlags=te.subtreeFlags&65011712,de!==null?J=Ll(de,J):(J=Ih(J,x,g,null),J.flags|=2),J.return=f,w.return=f,w.sibling=J,f.child=w,lb(null,w),w=f.child,J=u.child.memoizedState,J===null?J=JC(g):(x=J.cachePool,x!==null?(te=Sr._currentValue,x=x.parent!==te?{parent:te,pool:te}:x):x=wD(),J={baseLanes:J.baseLanes|g,cachePool:x}),w.memoizedState=J,w.childLanes=XC(u,W,g),f.memoizedState=YC,lb(u.child,w)):(Id(f),g=u.child,u=g.sibling,g=Ll(g,{mode:\"visible\",children:w.children}),g.return=f,g.sibling=null,u!==null&&(W=f.deletions,W===null?(f.deletions=[u],f.flags|=16):W.push(u)),f.child=g,f.memoizedState=null,g)}function QC(u,f){return f=x6({mode:\"visible\",children:f},u.mode),f.return=u,u.child=f}function x6(u,f){return u=co(22,u,null,f),u.lanes=0,u}function eS(u,f,g){return Mh(f,u.child,null,g),u=QC(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function NB(u,f,g){u.lanes|=f;var w=u.alternate;w!==null&&(w.lanes|=f),gC(u.return,f,g)}function tS(u,f,g,w,x,R){var W=u.memoizedState;W===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:w,tail:g,tailMode:x,treeForkCount:R}:(W.isBackwards=f,W.rendering=null,W.renderingStartTime=0,W.last=w,W.tail=g,W.tailMode=x,W.treeForkCount=R)}function RB(u,f,g){var w=f.pendingProps,x=w.revealOrder,R=w.tail;w=w.children;var W=hr.current,J=(W&2)!==0;if(J?(W=W&1|2,f.flags|=128):W&=1,j(hr,W),Si(u,f,w,g),w=zt?Yy:0,!J&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&NB(u,g,f);else if(u.tag===19)NB(u,g,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(x){case\"forwards\":for(g=f.child,x=null;g!==null;)u=g.alternate,u!==null&&h6(u)===null&&(x=g),g=g.sibling;g=x,g===null?(x=f.child,f.child=null):(x=g.sibling,g.sibling=null),tS(f,!1,x,g,R,w);break;case\"backwards\":case\"unstable_legacy-backwards\":for(g=null,x=f.child,f.child=null;x!==null;){if(u=x.alternate,u!==null&&h6(u)===null){f.child=x;break}u=x.sibling,x.sibling=g,g=x,x=u}tS(f,!0,g,null,R,w);break;case\"together\":tS(f,!1,null,null,void 0,w);break;default:f.memoizedState=null}return f.child}function Hl(u,f,g){if(u!==null&&(f.dependencies=u.dependencies),Nd|=f.lanes,(g&f.childLanes)===0)if(u!==null){if(bg(u,f,g,!1),(g&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(r(153));if(f.child!==null){for(u=f.child,g=Ll(u,u.pendingProps),f.child=g,g.return=f;u.sibling!==null;)u=u.sibling,g=g.sibling=Ll(u,u.pendingProps),g.return=f;g.sibling=null}return f.child}function nS(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&s6(u)))}function mde(u,f,g){switch(f.tag){case 3:X(f,f.stateNode.containerInfo),Sd(f,Sr,u.memoizedState.cache),Th();break;case 27:case 5:re(f);break;case 4:X(f,f.stateNode.containerInfo);break;case 10:Sd(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,$C(f),null;break;case 13:var w=f.memoizedState;if(w!==null)return w.dehydrated!==null?(Id(f),f.flags|=128,null):(g&f.child.childLanes)!==0?OB(u,f,g):(Id(f),u=Hl(u,f,g),u!==null?u.sibling:null);Id(f);break;case 19:var x=(u.flags&128)!==0;if(w=(g&f.childLanes)!==0,w||(bg(u,f,g,!1),w=(g&f.childLanes)!==0),x){if(w)return RB(u,f,g);f.flags|=128}if(x=f.memoizedState,x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),j(hr,hr.current),w)break;return null;case 22:return f.lanes=0,xB(u,f,g,f.pendingProps);case 24:Sd(f,Sr,u.memoizedState.cache)}return Hl(u,f,g)}function kB(u,f,g){if(u!==null)if(u.memoizedProps!==f.pendingProps)Ar=!0;else{if(!nS(u,g)&&(f.flags&128)===0)return Ar=!1,mde(u,f,g);Ar=(u.flags&131072)!==0}else Ar=!1,zt&&(f.flags&1048576)!==0&&fD(f,Yy,f.index);switch(f.lanes=0,f.tag){case 16:e:{var w=f.pendingProps;if(u=Rh(f.elementType),f.type=u,typeof u==\"function\")aC(u)?(w=Bh(u,w),f.tag=1,f=TB(null,f,u,w,g)):(f.tag=0,f=ZC(null,f,u,w,g));else{if(u!=null){var x=u.$$typeof;if(x===S){f.tag=11,f=_B(null,f,u,w,g);break e}else if(x===O){f.tag=14,f=CB(null,f,u,w,g);break e}}throw f=M(u)||u,Error(r(306,f,\"\"))}}return f;case 0:return ZC(u,f,f.type,f.pendingProps,g);case 1:return w=f.type,x=Bh(w,f.pendingProps),TB(u,f,w,x,g);case 3:e:{if(X(f,f.stateNode.containerInfo),u===null)throw Error(r(387));w=f.pendingProps;var R=f.memoizedState;x=R.element,_C(u,f),ib(f,w,null,g);var W=f.memoizedState;if(w=W.cache,Sd(f,Sr,w),w!==R.cache&&mC(f,[Sr],g,!0),rb(),w=W.element,R.isDehydrated)if(R={element:w,isDehydrated:!1,cache:W.cache},f.updateQueue.baseState=R,f.memoizedState=R,f.flags&256){f=PB(u,f,w,g);break e}else if(w!==x){x=na(Error(r(424)),f),Jy(x),f=PB(u,f,w,g);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName===\"HTML\"?u.ownerDocument.body:u}for(Kn=aa(u.firstChild),_i=f,zt=!0,_d=null,sa=!0,g=xD(f,null,w,g),f.child=g;g;)g.flags=g.flags&-3|4096,g=g.sibling}else{if(Th(),w===x){f=Hl(u,f,g);break e}Si(u,f,w,g)}f=f.child}return f;case 26:return S6(u,f),u===null?(g=VL(f.type,null,f.pendingProps,null))?f.memoizedState=g:zt||(g=f.type,u=f.pendingProps,w=z6(Z.current).createElement(g),w[Ei]=f,w[Ss]=u,xi(w,g,u),Wr(w),f.stateNode=w):f.memoizedState=VL(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return re(f),u===null&&zt&&(w=f.stateNode=FL(f.type,f.pendingProps,Z.current),_i=f,sa=!0,x=Kn,Bd(f.type)?(MS=x,Kn=aa(w.firstChild)):Kn=x),Si(u,f,f.pendingProps.children,g),S6(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&zt&&((x=w=Kn)&&(w=Kde(w,f.type,f.pendingProps,sa),w!==null?(f.stateNode=w,_i=f,Kn=aa(w.firstChild),sa=!1,x=!0):x=!1),x||Cd(f)),re(f),x=f.type,R=f.pendingProps,W=u!==null?u.memoizedProps:null,w=R.children,PS(x,R)?w=null:W!==null&&PS(x,W)&&(f.flags|=32),f.memoizedState!==null&&(x=TC(u,f,ade,null,null,g),Sb._currentValue=x),S6(u,f),Si(u,f,w,g),f.child;case 6:return u===null&&zt&&((u=g=Kn)&&(g=Wde(g,f.pendingProps,sa),g!==null?(f.stateNode=g,_i=f,Kn=null,u=!0):u=!1),u||Cd(f)),null;case 13:return OB(u,f,g);case 4:return X(f,f.stateNode.containerInfo),w=f.pendingProps,u===null?f.child=Mh(f,null,w,g):Si(u,f,w,g),f.child;case 11:return _B(u,f,f.type,f.pendingProps,g);case 7:return Si(u,f,f.pendingProps,g),f.child;case 8:return Si(u,f,f.pendingProps.children,g),f.child;case 12:return Si(u,f,f.pendingProps.children,g),f.child;case 10:return w=f.pendingProps,Sd(f,f.type,w.value),Si(u,f,w.children,g),f.child;case 9:return x=f.type._context,w=f.pendingProps.children,Oh(f),x=Ci(x),w=w(x),f.flags|=1,Si(u,f,w,g),f.child;case 14:return CB(u,f,f.type,f.pendingProps,g);case 15:return SB(u,f,f.type,f.pendingProps,g);case 19:return RB(u,f,g);case 31:return gde(u,f,g);case 22:return xB(u,f,g,f.pendingProps);case 24:return Oh(f),w=Ci(Sr),u===null?(x=wC(),x===null&&(x=Rn,R=yC(),x.pooledCache=R,R.refCount++,R!==null&&(x.pooledCacheLanes|=g),x=R),f.memoizedState={parent:w,cache:x},EC(f),Sd(f,Sr,x)):((u.lanes&g)!==0&&(_C(u,f),ib(f,null,null,g),rb()),x=u.memoizedState,R=f.memoizedState,x.parent!==w?(x={parent:w,cache:w},f.memoizedState=x,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=x),Sd(f,Sr,w)):(w=R.cache,Sd(f,Sr,w),w!==x.cache&&mC(f,[Sr],g,!0))),Si(u,f,f.pendingProps.children,g),f.child;case 29:throw f.pendingProps}throw Error(r(156,f.tag))}function Vl(u){u.flags|=4}function rS(u,f,g,w,x){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(x&335544128)===x)if(u.stateNode.complete)u.flags|=8192;else if(aL())u.flags|=8192;else throw kh=l6,vC}else u.flags&=-16777217}function MB(u,f){if(f.type!==\"stylesheet\"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!YL(f))if(aL())u.flags|=8192;else throw kh=l6,vC}function A6(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?pM():536870912,u.lanes|=f,Pg|=f)}function ub(u,f){if(!zt)switch(u.tailMode){case\"hidden\":f=u.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?u.tail=null:g.sibling=null;break;case\"collapsed\":g=u.tail;for(var w=null;g!==null;)g.alternate!==null&&(w=g),g=g.sibling;w===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:w.sibling=null}}function Wn(u){var f=u.alternate!==null&&u.alternate.child===u.child,g=0,w=0;if(f)for(var x=u.child;x!==null;)g|=x.lanes|x.childLanes,w|=x.subtreeFlags&65011712,w|=x.flags&65011712,x.return=u,x=x.sibling;else for(x=u.child;x!==null;)g|=x.lanes|x.childLanes,w|=x.subtreeFlags,w|=x.flags,x.return=u,x=x.sibling;return u.subtreeFlags|=w,u.childLanes=g,f}function yde(u,f,g){var w=f.pendingProps;switch(dC(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wn(f),null;case 1:return Wn(f),null;case 3:return g=f.stateNode,w=null,u!==null&&(w=u.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),zl(Sr),Q(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(u===null||u.child===null)&&(yg(f)?Vl(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,hC())),Wn(f),null;case 26:var x=f.type,R=f.memoizedState;return u===null?(Vl(f),R!==null?(Wn(f),MB(f,R)):(Wn(f),rS(f,x,null,w,g))):R?R!==u.memoizedState?(Vl(f),Wn(f),MB(f,R)):(Wn(f),f.flags&=-16777217):(u=u.memoizedProps,u!==w&&Vl(f),Wn(f),rS(f,x,u,w,g)),null;case 27:if(oe(f),g=Z.current,x=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==w&&Vl(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return Wn(f),null}u=K.current,yg(f)?pD(f):(u=FL(x,w,g),f.stateNode=u,Vl(f))}return Wn(f),null;case 5:if(oe(f),x=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==w&&Vl(f);else{if(!w){if(f.stateNode===null)throw Error(r(166));return Wn(f),null}if(R=K.current,yg(f))pD(f);else{var W=z6(Z.current);switch(R){case 1:R=W.createElementNS(\"http://www.w3.org/2000/svg\",x);break;case 2:R=W.createElementNS(\"http://www.w3.org/1998/Math/MathML\",x);break;default:switch(x){case\"svg\":R=W.createElementNS(\"http://www.w3.org/2000/svg\",x);break;case\"math\":R=W.createElementNS(\"http://www.w3.org/1998/Math/MathML\",x);break;case\"script\":R=W.createElement(\"div\"),R.innerHTML=\"<script><\\/script>\",R=R.removeChild(R.firstChild);break;case\"select\":R=typeof w.is==\"string\"?W.createElement(\"select\",{is:w.is}):W.createElement(\"select\"),w.multiple?R.multiple=!0:w.size&&(R.size=w.size);break;default:R=typeof w.is==\"string\"?W.createElement(x,{is:w.is}):W.createElement(x)}}R[Ei]=f,R[Ss]=w;e:for(W=f.child;W!==null;){if(W.tag===5||W.tag===6)R.appendChild(W.stateNode);else if(W.tag!==4&&W.tag!==27&&W.child!==null){W.child.return=W,W=W.child;continue}if(W===f)break e;for(;W.sibling===null;){if(W.return===null||W.return===f)break e;W=W.return}W.sibling.return=W.return,W=W.sibling}f.stateNode=R;e:switch(xi(R,x,w),x){case\"button\":case\"input\":case\"select\":case\"textarea\":w=!!w.autoFocus;break e;case\"img\":w=!0;break e;default:w=!1}w&&Vl(f)}}return Wn(f),rS(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,g),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==w&&Vl(f);else{if(typeof w!=\"string\"&&f.stateNode===null)throw Error(r(166));if(u=Z.current,yg(f)){if(u=f.stateNode,g=f.memoizedProps,w=null,x=_i,x!==null)switch(x.tag){case 27:case 5:w=x.memoizedProps}u[Ei]=f,u=!!(u.nodeValue===g||w!==null&&w.suppressHydrationWarning===!0||OL(u.nodeValue,g)),u||Cd(f,!0)}else u=z6(u).createTextNode(w),u[Ei]=f,f.stateNode=u}return Wn(f),null;case 31:if(g=f.memoizedState,u===null||u.memoizedState!==null){if(w=yg(f),g!==null){if(u===null){if(!w)throw Error(r(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(557));u[Ei]=f}else Th(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Wn(f),u=!1}else g=hC(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=g),u=!0;if(!u)return f.flags&256?(uo(f),f):(uo(f),null);if((f.flags&128)!==0)throw Error(r(558))}return Wn(f),null;case 13:if(w=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(x=yg(f),w!==null&&w.dehydrated!==null){if(u===null){if(!x)throw Error(r(318));if(x=f.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(r(317));x[Ei]=f}else Th(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;Wn(f),x=!1}else x=hC(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=x),x=!0;if(!x)return f.flags&256?(uo(f),f):(uo(f),null)}return uo(f),(f.flags&128)!==0?(f.lanes=g,f):(g=w!==null,u=u!==null&&u.memoizedState!==null,g&&(w=f.child,x=null,w.alternate!==null&&w.alternate.memoizedState!==null&&w.alternate.memoizedState.cachePool!==null&&(x=w.alternate.memoizedState.cachePool.pool),R=null,w.memoizedState!==null&&w.memoizedState.cachePool!==null&&(R=w.memoizedState.cachePool.pool),R!==x&&(w.flags|=2048)),g!==u&&g&&(f.child.flags|=8192),A6(f,f.updateQueue),Wn(f),null);case 4:return Q(),u===null&&xS(f.stateNode.containerInfo),Wn(f),null;case 10:return zl(f.type),Wn(f),null;case 19:if(B(hr),w=f.memoizedState,w===null)return Wn(f),null;if(x=(f.flags&128)!==0,R=w.rendering,R===null)if(x)ub(w,!1);else{if(cr!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(R=h6(u),R!==null){for(f.flags|=128,ub(w,!1),u=R.updateQueue,f.updateQueue=u,A6(f,u),f.subtreeFlags=0,u=g,g=f.child;g!==null;)lD(g,u),g=g.sibling;return j(hr,hr.current&1|2),zt&&Ul(f,w.treeForkCount),f.child}u=u.sibling}w.tail!==null&&dt()>O6&&(f.flags|=128,x=!0,ub(w,!1),f.lanes=4194304)}else{if(!x)if(u=h6(R),u!==null){if(f.flags|=128,x=!0,u=u.updateQueue,f.updateQueue=u,A6(f,u),ub(w,!0),w.tail===null&&w.tailMode===\"hidden\"&&!R.alternate&&!zt)return Wn(f),null}else 2*dt()-w.renderingStartTime>O6&&g!==536870912&&(f.flags|=128,x=!0,ub(w,!1),f.lanes=4194304);w.isBackwards?(R.sibling=f.child,f.child=R):(u=w.last,u!==null?u.sibling=R:f.child=R,w.last=R)}return w.tail!==null?(u=w.tail,w.rendering=u,w.tail=u.sibling,w.renderingStartTime=dt(),u.sibling=null,g=hr.current,j(hr,x?g&1|2:g&1),zt&&Ul(f,w.treeForkCount),u):(Wn(f),null);case 22:case 23:return uo(f),AC(),w=f.memoizedState!==null,u!==null?u.memoizedState!==null!==w&&(f.flags|=8192):w&&(f.flags|=8192),w?(g&536870912)!==0&&(f.flags&128)===0&&(Wn(f),f.subtreeFlags&6&&(f.flags|=8192)):Wn(f),g=f.updateQueue,g!==null&&A6(f,g.retryQueue),g=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),w=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(w=f.memoizedState.cachePool.pool),w!==g&&(f.flags|=2048),u!==null&&B(Nh),null;case 24:return g=null,u!==null&&(g=u.memoizedState.cache),f.memoizedState.cache!==g&&(f.flags|=2048),zl(Sr),Wn(f),null;case 25:return null;case 30:return null}throw Error(r(156,f.tag))}function bde(u,f){switch(dC(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return zl(Sr),Q(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return oe(f),null;case 31:if(f.memoizedState!==null){if(uo(f),f.alternate===null)throw Error(r(340));Th()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(uo(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(r(340));Th()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return B(hr),null;case 4:return Q(),null;case 10:return zl(f.type),null;case 22:case 23:return uo(f),AC(),u!==null&&B(Nh),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return zl(Sr),null;case 25:return null;default:return null}}function DB(u,f){switch(dC(f),f.tag){case 3:zl(Sr),Q();break;case 26:case 27:case 5:oe(f);break;case 4:Q();break;case 31:f.memoizedState!==null&&uo(f);break;case 13:uo(f);break;case 19:B(hr);break;case 10:zl(f.type);break;case 22:case 23:uo(f),AC(),u!==null&&B(Nh);break;case 24:zl(Sr)}}function db(u,f){try{var g=f.updateQueue,w=g!==null?g.lastEffect:null;if(w!==null){var x=w.next;g=x;do{if((g.tag&u)===u){w=void 0;var R=g.create,W=g.inst;w=R(),W.destroy=w}g=g.next}while(g!==x)}}catch(J){En(f,f.return,J)}}function Pd(u,f,g){try{var w=f.updateQueue,x=w!==null?w.lastEffect:null;if(x!==null){var R=x.next;w=R;do{if((w.tag&u)===u){var W=w.inst,J=W.destroy;if(J!==void 0){W.destroy=void 0,x=f;var te=g,de=J;try{de()}catch(be){En(x,te,be)}}}w=w.next}while(w!==R)}}catch(be){En(f,f.return,be)}}function BB(u){var f=u.updateQueue;if(f!==null){var g=u.stateNode;try{$D(f,g)}catch(w){En(u,u.return,w)}}}function LB(u,f,g){g.props=Bh(u.type,u.memoizedProps),g.state=u.memoizedState;try{g.componentWillUnmount()}catch(w){En(u,f,w)}}function fb(u,f){try{var g=u.ref;if(g!==null){switch(u.tag){case 26:case 27:case 5:var w=u.stateNode;break;case 30:w=u.stateNode;break;default:w=u.stateNode}typeof g==\"function\"?u.refCleanup=g(w):g.current=w}}catch(x){En(u,f,x)}}function Dc(u,f){var g=u.ref,w=u.refCleanup;if(g!==null)if(typeof w==\"function\")try{w()}catch(x){En(u,f,x)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof g==\"function\")try{g(null)}catch(x){En(u,f,x)}else g.current=null}function UB(u){var f=u.type,g=u.memoizedProps,w=u.stateNode;try{e:switch(f){case\"button\":case\"input\":case\"select\":case\"textarea\":g.autoFocus&&w.focus();break e;case\"img\":g.src?w.src=g.src:g.srcSet&&(w.srcset=g.srcSet)}}catch(x){En(u,u.return,x)}}function iS(u,f,g){try{var w=u.stateNode;jde(w,u.type,g,f),w[Ss]=f}catch(x){En(u,u.return,x)}}function jB(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Bd(u.type)||u.tag===4}function sS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||jB(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Bd(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function oS(u,f,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?(g.nodeType===9?g.body:g.nodeName===\"HTML\"?g.ownerDocument.body:g).insertBefore(u,f):(f=g.nodeType===9?g.body:g.nodeName===\"HTML\"?g.ownerDocument.body:g,f.appendChild(u),g=g._reactRootContainer,g!=null||f.onclick!==null||(f.onclick=Dl));else if(w!==4&&(w===27&&Bd(u.type)&&(g=u.stateNode,f=null),u=u.child,u!==null))for(oS(u,f,g),u=u.sibling;u!==null;)oS(u,f,g),u=u.sibling}function $6(u,f,g){var w=u.tag;if(w===5||w===6)u=u.stateNode,f?g.insertBefore(u,f):g.appendChild(u);else if(w!==4&&(w===27&&Bd(u.type)&&(g=u.stateNode),u=u.child,u!==null))for($6(u,f,g),u=u.sibling;u!==null;)$6(u,f,g),u=u.sibling}function zB(u){var f=u.stateNode,g=u.memoizedProps;try{for(var w=u.type,x=f.attributes;x.length;)f.removeAttributeNode(x[0]);xi(f,w,g),f[Ei]=u,f[Ss]=g}catch(R){En(u,u.return,R)}}var Kl=!1,$r=!1,aS=!1,FB=typeof WeakSet==\"function\"?WeakSet:Set,Gr=null;function wde(u,f){if(u=u.containerInfo,IS=G6,u=eD(u),eC(u)){if(\"selectionStart\"in u)var g={start:u.selectionStart,end:u.selectionEnd};else e:{g=(g=u.ownerDocument)&&g.defaultView||window;var w=g.getSelection&&g.getSelection();if(w&&w.rangeCount!==0){g=w.anchorNode;var x=w.anchorOffset,R=w.focusNode;w=w.focusOffset;try{g.nodeType,R.nodeType}catch{g=null;break e}var W=0,J=-1,te=-1,de=0,be=0,Ce=u,fe=null;t:for(;;){for(var pe;Ce!==g||x!==0&&Ce.nodeType!==3||(J=W+x),Ce!==R||w!==0&&Ce.nodeType!==3||(te=W+w),Ce.nodeType===3&&(W+=Ce.nodeValue.length),(pe=Ce.firstChild)!==null;)fe=Ce,Ce=pe;for(;;){if(Ce===u)break t;if(fe===g&&++de===x&&(J=W),fe===R&&++be===w&&(te=W),(pe=Ce.nextSibling)!==null)break;Ce=fe,fe=Ce.parentNode}Ce=pe}g=J===-1||te===-1?null:{start:J,end:te}}else g=null}g=g||{start:0,end:0}}else g=null;for(TS={focusedElem:u,selectionRange:g},G6=!1,Gr=f;Gr!==null;)if(f=Gr,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,Gr=u;else for(;Gr!==null;){switch(f=Gr,R=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(g=0;g<u.length;g++)x=u[g],x.ref.impl=x.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&R!==null){u=void 0,g=f,x=R.memoizedProps,R=R.memoizedState,w=g.stateNode;try{var tt=Bh(g.type,x);u=w.getSnapshotBeforeUpdate(tt,R),w.__reactInternalSnapshotBeforeUpdate=u}catch(yt){En(g,g.return,yt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,g=u.nodeType,g===9)NS(u);else if(g===1)switch(u.nodeName){case\"HEAD\":case\"HTML\":case\"BODY\":NS(u);break;default:u.textContent=\"\"}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(r(163))}if(u=f.sibling,u!==null){u.return=f.return,Gr=u;break}Gr=f.return}}function qB(u,f,g){var w=g.flags;switch(g.tag){case 0:case 11:case 15:Gl(u,g),w&4&&db(5,g);break;case 1:if(Gl(u,g),w&4)if(u=g.stateNode,f===null)try{u.componentDidMount()}catch(W){En(g,g.return,W)}else{var x=Bh(g.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(x,f,u.__reactInternalSnapshotBeforeUpdate)}catch(W){En(g,g.return,W)}}w&64&&BB(g),w&512&&fb(g,g.return);break;case 3:if(Gl(u,g),w&64&&(u=g.updateQueue,u!==null)){if(f=null,g.child!==null)switch(g.child.tag){case 27:case 5:f=g.child.stateNode;break;case 1:f=g.child.stateNode}try{$D(u,f)}catch(W){En(g,g.return,W)}}break;case 27:f===null&&w&4&&zB(g);case 26:case 5:Gl(u,g),f===null&&w&4&&UB(g),w&512&&fb(g,g.return);break;case 12:Gl(u,g);break;case 31:Gl(u,g),w&4&&KB(u,g);break;case 13:Gl(u,g),w&4&&WB(u,g),w&64&&(u=g.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(g=Ide.bind(null,g),Gde(u,g))));break;case 22:if(w=g.memoizedState!==null||Kl,!w){f=f!==null&&f.memoizedState!==null||$r,x=Kl;var R=$r;Kl=w,($r=f)&&!R?Zl(u,g,(g.subtreeFlags&8772)!==0):Gl(u,g),Kl=x,$r=R}break;case 30:break;default:Gl(u,g)}}function HB(u){var f=u.alternate;f!==null&&(u.alternate=null,HB(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&B9(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var Xn=null,As=!1;function Wl(u,f,g){for(g=g.child;g!==null;)VB(u,f,g),g=g.sibling}function VB(u,f,g){if(is&&typeof is.onCommitFiberUnmount==\"function\")try{is.onCommitFiberUnmount(vh,g)}catch{}switch(g.tag){case 26:$r||Dc(g,f),Wl(u,f,g),g.memoizedState?g.memoizedState.count--:g.stateNode&&(g=g.stateNode,g.parentNode.removeChild(g));break;case 27:$r||Dc(g,f);var w=Xn,x=As;Bd(g.type)&&(Xn=g.stateNode,As=!1),Wl(u,f,g),Eb(g.stateNode),Xn=w,As=x;break;case 5:$r||Dc(g,f);case 6:if(w=Xn,x=As,Xn=null,Wl(u,f,g),Xn=w,As=x,Xn!==null)if(As)try{(Xn.nodeType===9?Xn.body:Xn.nodeName===\"HTML\"?Xn.ownerDocument.body:Xn).removeChild(g.stateNode)}catch(R){En(g,f,R)}else try{Xn.removeChild(g.stateNode)}catch(R){En(g,f,R)}break;case 18:Xn!==null&&(As?(u=Xn,BL(u.nodeType===9?u.body:u.nodeName===\"HTML\"?u.ownerDocument.body:u,g.stateNode),Lg(u)):BL(Xn,g.stateNode));break;case 4:w=Xn,x=As,Xn=g.stateNode.containerInfo,As=!0,Wl(u,f,g),Xn=w,As=x;break;case 0:case 11:case 14:case 15:Pd(2,g,f),$r||Pd(4,g,f),Wl(u,f,g);break;case 1:$r||(Dc(g,f),w=g.stateNode,typeof w.componentWillUnmount==\"function\"&&LB(g,f,w)),Wl(u,f,g);break;case 21:Wl(u,f,g);break;case 22:$r=(w=$r)||g.memoizedState!==null,Wl(u,f,g),$r=w;break;default:Wl(u,f,g)}}function KB(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Lg(u)}catch(g){En(f,f.return,g)}}}function WB(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Lg(u)}catch(g){En(f,f.return,g)}}function vde(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new FB),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new FB),f;default:throw Error(r(435,u.tag))}}function I6(u,f){var g=vde(u);f.forEach(function(w){if(!g.has(w)){g.add(w);var x=Tde.bind(null,u,w);w.then(x,x)}})}function $s(u,f){var g=f.deletions;if(g!==null)for(var w=0;w<g.length;w++){var x=g[w],R=u,W=f,J=W;e:for(;J!==null;){switch(J.tag){case 27:if(Bd(J.type)){Xn=J.stateNode,As=!1;break e}break;case 5:Xn=J.stateNode,As=!1;break e;case 3:case 4:Xn=J.stateNode.containerInfo,As=!0;break e}J=J.return}if(Xn===null)throw Error(r(160));VB(R,W,x),Xn=null,As=!1,R=x.alternate,R!==null&&(R.return=null),x.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)GB(f,u),f=f.sibling}var La=null;function GB(u,f){var g=u.alternate,w=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:$s(f,u),Is(u),w&4&&(Pd(3,u,u.return),db(3,u),Pd(5,u,u.return));break;case 1:$s(f,u),Is(u),w&512&&($r||g===null||Dc(g,g.return)),w&64&&Kl&&(u=u.updateQueue,u!==null&&(w=u.callbacks,w!==null&&(g=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=g===null?w:g.concat(w))));break;case 26:var x=La;if($s(f,u),Is(u),w&512&&($r||g===null||Dc(g,g.return)),w&4){var R=g!==null?g.memoizedState:null;if(w=u.memoizedState,g===null)if(w===null)if(u.stateNode===null){e:{w=u.type,g=u.memoizedProps,x=x.ownerDocument||x;t:switch(w){case\"title\":R=x.getElementsByTagName(\"title\")[0],(!R||R[Uy]||R[Ei]||R.namespaceURI===\"http://www.w3.org/2000/svg\"||R.hasAttribute(\"itemprop\"))&&(R=x.createElement(w),x.head.insertBefore(R,x.querySelector(\"head > title\"))),xi(R,w,g),R[Ei]=u,Wr(R),w=R;break e;case\"link\":var W=GL(\"link\",\"href\",x).get(w+(g.href||\"\"));if(W){for(var J=0;J<W.length;J++)if(R=W[J],R.getAttribute(\"href\")===(g.href==null||g.href===\"\"?null:g.href)&&R.getAttribute(\"rel\")===(g.rel==null?null:g.rel)&&R.getAttribute(\"title\")===(g.title==null?null:g.title)&&R.getAttribute(\"crossorigin\")===(g.crossOrigin==null?null:g.crossOrigin)){W.splice(J,1);break t}}R=x.createElement(w),xi(R,w,g),x.head.appendChild(R);break;case\"meta\":if(W=GL(\"meta\",\"content\",x).get(w+(g.content||\"\"))){for(J=0;J<W.length;J++)if(R=W[J],R.getAttribute(\"content\")===(g.content==null?null:\"\"+g.content)&&R.getAttribute(\"name\")===(g.name==null?null:g.name)&&R.getAttribute(\"property\")===(g.property==null?null:g.property)&&R.getAttribute(\"http-equiv\")===(g.httpEquiv==null?null:g.httpEquiv)&&R.getAttribute(\"charset\")===(g.charSet==null?null:g.charSet)){W.splice(J,1);break t}}R=x.createElement(w),xi(R,w,g),x.head.appendChild(R);break;default:throw Error(r(468,w))}R[Ei]=u,Wr(R),w=R}u.stateNode=w}else ZL(x,u.type,u.stateNode);else u.stateNode=WL(x,w,u.memoizedProps);else R!==w?(R===null?g.stateNode!==null&&(g=g.stateNode,g.parentNode.removeChild(g)):R.count--,w===null?ZL(x,u.type,u.stateNode):WL(x,w,u.memoizedProps)):w===null&&u.stateNode!==null&&iS(u,u.memoizedProps,g.memoizedProps)}break;case 27:$s(f,u),Is(u),w&512&&($r||g===null||Dc(g,g.return)),g!==null&&w&4&&iS(u,u.memoizedProps,g.memoizedProps);break;case 5:if($s(f,u),Is(u),w&512&&($r||g===null||Dc(g,g.return)),u.flags&32){x=u.stateNode;try{ag(x,\"\")}catch(tt){En(u,u.return,tt)}}w&4&&u.stateNode!=null&&(x=u.memoizedProps,iS(u,x,g!==null?g.memoizedProps:x)),w&1024&&(aS=!0);break;case 6:if($s(f,u),Is(u),w&4){if(u.stateNode===null)throw Error(r(162));w=u.memoizedProps,g=u.stateNode;try{g.nodeValue=w}catch(tt){En(u,u.return,tt)}}break;case 3:if(H6=null,x=La,La=F6(f.containerInfo),$s(f,u),La=x,Is(u),w&4&&g!==null&&g.memoizedState.isDehydrated)try{Lg(f.containerInfo)}catch(tt){En(u,u.return,tt)}aS&&(aS=!1,ZB(u));break;case 4:w=La,La=F6(u.stateNode.containerInfo),$s(f,u),Is(u),La=w;break;case 12:$s(f,u),Is(u);break;case 31:$s(f,u),Is(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,I6(u,w)));break;case 13:$s(f,u),Is(u),u.child.flags&8192&&u.memoizedState!==null!=(g!==null&&g.memoizedState!==null)&&(P6=dt()),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,I6(u,w)));break;case 22:x=u.memoizedState!==null;var te=g!==null&&g.memoizedState!==null,de=Kl,be=$r;if(Kl=de||x,$r=be||te,$s(f,u),$r=be,Kl=de,Is(u),w&8192)e:for(f=u.stateNode,f._visibility=x?f._visibility&-2:f._visibility|1,x&&(g===null||te||Kl||$r||Lh(u)),g=null,f=u;;){if(f.tag===5||f.tag===26){if(g===null){te=g=f;try{if(R=te.stateNode,x)W=R.style,typeof W.setProperty==\"function\"?W.setProperty(\"display\",\"none\",\"important\"):W.display=\"none\";else{J=te.stateNode;var Ce=te.memoizedProps.style,fe=Ce!=null&&Ce.hasOwnProperty(\"display\")?Ce.display:null;J.style.display=fe==null||typeof fe==\"boolean\"?\"\":(\"\"+fe).trim()}}catch(tt){En(te,te.return,tt)}}}else if(f.tag===6){if(g===null){te=f;try{te.stateNode.nodeValue=x?\"\":te.memoizedProps}catch(tt){En(te,te.return,tt)}}}else if(f.tag===18){if(g===null){te=f;try{var pe=te.stateNode;x?LL(pe,!0):LL(te.stateNode,!1)}catch(tt){En(te,te.return,tt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;g===f&&(g=null),f=f.return}g===f&&(g=null),f.sibling.return=f.return,f=f.sibling}w&4&&(w=u.updateQueue,w!==null&&(g=w.retryQueue,g!==null&&(w.retryQueue=null,I6(u,g))));break;case 19:$s(f,u),Is(u),w&4&&(w=u.updateQueue,w!==null&&(u.updateQueue=null,I6(u,w)));break;case 30:break;case 21:break;default:$s(f,u),Is(u)}}function Is(u){var f=u.flags;if(f&2){try{for(var g,w=u.return;w!==null;){if(jB(w)){g=w;break}w=w.return}if(g==null)throw Error(r(160));switch(g.tag){case 27:var x=g.stateNode,R=sS(u);$6(u,R,x);break;case 5:var W=g.stateNode;g.flags&32&&(ag(W,\"\"),g.flags&=-33);var J=sS(u);$6(u,J,W);break;case 3:case 4:var te=g.stateNode.containerInfo,de=sS(u);oS(u,de,te);break;default:throw Error(r(161))}}catch(be){En(u,u.return,be)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function ZB(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;ZB(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function Gl(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)qB(u,f.alternate,f),f=f.sibling}function Lh(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Pd(4,f,f.return),Lh(f);break;case 1:Dc(f,f.return);var g=f.stateNode;typeof g.componentWillUnmount==\"function\"&&LB(f,f.return,g),Lh(f);break;case 27:Eb(f.stateNode);case 26:case 5:Dc(f,f.return),Lh(f);break;case 22:f.memoizedState===null&&Lh(f);break;case 30:Lh(f);break;default:Lh(f)}u=u.sibling}}function Zl(u,f,g){for(g=g&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var w=f.alternate,x=u,R=f,W=R.flags;switch(R.tag){case 0:case 11:case 15:Zl(x,R,g),db(4,R);break;case 1:if(Zl(x,R,g),w=R,x=w.stateNode,typeof x.componentDidMount==\"function\")try{x.componentDidMount()}catch(de){En(w,w.return,de)}if(w=R,x=w.updateQueue,x!==null){var J=w.stateNode;try{var te=x.shared.hiddenCallbacks;if(te!==null)for(x.shared.hiddenCallbacks=null,x=0;x<te.length;x++)AD(te[x],J)}catch(de){En(w,w.return,de)}}g&&W&64&&BB(R),fb(R,R.return);break;case 27:zB(R);case 26:case 5:Zl(x,R,g),g&&w===null&&W&4&&UB(R),fb(R,R.return);break;case 12:Zl(x,R,g);break;case 31:Zl(x,R,g),g&&W&4&&KB(x,R);break;case 13:Zl(x,R,g),g&&W&4&&WB(x,R);break;case 22:R.memoizedState===null&&Zl(x,R,g),fb(R,R.return);break;case 30:break;default:Zl(x,R,g)}f=f.sibling}}function cS(u,f){var g=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==g&&(u!=null&&u.refCount++,g!=null&&Xy(g))}function lS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Xy(u))}function Ua(u,f,g,w){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)YB(u,f,g,w),f=f.sibling}function YB(u,f,g,w){var x=f.flags;switch(f.tag){case 0:case 11:case 15:Ua(u,f,g,w),x&2048&&db(9,f);break;case 1:Ua(u,f,g,w);break;case 3:Ua(u,f,g,w),x&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&Xy(u)));break;case 12:if(x&2048){Ua(u,f,g,w),u=f.stateNode;try{var R=f.memoizedProps,W=R.id,J=R.onPostCommit;typeof J==\"function\"&&J(W,f.alternate===null?\"mount\":\"update\",u.passiveEffectDuration,-0)}catch(te){En(f,f.return,te)}}else Ua(u,f,g,w);break;case 31:Ua(u,f,g,w);break;case 13:Ua(u,f,g,w);break;case 23:break;case 22:R=f.stateNode,W=f.alternate,f.memoizedState!==null?R._visibility&2?Ua(u,f,g,w):hb(u,f):R._visibility&2?Ua(u,f,g,w):(R._visibility|=2,$g(u,f,g,w,(f.subtreeFlags&10256)!==0||!1)),x&2048&&cS(W,f);break;case 24:Ua(u,f,g,w),x&2048&&lS(f.alternate,f);break;default:Ua(u,f,g,w)}}function $g(u,f,g,w,x){for(x=x&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var R=u,W=f,J=g,te=w,de=W.flags;switch(W.tag){case 0:case 11:case 15:$g(R,W,J,te,x),db(8,W);break;case 23:break;case 22:var be=W.stateNode;W.memoizedState!==null?be._visibility&2?$g(R,W,J,te,x):hb(R,W):(be._visibility|=2,$g(R,W,J,te,x)),x&&de&2048&&cS(W.alternate,W);break;case 24:$g(R,W,J,te,x),x&&de&2048&&lS(W.alternate,W);break;default:$g(R,W,J,te,x)}f=f.sibling}}function hb(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var g=u,w=f,x=w.flags;switch(w.tag){case 22:hb(g,w),x&2048&&cS(w.alternate,w);break;case 24:hb(g,w),x&2048&&lS(w.alternate,w);break;default:hb(g,w)}f=f.sibling}}var pb=8192;function Ig(u,f,g){if(u.subtreeFlags&pb)for(u=u.child;u!==null;)JB(u,f,g),u=u.sibling}function JB(u,f,g){switch(u.tag){case 26:Ig(u,f,g),u.flags&pb&&u.memoizedState!==null&&ofe(g,La,u.memoizedState,u.memoizedProps);break;case 5:Ig(u,f,g);break;case 3:case 4:var w=La;La=F6(u.stateNode.containerInfo),Ig(u,f,g),La=w;break;case 22:u.memoizedState===null&&(w=u.alternate,w!==null&&w.memoizedState!==null?(w=pb,pb=16777216,Ig(u,f,g),pb=w):Ig(u,f,g));break;default:Ig(u,f,g)}}function XB(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function gb(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Gr=w,eL(w,u)}XB(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)QB(u),u=u.sibling}function QB(u){switch(u.tag){case 0:case 11:case 15:gb(u),u.flags&2048&&Pd(9,u,u.return);break;case 3:gb(u);break;case 12:gb(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,T6(u)):gb(u);break;default:gb(u)}}function T6(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var g=0;g<f.length;g++){var w=f[g];Gr=w,eL(w,u)}XB(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Pd(8,f,f.return),T6(f);break;case 22:g=f.stateNode,g._visibility&2&&(g._visibility&=-3,T6(f));break;default:T6(f)}u=u.sibling}}function eL(u,f){for(;Gr!==null;){var g=Gr;switch(g.tag){case 0:case 11:case 15:Pd(8,g,f);break;case 23:case 22:if(g.memoizedState!==null&&g.memoizedState.cachePool!==null){var w=g.memoizedState.cachePool.pool;w!=null&&w.refCount++}break;case 24:Xy(g.memoizedState.cache)}if(w=g.child,w!==null)w.return=g,Gr=w;else e:for(g=u;Gr!==null;){w=Gr;var x=w.sibling,R=w.return;if(HB(w),w===g){Gr=null;break e}if(x!==null){x.return=R,Gr=x;break e}Gr=R}}}var Ede={getCacheForType:function(u){var f=Ci(Sr),g=f.data.get(u);return g===void 0&&(g=u(),f.data.set(u,g)),g},cacheSignal:function(){return Ci(Sr).controller.signal}},_de=typeof WeakMap==\"function\"?WeakMap:Map,un=0,Rn=null,Dt=null,Lt=0,vn=0,fo=null,Od=!1,Tg=!1,uS=!1,Yl=0,cr=0,Nd=0,Uh=0,dS=0,ho=0,Pg=0,mb=null,Ts=null,fS=!1,P6=0,tL=0,O6=1/0,N6=null,Rd=null,Br=0,kd=null,Og=null,Jl=0,hS=0,pS=null,nL=null,yb=0,gS=null;function po(){return(un&2)!==0&&Lt!==0?Lt&-Lt:P.T!==null?ES():bM()}function rL(){if(ho===0)if((Lt&536870912)===0||zt){var u=j5;j5<<=1,(j5&3932160)===0&&(j5=262144),ho=u}else ho=536870912;return u=lo.current,u!==null&&(u.flags|=32),ho}function Ps(u,f,g){(u===Rn&&(vn===2||vn===9)||u.cancelPendingCommit!==null)&&(Ng(u,0),Md(u,Lt,ho,!1)),Ly(u,g),((un&2)===0||u!==Rn)&&(u===Rn&&((un&2)===0&&(Uh|=g),cr===4&&Md(u,Lt,ho,!1)),Bc(u))}function iL(u,f,g){if((un&6)!==0)throw Error(r(327));var w=!g&&(f&127)===0&&(f&u.expiredLanes)===0||By(u,f),x=w?xde(u,f):yS(u,f,!0),R=w;do{if(x===0){Tg&&!w&&Md(u,f,0,!1);break}else{if(g=u.current.alternate,R&&!Cde(g)){x=yS(u,f,!1),R=!1;continue}if(x===2){if(R=f,u.errorRecoveryDisabledLanes&R)var W=0;else W=u.pendingLanes&-536870913,W=W!==0?W:W&536870912?536870912:0;if(W!==0){f=W;e:{var J=u;x=mb;var te=J.current.memoizedState.isDehydrated;if(te&&(Ng(J,W).flags|=256),W=yS(J,W,!1),W!==2){if(uS&&!te){J.errorRecoveryDisabledLanes|=R,Uh|=R,x=4;break e}R=Ts,Ts=x,R!==null&&(Ts===null?Ts=R:Ts.push.apply(Ts,R))}x=W}if(R=!1,x!==2)continue}}if(x===1){Ng(u,0),Md(u,f,0,!0);break}e:{switch(w=u,R=x,R){case 0:case 1:throw Error(r(345));case 4:if((f&4194048)!==f)break;case 6:Md(w,f,ho,!Od);break e;case 2:Ts=null;break;case 3:case 5:break;default:throw Error(r(329))}if((f&62914560)===f&&(x=P6+300-dt(),10<x)){if(Md(w,f,ho,!Od),F5(w,0,!0)!==0)break e;Jl=f,w.timeoutHandle=ML(sL.bind(null,w,g,Ts,N6,fS,f,ho,Uh,Pg,Od,R,\"Throttled\",-0,0),x);break e}sL(w,g,Ts,N6,fS,f,ho,Uh,Pg,Od,R,null,-0,0)}}break}while(!0);Bc(u)}function sL(u,f,g,w,x,R,W,J,te,de,be,Ce,fe,pe){if(u.timeoutHandle=-1,Ce=f.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Dl},JB(f,R,Ce);var tt=(R&62914560)===R?P6-dt():(R&4194048)===R?tL-dt():0;if(tt=afe(Ce,tt),tt!==null){Jl=R,u.cancelPendingCommit=tt(hL.bind(null,u,f,R,g,w,x,W,J,te,be,Ce,null,fe,pe)),Md(u,R,W,!de);return}}hL(u,f,R,g,w,x,W,J,te)}function Cde(u){for(var f=u;;){var g=f.tag;if((g===0||g===11||g===15)&&f.flags&16384&&(g=f.updateQueue,g!==null&&(g=g.stores,g!==null)))for(var w=0;w<g.length;w++){var x=g[w],R=x.getSnapshot;x=x.value;try{if(!ao(R(),x))return!1}catch{return!1}}if(g=f.child,f.subtreeFlags&16384&&g!==null)g.return=f,f=g;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function Md(u,f,g,w){f&=~dS,f&=~Uh,u.suspendedLanes|=f,u.pingedLanes&=~f,w&&(u.warmLanes|=f),w=u.expirationTimes;for(var x=f;0<x;){var R=31-vi(x),W=1<<R;w[R]=-1,x&=~W}g!==0&&gM(u,g,f)}function R6(){return(un&6)===0?(bb(0),!1):!0}function mS(){if(Dt!==null){if(vn===0)var u=Dt.return;else u=Dt,jl=Ph=null,NC(u),_g=null,eb=0,u=Dt;for(;u!==null;)DB(u.alternate,u),u=u.return;Dt=null}}function Ng(u,f){var g=u.timeoutHandle;g!==-1&&(u.timeoutHandle=-1,qde(g)),g=u.cancelPendingCommit,g!==null&&(u.cancelPendingCommit=null,g()),Jl=0,mS(),Rn=u,Dt=g=Ll(u.current,null),Lt=f,vn=0,fo=null,Od=!1,Tg=By(u,f),uS=!1,Pg=ho=dS=Uh=Nd=cr=0,Ts=mb=null,fS=!1,(f&8)!==0&&(f|=f&32);var w=u.entangledLanes;if(w!==0)for(u=u.entanglements,w&=f;0<w;){var x=31-vi(w),R=1<<x;f|=u[x],w&=~R}return Yl=f,e6(),g}function oL(u,f){It=null,P.H=cb,f===Eg||f===c6?(f=_D(),vn=3):f===vC?(f=_D(),vn=4):vn=f===GC?8:f!==null&&typeof f==\"object\"&&typeof f.then==\"function\"?6:1,fo=f,Dt===null&&(cr=1,_6(u,na(f,u.current)))}function aL(){var u=lo.current;return u===null?!0:(Lt&4194048)===Lt?oa===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?u===oa:!1}function cL(){var u=P.H;return P.H=cb,u===null?cb:u}function lL(){var u=P.A;return P.A=Ede,u}function k6(){cr=4,Od||(Lt&4194048)!==Lt&&lo.current!==null||(Tg=!0),(Nd&134217727)===0&&(Uh&134217727)===0||Rn===null||Md(Rn,Lt,ho,!1)}function yS(u,f,g){var w=un;un|=2;var x=cL(),R=lL();(Rn!==u||Lt!==f)&&(N6=null,Ng(u,f)),f=!1;var W=cr;e:do try{if(vn!==0&&Dt!==null){var J=Dt,te=fo;switch(vn){case 8:mS(),W=6;break e;case 3:case 2:case 9:case 6:lo.current===null&&(f=!0);var de=vn;if(vn=0,fo=null,Rg(u,J,te,de),g&&Tg){W=0;break e}break;default:de=vn,vn=0,fo=null,Rg(u,J,te,de)}}Sde(),W=cr;break}catch(be){oL(u,be)}while(!0);return f&&u.shellSuspendCounter++,jl=Ph=null,un=w,P.H=x,P.A=R,Dt===null&&(Rn=null,Lt=0,e6()),W}function Sde(){for(;Dt!==null;)uL(Dt)}function xde(u,f){var g=un;un|=2;var w=cL(),x=lL();Rn!==u||Lt!==f?(N6=null,O6=dt()+500,Ng(u,f)):Tg=By(u,f);e:do try{if(vn!==0&&Dt!==null){f=Dt;var R=fo;t:switch(vn){case 1:vn=0,fo=null,Rg(u,f,R,1);break;case 2:case 9:if(vD(R)){vn=0,fo=null,dL(f);break}f=function(){vn!==2&&vn!==9||Rn!==u||(vn=7),Bc(u)},R.then(f,f);break e;case 3:vn=7;break e;case 4:vn=5;break e;case 7:vD(R)?(vn=0,fo=null,dL(f)):(vn=0,fo=null,Rg(u,f,R,7));break;case 5:var W=null;switch(Dt.tag){case 26:W=Dt.memoizedState;case 5:case 27:var J=Dt;if(W?YL(W):J.stateNode.complete){vn=0,fo=null;var te=J.sibling;if(te!==null)Dt=te;else{var de=J.return;de!==null?(Dt=de,M6(de)):Dt=null}break t}}vn=0,fo=null,Rg(u,f,R,5);break;case 6:vn=0,fo=null,Rg(u,f,R,6);break;case 8:mS(),cr=6;break e;default:throw Error(r(462))}}Ade();break}catch(be){oL(u,be)}while(!0);return jl=Ph=null,P.H=w,P.A=x,un=g,Dt!==null?0:(Rn=null,Lt=0,e6(),cr)}function Ade(){for(;Dt!==null&&!Je();)uL(Dt)}function uL(u){var f=kB(u.alternate,u,Yl);u.memoizedProps=u.pendingProps,f===null?M6(u):Dt=f}function dL(u){var f=u,g=f.alternate;switch(f.tag){case 15:case 0:f=IB(g,f,f.pendingProps,f.type,void 0,Lt);break;case 11:f=IB(g,f,f.pendingProps,f.type.render,f.ref,Lt);break;case 5:NC(f);default:DB(g,f),f=Dt=lD(f,Yl),f=kB(g,f,Yl)}u.memoizedProps=u.pendingProps,f===null?M6(u):Dt=f}function Rg(u,f,g,w){jl=Ph=null,NC(f),_g=null,eb=0;var x=f.return;try{if(pde(u,x,f,g,Lt)){cr=1,_6(u,na(g,u.current)),Dt=null;return}}catch(R){if(x!==null)throw Dt=x,R;cr=1,_6(u,na(g,u.current)),Dt=null;return}f.flags&32768?(zt||w===1?u=!0:Tg||(Lt&536870912)!==0?u=!1:(Od=u=!0,(w===2||w===9||w===3||w===6)&&(w=lo.current,w!==null&&w.tag===13&&(w.flags|=16384))),fL(f,u)):M6(f)}function M6(u){var f=u;do{if((f.flags&32768)!==0){fL(f,Od);return}u=f.return;var g=yde(f.alternate,f,Yl);if(g!==null){Dt=g;return}if(f=f.sibling,f!==null){Dt=f;return}Dt=f=u}while(f!==null);cr===0&&(cr=5)}function fL(u,f){do{var g=bde(u.alternate,u);if(g!==null){g.flags&=32767,Dt=g;return}if(g=u.return,g!==null&&(g.flags|=32768,g.subtreeFlags=0,g.deletions=null),!f&&(u=u.sibling,u!==null)){Dt=u;return}Dt=u=g}while(u!==null);cr=6,Dt=null}function hL(u,f,g,w,x,R,W,J,te){u.cancelPendingCommit=null;do D6();while(Br!==0);if((un&6)!==0)throw Error(r(327));if(f!==null){if(f===u.current)throw Error(r(177));if(R=f.lanes|f.childLanes,R|=sC,sue(u,g,R,W,J,te),u===Rn&&(Dt=Rn=null,Lt=0),Og=f,kd=u,Jl=g,hS=R,pS=x,nL=w,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,Pde(Nc,function(){return bL(),null})):(u.callbackNode=null,u.callbackPriority=0),w=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||w){w=P.T,P.T=null,x=q.p,q.p=2,W=un,un|=4;try{wde(u,f,g)}finally{un=W,q.p=x,P.T=w}}Br=1,pL(),gL(),mL()}}function pL(){if(Br===1){Br=0;var u=kd,f=Og,g=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||g){g=P.T,P.T=null;var w=q.p;q.p=2;var x=un;un|=4;try{GB(f,u);var R=TS,W=eD(u.containerInfo),J=R.focusedElem,te=R.selectionRange;if(W!==J&&J&&J.ownerDocument&&QM(J.ownerDocument.documentElement,J)){if(te!==null&&eC(J)){var de=te.start,be=te.end;if(be===void 0&&(be=de),\"selectionStart\"in J)J.selectionStart=de,J.selectionEnd=Math.min(be,J.value.length);else{var Ce=J.ownerDocument||document,fe=Ce&&Ce.defaultView||window;if(fe.getSelection){var pe=fe.getSelection(),tt=J.textContent.length,yt=Math.min(te.start,tt),Tn=te.end===void 0?yt:Math.min(te.end,tt);!pe.extend&&yt>Tn&&(W=Tn,Tn=yt,yt=W);var se=XM(J,yt),ie=XM(J,Tn);if(se&&ie&&(pe.rangeCount!==1||pe.anchorNode!==se.node||pe.anchorOffset!==se.offset||pe.focusNode!==ie.node||pe.focusOffset!==ie.offset)){var le=Ce.createRange();le.setStart(se.node,se.offset),pe.removeAllRanges(),yt>Tn?(pe.addRange(le),pe.extend(ie.node,ie.offset)):(le.setEnd(ie.node,ie.offset),pe.addRange(le))}}}}for(Ce=[],pe=J;pe=pe.parentNode;)pe.nodeType===1&&Ce.push({element:pe,left:pe.scrollLeft,top:pe.scrollTop});for(typeof J.focus==\"function\"&&J.focus(),J=0;J<Ce.length;J++){var _e=Ce[J];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}G6=!!IS,TS=IS=null}finally{un=x,q.p=w,P.T=g}}u.current=f,Br=2}}function gL(){if(Br===2){Br=0;var u=kd,f=Og,g=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||g){g=P.T,P.T=null;var w=q.p;q.p=2;var x=un;un|=4;try{qB(u,f.alternate,f)}finally{un=x,q.p=w,P.T=g}}Br=3}}function mL(){if(Br===4||Br===3){Br=0,lt();var u=kd,f=Og,g=Jl,w=nL;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?Br=5:(Br=0,Og=kd=null,yL(u,u.pendingLanes));var x=u.pendingLanes;if(x===0&&(Rd=null),M9(g),f=f.stateNode,is&&typeof is.onCommitFiberRoot==\"function\")try{is.onCommitFiberRoot(vh,f,void 0,(f.current.flags&128)===128)}catch{}if(w!==null){f=P.T,x=q.p,q.p=2,P.T=null;try{for(var R=u.onRecoverableError,W=0;W<w.length;W++){var J=w[W];R(J.value,{componentStack:J.stack})}}finally{P.T=f,q.p=x}}(Jl&3)!==0&&D6(),Bc(u),x=u.pendingLanes,(g&261930)!==0&&(x&42)!==0?u===gS?yb++:(yb=0,gS=u):yb=0,bb(0)}}function yL(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,Xy(f)))}function D6(){return pL(),gL(),mL(),bL()}function bL(){if(Br!==5)return!1;var u=kd,f=hS;hS=0;var g=M9(Jl),w=P.T,x=q.p;try{q.p=32>g?32:g,P.T=null,g=pS,pS=null;var R=kd,W=Jl;if(Br=0,Og=kd=null,Jl=0,(un&6)!==0)throw Error(r(331));var J=un;if(un|=4,QB(R.current),YB(R,R.current,W,g),un=J,bb(0,!1),is&&typeof is.onPostCommitFiberRoot==\"function\")try{is.onPostCommitFiberRoot(vh,R)}catch{}return!0}finally{q.p=x,P.T=w,yL(u,f)}}function wL(u,f,g){f=na(g,f),f=WC(u.stateNode,f,2),u=$d(u,f,2),u!==null&&(Ly(u,2),Bc(u))}function En(u,f,g){if(u.tag===3)wL(u,u,g);else for(;f!==null;){if(f.tag===3){wL(f,u,g);break}else if(f.tag===1){var w=f.stateNode;if(typeof f.type.getDerivedStateFromError==\"function\"||typeof w.componentDidCatch==\"function\"&&(Rd===null||!Rd.has(w))){u=na(g,u),g=vB(2),w=$d(f,g,2),w!==null&&(EB(g,w,f,u),Ly(w,2),Bc(w));break}}f=f.return}}function bS(u,f,g){var w=u.pingCache;if(w===null){w=u.pingCache=new _de;var x=new Set;w.set(f,x)}else x=w.get(f),x===void 0&&(x=new Set,w.set(f,x));x.has(g)||(uS=!0,x.add(g),u=$de.bind(null,u,f,g),f.then(u,u))}function $de(u,f,g){var w=u.pingCache;w!==null&&w.delete(f),u.pingedLanes|=u.suspendedLanes&g,u.warmLanes&=~g,Rn===u&&(Lt&g)===g&&(cr===4||cr===3&&(Lt&62914560)===Lt&&300>dt()-P6?(un&2)===0&&Ng(u,0):dS|=g,Pg===Lt&&(Pg=0)),Bc(u)}function vL(u,f){f===0&&(f=pM()),u=$h(u,f),u!==null&&(Ly(u,f),Bc(u))}function Ide(u){var f=u.memoizedState,g=0;f!==null&&(g=f.retryLane),vL(u,g)}function Tde(u,f){var g=0;switch(u.tag){case 31:case 13:var w=u.stateNode,x=u.memoizedState;x!==null&&(g=x.retryLane);break;case 19:w=u.stateNode;break;case 22:w=u.stateNode._retryCache;break;default:throw Error(r(314))}w!==null&&w.delete(f),vL(u,g)}function Pde(u,f){return st(u,f)}var B6=null,kg=null,wS=!1,L6=!1,vS=!1,Dd=0;function Bc(u){u!==kg&&u.next===null&&(kg===null?B6=kg=u:kg=kg.next=u),L6=!0,wS||(wS=!0,Nde())}function bb(u,f){if(!vS&&L6){vS=!0;do for(var g=!1,w=B6;w!==null;){if(u!==0){var x=w.pendingLanes;if(x===0)var R=0;else{var W=w.suspendedLanes,J=w.pingedLanes;R=(1<<31-vi(42|u)+1)-1,R&=x&~(W&~J),R=R&201326741?R&201326741|1:R?R|2:0}R!==0&&(g=!0,SL(w,R))}else R=Lt,R=F5(w,w===Rn?R:0,w.cancelPendingCommit!==null||w.timeoutHandle!==-1),(R&3)===0||By(w,R)||(g=!0,SL(w,R));w=w.next}while(g);vS=!1}}function Ode(){EL()}function EL(){L6=wS=!1;var u=0;Dd!==0&&Fde()&&(u=Dd);for(var f=dt(),g=null,w=B6;w!==null;){var x=w.next,R=_L(w,f);R===0?(w.next=null,g===null?B6=x:g.next=x,x===null&&(kg=g)):(g=w,(u!==0||(R&3)!==0)&&(L6=!0)),w=x}Br!==0&&Br!==5||bb(u),Dd!==0&&(Dd=0)}function _L(u,f){for(var g=u.suspendedLanes,w=u.pingedLanes,x=u.expirationTimes,R=u.pendingLanes&-62914561;0<R;){var W=31-vi(R),J=1<<W,te=x[W];te===-1?((J&g)===0||(J&w)!==0)&&(x[W]=iue(J,f)):te<=f&&(u.expiredLanes|=J),R&=~J}if(f=Rn,g=Lt,g=F5(u,u===f?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w=u.callbackNode,g===0||u===f&&(vn===2||vn===9)||u.cancelPendingCommit!==null)return w!==null&&w!==null&&xt(w),u.callbackNode=null,u.callbackPriority=0;if((g&3)===0||By(u,g)){if(f=g&-g,f===u.callbackPriority)return f;switch(w!==null&&xt(w),M9(g)){case 2:case 8:g=bd;break;case 32:g=Nc;break;case 268435456:g=eg;break;default:g=Nc}return w=CL.bind(null,u),g=st(g,w),u.callbackPriority=f,u.callbackNode=g,f}return w!==null&&w!==null&&xt(w),u.callbackPriority=2,u.callbackNode=null,2}function CL(u,f){if(Br!==0&&Br!==5)return u.callbackNode=null,u.callbackPriority=0,null;var g=u.callbackNode;if(D6()&&u.callbackNode!==g)return null;var w=Lt;return w=F5(u,u===Rn?w:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),w===0?null:(iL(u,w,f),_L(u,dt()),u.callbackNode!=null&&u.callbackNode===g?CL.bind(null,u):null)}function SL(u,f){if(D6())return null;iL(u,f,!0)}function Nde(){Hde(function(){(un&6)!==0?st(Jn,Ode):EL()})}function ES(){if(Dd===0){var u=wg;u===0&&(u=U5,U5<<=1,(U5&261888)===0&&(U5=256)),Dd=u}return Dd}function xL(u){return u==null||typeof u==\"symbol\"||typeof u==\"boolean\"?null:typeof u==\"function\"?u:K5(\"\"+u)}function AL(u,f){var g=f.ownerDocument.createElement(\"input\");return g.name=f.name,g.value=f.value,u.id&&g.setAttribute(\"form\",u.id),f.parentNode.insertBefore(g,f),u=new FormData(u),g.parentNode.removeChild(g),u}function Rde(u,f,g,w,x){if(f===\"submit\"&&g&&g.stateNode===x){var R=xL((x[Ss]||null).action),W=w.submitter;W&&(f=(f=W[Ss]||null)?xL(f.formAction):W.getAttribute(\"formAction\"),f!==null&&(R=f,W=null));var J=new Y5(\"action\",\"action\",null,w,x);u.push({event:J,listeners:[{instance:null,listener:function(){if(w.defaultPrevented){if(Dd!==0){var te=W?AL(x,W):new FormData(x);zC(g,{pending:!0,data:te,method:x.method,action:R},null,te)}}else typeof R==\"function\"&&(J.preventDefault(),te=W?AL(x,W):new FormData(x),zC(g,{pending:!0,data:te,method:x.method,action:R},R,te))},currentTarget:x}]})}}for(var _S=0;_S<iC.length;_S++){var CS=iC[_S],kde=CS.toLowerCase(),Mde=CS[0].toUpperCase()+CS.slice(1);Ba(kde,\"on\"+Mde)}Ba(rD,\"onAnimationEnd\"),Ba(iD,\"onAnimationIteration\"),Ba(sD,\"onAnimationStart\"),Ba(\"dblclick\",\"onDoubleClick\"),Ba(\"focusin\",\"onFocus\"),Ba(\"focusout\",\"onBlur\"),Ba(Jue,\"onTransitionRun\"),Ba(Xue,\"onTransitionStart\"),Ba(Que,\"onTransitionCancel\"),Ba(oD,\"onTransitionEnd\"),sg(\"onMouseEnter\",[\"mouseout\",\"mouseover\"]),sg(\"onMouseLeave\",[\"mouseout\",\"mouseover\"]),sg(\"onPointerEnter\",[\"pointerout\",\"pointerover\"]),sg(\"onPointerLeave\",[\"pointerout\",\"pointerover\"]),Ch(\"onChange\",\"change click focusin focusout input keydown keyup selectionchange\".split(\" \")),Ch(\"onSelect\",\"focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange\".split(\" \")),Ch(\"onBeforeInput\",[\"compositionend\",\"keypress\",\"textInput\",\"paste\"]),Ch(\"onCompositionEnd\",\"compositionend focusout keydown keypress keyup mousedown\".split(\" \")),Ch(\"onCompositionStart\",\"compositionstart focusout keydown keypress keyup mousedown\".split(\" \")),Ch(\"onCompositionUpdate\",\"compositionupdate focusout keydown keypress keyup mousedown\".split(\" \"));var wb=\"abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting\".split(\" \"),Dde=new Set(\"beforetoggle cancel close invalid load scroll scrollend toggle\".split(\" \").concat(wb));function $L(u,f){f=(f&4)!==0;for(var g=0;g<u.length;g++){var w=u[g],x=w.event;w=w.listeners;e:{var R=void 0;if(f)for(var W=w.length-1;0<=W;W--){var J=w[W],te=J.instance,de=J.currentTarget;if(J=J.listener,te!==R&&x.isPropagationStopped())break e;R=J,x.currentTarget=de;try{R(x)}catch(be){Q5(be)}x.currentTarget=null,R=te}else for(W=0;W<w.length;W++){if(J=w[W],te=J.instance,de=J.currentTarget,J=J.listener,te!==R&&x.isPropagationStopped())break e;R=J,x.currentTarget=de;try{R(x)}catch(be){Q5(be)}x.currentTarget=null,R=te}}}}function Bt(u,f){var g=f[D9];g===void 0&&(g=f[D9]=new Set);var w=u+\"__bubble\";g.has(w)||(IL(f,u,2,!1),g.add(w))}function SS(u,f,g){var w=0;f&&(w|=4),IL(g,u,w,f)}var U6=\"_reactListening\"+Math.random().toString(36).slice(2);function xS(u){if(!u[U6]){u[U6]=!0,EM.forEach(function(g){g!==\"selectionchange\"&&(Dde.has(g)||SS(g,!1,u),SS(g,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[U6]||(f[U6]=!0,SS(\"selectionchange\",!1,f))}}function IL(u,f,g,w){switch(rU(f)){case 2:var x=ufe;break;case 8:x=dfe;break;default:x=jS}g=x.bind(null,f,g,u),x=void 0,!V9||f!==\"touchstart\"&&f!==\"touchmove\"&&f!==\"wheel\"||(x=!0),w?x!==void 0?u.addEventListener(f,g,{capture:!0,passive:x}):u.addEventListener(f,g,!0):x!==void 0?u.addEventListener(f,g,{passive:x}):u.addEventListener(f,g,!1)}function AS(u,f,g,w,x){var R=w;if((f&1)===0&&(f&2)===0&&w!==null)e:for(;;){if(w===null)return;var W=w.tag;if(W===3||W===4){var J=w.stateNode.containerInfo;if(J===x)break;if(W===4)for(W=w.return;W!==null;){var te=W.tag;if((te===3||te===4)&&W.stateNode.containerInfo===x)return;W=W.return}for(;J!==null;){if(W=ng(J),W===null)return;if(te=W.tag,te===5||te===6||te===26||te===27){w=R=W;continue e}J=J.parentNode}}w=w.return}RM(function(){var de=R,be=q9(g),Ce=[];e:{var fe=aD.get(u);if(fe!==void 0){var pe=Y5,tt=u;switch(u){case\"keypress\":if(G5(g)===0)break e;case\"keydown\":case\"keyup\":pe=Tue;break;case\"focusin\":tt=\"focus\",pe=Z9;break;case\"focusout\":tt=\"blur\",pe=Z9;break;case\"beforeblur\":case\"afterblur\":pe=Z9;break;case\"click\":if(g.button===2)break e;case\"auxclick\":case\"dblclick\":case\"mousedown\":case\"mousemove\":case\"mouseup\":case\"mouseout\":case\"mouseover\":case\"contextmenu\":pe=DM;break;case\"drag\":case\"dragend\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"dragstart\":case\"drop\":pe=yue;break;case\"touchcancel\":case\"touchend\":case\"touchmove\":case\"touchstart\":pe=Nue;break;case rD:case iD:case sD:pe=vue;break;case oD:pe=kue;break;case\"scroll\":case\"scrollend\":pe=gue;break;case\"wheel\":pe=Due;break;case\"copy\":case\"cut\":case\"paste\":pe=_ue;break;case\"gotpointercapture\":case\"lostpointercapture\":case\"pointercancel\":case\"pointerdown\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"pointerup\":pe=LM;break;case\"toggle\":case\"beforetoggle\":pe=Lue}var yt=(f&4)!==0,Tn=!yt&&(u===\"scroll\"||u===\"scrollend\"),se=yt?fe!==null?fe+\"Capture\":null:fe;yt=[];for(var ie=de,le;ie!==null;){var _e=ie;if(le=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||le===null||se===null||(_e=zy(ie,se),_e!=null&&yt.push(vb(ie,_e,le))),Tn)break;ie=ie.return}0<yt.length&&(fe=new pe(fe,tt,null,g,be),Ce.push({event:fe,listeners:yt}))}}if((f&7)===0){e:{if(fe=u===\"mouseover\"||u===\"pointerover\",pe=u===\"mouseout\"||u===\"pointerout\",fe&&g!==F9&&(tt=g.relatedTarget||g.fromElement)&&(ng(tt)||tt[tg]))break e;if((pe||fe)&&(fe=be.window===be?be:(fe=be.ownerDocument)?fe.defaultView||fe.parentWindow:window,pe?(tt=g.relatedTarget||g.toElement,pe=de,tt=tt?ng(tt):null,tt!==null&&(Tn=s(tt),yt=tt.tag,tt!==Tn||yt!==5&&yt!==27&&yt!==6)&&(tt=null)):(pe=null,tt=de),pe!==tt)){if(yt=DM,_e=\"onMouseLeave\",se=\"onMouseEnter\",ie=\"mouse\",(u===\"pointerout\"||u===\"pointerover\")&&(yt=LM,_e=\"onPointerLeave\",se=\"onPointerEnter\",ie=\"pointer\"),Tn=pe==null?fe:jy(pe),le=tt==null?fe:jy(tt),fe=new yt(_e,ie+\"leave\",pe,g,be),fe.target=Tn,fe.relatedTarget=le,_e=null,ng(be)===de&&(yt=new yt(se,ie+\"enter\",tt,g,be),yt.target=le,yt.relatedTarget=Tn,_e=yt),Tn=_e,pe&&tt)t:{for(yt=Bde,se=pe,ie=tt,le=0,_e=se;_e;_e=yt(_e))le++;_e=0;for(var ht=ie;ht;ht=yt(ht))_e++;for(;0<le-_e;)se=yt(se),le--;for(;0<_e-le;)ie=yt(ie),_e--;for(;le--;){if(se===ie||ie!==null&&se===ie.alternate){yt=se;break t}se=yt(se),ie=yt(ie)}yt=null}else yt=null;pe!==null&&TL(Ce,fe,pe,yt,!1),tt!==null&&Tn!==null&&TL(Ce,Tn,tt,yt,!0)}}e:{if(fe=de?jy(de):window,pe=fe.nodeName&&fe.nodeName.toLowerCase(),pe===\"select\"||pe===\"input\"&&fe.type===\"file\")var en=KM;else if(HM(fe))if(WM)en=Gue;else{en=Kue;var ot=Vue}else pe=fe.nodeName,!pe||pe.toLowerCase()!==\"input\"||fe.type!==\"checkbox\"&&fe.type!==\"radio\"?de&&z9(de.elementType)&&(en=KM):en=Wue;if(en&&(en=en(u,de))){VM(Ce,en,g,be);break e}ot&&ot(u,fe,de),u===\"focusout\"&&de&&fe.type===\"number\"&&de.memoizedProps.value!=null&&j9(fe,\"number\",fe.value)}switch(ot=de?jy(de):window,u){case\"focusin\":(HM(ot)||ot.contentEditable===\"true\")&&(dg=ot,tC=de,Zy=null);break;case\"focusout\":Zy=tC=dg=null;break;case\"mousedown\":nC=!0;break;case\"contextmenu\":case\"mouseup\":case\"dragend\":nC=!1,tD(Ce,g,be);break;case\"selectionchange\":if(Yue)break;case\"keydown\":case\"keyup\":tD(Ce,g,be)}var Ot;if(J9)e:{switch(u){case\"compositionstart\":var Ut=\"onCompositionStart\";break e;case\"compositionend\":Ut=\"onCompositionEnd\";break e;case\"compositionupdate\":Ut=\"onCompositionUpdate\";break e}Ut=void 0}else ug?FM(u,g)&&(Ut=\"onCompositionEnd\"):u===\"keydown\"&&g.keyCode===229&&(Ut=\"onCompositionStart\");Ut&&(UM&&g.locale!==\"ko\"&&(ug||Ut!==\"onCompositionStart\"?Ut===\"onCompositionEnd\"&&ug&&(Ot=kM()):(vd=be,K9=\"value\"in vd?vd.value:vd.textContent,ug=!0)),ot=j6(de,Ut),0<ot.length&&(Ut=new BM(Ut,u,null,g,be),Ce.push({event:Ut,listeners:ot}),Ot?Ut.data=Ot:(Ot=qM(g),Ot!==null&&(Ut.data=Ot)))),(Ot=jue?zue(u,g):Fue(u,g))&&(Ut=j6(de,\"onBeforeInput\"),0<Ut.length&&(ot=new BM(\"onBeforeInput\",\"beforeinput\",null,g,be),Ce.push({event:ot,listeners:Ut}),ot.data=Ot)),Rde(Ce,u,de,g,be)}$L(Ce,f)})}function vb(u,f,g){return{instance:u,listener:f,currentTarget:g}}function j6(u,f){for(var g=f+\"Capture\",w=[];u!==null;){var x=u,R=x.stateNode;if(x=x.tag,x!==5&&x!==26&&x!==27||R===null||(x=zy(u,g),x!=null&&w.unshift(vb(u,x,R)),x=zy(u,f),x!=null&&w.push(vb(u,x,R))),u.tag===3)return w;u=u.return}return[]}function Bde(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function TL(u,f,g,w,x){for(var R=f._reactName,W=[];g!==null&&g!==w;){var J=g,te=J.alternate,de=J.stateNode;if(J=J.tag,te!==null&&te===w)break;J!==5&&J!==26&&J!==27||de===null||(te=de,x?(de=zy(g,R),de!=null&&W.unshift(vb(g,de,te))):x||(de=zy(g,R),de!=null&&W.push(vb(g,de,te)))),g=g.return}W.length!==0&&u.push({event:f,listeners:W})}var Lde=/\\r\\n?/g,Ude=/\\u0000|\\uFFFD/g;function PL(u){return(typeof u==\"string\"?u:\"\"+u).replace(Lde,`\n`).replace(Ude,\"\")}function OL(u,f){return f=PL(f),PL(u)===f}function In(u,f,g,w,x,R){switch(g){case\"children\":typeof w==\"string\"?f===\"body\"||f===\"textarea\"&&w===\"\"||ag(u,w):(typeof w==\"number\"||typeof w==\"bigint\")&&f!==\"body\"&&ag(u,\"\"+w);break;case\"className\":H5(u,\"class\",w);break;case\"tabIndex\":H5(u,\"tabindex\",w);break;case\"dir\":case\"role\":case\"viewBox\":case\"width\":case\"height\":H5(u,g,w);break;case\"style\":OM(u,w,R);break;case\"data\":if(f!==\"object\"){H5(u,\"data\",w);break}case\"src\":case\"href\":if(w===\"\"&&(f!==\"a\"||g!==\"href\")){u.removeAttribute(g);break}if(w==null||typeof w==\"function\"||typeof w==\"symbol\"||typeof w==\"boolean\"){u.removeAttribute(g);break}w=K5(\"\"+w),u.setAttribute(g,w);break;case\"action\":case\"formAction\":if(typeof w==\"function\"){u.setAttribute(g,\"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')\");break}else typeof R==\"function\"&&(g===\"formAction\"?(f!==\"input\"&&In(u,f,\"name\",x.name,x,null),In(u,f,\"formEncType\",x.formEncType,x,null),In(u,f,\"formMethod\",x.formMethod,x,null),In(u,f,\"formTarget\",x.formTarget,x,null)):(In(u,f,\"encType\",x.encType,x,null),In(u,f,\"method\",x.method,x,null),In(u,f,\"target\",x.target,x,null)));if(w==null||typeof w==\"symbol\"||typeof w==\"boolean\"){u.removeAttribute(g);break}w=K5(\"\"+w),u.setAttribute(g,w);break;case\"onClick\":w!=null&&(u.onclick=Dl);break;case\"onScroll\":w!=null&&Bt(\"scroll\",u);break;case\"onScrollEnd\":w!=null&&Bt(\"scrollend\",u);break;case\"dangerouslySetInnerHTML\":if(w!=null){if(typeof w!=\"object\"||!(\"__html\"in w))throw Error(r(61));if(g=w.__html,g!=null){if(x.children!=null)throw Error(r(60));u.innerHTML=g}}break;case\"multiple\":u.multiple=w&&typeof w!=\"function\"&&typeof w!=\"symbol\";break;case\"muted\":u.muted=w&&typeof w!=\"function\"&&typeof w!=\"symbol\";break;case\"suppressContentEditableWarning\":case\"suppressHydrationWarning\":case\"defaultValue\":case\"defaultChecked\":case\"innerHTML\":case\"ref\":break;case\"autoFocus\":break;case\"xlinkHref\":if(w==null||typeof w==\"function\"||typeof w==\"boolean\"||typeof w==\"symbol\"){u.removeAttribute(\"xlink:href\");break}g=K5(\"\"+w),u.setAttributeNS(\"http://www.w3.org/1999/xlink\",\"xlink:href\",g);break;case\"contentEditable\":case\"spellCheck\":case\"draggable\":case\"value\":case\"autoReverse\":case\"externalResourcesRequired\":case\"focusable\":case\"preserveAlpha\":w!=null&&typeof w!=\"function\"&&typeof w!=\"symbol\"?u.setAttribute(g,\"\"+w):u.removeAttribute(g);break;case\"inert\":case\"allowFullScreen\":case\"async\":case\"autoPlay\":case\"controls\":case\"default\":case\"defer\":case\"disabled\":case\"disablePictureInPicture\":case\"disableRemotePlayback\":case\"formNoValidate\":case\"hidden\":case\"loop\":case\"noModule\":case\"noValidate\":case\"open\":case\"playsInline\":case\"readOnly\":case\"required\":case\"reversed\":case\"scoped\":case\"seamless\":case\"itemScope\":w&&typeof w!=\"function\"&&typeof w!=\"symbol\"?u.setAttribute(g,\"\"):u.removeAttribute(g);break;case\"capture\":case\"download\":w===!0?u.setAttribute(g,\"\"):w!==!1&&w!=null&&typeof w!=\"function\"&&typeof w!=\"symbol\"?u.setAttribute(g,w):u.removeAttribute(g);break;case\"cols\":case\"rows\":case\"size\":case\"span\":w!=null&&typeof w!=\"function\"&&typeof w!=\"symbol\"&&!isNaN(w)&&1<=w?u.setAttribute(g,w):u.removeAttribute(g);break;case\"rowSpan\":case\"start\":w==null||typeof w==\"function\"||typeof w==\"symbol\"||isNaN(w)?u.removeAttribute(g):u.setAttribute(g,w);break;case\"popover\":Bt(\"beforetoggle\",u),Bt(\"toggle\",u),q5(u,\"popover\",w);break;case\"xlinkActuate\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:actuate\",w);break;case\"xlinkArcrole\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:arcrole\",w);break;case\"xlinkRole\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:role\",w);break;case\"xlinkShow\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:show\",w);break;case\"xlinkTitle\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:title\",w);break;case\"xlinkType\":Ml(u,\"http://www.w3.org/1999/xlink\",\"xlink:type\",w);break;case\"xmlBase\":Ml(u,\"http://www.w3.org/XML/1998/namespace\",\"xml:base\",w);break;case\"xmlLang\":Ml(u,\"http://www.w3.org/XML/1998/namespace\",\"xml:lang\",w);break;case\"xmlSpace\":Ml(u,\"http://www.w3.org/XML/1998/namespace\",\"xml:space\",w);break;case\"is\":q5(u,\"is\",w);break;case\"innerText\":case\"textContent\":break;default:(!(2<g.length)||g[0]!==\"o\"&&g[0]!==\"O\"||g[1]!==\"n\"&&g[1]!==\"N\")&&(g=hue.get(g)||g,q5(u,g,w))}}function $S(u,f,g,w,x,R){switch(g){case\"style\":OM(u,w,R);break;case\"dangerouslySetInnerHTML\":if(w!=null){if(typeof w!=\"object\"||!(\"__html\"in w))throw Error(r(61));if(g=w.__html,g!=null){if(x.children!=null)throw Error(r(60));u.innerHTML=g}}break;case\"children\":typeof w==\"string\"?ag(u,w):(typeof w==\"number\"||typeof w==\"bigint\")&&ag(u,\"\"+w);break;case\"onScroll\":w!=null&&Bt(\"scroll\",u);break;case\"onScrollEnd\":w!=null&&Bt(\"scrollend\",u);break;case\"onClick\":w!=null&&(u.onclick=Dl);break;case\"suppressContentEditableWarning\":case\"suppressHydrationWarning\":case\"innerHTML\":case\"ref\":break;case\"innerText\":case\"textContent\":break;default:if(!_M.hasOwnProperty(g))e:{if(g[0]===\"o\"&&g[1]===\"n\"&&(x=g.endsWith(\"Capture\"),f=g.slice(2,x?g.length-7:void 0),R=u[Ss]||null,R=R!=null?R[g]:null,typeof R==\"function\"&&u.removeEventListener(f,R,x),typeof w==\"function\")){typeof R!=\"function\"&&R!==null&&(g in u?u[g]=null:u.hasAttribute(g)&&u.removeAttribute(g)),u.addEventListener(f,w,x);break e}g in u?u[g]=w:w===!0?u.setAttribute(g,\"\"):q5(u,g,w)}}}function xi(u,f,g){switch(f){case\"div\":case\"span\":case\"svg\":case\"path\":case\"a\":case\"g\":case\"p\":case\"li\":break;case\"img\":Bt(\"error\",u),Bt(\"load\",u);var w=!1,x=!1,R;for(R in g)if(g.hasOwnProperty(R)){var W=g[R];if(W!=null)switch(R){case\"src\":w=!0;break;case\"srcSet\":x=!0;break;case\"children\":case\"dangerouslySetInnerHTML\":throw Error(r(137,f));default:In(u,f,R,W,g,null)}}x&&In(u,f,\"srcSet\",g.srcSet,g,null),w&&In(u,f,\"src\",g.src,g,null);return;case\"input\":Bt(\"invalid\",u);var J=R=W=x=null,te=null,de=null;for(w in g)if(g.hasOwnProperty(w)){var be=g[w];if(be!=null)switch(w){case\"name\":x=be;break;case\"type\":W=be;break;case\"checked\":te=be;break;case\"defaultChecked\":de=be;break;case\"value\":R=be;break;case\"defaultValue\":J=be;break;case\"children\":case\"dangerouslySetInnerHTML\":if(be!=null)throw Error(r(137,f));break;default:In(u,f,w,be,g,null)}}$M(u,R,J,te,de,W,x,!1);return;case\"select\":Bt(\"invalid\",u),w=W=R=null;for(x in g)if(g.hasOwnProperty(x)&&(J=g[x],J!=null))switch(x){case\"value\":R=J;break;case\"defaultValue\":W=J;break;case\"multiple\":w=J;default:In(u,f,x,J,g,null)}f=R,g=W,u.multiple=!!w,f!=null?og(u,!!w,f,!1):g!=null&&og(u,!!w,g,!0);return;case\"textarea\":Bt(\"invalid\",u),R=x=w=null;for(W in g)if(g.hasOwnProperty(W)&&(J=g[W],J!=null))switch(W){case\"value\":w=J;break;case\"defaultValue\":x=J;break;case\"children\":R=J;break;case\"dangerouslySetInnerHTML\":if(J!=null)throw Error(r(91));break;default:In(u,f,W,J,g,null)}TM(u,w,x,R);return;case\"option\":for(te in g)if(g.hasOwnProperty(te)&&(w=g[te],w!=null))switch(te){case\"selected\":u.selected=w&&typeof w!=\"function\"&&typeof w!=\"symbol\";break;default:In(u,f,te,w,g,null)}return;case\"dialog\":Bt(\"beforetoggle\",u),Bt(\"toggle\",u),Bt(\"cancel\",u),Bt(\"close\",u);break;case\"iframe\":case\"object\":Bt(\"load\",u);break;case\"video\":case\"audio\":for(w=0;w<wb.length;w++)Bt(wb[w],u);break;case\"image\":Bt(\"error\",u),Bt(\"load\",u);break;case\"details\":Bt(\"toggle\",u);break;case\"embed\":case\"source\":case\"link\":Bt(\"error\",u),Bt(\"load\",u);case\"area\":case\"base\":case\"br\":case\"col\":case\"hr\":case\"keygen\":case\"meta\":case\"param\":case\"track\":case\"wbr\":case\"menuitem\":for(de in g)if(g.hasOwnProperty(de)&&(w=g[de],w!=null))switch(de){case\"children\":case\"dangerouslySetInnerHTML\":throw Error(r(137,f));default:In(u,f,de,w,g,null)}return;default:if(z9(f)){for(be in g)g.hasOwnProperty(be)&&(w=g[be],w!==void 0&&$S(u,f,be,w,g,void 0));return}}for(J in g)g.hasOwnProperty(J)&&(w=g[J],w!=null&&In(u,f,J,w,g,null))}function jde(u,f,g,w){switch(f){case\"div\":case\"span\":case\"svg\":case\"path\":case\"a\":case\"g\":case\"p\":case\"li\":break;case\"input\":var x=null,R=null,W=null,J=null,te=null,de=null,be=null;for(pe in g){var Ce=g[pe];if(g.hasOwnProperty(pe)&&Ce!=null)switch(pe){case\"checked\":break;case\"value\":break;case\"defaultValue\":te=Ce;default:w.hasOwnProperty(pe)||In(u,f,pe,null,w,Ce)}}for(var fe in w){var pe=w[fe];if(Ce=g[fe],w.hasOwnProperty(fe)&&(pe!=null||Ce!=null))switch(fe){case\"type\":R=pe;break;case\"name\":x=pe;break;case\"checked\":de=pe;break;case\"defaultChecked\":be=pe;break;case\"value\":W=pe;break;case\"defaultValue\":J=pe;break;case\"children\":case\"dangerouslySetInnerHTML\":if(pe!=null)throw Error(r(137,f));break;default:pe!==Ce&&In(u,f,fe,pe,w,Ce)}}U9(u,W,J,te,de,be,R,x);return;case\"select\":pe=W=J=fe=null;for(R in g)if(te=g[R],g.hasOwnProperty(R)&&te!=null)switch(R){case\"value\":break;case\"multiple\":pe=te;default:w.hasOwnProperty(R)||In(u,f,R,null,w,te)}for(x in w)if(R=w[x],te=g[x],w.hasOwnProperty(x)&&(R!=null||te!=null))switch(x){case\"value\":fe=R;break;case\"defaultValue\":J=R;break;case\"multiple\":W=R;default:R!==te&&In(u,f,x,R,w,te)}f=J,g=W,w=pe,fe!=null?og(u,!!g,fe,!1):!!w!=!!g&&(f!=null?og(u,!!g,f,!0):og(u,!!g,g?[]:\"\",!1));return;case\"textarea\":pe=fe=null;for(J in g)if(x=g[J],g.hasOwnProperty(J)&&x!=null&&!w.hasOwnProperty(J))switch(J){case\"value\":break;case\"children\":break;default:In(u,f,J,null,w,x)}for(W in w)if(x=w[W],R=g[W],w.hasOwnProperty(W)&&(x!=null||R!=null))switch(W){case\"value\":fe=x;break;case\"defaultValue\":pe=x;break;case\"children\":break;case\"dangerouslySetInnerHTML\":if(x!=null)throw Error(r(91));break;default:x!==R&&In(u,f,W,x,w,R)}IM(u,fe,pe);return;case\"option\":for(var tt in g)if(fe=g[tt],g.hasOwnProperty(tt)&&fe!=null&&!w.hasOwnProperty(tt))switch(tt){case\"selected\":u.selected=!1;break;default:In(u,f,tt,null,w,fe)}for(te in w)if(fe=w[te],pe=g[te],w.hasOwnProperty(te)&&fe!==pe&&(fe!=null||pe!=null))switch(te){case\"selected\":u.selected=fe&&typeof fe!=\"function\"&&typeof fe!=\"symbol\";break;default:In(u,f,te,fe,w,pe)}return;case\"img\":case\"link\":case\"area\":case\"base\":case\"br\":case\"col\":case\"embed\":case\"hr\":case\"keygen\":case\"meta\":case\"param\":case\"source\":case\"track\":case\"wbr\":case\"menuitem\":for(var yt in g)fe=g[yt],g.hasOwnProperty(yt)&&fe!=null&&!w.hasOwnProperty(yt)&&In(u,f,yt,null,w,fe);for(de in w)if(fe=w[de],pe=g[de],w.hasOwnProperty(de)&&fe!==pe&&(fe!=null||pe!=null))switch(de){case\"children\":case\"dangerouslySetInnerHTML\":if(fe!=null)throw Error(r(137,f));break;default:In(u,f,de,fe,w,pe)}return;default:if(z9(f)){for(var Tn in g)fe=g[Tn],g.hasOwnProperty(Tn)&&fe!==void 0&&!w.hasOwnProperty(Tn)&&$S(u,f,Tn,void 0,w,fe);for(be in w)fe=w[be],pe=g[be],!w.hasOwnProperty(be)||fe===pe||fe===void 0&&pe===void 0||$S(u,f,be,fe,w,pe);return}}for(var se in g)fe=g[se],g.hasOwnProperty(se)&&fe!=null&&!w.hasOwnProperty(se)&&In(u,f,se,null,w,fe);for(Ce in w)fe=w[Ce],pe=g[Ce],!w.hasOwnProperty(Ce)||fe===pe||fe==null&&pe==null||In(u,f,Ce,fe,w,pe)}function NL(u){switch(u){case\"css\":case\"script\":case\"font\":case\"img\":case\"image\":case\"input\":case\"link\":return!0;default:return!1}}function zde(){if(typeof performance.getEntriesByType==\"function\"){for(var u=0,f=0,g=performance.getEntriesByType(\"resource\"),w=0;w<g.length;w++){var x=g[w],R=x.transferSize,W=x.initiatorType,J=x.duration;if(R&&J&&NL(W)){for(W=0,J=x.responseEnd,w+=1;w<g.length;w++){var te=g[w],de=te.startTime;if(de>J)break;var be=te.transferSize,Ce=te.initiatorType;be&&NL(Ce)&&(te=te.responseEnd,W+=be*(te<J?1:(J-de)/(te-de)))}if(--w,f+=8*(R+W)/(x.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u==\"number\")?u:5}var IS=null,TS=null;function z6(u){return u.nodeType===9?u:u.ownerDocument}function RL(u){switch(u){case\"http://www.w3.org/2000/svg\":return 1;case\"http://www.w3.org/1998/Math/MathML\":return 2;default:return 0}}function kL(u,f){if(u===0)switch(f){case\"svg\":return 1;case\"math\":return 2;default:return 0}return u===1&&f===\"foreignObject\"?0:u}function PS(u,f){return u===\"textarea\"||u===\"noscript\"||typeof f.children==\"string\"||typeof f.children==\"number\"||typeof f.children==\"bigint\"||typeof f.dangerouslySetInnerHTML==\"object\"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var OS=null;function Fde(){var u=window.event;return u&&u.type===\"popstate\"?u===OS?!1:(OS=u,!0):(OS=null,!1)}var ML=typeof setTimeout==\"function\"?setTimeout:void 0,qde=typeof clearTimeout==\"function\"?clearTimeout:void 0,DL=typeof Promise==\"function\"?Promise:void 0,Hde=typeof queueMicrotask==\"function\"?queueMicrotask:typeof DL<\"u\"?function(u){return DL.resolve(null).then(u).catch(Vde)}:ML;function Vde(u){setTimeout(function(){throw u})}function Bd(u){return u===\"head\"}function BL(u,f){var g=f,w=0;do{var x=g.nextSibling;if(u.removeChild(g),x&&x.nodeType===8)if(g=x.data,g===\"/$\"||g===\"/&\"){if(w===0){u.removeChild(x),Lg(f);return}w--}else if(g===\"$\"||g===\"$?\"||g===\"$~\"||g===\"$!\"||g===\"&\")w++;else if(g===\"html\")Eb(u.ownerDocument.documentElement);else if(g===\"head\"){g=u.ownerDocument.head,Eb(g);for(var R=g.firstChild;R;){var W=R.nextSibling,J=R.nodeName;R[Uy]||J===\"SCRIPT\"||J===\"STYLE\"||J===\"LINK\"&&R.rel.toLowerCase()===\"stylesheet\"||g.removeChild(R),R=W}}else g===\"body\"&&Eb(u.ownerDocument.body);g=x}while(g);Lg(f)}function LL(u,f){var g=u;u=0;do{var w=g.nextSibling;if(g.nodeType===1?f?(g._stashedDisplay=g.style.display,g.style.display=\"none\"):(g.style.display=g._stashedDisplay||\"\",g.getAttribute(\"style\")===\"\"&&g.removeAttribute(\"style\")):g.nodeType===3&&(f?(g._stashedText=g.nodeValue,g.nodeValue=\"\"):g.nodeValue=g._stashedText||\"\"),w&&w.nodeType===8)if(g=w.data,g===\"/$\"){if(u===0)break;u--}else g!==\"$\"&&g!==\"$?\"&&g!==\"$~\"&&g!==\"$!\"||u++;g=w}while(g)}function NS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var g=f;switch(f=f.nextSibling,g.nodeName){case\"HTML\":case\"HEAD\":case\"BODY\":NS(g),B9(g);continue;case\"SCRIPT\":case\"STYLE\":continue;case\"LINK\":if(g.rel.toLowerCase()===\"stylesheet\")continue}u.removeChild(g)}}function Kde(u,f,g,w){for(;u.nodeType===1;){var x=g;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!w&&(u.nodeName!==\"INPUT\"||u.type!==\"hidden\"))break}else if(w){if(!u[Uy])switch(f){case\"meta\":if(!u.hasAttribute(\"itemprop\"))break;return u;case\"link\":if(R=u.getAttribute(\"rel\"),R===\"stylesheet\"&&u.hasAttribute(\"data-precedence\"))break;if(R!==x.rel||u.getAttribute(\"href\")!==(x.href==null||x.href===\"\"?null:x.href)||u.getAttribute(\"crossorigin\")!==(x.crossOrigin==null?null:x.crossOrigin)||u.getAttribute(\"title\")!==(x.title==null?null:x.title))break;return u;case\"style\":if(u.hasAttribute(\"data-precedence\"))break;return u;case\"script\":if(R=u.getAttribute(\"src\"),(R!==(x.src==null?null:x.src)||u.getAttribute(\"type\")!==(x.type==null?null:x.type)||u.getAttribute(\"crossorigin\")!==(x.crossOrigin==null?null:x.crossOrigin))&&R&&u.hasAttribute(\"async\")&&!u.hasAttribute(\"itemprop\"))break;return u;default:return u}}else if(f===\"input\"&&u.type===\"hidden\"){var R=x.name==null?null:\"\"+x.name;if(x.type===\"hidden\"&&u.getAttribute(\"name\")===R)return u}else return u;if(u=aa(u.nextSibling),u===null)break}return null}function Wde(u,f,g){if(f===\"\")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!==\"INPUT\"||u.type!==\"hidden\")&&!g||(u=aa(u.nextSibling),u===null))return null;return u}function UL(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!==\"INPUT\"||u.type!==\"hidden\")&&!f||(u=aa(u.nextSibling),u===null))return null;return u}function RS(u){return u.data===\"$?\"||u.data===\"$~\"}function kS(u){return u.data===\"$!\"||u.data===\"$?\"&&u.ownerDocument.readyState!==\"loading\"}function Gde(u,f){var g=u.ownerDocument;if(u.data===\"$~\")u._reactRetry=f;else if(u.data!==\"$?\"||g.readyState!==\"loading\")f();else{var w=function(){f(),g.removeEventListener(\"DOMContentLoaded\",w)};g.addEventListener(\"DOMContentLoaded\",w),u._reactRetry=w}}function aa(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f===\"$\"||f===\"$!\"||f===\"$?\"||f===\"$~\"||f===\"&\"||f===\"F!\"||f===\"F\")break;if(f===\"/$\"||f===\"/&\")return null}}return u}var MS=null;function jL(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g===\"/$\"||g===\"/&\"){if(f===0)return aa(u.nextSibling);f--}else g!==\"$\"&&g!==\"$!\"&&g!==\"$?\"&&g!==\"$~\"&&g!==\"&\"||f++}u=u.nextSibling}return null}function zL(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var g=u.data;if(g===\"$\"||g===\"$!\"||g===\"$?\"||g===\"$~\"||g===\"&\"){if(f===0)return u;f--}else g!==\"/$\"&&g!==\"/&\"||f++}u=u.previousSibling}return null}function FL(u,f,g){switch(f=z6(g),u){case\"html\":if(u=f.documentElement,!u)throw Error(r(452));return u;case\"head\":if(u=f.head,!u)throw Error(r(453));return u;case\"body\":if(u=f.body,!u)throw Error(r(454));return u;default:throw Error(r(451))}}function Eb(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);B9(u)}var ca=new Map,qL=new Set;function F6(u){return typeof u.getRootNode==\"function\"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Xl=q.d;q.d={f:Zde,r:Yde,D:Jde,C:Xde,L:Qde,m:efe,X:nfe,S:tfe,M:rfe};function Zde(){var u=Xl.f(),f=R6();return u||f}function Yde(u){var f=rg(u);f!==null&&f.tag===5&&f.type===\"form\"?oB(f):Xl.r(u)}var Mg=typeof document>\"u\"?null:document;function HL(u,f,g){var w=Mg;if(w&&typeof f==\"string\"&&f){var x=ea(f);x='link[rel=\"'+u+'\"][href=\"'+x+'\"]',typeof g==\"string\"&&(x+='[crossorigin=\"'+g+'\"]'),qL.has(x)||(qL.add(x),u={rel:u,crossOrigin:g,href:f},w.querySelector(x)===null&&(f=w.createElement(\"link\"),xi(f,\"link\",u),Wr(f),w.head.appendChild(f)))}}function Jde(u){Xl.D(u),HL(\"dns-prefetch\",u,null)}function Xde(u,f){Xl.C(u,f),HL(\"preconnect\",u,f)}function Qde(u,f,g){Xl.L(u,f,g);var w=Mg;if(w&&u&&f){var x='link[rel=\"preload\"][as=\"'+ea(f)+'\"]';f===\"image\"&&g&&g.imageSrcSet?(x+='[imagesrcset=\"'+ea(g.imageSrcSet)+'\"]',typeof g.imageSizes==\"string\"&&(x+='[imagesizes=\"'+ea(g.imageSizes)+'\"]')):x+='[href=\"'+ea(u)+'\"]';var R=x;switch(f){case\"style\":R=Dg(u);break;case\"script\":R=Bg(u)}ca.has(R)||(u=h({rel:\"preload\",href:f===\"image\"&&g&&g.imageSrcSet?void 0:u,as:f},g),ca.set(R,u),w.querySelector(x)!==null||f===\"style\"&&w.querySelector(_b(R))||f===\"script\"&&w.querySelector(Cb(R))||(f=w.createElement(\"link\"),xi(f,\"link\",u),Wr(f),w.head.appendChild(f)))}}function efe(u,f){Xl.m(u,f);var g=Mg;if(g&&u){var w=f&&typeof f.as==\"string\"?f.as:\"script\",x='link[rel=\"modulepreload\"][as=\"'+ea(w)+'\"][href=\"'+ea(u)+'\"]',R=x;switch(w){case\"audioworklet\":case\"paintworklet\":case\"serviceworker\":case\"sharedworker\":case\"worker\":case\"script\":R=Bg(u)}if(!ca.has(R)&&(u=h({rel:\"modulepreload\",href:u},f),ca.set(R,u),g.querySelector(x)===null)){switch(w){case\"audioworklet\":case\"paintworklet\":case\"serviceworker\":case\"sharedworker\":case\"worker\":case\"script\":if(g.querySelector(Cb(R)))return}w=g.createElement(\"link\"),xi(w,\"link\",u),Wr(w),g.head.appendChild(w)}}}function tfe(u,f,g){Xl.S(u,f,g);var w=Mg;if(w&&u){var x=ig(w).hoistableStyles,R=Dg(u);f=f||\"default\";var W=x.get(R);if(!W){var J={loading:0,preload:null};if(W=w.querySelector(_b(R)))J.loading=5;else{u=h({rel:\"stylesheet\",href:u,\"data-precedence\":f},g),(g=ca.get(R))&&DS(u,g);var te=W=w.createElement(\"link\");Wr(te),xi(te,\"link\",u),te._p=new Promise(function(de,be){te.onload=de,te.onerror=be}),te.addEventListener(\"load\",function(){J.loading|=1}),te.addEventListener(\"error\",function(){J.loading|=2}),J.loading|=4,q6(W,f,w)}W={type:\"stylesheet\",instance:W,count:1,state:J},x.set(R,W)}}}function nfe(u,f){Xl.X(u,f);var g=Mg;if(g&&u){var w=ig(g).hoistableScripts,x=Bg(u),R=w.get(x);R||(R=g.querySelector(Cb(x)),R||(u=h({src:u,async:!0},f),(f=ca.get(x))&&BS(u,f),R=g.createElement(\"script\"),Wr(R),xi(R,\"link\",u),g.head.appendChild(R)),R={type:\"script\",instance:R,count:1,state:null},w.set(x,R))}}function rfe(u,f){Xl.M(u,f);var g=Mg;if(g&&u){var w=ig(g).hoistableScripts,x=Bg(u),R=w.get(x);R||(R=g.querySelector(Cb(x)),R||(u=h({src:u,async:!0,type:\"module\"},f),(f=ca.get(x))&&BS(u,f),R=g.createElement(\"script\"),Wr(R),xi(R,\"link\",u),g.head.appendChild(R)),R={type:\"script\",instance:R,count:1,state:null},w.set(x,R))}}function VL(u,f,g,w){var x=(x=Z.current)?F6(x):null;if(!x)throw Error(r(446));switch(u){case\"meta\":case\"title\":return null;case\"style\":return typeof g.precedence==\"string\"&&typeof g.href==\"string\"?(f=Dg(g.href),g=ig(x).hoistableStyles,w=g.get(f),w||(w={type:\"style\",instance:null,count:0,state:null},g.set(f,w)),w):{type:\"void\",instance:null,count:0,state:null};case\"link\":if(g.rel===\"stylesheet\"&&typeof g.href==\"string\"&&typeof g.precedence==\"string\"){u=Dg(g.href);var R=ig(x).hoistableStyles,W=R.get(u);if(W||(x=x.ownerDocument||x,W={type:\"stylesheet\",instance:null,count:0,state:{loading:0,preload:null}},R.set(u,W),(R=x.querySelector(_b(u)))&&!R._p&&(W.instance=R,W.state.loading=5),ca.has(u)||(g={rel:\"preload\",as:\"style\",href:g.href,crossOrigin:g.crossOrigin,integrity:g.integrity,media:g.media,hrefLang:g.hrefLang,referrerPolicy:g.referrerPolicy},ca.set(u,g),R||ife(x,u,g,W.state))),f&&w===null)throw Error(r(528,\"\"));return W}if(f&&w!==null)throw Error(r(529,\"\"));return null;case\"script\":return f=g.async,g=g.src,typeof g==\"string\"&&f&&typeof f!=\"function\"&&typeof f!=\"symbol\"?(f=Bg(g),g=ig(x).hoistableScripts,w=g.get(f),w||(w={type:\"script\",instance:null,count:0,state:null},g.set(f,w)),w):{type:\"void\",instance:null,count:0,state:null};default:throw Error(r(444,u))}}function Dg(u){return'href=\"'+ea(u)+'\"'}function _b(u){return'link[rel=\"stylesheet\"]['+u+\"]\"}function KL(u){return h({},u,{\"data-precedence\":u.precedence,precedence:null})}function ife(u,f,g,w){u.querySelector('link[rel=\"preload\"][as=\"style\"]['+f+\"]\")?w.loading=1:(f=u.createElement(\"link\"),w.preload=f,f.addEventListener(\"load\",function(){return w.loading|=1}),f.addEventListener(\"error\",function(){return w.loading|=2}),xi(f,\"link\",g),Wr(f),u.head.appendChild(f))}function Bg(u){return'[src=\"'+ea(u)+'\"]'}function Cb(u){return\"script[async]\"+u}function WL(u,f,g){if(f.count++,f.instance===null)switch(f.type){case\"style\":var w=u.querySelector('style[data-href~=\"'+ea(g.href)+'\"]');if(w)return f.instance=w,Wr(w),w;var x=h({},g,{\"data-href\":g.href,\"data-precedence\":g.precedence,href:null,precedence:null});return w=(u.ownerDocument||u).createElement(\"style\"),Wr(w),xi(w,\"style\",x),q6(w,g.precedence,u),f.instance=w;case\"stylesheet\":x=Dg(g.href);var R=u.querySelector(_b(x));if(R)return f.state.loading|=4,f.instance=R,Wr(R),R;w=KL(g),(x=ca.get(x))&&DS(w,x),R=(u.ownerDocument||u).createElement(\"link\"),Wr(R);var W=R;return W._p=new Promise(function(J,te){W.onload=J,W.onerror=te}),xi(R,\"link\",w),f.state.loading|=4,q6(R,g.precedence,u),f.instance=R;case\"script\":return R=Bg(g.src),(x=u.querySelector(Cb(R)))?(f.instance=x,Wr(x),x):(w=g,(x=ca.get(R))&&(w=h({},g),BS(w,x)),u=u.ownerDocument||u,x=u.createElement(\"script\"),Wr(x),xi(x,\"link\",w),u.head.appendChild(x),f.instance=x);case\"void\":return null;default:throw Error(r(443,f.type))}else f.type===\"stylesheet\"&&(f.state.loading&4)===0&&(w=f.instance,f.state.loading|=4,q6(w,g.precedence,u));return f.instance}function q6(u,f,g){for(var w=g.querySelectorAll('link[rel=\"stylesheet\"][data-precedence],style[data-precedence]'),x=w.length?w[w.length-1]:null,R=x,W=0;W<w.length;W++){var J=w[W];if(J.dataset.precedence===f)R=J;else if(R!==x)break}R?R.parentNode.insertBefore(u,R.nextSibling):(f=g.nodeType===9?g.head:g,f.insertBefore(u,f.firstChild))}function DS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function BS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var H6=null;function GL(u,f,g){if(H6===null){var w=new Map,x=H6=new Map;x.set(g,w)}else x=H6,w=x.get(g),w||(w=new Map,x.set(g,w));if(w.has(u))return w;for(w.set(u,null),g=g.getElementsByTagName(u),x=0;x<g.length;x++){var R=g[x];if(!(R[Uy]||R[Ei]||u===\"link\"&&R.getAttribute(\"rel\")===\"stylesheet\")&&R.namespaceURI!==\"http://www.w3.org/2000/svg\"){var W=R.getAttribute(f)||\"\";W=u+W;var J=w.get(W);J?J.push(R):w.set(W,[R])}}return w}function ZL(u,f,g){u=u.ownerDocument||u,u.head.insertBefore(g,f===\"title\"?u.querySelector(\"head > title\"):null)}function sfe(u,f,g){if(g===1||f.itemProp!=null)return!1;switch(u){case\"meta\":case\"title\":return!0;case\"style\":if(typeof f.precedence!=\"string\"||typeof f.href!=\"string\"||f.href===\"\")break;return!0;case\"link\":if(typeof f.rel!=\"string\"||typeof f.href!=\"string\"||f.href===\"\"||f.onLoad||f.onError)break;switch(f.rel){case\"stylesheet\":return u=f.disabled,typeof f.precedence==\"string\"&&u==null;default:return!0}case\"script\":if(f.async&&typeof f.async!=\"function\"&&typeof f.async!=\"symbol\"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src==\"string\")return!0}return!1}function YL(u){return!(u.type===\"stylesheet\"&&(u.state.loading&3)===0)}function ofe(u,f,g,w){if(g.type===\"stylesheet\"&&(typeof w.media!=\"string\"||matchMedia(w.media).matches!==!1)&&(g.state.loading&4)===0){if(g.instance===null){var x=Dg(w.href),R=f.querySelector(_b(x));if(R){f=R._p,f!==null&&typeof f==\"object\"&&typeof f.then==\"function\"&&(u.count++,u=V6.bind(u),f.then(u,u)),g.state.loading|=4,g.instance=R,Wr(R);return}R=f.ownerDocument||f,w=KL(w),(x=ca.get(x))&&DS(w,x),R=R.createElement(\"link\"),Wr(R);var W=R;W._p=new Promise(function(J,te){W.onload=J,W.onerror=te}),xi(R,\"link\",w),g.instance=R}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(g,f),(f=g.state.preload)&&(g.state.loading&3)===0&&(u.count++,g=V6.bind(u),f.addEventListener(\"load\",g),f.addEventListener(\"error\",g))}}var LS=0;function afe(u,f){return u.stylesheets&&u.count===0&&W6(u,u.stylesheets),0<u.count||0<u.imgCount?function(g){var w=setTimeout(function(){if(u.stylesheets&&W6(u,u.stylesheets),u.unsuspend){var R=u.unsuspend;u.unsuspend=null,R()}},6e4+f);0<u.imgBytes&&LS===0&&(LS=62500*zde());var x=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&W6(u,u.stylesheets),u.unsuspend)){var R=u.unsuspend;u.unsuspend=null,R()}},(u.imgBytes>LS?50:800)+f);return u.unsuspend=g,function(){u.unsuspend=null,clearTimeout(w),clearTimeout(x)}}:null}function V6(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)W6(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var K6=null;function W6(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,K6=new Map,f.forEach(cfe,u),K6=null,V6.call(u))}function cfe(u,f){if(!(f.state.loading&4)){var g=K6.get(u);if(g)var w=g.get(null);else{g=new Map,K6.set(u,g);for(var x=u.querySelectorAll(\"link[data-precedence],style[data-precedence]\"),R=0;R<x.length;R++){var W=x[R];(W.nodeName===\"LINK\"||W.getAttribute(\"media\")!==\"not all\")&&(g.set(W.dataset.precedence,W),w=W)}w&&g.set(null,w)}x=f.instance,W=x.getAttribute(\"data-precedence\"),R=g.get(W)||w,R===w&&g.set(null,x),g.set(W,x),this.count++,w=V6.bind(this),x.addEventListener(\"load\",w),x.addEventListener(\"error\",w),R?R.parentNode.insertBefore(x,R.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(x,u.firstChild)),f.state.loading|=4}}var Sb={$$typeof:C,Provider:null,Consumer:null,_currentValue:T,_currentValue2:T,_threadCount:0};function lfe(u,f,g,w,x,R,W,J,te){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=R9(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=R9(0),this.hiddenUpdates=R9(null),this.identifierPrefix=w,this.onUncaughtError=x,this.onCaughtError=R,this.onRecoverableError=W,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=te,this.incompleteTransitions=new Map}function JL(u,f,g,w,x,R,W,J,te,de,be,Ce){return u=new lfe(u,f,g,W,te,de,be,Ce,J),f=1,R===!0&&(f|=24),R=co(3,null,null,f),u.current=R,R.stateNode=u,f=yC(),f.refCount++,u.pooledCache=f,f.refCount++,R.memoizedState={element:w,isDehydrated:g,cache:f},EC(R),u}function XL(u){return u?(u=pg,u):pg}function QL(u,f,g,w,x,R){x=XL(x),w.context===null?w.context=x:w.pendingContext=x,w=Ad(f),w.payload={element:g},R=R===void 0?null:R,R!==null&&(w.callback=R),g=$d(u,w,f),g!==null&&(Ps(g,u,f),nb(g,u,f))}function eU(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var g=u.retryLane;u.retryLane=g!==0&&g<f?g:f}}function US(u,f){eU(u,f),(u=u.alternate)&&eU(u,f)}function tU(u){if(u.tag===13||u.tag===31){var f=$h(u,67108864);f!==null&&Ps(f,u,67108864),US(u,67108864)}}function nU(u){if(u.tag===13||u.tag===31){var f=po();f=k9(f);var g=$h(u,f);g!==null&&Ps(g,u,f),US(u,f)}}var G6=!0;function ufe(u,f,g,w){var x=P.T;P.T=null;var R=q.p;try{q.p=2,jS(u,f,g,w)}finally{q.p=R,P.T=x}}function dfe(u,f,g,w){var x=P.T;P.T=null;var R=q.p;try{q.p=8,jS(u,f,g,w)}finally{q.p=R,P.T=x}}function jS(u,f,g,w){if(G6){var x=zS(w);if(x===null)AS(u,f,w,Z6,g),iU(u,w);else if(hfe(x,u,f,g,w))w.stopPropagation();else if(iU(u,w),f&4&&-1<ffe.indexOf(u)){for(;x!==null;){var R=rg(x);if(R!==null)switch(R.tag){case 3:if(R=R.stateNode,R.current.memoizedState.isDehydrated){var W=_h(R.pendingLanes);if(W!==0){var J=R;for(J.pendingLanes|=2,J.entangledLanes|=2;W;){var te=1<<31-vi(W);J.entanglements[1]|=te,W&=~te}Bc(R),(un&6)===0&&(O6=dt()+500,bb(0))}}break;case 31:case 13:J=$h(R,2),J!==null&&Ps(J,R,2),R6(),US(R,2)}if(R=zS(w),R===null&&AS(u,f,w,Z6,g),R===x)break;x=R}x!==null&&w.stopPropagation()}else AS(u,f,w,null,g)}}function zS(u){return u=q9(u),FS(u)}var Z6=null;function FS(u){if(Z6=null,u=ng(u),u!==null){var f=s(u);if(f===null)u=null;else{var g=f.tag;if(g===13){if(u=o(f),u!==null)return u;u=null}else if(g===31){if(u=a(f),u!==null)return u;u=null}else if(g===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Z6=u,null}function rU(u){switch(u){case\"beforetoggle\":case\"cancel\":case\"click\":case\"close\":case\"contextmenu\":case\"copy\":case\"cut\":case\"auxclick\":case\"dblclick\":case\"dragend\":case\"dragstart\":case\"drop\":case\"focusin\":case\"focusout\":case\"input\":case\"invalid\":case\"keydown\":case\"keypress\":case\"keyup\":case\"mousedown\":case\"mouseup\":case\"paste\":case\"pause\":case\"play\":case\"pointercancel\":case\"pointerdown\":case\"pointerup\":case\"ratechange\":case\"reset\":case\"resize\":case\"seeked\":case\"submit\":case\"toggle\":case\"touchcancel\":case\"touchend\":case\"touchstart\":case\"volumechange\":case\"change\":case\"selectionchange\":case\"textInput\":case\"compositionstart\":case\"compositionend\":case\"compositionupdate\":case\"beforeblur\":case\"afterblur\":case\"beforeinput\":case\"blur\":case\"fullscreenchange\":case\"focus\":case\"hashchange\":case\"popstate\":case\"select\":case\"selectstart\":return 2;case\"drag\":case\"dragenter\":case\"dragexit\":case\"dragleave\":case\"dragover\":case\"mousemove\":case\"mouseout\":case\"mouseover\":case\"pointermove\":case\"pointerout\":case\"pointerover\":case\"scroll\":case\"touchmove\":case\"wheel\":case\"mouseenter\":case\"mouseleave\":case\"pointerenter\":case\"pointerleave\":return 8;case\"message\":switch(An()){case Jn:return 2;case bd:return 8;case Nc:case Qp:return 32;case eg:return 268435456;default:return 32}default:return 32}}var qS=!1,Ld=null,Ud=null,jd=null,xb=new Map,Ab=new Map,zd=[],ffe=\"mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset\".split(\" \");function iU(u,f){switch(u){case\"focusin\":case\"focusout\":Ld=null;break;case\"dragenter\":case\"dragleave\":Ud=null;break;case\"mouseover\":case\"mouseout\":jd=null;break;case\"pointerover\":case\"pointerout\":xb.delete(f.pointerId);break;case\"gotpointercapture\":case\"lostpointercapture\":Ab.delete(f.pointerId)}}function $b(u,f,g,w,x,R){return u===null||u.nativeEvent!==R?(u={blockedOn:f,domEventName:g,eventSystemFlags:w,nativeEvent:R,targetContainers:[x]},f!==null&&(f=rg(f),f!==null&&tU(f)),u):(u.eventSystemFlags|=w,f=u.targetContainers,x!==null&&f.indexOf(x)===-1&&f.push(x),u)}function hfe(u,f,g,w,x){switch(f){case\"focusin\":return Ld=$b(Ld,u,f,g,w,x),!0;case\"dragenter\":return Ud=$b(Ud,u,f,g,w,x),!0;case\"mouseover\":return jd=$b(jd,u,f,g,w,x),!0;case\"pointerover\":var R=x.pointerId;return xb.set(R,$b(xb.get(R)||null,u,f,g,w,x)),!0;case\"gotpointercapture\":return R=x.pointerId,Ab.set(R,$b(Ab.get(R)||null,u,f,g,w,x)),!0}return!1}function sU(u){var f=ng(u.target);if(f!==null){var g=s(f);if(g!==null){if(f=g.tag,f===13){if(f=o(g),f!==null){u.blockedOn=f,wM(u.priority,function(){nU(g)});return}}else if(f===31){if(f=a(g),f!==null){u.blockedOn=f,wM(u.priority,function(){nU(g)});return}}else if(f===3&&g.stateNode.current.memoizedState.isDehydrated){u.blockedOn=g.tag===3?g.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Y6(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var g=zS(u.nativeEvent);if(g===null){g=u.nativeEvent;var w=new g.constructor(g.type,g);F9=w,g.target.dispatchEvent(w),F9=null}else return f=rg(g),f!==null&&tU(f),u.blockedOn=g,!1;f.shift()}return!0}function oU(u,f,g){Y6(u)&&g.delete(f)}function pfe(){qS=!1,Ld!==null&&Y6(Ld)&&(Ld=null),Ud!==null&&Y6(Ud)&&(Ud=null),jd!==null&&Y6(jd)&&(jd=null),xb.forEach(oU),Ab.forEach(oU)}function J6(u,f){u.blockedOn===f&&(u.blockedOn=null,qS||(qS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,pfe)))}var X6=null;function aU(u){X6!==u&&(X6=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){X6===u&&(X6=null);for(var f=0;f<u.length;f+=3){var g=u[f],w=u[f+1],x=u[f+2];if(typeof w!=\"function\"){if(FS(w||g)===null)continue;break}var R=rg(g);R!==null&&(u.splice(f,3),f-=3,zC(R,{pending:!0,data:x,method:g.method,action:w},w,x))}}))}function Lg(u){function f(te){return J6(te,u)}Ld!==null&&J6(Ld,u),Ud!==null&&J6(Ud,u),jd!==null&&J6(jd,u),xb.forEach(f),Ab.forEach(f);for(var g=0;g<zd.length;g++){var w=zd[g];w.blockedOn===u&&(w.blockedOn=null)}for(;0<zd.length&&(g=zd[0],g.blockedOn===null);)sU(g),g.blockedOn===null&&zd.shift();if(g=(u.ownerDocument||u).$$reactFormReplay,g!=null)for(w=0;w<g.length;w+=3){var x=g[w],R=g[w+1],W=x[Ss]||null;if(typeof R==\"function\")W||aU(g);else if(W){var J=null;if(R&&R.hasAttribute(\"formAction\")){if(x=R,W=R[Ss]||null)J=W.formAction;else if(FS(x)!==null)continue}else J=W.action;typeof J==\"function\"?g[w+1]=J:(g.splice(w,3),w-=3),aU(g)}}}function cU(){function u(R){R.canIntercept&&R.info===\"react-transition\"&&R.intercept({handler:function(){return new Promise(function(W){return x=W})},focusReset:\"manual\",scroll:\"manual\"})}function f(){x!==null&&(x(),x=null),w||setTimeout(g,20)}function g(){if(!w&&!navigation.transition){var R=navigation.currentEntry;R&&R.url!=null&&navigation.navigate(R.url,{state:R.getState(),info:\"react-transition\",history:\"replace\"})}}if(typeof navigation==\"object\"){var w=!1,x=null;return navigation.addEventListener(\"navigate\",u),navigation.addEventListener(\"navigatesuccess\",f),navigation.addEventListener(\"navigateerror\",f),setTimeout(g,100),function(){w=!0,navigation.removeEventListener(\"navigate\",u),navigation.removeEventListener(\"navigatesuccess\",f),navigation.removeEventListener(\"navigateerror\",f),x!==null&&(x(),x=null)}}}function HS(u){this._internalRoot=u}Q6.prototype.render=HS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(r(409));var g=f.current,w=po();QL(g,w,u,f,null,null)},Q6.prototype.unmount=HS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;QL(u.current,2,null,u,null,null),R6(),f[tg]=null}};function Q6(u){this._internalRoot=u}Q6.prototype.unstable_scheduleHydration=function(u){if(u){var f=bM();u={blockedOn:null,target:u,priority:f};for(var g=0;g<zd.length&&f!==0&&f<zd[g].priority;g++);zd.splice(g,0,u),g===0&&sU(u)}};var lU=e.version;if(lU!==\"19.2.0\")throw Error(r(527,lU,\"19.2.0\"));q.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render==\"function\"?Error(r(188)):(u=Object.keys(u).join(\",\"),Error(r(268,u)));return u=l(f),u=u!==null?d(u):null,u=u===null?null:u.stateNode,u};var gfe={bundleType:0,version:\"19.2.0\",rendererPackageName:\"react-dom\",currentDispatcherRef:P,reconcilerVersion:\"19.2.0\"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<\"u\"){var e3=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!e3.isDisabled&&e3.supportsFiber)try{vh=e3.inject(gfe),is=e3}catch{}}return Tb.createRoot=function(u,f){if(!i(u))throw Error(r(299));var g=!1,w=\"\",x=mB,R=yB,W=bB;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(w=f.identifierPrefix),f.onUncaughtError!==void 0&&(x=f.onUncaughtError),f.onCaughtError!==void 0&&(R=f.onCaughtError),f.onRecoverableError!==void 0&&(W=f.onRecoverableError)),f=JL(u,1,!1,null,null,g,w,null,x,R,W,cU),u[tg]=f.current,xS(u),new HS(f)},Tb.hydrateRoot=function(u,f,g){if(!i(u))throw Error(r(299));var w=!1,x=\"\",R=mB,W=yB,J=bB,te=null;return g!=null&&(g.unstable_strictMode===!0&&(w=!0),g.identifierPrefix!==void 0&&(x=g.identifierPrefix),g.onUncaughtError!==void 0&&(R=g.onUncaughtError),g.onCaughtError!==void 0&&(W=g.onCaughtError),g.onRecoverableError!==void 0&&(J=g.onRecoverableError),g.formState!==void 0&&(te=g.formState)),f=JL(u,1,!0,f,g??null,w,x,te,R,W,J,cU),f.context=XL(null),g=f.current,w=po(),w=k9(w),x=Ad(w),x.callback=null,$d(g,x,w),g=w,f.current.lanes=g,Ly(f,g),Bc(f),u[tg]=f.current,xS(u),new Q6(f)},Tb.version=\"19.2.0\",Tb}var wU;function Ife(){if(wU)return WS.exports;wU=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>\"u\"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=\"function\"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),WS.exports=$fe(),WS.exports}var Tfe=Ife();function vU({message:t=\"Loading...\"}){return Ke.jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:t===\"Loading...\"?t:Ke.jsxs(\"div\",{className:\"w-full max-w-[800px] mx-auto p-8 text-center\",children:[Ke.jsx(\"h1\",{className:\"text-2xl font-semibold mb-4\",children:t}),Ke.jsx(\"div\",{className:\"animate-pulse h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4 mx-auto mb-4\"}),Ke.jsx(\"div\",{className:\"animate-pulse h-4 bg-gray-200 dark:bg-gray-700 rounded w-1/2 mx-auto\"})]})})}const Pfe=3834e3;function aY(t){return Array.isArray(t)?\"%5B\"+t.map(aY).join(\"%2C%20\")+\"%5D\":typeof t==\"bigint\"?`${t}n`:encodeURIComponent(String(t!=null&&Object.getPrototypeOf(t)===null?{...t}:t))}function Ofe([t,e]){return`${t}=${aY(e)}`}function Nfe(t){const e=Object.entries(t).map(Ofe).join(\"&\");return btoa(e)}var EU;(function(t){t[t.EscapeSequence=0]=\"EscapeSequence\",t[t.Text=1]=\"Text\",t[t.Variable=2]=\"Variable\"})(EU||(EU={}));function Rfe(t,e={}){{let n=`Wallet Standard error #${t}; Decode this error by running \\`npx @wallet-standard/errors decode -- ${t}`;return Object.keys(e).length&&(n+=` '${Nfe(e)}'`),`${n}\\``}}class kfe extends Error{constructor(...[e,n]){let r,i;if(n){const{cause:o,...a}=n;o&&(i={cause:o}),Object.keys(a).length>0&&(r=a)}const s=Rfe(e,r);super(s,i),this.context={__code:e,...r},this.name=\"WalletStandardError\"}}function Mfe(...t){\"captureStackTrace\"in Error&&typeof Error.captureStackTrace==\"function\"&&Error.captureStackTrace(...t)}const cY=new WeakMap;function lY(t,e){cY.set(t,e)}function uY(t){const e=cY.get(t);if(!e){const n=new kfe(Pfe);throw Mfe(n,uY),n}return e}function i8(t,e){const n=new Set(t),r=new Set(e);if(n.size!==r.size)return!0;for(const i of n)if(!r.has(i))return!0;return!1}const _U=new WeakMap;function CU(t,e){let n=_U.get(e);if(n)try{uY(n)!==t&&(n=void 0)}catch{n=void 0}const r=!n;let i=n??{},s=!n;function o(){s||(i={...i},s=!0)}return(r||i8(i.chains,e.chains))&&(o(),i.chains=Object.freeze([...e.chains])),(r||i8(i.features,e.features))&&(o(),i.features=Object.freeze([...e.features])),(r||i.address!==e.address||i.icon!==e.icon||i.label!==e.label||i.publicKey!==e.publicKey)&&(o(),i.address=e.address,i.icon=e.icon,i.label=e.label,i.publicKey=e.publicKey),s&&(_U.set(e,i),lY(i,t)),Object.freeze(i)}const SU=new WeakMap;function Dfe(t){const e=SU.get(t),n=!e;let r=e??{},i=!e;function s(){i||(r={...r},i=!0)}const o={_cache:[],*[Symbol.iterator](){this._cache.length&&(yield*this._cache);for(const a of t.accounts.slice(this._cache.length)){const c=CU(t,a);this._cache.push(c),yield c}},some(a){if(this._cache.some(a))return!0;for(const c of t.accounts.slice(this._cache.length)){const l=CU(t,c);if(this._cache.push(l),a(l))return!0}return!1},get length(){return t.accounts.length}};return(n||r.accounts.length!==t.accounts.length||o.some(a=>!r.accounts.includes(a)))&&(s(),r.accounts=Object.freeze(Array.from(o))),(n||i8(r.features,Object.keys(t.features)))&&(s(),r.features=Object.freeze(Object.keys(t.features))),(n||i8(r.chains,t.chains))&&(s(),r.chains=Object.freeze([...t.chains])),(n||r.icon!==t.icon||r.name!==t.name||r.version!==t.version)&&(s(),r.icon=t.icon,r.name=t.name,r.version=t.version),i&&(SU.set(t,r),lY(r,t)),Object.freeze(r)}const dY=\"standard:events\";var Bfe=function(t,e,n,r){if(n===\"a\"&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof e==\"function\"?t!==e||!r:!e.has(t))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return n===\"m\"?r:n===\"a\"?r.call(t):r?r.value:e.get(t)},Lfe=function(t,e,n,r,i){if(r===\"m\")throw new TypeError(\"Private method is not writable\");if(r===\"a\"&&!i)throw new TypeError(\"Private accessor was defined without a setter\");if(typeof e==\"function\"?t!==e||!i:!e.has(t))throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");return r===\"a\"?i.call(t,n):i?i.value=n:e.set(t,n),n},yE;let Pb;const H4=new Set;function Ufe(t){Iw=void 0,H4.add(t)}function jfe(t){Iw=void 0,H4.delete(t)}const j1={};function zfe(){if(Pb||(Pb=Object.freeze({register:xU,get:Ffe,on:qfe}),typeof window>\"u\"))return Pb;const t=Object.freeze({register:xU});try{window.addEventListener(\"wallet-standard:register-wallet\",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added\n`,e)}try{window.dispatchEvent(new Hfe(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched\n`,e)}return Pb}function xU(...t){var e;return t=t.filter(n=>!H4.has(n)),t.length?(t.forEach(n=>Ufe(n)),(e=j1.register)==null||e.forEach(n=>AU(()=>n(...t))),function(){var r;t.forEach(i=>jfe(i)),(r=j1.unregister)==null||r.forEach(i=>AU(()=>i(...t)))}):()=>{}}let Iw;function Ffe(){return Iw||(Iw=[...H4]),Iw}function qfe(t,e){var n;return(n=j1[t])!=null&&n.push(e)||(j1[t]=[e]),function(){var i;j1[t]=(i=j1[t])==null?void 0:i.filter(s=>e!==s)}}function AU(t){try{t()}catch(e){console.error(e)}}class Hfe extends Event{get detail(){return Bfe(this,yE,\"f\")}get type(){return\"wallet-standard:app-ready\"}constructor(e){super(\"wallet-standard:app-ready\",{bubbles:!1,cancelable:!1,composed:!1}),yE.set(this,void 0),Lfe(this,yE,e,\"f\")}preventDefault(){throw new Error(\"preventDefault cannot be called\")}stopImmediatePropagation(){throw new Error(\"stopImmediatePropagation cannot be called\")}stopPropagation(){throw new Error(\"stopPropagation cannot be called\")}}yE=new WeakMap;function $U(t){return dY in t.features}const IU=Symbol();function Vfe(t){const e=gt.useRef(IU);return e.current===IU&&(e.current=t()),e.current}const Kfe=[];function Wfe(){return Kfe}function Gfe(){const{get:t,on:e}=Vfe(zfe),n=gt.useRef(t()),r=gt.useRef(n.current),i=gt.useCallback(()=>{const o=t();return o!==n.current&&(r.current=o),n.current=o,r.current},[t]),s=gt.useCallback(o=>{const a=new Map;function c(h){const p=h.features[dY].on(\"change\",()=>{r.current=[...t()],o()});return a.set(h,p),p}const l=e(\"register\",(...h)=>{h.filter($U).map(c),o()}),d=e(\"unregister\",(...h)=>{h.forEach(p=>{const m=a.get(p);m&&(a.delete(p),m())}),o()});return t().filter($U).map(c),()=>{l(),d(),a.forEach(h=>h()),a.clear()}},[t,e]);return gt.useSyncExternalStore(s,i,Wfe)}function Zfe(){const t=Gfe();return gt.useMemo(()=>t.map(Dfe),[t])}const fY=gt.createContext(void 0),hY=\"theme\",Yfe=[\"dark\",\"light\"],pY=t=>Yfe.includes(t),TU=()=>{if(typeof window>\"u\")return null;try{const t=localStorage.getItem(hY);return t&&pY(t)?t:null}catch{return null}},Jfe=()=>typeof window>\"u\"?\"light\":window.matchMedia(\"(prefers-color-scheme: dark)\").matches?\"dark\":\"light\";function Xfe({children:t,defaultTheme:e=\"light\"}){const[n,r]=gt.useState(e),[i,s]=gt.useState(!1);gt.useEffect(()=>{const a=TU(),c=Jfe();r(a||c),s(!0)},[]),gt.useEffect(()=>{if(!i)return;const a=window.matchMedia(\"(prefers-color-scheme: dark)\"),c=()=>{if(!TU()){const d=a.matches?\"dark\":\"light\";r(d)}};return a.addEventListener(\"change\",c),()=>a.removeEventListener(\"change\",c)},[i]);const o=a=>{if(pY(a)&&(r(a),typeof window<\"u\"))try{localStorage.setItem(hY,a)}catch{}};return gt.useEffect(()=>{if(typeof window>\"u\")return;const a=document.documentElement;a.classList.remove(\"light\",\"dark\"),a.classList.add(n)},[n]),Ke.jsx(fY.Provider,{value:{theme:n,setTheme:o,isDarkMode:n===\"dark\"},children:t})}const RO=()=>{const t=gt.useContext(fY);if(!t)throw new Error(\"useTheme must be used within a ThemeProvider\");return t},Qfe=\"1.1.0\";let to=class R$ extends Error{constructor(e,n={}){var o;const r=n.cause instanceof R$?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof R$&&n.cause.docsPath||n.docsPath,s=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Qfe}`].join(`\n`);super(s),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiTypeError\"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function dd(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const gY=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,mY=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yY=/^\\(.+?\\).*?$/,PU=/^tuple(?<array>(\\[(\\d*)\\])*)$/;function k$(t){let e=t.type;if(PU.test(t.type)&&\"components\"in t){e=\"(\";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=k$(s),i<n-1&&(e+=\", \")}const r=dd(PU,t.type);return e+=`)${(r==null?void 0:r.array)??\"\"}`,k$({...t,type:e})}return\"indexed\"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function T1(t){let e=\"\";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=k$(i),r!==n-1&&(e+=\", \")}return e}function s8(t){var e;return t.type===\"function\"?`function ${t.name}(${T1(t.inputs)})${t.stateMutability&&t.stateMutability!==\"nonpayable\"?` ${t.stateMutability}`:\"\"}${(e=t.outputs)!=null&&e.length?` returns (${T1(t.outputs)})`:\"\"}`:t.type===\"event\"?`event ${t.name}(${T1(t.inputs)})`:t.type===\"error\"?`error ${t.name}(${T1(t.inputs)})`:t.type===\"constructor\"?`constructor(${T1(t.inputs)})${t.stateMutability===\"payable\"?\" payable\":\"\"}`:t.type===\"fallback\"?`fallback() external${t.stateMutability===\"payable\"?\" payable\":\"\"}`:\"receive() external payable\"}const bY=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$/;function ehe(t){return bY.test(t)}function the(t){return dd(bY,t)}const wY=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$/;function nhe(t){return wY.test(t)}function rhe(t){return dd(wY,t)}const vY=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\\s?\\((?<returns>.*?)\\))?$/;function ihe(t){return vY.test(t)}function she(t){return dd(vY,t)}const EY=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \\{(?<properties>.*?)\\}$/;function V4(t){return EY.test(t)}function ohe(t){return dd(EY,t)}const _Y=/^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$/;function ahe(t){return _Y.test(t)}function che(t){return dd(_Y,t)}const CY=/^fallback\\(\\) external(?:\\s(?<stateMutability>payable{1}))?$/;function lhe(t){return CY.test(t)}function uhe(t){return dd(CY,t)}const dhe=/^receive\\(\\) external payable$/;function fhe(t){return dhe.test(t)}const OU=new Set([\"memory\",\"indexed\",\"storage\",\"calldata\"]),hhe=new Set([\"indexed\"]),M$=new Set([\"calldata\",\"memory\",\"storage\"]);let phe=class extends to{constructor({signature:e}){super(\"Failed to parse ABI item.\",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:\"/api/human#parseabiitem-1\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiItemError\"})}},ghe=class extends to{constructor({type:e}){super(\"Unknown type.\",{metaMessages:[`Type \"${e}\" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownTypeError\"})}},mhe=class extends to{constructor({type:e}){super(\"Unknown type.\",{metaMessages:[`Type \"${e}\" is not a valid ABI type.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownSolidityTypeError\"})}},yhe=class extends to{constructor({params:e}){super(\"Failed to parse ABI parameters.\",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:\"/api/human#parseabiparameters-1\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiParametersError\"})}},bhe=class extends to{constructor({param:e}){super(\"Invalid ABI parameter.\",{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidParameterError\"})}},whe=class extends to{constructor({param:e,name:n}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`\"${n}\" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SolidityProtectedKeywordError\"})}},vhe=class extends to{constructor({param:e,type:n,modifier:r}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`Modifier \"${r}\" not allowed${n?` in \"${n}\" type`:\"\"}.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidModifierError\"})}},Ehe=class extends to{constructor({param:e,type:n,modifier:r}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`Modifier \"${r}\" not allowed${n?` in \"${n}\" type`:\"\"}.`,`Data location can only be specified for array, struct, or mapping types, but \"${r}\" was given.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidFunctionModifierError\"})}},_he=class extends to{constructor({abiParameter:e}){super(\"Invalid ABI parameter.\",{details:JSON.stringify(e,null,2),metaMessages:[\"ABI parameter type is invalid.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiTypeParameterError\"})}},oy=class extends to{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidSignatureError\"})}},Che=class extends to{constructor({signature:e}){super(\"Unknown signature.\",{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownSignatureError\"})}},She=class extends to{constructor({signature:e}){super(\"Invalid struct signature.\",{details:e,metaMessages:[\"No properties exist.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidStructSignatureError\"})}},xhe=class extends to{constructor({type:e}){super(\"Circular reference detected.\",{metaMessages:[`Struct \"${e}\" is a circular reference.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"CircularReferenceError\"})}},Ahe=class extends to{constructor({current:e,depth:n}){super(\"Unbalanced parentheses.\",{metaMessages:[`\"${e.trim()}\" has too many ${n>0?\"opening\":\"closing\"} parentheses.`],details:`Depth \"${n}\"`}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidParenthesisError\"})}};function $he(t,e,n){let r=\"\";if(n)for(const i of Object.entries(n)){if(!i)continue;let s=\"\";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:\"\"}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const JS=new Map([[\"address\",{type:\"address\"}],[\"bool\",{type:\"bool\"}],[\"bytes\",{type:\"bytes\"}],[\"bytes32\",{type:\"bytes32\"}],[\"int\",{type:\"int256\"}],[\"int256\",{type:\"int256\"}],[\"string\",{type:\"string\"}],[\"uint\",{type:\"uint256\"}],[\"uint8\",{type:\"uint8\"}],[\"uint16\",{type:\"uint16\"}],[\"uint24\",{type:\"uint24\"}],[\"uint32\",{type:\"uint32\"}],[\"uint64\",{type:\"uint64\"}],[\"uint96\",{type:\"uint96\"}],[\"uint112\",{type:\"uint112\"}],[\"uint160\",{type:\"uint160\"}],[\"uint192\",{type:\"uint192\"}],[\"uint256\",{type:\"uint256\"}],[\"address owner\",{type:\"address\",name:\"owner\"}],[\"address to\",{type:\"address\",name:\"to\"}],[\"bool approved\",{type:\"bool\",name:\"approved\"}],[\"bytes _data\",{type:\"bytes\",name:\"_data\"}],[\"bytes data\",{type:\"bytes\",name:\"data\"}],[\"bytes signature\",{type:\"bytes\",name:\"signature\"}],[\"bytes32 hash\",{type:\"bytes32\",name:\"hash\"}],[\"bytes32 r\",{type:\"bytes32\",name:\"r\"}],[\"bytes32 root\",{type:\"bytes32\",name:\"root\"}],[\"bytes32 s\",{type:\"bytes32\",name:\"s\"}],[\"string name\",{type:\"string\",name:\"name\"}],[\"string symbol\",{type:\"string\",name:\"symbol\"}],[\"string tokenURI\",{type:\"string\",name:\"tokenURI\"}],[\"uint tokenId\",{type:\"uint256\",name:\"tokenId\"}],[\"uint8 v\",{type:\"uint8\",name:\"v\"}],[\"uint256 balance\",{type:\"uint256\",name:\"balance\"}],[\"uint256 tokenId\",{type:\"uint256\",name:\"tokenId\"}],[\"uint256 value\",{type:\"uint256\",name:\"value\"}],[\"event:address indexed from\",{type:\"address\",name:\"from\",indexed:!0}],[\"event:address indexed to\",{type:\"address\",name:\"to\",indexed:!0}],[\"event:uint indexed tokenId\",{type:\"uint256\",name:\"tokenId\",indexed:!0}],[\"event:uint256 indexed tokenId\",{type:\"uint256\",name:\"tokenId\",indexed:!0}]]);function D$(t,e={}){if(ihe(t))return Ihe(t,e);if(nhe(t))return The(t,e);if(ehe(t))return Phe(t,e);if(ahe(t))return Ohe(t,e);if(lhe(t))return Nhe(t);if(fhe(t))return{type:\"receive\",stateMutability:\"payable\"};throw new Che({signature:t})}function Ihe(t,e={}){const n=she(t);if(!n)throw new oy({signature:t,type:\"function\"});const r=Oo(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(Xu(r[a],{modifiers:M$,structs:e,type:\"function\"}));const o=[];if(n.returns){const a=Oo(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(Xu(a[l],{modifiers:M$,structs:e,type:\"function\"}))}return{name:n.name,type:\"function\",stateMutability:n.stateMutability??\"nonpayable\",inputs:i,outputs:o}}function The(t,e={}){const n=rhe(t);if(!n)throw new oy({signature:t,type:\"event\"});const r=Oo(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Xu(r[o],{modifiers:hhe,structs:e,type:\"event\"}));return{name:n.name,type:\"event\",inputs:i}}function Phe(t,e={}){const n=the(t);if(!n)throw new oy({signature:t,type:\"error\"});const r=Oo(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Xu(r[o],{structs:e,type:\"error\"}));return{name:n.name,type:\"error\",inputs:i}}function Ohe(t,e={}){const n=che(t);if(!n)throw new oy({signature:t,type:\"constructor\"});const r=Oo(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(Xu(r[o],{structs:e,type:\"constructor\"}));return{type:\"constructor\",stateMutability:n.stateMutability??\"nonpayable\",inputs:i}}function Nhe(t){const e=uhe(t);if(!e)throw new oy({signature:t,type:\"fallback\"});return{type:\"fallback\",stateMutability:e.stateMutability??\"nonpayable\"}}const Rhe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\\spayable)?)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,khe=/^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Mhe=/^u?int$/;function Xu(t,e){var h,p;const n=$he(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(JS.has(n))return JS.get(n);const r=yY.test(t),i=dd(r?khe:Rhe,t);if(!i)throw new bhe({param:t});if(i.name&&Bhe(i.name))throw new whe({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier===\"indexed\"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c=\"tuple\";const m=Oo(i.type),b=[],y=m.length;for(let E=0;E<y;E++)b.push(Xu(m[E],{structs:a}));l={components:b}}else if(i.type in a)c=\"tuple\",l={components:a[i.type]};else if(Mhe.test(i.type))c=`${i.type}256`;else if(i.type===\"address payable\")c=\"address\";else if(c=i.type,(e==null?void 0:e.type)!==\"struct\"&&!SY(c))throw new mhe({type:c});if(i.modifier){if(!((p=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&p.call(h,i.modifier)))throw new vhe({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(M$.has(i.modifier)&&!Lhe(c,!!i.array))throw new Ehe({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const d={type:`${c}${i.array??\"\"}`,...s,...o,...l};return JS.set(n,d),d}function Oo(t,e=[],n=\"\",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case\",\":return r===0?Oo(a,[...e,n.trim()]):Oo(a,e,`${n}${o}`,r);case\"(\":return Oo(a,e,`${n}${o}`,r+1);case\")\":return Oo(a,e,`${n}${o}`,r-1);default:return Oo(a,e,`${n}${o}`,r)}}if(n===\"\")return e;if(r!==0)throw new Ahe({current:n,depth:r});return e.push(n.trim()),e}function SY(t){return t===\"address\"||t===\"bool\"||t===\"function\"||t===\"string\"||gY.test(t)||mY.test(t)}const Dhe=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Bhe(t){return t===\"address\"||t===\"bool\"||t===\"function\"||t===\"string\"||t===\"tuple\"||gY.test(t)||mY.test(t)||Dhe.test(t)}function Lhe(t,e){return e||t===\"bytes\"||t===\"string\"||t===\"tuple\"}function kO(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!V4(a))continue;const c=ohe(a);if(!c)throw new oy({signature:a,type:\"struct\"});const l=c.properties.split(\";\"),d=[],h=l.length;for(let p=0;p<h;p++){const b=l[p].trim();if(!b)continue;const y=Xu(b,{type:\"struct\"});d.push(y)}if(!d.length)throw new She({signature:a});e[c.name]=d}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=xY(c,e)}return r}const Uhe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?$/;function xY(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(yY.test(o.type))r.push(o);else{const c=dd(Uhe,o.type);if(!(c!=null&&c.type))throw new _he({abiParameter:o});const{array:l,type:d}=c;if(d in e){if(n.has(d))throw new xhe({type:d});r.push({...o,type:`tuple${l??\"\"}`,components:xY(e[d]??[],e,new Set([...n,d]))})}else if(SY(d))r.push(o);else throw new ghe({type:d})}}return r}function AY(t){const e=kO(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];V4(s)||n.push(D$(s,e))}return n}function NU(t){let e;if(typeof t==\"string\")e=D$(t);else{const n=kO(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!V4(s)){e=D$(s,n);break}}}if(!e)throw new phe({signature:t});return e}function RU(t){const e=[];if(typeof t==\"string\"){const n=Oo(t),r=n.length;for(let i=0;i<r;i++)e.push(Xu(n[i],{modifiers:OU}))}else{const n=kO(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(V4(s))continue;const o=Oo(s),a=o.length;for(let c=0;c<a;c++)e.push(Xu(o[c],{modifiers:OU,structs:n}))}}if(e.length===0)throw new yhe({params:t});return e}function ct(t,e,n){const r=t[e.name];if(typeof r==\"function\")return r;const i=t[n];return typeof i==\"function\"?i:s=>e(t,s)}function dc(t,{includeName:e=!1}={}){if(t.type!==\"function\"&&t.type!==\"event\"&&t.type!==\"error\")throw new Xhe(t.type);return`${t.name}(${K4(t.inputs,{includeName:e})})`}function K4(t,{includeName:e=!1}={}){return t?t.map(n=>jhe(n,{includeName:e})).join(e?\", \":\",\"):\"\"}function jhe(t,{includeName:e}){return t.type.startsWith(\"tuple\")?`(${K4(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:\"\")}function fc(t,{strict:e=!0}={}){return!t||typeof t!=\"string\"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith(\"0x\")}function ir(t){return fc(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const $Y=\"2.38.5\";let Ob={getDocsUrl:({docsBaseUrl:t,docsPath:e=\"\",docsSlug:n})=>e?`${t??\"https://viem.sh\"}${e}${n?`#${n}`:\"\"}`:void 0,version:`viem@${$Y}`},Ee=class B$ extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof B$?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof B$&&n.cause.docsPath||n.docsPath,s=(a=Ob.getDocsUrl)==null?void 0:a.call(Ob,{...n,docsPath:i}),o=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Ob.version?[`Version: ${Ob.version}`]:[]].join(`\n`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"BaseError\"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$Y}walk(e){return IY(this,e)}};function IY(t,e){return e!=null&&e(t)?t:t&&typeof t==\"object\"&&\"cause\"in t&&t.cause!==void 0?IY(t.cause,e):e?null:t}let zhe=class extends Ee{constructor({docsPath:e}){super([\"A constructor was not found on the ABI.\",\"Make sure you are using the correct ABI and that the constructor exists on it.\"].join(`\n`),{docsPath:e,name:\"AbiConstructorNotFoundError\"})}},kU=class extends Ee{constructor({docsPath:e}){super([\"Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\",\"Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.\"].join(`\n`),{docsPath:e,name:\"AbiConstructorParamsNotFoundError\"})}},TY=class extends Ee{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`\n`),{metaMessages:[`Params: (${K4(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:\"AbiDecodingDataSizeTooSmallError\"}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"params\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"size\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}},E2=class extends Ee{constructor(){super('Cannot decode zero data (\"0x\") with ABI parameters.',{name:\"AbiDecodingZeroDataError\"})}},Fhe=class extends Ee{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`\n`),{name:\"AbiEncodingArrayLengthMismatchError\"})}},qhe=class extends Ee{constructor({expectedSize:e,value:n}){super(`Size of bytes \"${n}\" (bytes${ir(n)}) does not match expected size (bytes${e}).`,{name:\"AbiEncodingBytesSizeMismatchError\"})}},Hhe=class extends Ee{constructor({expectedLength:e,givenLength:n}){super([\"ABI encoding params/values length mismatch.\",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`\n`),{name:\"AbiEncodingLengthMismatchError\"})}},Vhe=class extends Ee{constructor(e,{docsPath:n}){super([`Arguments (\\`args\\`) were provided to \"${e}\", but \"${e}\" on the ABI does not contain any parameters (\\`inputs\\`).`,\"Cannot encode error result without knowing what the parameter types are.\",\"Make sure you are using the correct ABI and that the inputs exist on it.\"].join(`\n`),{docsPath:n,name:\"AbiErrorInputsNotFoundError\"})}},MU=class extends Ee{constructor(e,{docsPath:n}={}){super([`Error ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiErrorNotFoundError\"})}},PY=class extends Ee{constructor(e,{docsPath:n}){super([`Encoded error signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiErrorSignatureNotFoundError\"}),Object.defineProperty(this,\"signature\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}},Khe=class extends Ee{constructor({docsPath:e}){super(\"Cannot extract event signature from empty topics.\",{docsPath:e,name:\"AbiEventSignatureEmptyTopicsError\"})}},OY=class extends Ee{constructor(e,{docsPath:n}){super([`Encoded event signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the event exists on it.\",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiEventSignatureNotFoundError\"})}},DU=class extends Ee{constructor(e,{docsPath:n}={}){super([`Event ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the event exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiEventNotFoundError\"})}},Em=class extends Ee{constructor(e,{docsPath:n}={}){super([`Function ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the function exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiFunctionNotFoundError\"})}},NY=class extends Ee{constructor(e,{docsPath:n}){super([`Function \"${e}\" does not contain any \\`outputs\\` on ABI.`,\"Cannot decode function result without knowing what the parameter types are.\",\"Make sure you are using the correct ABI and that the function exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiFunctionOutputsNotFoundError\"})}},Whe=class extends Ee{constructor(e,{docsPath:n}){super([`Encoded function signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the function exists on it.\",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiFunctionSignatureNotFoundError\"})}},Ghe=class extends Ee{constructor(e,n){super(\"Found ambiguous types in overloaded ABI items.\",{metaMessages:[`\\`${e.type}\\` in \\`${dc(e.abiItem)}\\`, and`,`\\`${n.type}\\` in \\`${dc(n.abiItem)}\\``,\"\",\"These types encode differently and cannot be distinguished at runtime.\",\"Remove one of the ambiguous items in the ABI.\"],name:\"AbiItemAmbiguityError\"})}},Zhe=class extends Ee{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:\"BytesSizeMismatchError\"})}},Xw=class extends Ee{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`\n`),{metaMessages:[`Params: (${K4(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:\"DecodeLogDataMismatch\"}),Object.defineProperty(this,\"abiItem\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"params\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"size\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}},W4=class extends Ee{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` \"${n.name}\"`:\"\"} on event \"${dc(e,{includeName:!0})}\".`].join(`\n`),{name:\"DecodeLogTopicsMismatch\"}),Object.defineProperty(this,\"abiItem\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}},Yhe=class extends Ee{constructor(e,{docsPath:n}){super([`Type \"${e}\" is not a valid encoding type.`,\"Please provide a valid ABI type.\"].join(`\n`),{docsPath:n,name:\"InvalidAbiEncodingType\"})}},Jhe=class extends Ee{constructor(e,{docsPath:n}){super([`Type \"${e}\" is not a valid decoding type.`,\"Please provide a valid ABI type.\"].join(`\n`),{docsPath:n,name:\"InvalidAbiDecodingType\"})}},RY=class extends Ee{constructor(e){super([`Value \"${e}\" is not a valid array.`].join(`\n`),{name:\"InvalidArrayError\"})}},Xhe=class extends Ee{constructor(e){super([`\"${e}\" is not a valid definition type.`,'Valid types: \"function\", \"event\", \"error\"'].join(`\n`),{name:\"InvalidDefinitionTypeError\"})}},Qhe=class extends Ee{constructor(e){super(`Filter type \"${e}\" is not supported.`,{name:\"FilterTypeNotSupportedError\"})}},kY=class extends Ee{constructor({offset:e,position:n,size:r}){super(`Slice ${n===\"start\"?\"starting\":\"ending\"} at offset \"${e}\" is out-of-bounds (size: ${r}).`,{name:\"SliceOffsetOutOfBoundsError\"})}},MY=class extends Ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:\"SizeExceedsPaddingSizeError\"})}},BU=class extends Ee{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:\"InvalidBytesLengthError\"})}};function ay(t,{dir:e,size:n=32}={}){return typeof t==\"string\"?Mf(t,{dir:e,size:n}):e0e(t,{dir:e,size:n})}function Mf(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace(\"0x\",\"\");if(r.length>n*2)throw new MY({size:Math.ceil(r.length/2),targetSize:n,type:\"hex\"});return`0x${r[e===\"right\"?\"padEnd\":\"padStart\"](n*2,\"0\")}`}function e0e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new MY({size:t.length,targetSize:n,type:\"bytes\"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e===\"right\";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let DY=class extends Ee{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \"${s}\" is not in safe ${i?`${i*8}-bit ${r?\"signed\":\"unsigned\"} `:\"\"}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:\"IntegerOutOfRangeError\"})}},t0e=class extends Ee{constructor(e){super(`Bytes value \"${e}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:\"InvalidBytesBooleanError\"})}},n0e=class extends Ee{constructor(e){super(`Hex value \"${e}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`,{name:\"InvalidHexBooleanError\"})}},r0e=class extends Ee{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:\"SizeOverflowError\"})}};function Pa(t,{dir:e=\"left\"}={}){let n=typeof t==\"string\"?t.replace(\"0x\",\"\"):t,r=0;for(let i=0;i<n.length-1&&n[e===\"left\"?i:n.length-i-1].toString()===\"0\";i++)r++;return n=e===\"left\"?n.slice(r):n.slice(0,n.length-r),typeof t==\"string\"?(n.length===1&&e===\"right\"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function xc(t,{size:e}){if(ir(t)>e)throw new r0e({givenSize:ir(t),maxSize:e})}function di(t,e={}){const{signed:n}=e;e.size&&xc(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${\"f\".padStart(i*2,\"f\")}`)-1n}function i0e(t,e={}){let n=t;if(e.size&&(xc(n,{size:e.size}),n=Pa(n)),Pa(n)===\"0x00\")return!1;if(Pa(n)===\"0x01\")return!0;throw new n0e(n)}function Bo(t,e={}){return Number(di(t,e))}const s0e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function ts(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?Oe(t,e):typeof t==\"string\"?_m(t,e):typeof t==\"boolean\"?BY(t,e):kr(t,e)}function BY(t,e={}){const n=`0x${Number(t)}`;return typeof e.size==\"number\"?(xc(n,{size:e.size}),ay(n,{size:e.size})):n}function kr(t,e={}){let n=\"\";for(let i=0;i<t.length;i++)n+=s0e[t[i]];const r=`0x${n}`;return typeof e.size==\"number\"?(xc(r,{size:e.size}),ay(r,{dir:\"right\",size:e.size})):r}function Oe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t==\"number\"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s==\"bigint\"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t==\"bigint\"?\"n\":\"\";throw new DY({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?ay(a,{size:r}):a}const o0e=new TextEncoder;function _m(t,e={}){const n=o0e.encode(t);return kr(n,e)}const a0e=new TextEncoder;function cy(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?l0e(t,e):typeof t==\"boolean\"?c0e(t,e):fc(t)?El(t,e):E0(t,e)}function c0e(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size==\"number\"?(xc(n,{size:e.size}),ay(n,{size:e.size})):n}const eu={zero:48,nine:57,A:65,F:70,a:97,f:102};function LU(t){if(t>=eu.zero&&t<=eu.nine)return t-eu.zero;if(t>=eu.A&&t<=eu.F)return t-(eu.A-10);if(t>=eu.a&&t<=eu.f)return t-(eu.a-10)}function El(t,e={}){let n=t;e.size&&(xc(n,{size:e.size}),n=ay(n,{dir:\"right\",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=LU(r.charCodeAt(a++)),l=LU(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ee(`Invalid byte sequence (\"${r[a-2]}${r[a-1]}\" in \"${r}\").`);s[o]=c*16+l}return s}function l0e(t,e){const n=Oe(t,e);return El(n)}function E0(t,e={}){const n=a0e.encode(t);return typeof e.size==\"number\"?(xc(n,{size:e.size}),ay(n,{dir:\"right\",size:e.size})):n}const t3=BigInt(2**32-1),UU=BigInt(32);function u0e(t,e=!1){return e?{h:Number(t&t3),l:Number(t>>UU&t3)}:{h:Number(t>>UU&t3)|0,l:Number(t&t3)|0}}function d0e(t,e=!1){const n=t.length;let r=new Uint32Array(n),i=new Uint32Array(n);for(let s=0;s<n;s++){const{h:o,l:a}=u0e(t[s],e);[r[s],i[s]]=[o,a]}return[r,i]}const f0e=(t,e,n)=>t<<n|e>>>32-n,h0e=(t,e,n)=>e<<n|t>>>32-n,p0e=(t,e,n)=>e<<n-32|t>>>64-n,g0e=(t,e,n)=>t<<n-32|e>>>64-n,Ug=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function m0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Qw(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function M0(t,...e){if(!m0e(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function y0e(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.createHasher\");Qw(t.outputLen),Qw(t.blockLen)}function Cm(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function LY(t,e){M0(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function b0e(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Sm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function XS(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Lc(t,e){return t<<32-e|t>>>e}const w0e=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function v0e(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function E0e(t){for(let e=0;e<t.length;e++)t[e]=v0e(t[e]);return t}const jU=w0e?t=>t:E0e;function _0e(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function G4(t){return typeof t==\"string\"&&(t=_0e(t)),M0(t),t}function C0e(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];M0(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let MO=class{};function UY(t){const e=r=>t().update(G4(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function S0e(t=32){if(Ug&&typeof Ug.getRandomValues==\"function\")return Ug.getRandomValues(new Uint8Array(t));if(Ug&&typeof Ug.randomBytes==\"function\")return Uint8Array.from(Ug.randomBytes(t));throw new Error(\"crypto.getRandomValues must be defined\")}const x0e=BigInt(0),Nb=BigInt(1),A0e=BigInt(2),$0e=BigInt(7),I0e=BigInt(256),T0e=BigInt(113),jY=[],zY=[],FY=[];for(let t=0,e=Nb,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],jY.push(2*(5*r+n)),zY.push((t+1)*(t+2)/2%64);let i=x0e;for(let s=0;s<7;s++)e=(e<<Nb^(e>>$0e)*T0e)%I0e,e&A0e&&(i^=Nb<<(Nb<<BigInt(s))-Nb);FY.push(i)}const qY=d0e(FY,!0),P0e=qY[0],O0e=qY[1],zU=(t,e,n)=>n>32?p0e(t,e,n):f0e(t,e,n),FU=(t,e,n)=>n>32?g0e(t,e,n):h0e(t,e,n);function N0e(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],d=n[c+1],h=zU(l,d,1)^n[a],p=FU(l,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=zY[o],c=zU(i,s,a),l=FU(i,s,a),d=jY[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=P0e[r],t[1]^=O0e[r]}Sm(n)}let R0e=class HY extends MO{constructor(e,n,r,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,Qw(r),!(0<e&&e<200))throw new Error(\"only keccak-f1600 function is supported\");this.state=new Uint8Array(200),this.state32=b0e(this.state)}clone(){return this._cloneInto()}keccak(){jU(this.state32),N0e(this.state32,this.rounds),jU(this.state32),this.posOut=0,this.pos=0}update(e){Cm(this),e=G4(e),M0(e);const{blockLen:n,state:r}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Cm(this,!1),M0(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return Qw(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(LY(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Sm(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new HY(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const k0e=(t,e,n)=>UY(()=>new R0e(e,t,n)),Z4=k0e(1,136,256/8);function Ui(t,e){const n=e||\"hex\",r=Z4(fc(t,{strict:!1})?cy(t):t);return n===\"bytes\"?r:ts(r)}const M0e=t=>Ui(cy(t));function D0e(t){return M0e(t)}function B0e(t){let e=!0,n=\"\",r=0,i=\"\",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if([\"(\",\")\",\",\"].includes(a)&&(e=!0),a===\"(\"&&r++,a===\")\"&&r--,!!e){if(r===0){if(a===\" \"&&[\"event\",\"function\",\"\"].includes(i))i=\"\";else if(i+=a,a===\")\"){s=!0;break}continue}if(a===\" \"){t[o-1]!==\",\"&&n!==\",\"&&n!==\",(\"&&(n=\"\",e=!1);continue}i+=a,n+=a}}if(!s)throw new Ee(\"Unable to normalize signature.\");return i}const L0e=t=>{const e=typeof t==\"string\"?t:s8(t);return B0e(e)};function VY(t){return D0e(L0e(t))}const Y4=VY;let Es=class extends Ee{constructor({address:e}){super(`Address \"${e}\" is invalid.`,{metaMessages:[\"- Address must be a hex value of 20 bytes (40 hex characters).\",\"- Address must match its checksum counterpart.\"],name:\"InvalidAddressError\"})}},_2=class extends Map{constructor(e){super(),Object.defineProperty(this,\"maxSize\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const QS=new _2(8192);function C2(t,e){if(QS.has(`${t}.${e}`))return QS.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Ui(E0(n),\"bytes\"),i=n.split(\"\");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join(\"\")}`;return QS.set(`${t}.${e}`,s),s}function Ys(t,e){if(!Vr(t,{strict:!1}))throw new Es({address:t});return C2(t,e)}const U0e=/^0x[a-fA-F0-9]{40}$/,ex=new _2(8192);function Vr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(ex.has(r))return ex.get(r);const i=U0e.test(t)?t.toLowerCase()===t?!0:n?C2(t)===t:!0:!1;return ex.set(r,i),i}function Lo(t){return typeof t[0]==\"string\"?Ac(t):j0e(t)}function j0e(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ac(t){return`0x${t.reduce((e,n)=>e+n.replace(\"0x\",\"\"),\"\")}`}function D0(t,e,n,{strict:r}={}){return fc(t,{strict:!1})?L$(t,e,n,{strict:r}):GY(t,e,n,{strict:r})}function KY(t,e){if(typeof e==\"number\"&&e>0&&e>ir(t)-1)throw new kY({offset:e,position:\"start\",size:ir(t)})}function WY(t,e,n){if(typeof e==\"number\"&&typeof n==\"number\"&&ir(t)!==n-e)throw new kY({offset:n,position:\"end\",size:ir(t)})}function GY(t,e,n,{strict:r}={}){KY(t,e);const i=t.slice(e,n);return r&&WY(i,e,n),i}function L$(t,e,n,{strict:r}={}){KY(t,e);const i=`0x${t.replace(\"0x\",\"\").slice((e??0)*2,(n??t.length)*2)}`;return r&&WY(i,e,n),i}const z0e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ZY=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ch(t,e){if(t.length!==e.length)throw new Hhe({expectedLength:t.length,givenLength:e.length});const n=F0e({params:t,values:e}),r=BO(n);return r.length===0?\"0x\":r}function F0e({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(DO({param:t[r],value:e[r]}));return n}function DO({param:t,value:e}){const n=LO(t.type);if(n){const[r,i]=n;return H0e(e,{length:r,param:{...t,type:i}})}if(t.type===\"tuple\")return Z0e(e,{param:t});if(t.type===\"address\")return q0e(e);if(t.type===\"bool\")return K0e(e);if(t.type.startsWith(\"uint\")||t.type.startsWith(\"int\")){const r=t.type.startsWith(\"int\"),[,,i=\"256\"]=ZY.exec(t.type)??[];return W0e(e,{signed:r,size:Number(i)})}if(t.type.startsWith(\"bytes\"))return V0e(e,{param:t});if(t.type===\"string\")return G0e(e);throw new Yhe(t.type,{docsPath:\"/docs/contract/encodeAbiParameters\"})}function BO(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=ir(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(Oe(e+i,{size:32})),r.push(a),i+=ir(a)):n.push(a)}return Lo([...n,...r])}function q0e(t){if(!Vr(t))throw new Es({address:t});return{dynamic:!1,encoded:Mf(t.toLowerCase())}}function H0e(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new RY(t);if(!r&&t.length!==e)throw new Fhe({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=DO({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=BO(s);if(r){const a=Oe(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?Lo([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Lo(s.map(({encoded:o})=>o))}}function V0e(t,{param:e}){const[,n]=e.type.split(\"bytes\"),r=ir(t);if(!n){let i=t;return r%32!==0&&(i=Mf(i,{dir:\"right\",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Lo([Mf(Oe(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new qhe({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Mf(t,{dir:\"right\"})}}function K0e(t){if(typeof t!=\"boolean\")throw new Ee(`Invalid boolean value: \"${t}\" (type: ${typeof t}). Expected: \\`true\\` or \\`false\\`.`);return{dynamic:!1,encoded:Mf(BY(t))}}function W0e(t,{signed:e,size:n=256}){if(typeof n==\"number\"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new DY({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Oe(t,{size:32,signed:e})}}function G0e(t){const e=_m(t),n=Math.ceil(ir(e)/32),r=[];for(let i=0;i<n;i++)r.push(Mf(D0(e,i*32,(i+1)*32),{dir:\"right\"}));return{dynamic:!0,encoded:Lo([Mf(Oe(ir(e),{size:32})),...r])}}function Z0e(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=DO({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?BO(r):Lo(r.map(({encoded:i})=>i))}}function LO(t){const e=t.match(/^(.*)\\[(\\d+)?\\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const S2=t=>D0(VY(t),0,4);function Ap(t){const{abi:e,args:n=[],name:r}=t,i=fc(r,{strict:!1}),s=e.filter(a=>i?a.type===\"function\"?S2(a)===r:a.type===\"event\"?Y4(a)===r:!1:\"name\"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!(\"inputs\"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,d)=>{const h=\"inputs\"in a&&a.inputs[d];return h?U$(l,h):!1})){if(o&&\"inputs\"in o&&o.inputs){const l=YY(a.inputs,o.inputs,n);if(l)throw new Ghe({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function U$(t,e){const n=typeof t,r=e.type;switch(r){case\"address\":return Vr(t,{strict:!1});case\"bool\":return n===\"boolean\";case\"function\":return n===\"string\";case\"string\":return n===\"string\";default:return r===\"tuple\"&&\"components\"in e?Object.values(e.components).every((i,s)=>U$(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n===\"number\"||n===\"bigint\":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n===\"string\"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(r)?Array.isArray(t)&&t.every(i=>U$(i,{...e,type:r.replace(/(\\[[0-9]{0,}\\])$/,\"\")})):!1}}function YY(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type===\"tuple\"&&s.type===\"tuple\"&&\"components\"in i&&\"components\"in s)return YY(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes(\"address\")&&o.includes(\"bytes20\")?!0:o.includes(\"address\")&&o.includes(\"string\")?Vr(n[r],{strict:!1}):o.includes(\"address\")&&o.includes(\"bytes\")?Vr(n[r],{strict:!1}):!1)return o}}const qU=\"/docs/contract/encodeEventTopics\";function x2(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=Ap({abi:e,name:n});if(!l)throw new DU(n,{docsPath:qU});i=l}if(i.type!==\"event\")throw new DU(void 0,{docsPath:qU});const s=dc(i),o=Y4(s);let a=[];if(r&&\"inputs\"in i){const l=(c=i.inputs)==null?void 0:c.filter(h=>\"indexed\"in h&&h.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(h=>r[h.name]))??[]:[];d.length>0&&(a=(l==null?void 0:l.map((h,p)=>Array.isArray(d[p])?d[p].map((m,b)=>HU({param:h,value:d[p][b]})):typeof d[p]<\"u\"&&d[p]!==null?HU({param:h,value:d[p]}):null))??[])}return[o,...a]}function HU({param:t,value:e}){if(t.type===\"string\"||t.type===\"bytes\")return Ui(cy(e));if(t.type===\"tuple\"||t.type.match(/^(.*)\\[(\\d+)?\\]$/))throw new Qhe(t.type);return ch([t],[e])}function J4(t,{method:e}){var r,i;const n={};return t.transport.type===\"fallback\"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a===\"success\"&&e===s&&(n[o]=c.request)})),(s=>n[s]||t.request)}async function JY(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,l=J4(t,{method:\"eth_newFilter\"}),d=s?x2({abi:r,args:i,eventName:s}):void 0,h=await t.request({method:\"eth_newFilter\",params:[{address:n,fromBlock:typeof o==\"bigint\"?Oe(o):o,toBlock:typeof c==\"bigint\"?Oe(c):c,topics:d}]});return{abi:r,args:i,eventName:s,id:h,request:l(h),strict:!!a,type:\"event\"}}function or(t){return typeof t==\"string\"?{address:t,type:\"json-rpc\"}:t}const VU=\"/docs/contract/encodeFunctionData\";function Y0e(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=Ap({abi:e,args:n,name:r});if(!s)throw new Em(r,{docsPath:VU});i=s}if(i.type!==\"function\")throw new Em(void 0,{docsPath:VU});return{abi:[i],functionName:S2(dc(i))}}function Ko(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith(\"0x\"))?t:Y0e(t)})(),i=n[0],s=r,o=\"inputs\"in i&&i.inputs?ch(i.inputs,e??[]):void 0;return Ac([s,o??\"0x\"])}const J0e={1:\"An `assert` condition failed.\",17:\"Arithmetic operation resulted in underflow or overflow.\",18:\"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).\",33:\"Attempted to convert to an invalid type.\",34:\"Attempted to access a storage byte array that is incorrectly encoded.\",49:\"Performed `.pop()` on an empty array\",50:\"Array index is out of bounds.\",65:\"Allocated too much memory or created an array which is too large.\",81:\"Attempted to call a zero-initialized variable of internal function type.\"},XY={inputs:[{name:\"message\",type:\"string\"}],name:\"Error\",type:\"error\"},X0e={inputs:[{name:\"reason\",type:\"uint256\"}],name:\"Panic\",type:\"error\"};let KU=class extends Ee{constructor({offset:e}){super(`Offset \\`${e}\\` cannot be negative.`,{name:\"NegativeOffsetError\"})}},QY=class extends Ee{constructor({length:e,position:n}){super(`Position \\`${n}\\` is out of bounds (\\`0 < position < ${e}\\`).`,{name:\"PositionOutOfBoundsError\"})}},Q0e=class extends Ee{constructor({count:e,limit:n}){super(`Recursive read limit of \\`${n}\\` exceeded (recursive read count: \\`${e}\\`).`,{name:\"RecursiveReadLimitExceededError\"})}};const epe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Q0e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new QY({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new KU({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new KU({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function UO(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(epe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function tpe(t,e={}){typeof e.size<\"u\"&&xc(t,{size:e.size});const n=kr(t,e);return di(n,e)}function npe(t,e={}){let n=t;if(typeof e.size<\"u\"&&(xc(n,{size:e.size}),n=Pa(n)),n.length>1||n[0]>1)throw new t0e(n);return!!n[0]}function ju(t,e={}){typeof e.size<\"u\"&&xc(t,{size:e.size});const n=kr(t,e);return Bo(n,e)}function rpe(t,e={}){let n=t;return typeof e.size<\"u\"&&(xc(n,{size:e.size}),n=Pa(n,{dir:\"right\"})),new TextDecoder().decode(n)}function A2(t,e){const n=typeof e==\"string\"?El(e):e,r=UO(n);if(ir(n)===0&&t.length>0)throw new E2;if(ir(e)&&ir(e)<32)throw new TY({data:typeof e==\"string\"?e:kr(e),params:t,size:ir(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=om(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function om(t,e,{staticPosition:n}){const r=LO(e.type);if(r){const[i,s]=r;return spe(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type===\"tuple\")return lpe(t,e,{staticPosition:n});if(e.type===\"address\")return ipe(t);if(e.type===\"bool\")return ope(t);if(e.type.startsWith(\"bytes\"))return ape(t,e,{staticPosition:n});if(e.type.startsWith(\"uint\")||e.type.startsWith(\"int\"))return cpe(t,e);if(e.type===\"string\")return upe(t,{staticPosition:n});throw new Jhe(e.type,{docsPath:\"/docs/contract/decodeAbiParameters\"})}const WU=32,j$=32;function ipe(t){const e=t.readBytes(32);return[C2(kr(GY(e,-20))),32]}function spe(t,e,{length:n,staticPosition:r}){if(!n){const o=ju(t.readBytes(j$)),a=r+o,c=a+WU;t.setPosition(a);const l=ju(t.readBytes(WU)),d=ev(e);let h=0;const p=[];for(let m=0;m<l;++m){t.setPosition(c+(d?m*32:h));const[b,y]=om(t,e,{staticPosition:c});h+=y,p.push(b)}return t.setPosition(r+32),[p,32]}if(ev(e)){const o=ju(t.readBytes(j$)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[d]=om(t,e,{staticPosition:a});c.push(d)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=om(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function ope(t){return[npe(t.readBytes(32),{size:32}),32]}function ape(t,e,{staticPosition:n}){const[r,i]=e.type.split(\"bytes\");if(!i){const o=ju(t.readBytes(32));t.setPosition(n+o);const a=ju(t.readBytes(32));if(a===0)return t.setPosition(n+32),[\"0x\",32];const c=t.readBytes(a);return t.setPosition(n+32),[kr(c),32]}return[kr(t.readBytes(Number.parseInt(i,10),32)),32]}function cpe(t,e){const n=e.type.startsWith(\"int\"),r=Number.parseInt(e.type.split(\"int\")[1]||\"256\",10),i=t.readBytes(32);return[r>48?tpe(i,{signed:n}):ju(i,{signed:n}),32]}function lpe(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(ev(e)){const o=ju(t.readBytes(j$)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[d,h]=om(t,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=d}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=om(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function upe(t,{staticPosition:e}){const n=ju(t.readBytes(32)),r=e+n;t.setPosition(r);const i=ju(t.readBytes(32));if(i===0)return t.setPosition(e+32),[\"\",32];const s=t.readBytes(i,32),o=rpe(Pa(s));return t.setPosition(e+32),[o,32]}function ev(t){var r;const{type:e}=t;if(e===\"string\"||e===\"bytes\"||e.endsWith(\"[]\"))return!0;if(e===\"tuple\")return(r=t.components)==null?void 0:r.some(ev);const n=LO(t.type);return!!(n&&ev({...t,type:n[1]}))}function eJ(t){const{abi:e,data:n}=t,r=D0(n,0,4);if(r===\"0x\")throw new E2;const s=[...e||[],XY,X0e].find(o=>o.type===\"error\"&&r===S2(dc(o)));if(!s)throw new PY(r,{docsPath:\"/docs/contract/decodeErrorResult\"});return{abiItem:s,args:\"inputs\"in s&&s.inputs&&s.inputs.length>0?A2(s.inputs,D0(n,4)):void 0,errorName:s.name}}const _r=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i==\"bigint\"?i.toString():i,n);function tJ({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if(\"name\"in t&&\"inputs\"in t&&t.inputs)return`${n?t.name:\"\"}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:\"\"}${typeof e[s]==\"object\"?_r(e[s]):e[s]}`).join(\", \")})`}const dpe={gwei:9,wei:18},fpe={ether:-9,wei:9};function jO(t,e){let n=t.toString();const r=n.startsWith(\"-\");r&&(n=n.slice(1)),n=n.padStart(e,\"0\");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,\"\"),`${r?\"-\":\"\"}${i||\"0\"}${s?`.${s}`:\"\"}`}function zO(t,e=\"wei\"){return jO(t,dpe[e])}function Xs(t,e=\"wei\"){return jO(t,fpe[e])}let hpe=class extends Ee{constructor({address:e}){super(`State for account \"${e}\" is set multiple times.`,{name:\"AccountStateConflictError\"})}},ppe=class extends Ee{constructor(){super(\"state and stateDiff are set on the same account.\",{name:\"StateAssignmentConflictError\"})}};function GU(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}\n`,\"\")}function gpe(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:\n`;return r.nonce&&(i+=`      nonce: ${r.nonce}\n`),r.balance&&(i+=`      balance: ${r.balance}\n`),r.code&&(i+=`      code: ${r.code}\n`),r.state&&(i+=`      state:\n`,i+=GU(r.state)),r.stateDiff&&(i+=`      stateDiff:\n`,i+=GU(r.stateDiff)),i},`  State Override:\n`).slice(0,-1)}function $2(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`\n`)}let mpe=class extends Ee{constructor(){super([\"Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\",\"Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.\"].join(`\n`),{name:\"FeeConflictError\"})}},ype=class extends Ee{constructor({v:e}){super(`Invalid \\`v\\` value \"${e}\". Expected 27 or 28.`,{name:\"InvalidLegacyVError\"})}},bpe=class extends Ee{constructor({transaction:e}){super(\"Cannot infer a transaction type from provided transaction.\",{metaMessages:[\"Provided Transaction:\",\"{\",$2(e),\"}\",\"\",\"To infer the type, either provide:\",\"- a `type` to the Transaction, or\",\"- an EIP-1559 Transaction with `maxFeePerGas`, or\",\"- an EIP-2930 Transaction with `gasPrice` & `accessList`, or\",\"- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or\",\"- an EIP-7702 Transaction with `authorizationList`, or\",\"- a Legacy Transaction with `gasPrice`\"],name:\"InvalidSerializableTransactionError\"})}},wpe=class extends Ee{constructor({storageKey:e}){super(`Size for storage key \"${e}\" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:\"InvalidStorageKeySizeError\"})}};class vpe extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:h,value:p}){var b;const m=$2({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:n==null?void 0:n.address,to:h,value:typeof p<\"u\"&&`${zO(p)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||\"ETH\"}`,data:s,gas:o,gasPrice:typeof a<\"u\"&&`${Xs(a)} gwei`,maxFeePerGas:typeof c<\"u\"&&`${Xs(c)} gwei`,maxPriorityFeePerGas:typeof l<\"u\"&&`${Xs(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],\"Request Arguments:\",m].filter(Boolean),name:\"TransactionExecutionError\"}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}let nJ=class extends Ee{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o=\"Transaction\";r&&s!==void 0&&(o=`Transaction at block time \"${r}\" at index \"${s}\"`),e&&s!==void 0&&(o=`Transaction at block hash \"${e}\" at index \"${s}\"`),n&&s!==void 0&&(o=`Transaction at block number \"${n}\" at index \"${s}\"`),i&&(o=`Transaction with hash \"${i}\"`),super(`${o} could not be found.`,{name:\"TransactionNotFoundError\"})}},rJ=class extends Ee{constructor({hash:e}){super(`Transaction receipt with hash \"${e}\" could not be found. The Transaction may not be processed on a block yet.`,{name:\"TransactionReceiptNotFoundError\"})}},iJ=class extends Ee{constructor({receipt:e}){super(`Transaction with hash \"${e.transactionHash}\" reverted.`,{metaMessages:['The receipt marked the transaction as \"reverted\". This could mean that the function on the contract you are trying to call threw an error.',\" \",\"You can attempt to extract the revert reason by:\",\"- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract\",\"- using the `call` Action with raw `data`\"],name:\"TransactionReceiptRevertedError\"}),Object.defineProperty(this,\"receipt\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}},Epe=class extends Ee{constructor({hash:e}){super(`Timed out while waiting for transaction with hash \"${e}\" to be confirmed.`,{name:\"WaitForTransactionReceiptTimeoutError\"})}};const _pe=t=>t,I2=t=>t;let sJ=class extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:h,value:p,stateOverride:m}){var E;const b=n?or(n):void 0;let y=$2({from:b==null?void 0:b.address,to:h,value:typeof p<\"u\"&&`${zO(p)} ${((E=i==null?void 0:i.nativeCurrency)==null?void 0:E.symbol)||\"ETH\"}`,data:s,gas:o,gasPrice:typeof a<\"u\"&&`${Xs(a)} gwei`,maxFeePerGas:typeof c<\"u\"&&`${Xs(c)} gwei`,maxPriorityFeePerGas:typeof l<\"u\"&&`${Xs(l)} gwei`,nonce:d});m&&(y+=`\n${gpe(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],\"Raw Call Arguments:\",y].filter(Boolean),name:\"CallExecutionError\"}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},oJ=class extends Ee{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Ap({abi:n,args:r,name:o}),l=c?tJ({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?dc(c,{includeName:!0}):void 0,h=$2({address:i&&_pe(i),function:d,args:l&&l!==\"()\"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>\" \").join(\"\")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function \"${o}\".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],h&&\"Contract Call:\",h].filter(Boolean),name:\"ContractFunctionExecutionError\"}),Object.defineProperty(this,\"abi\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"args\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"contractAddress\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"formattedArgs\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"functionName\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"sender\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}},z$=class extends Ee{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!==\"0x\")try{o=eJ({abi:e,data:n});const{abiItem:d,errorName:h,args:p}=o;if(h===\"Error\")c=p[0];else if(h===\"Panic\"){const[m]=p;c=J0e[m]}else{const m=d?dc(d,{includeName:!0}):void 0,b=d&&p?tJ({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:\"\",b&&b!==\"()\"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>\" \").join(\"\")}${b}`:\"\"]}}catch(d){s=d}else i&&(c=i);let l;s instanceof PY&&(l=s.signature,a=[`Unable to decode signature \"${l}\" as it was not found on the provided ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!==\"execution reverted\"||l?[`The contract function \"${r}\" reverted with the following ${l?\"signature\":\"reason\"}:`,c||l].join(`\n`):`The contract function \"${r}\" reverted.`,{cause:s,metaMessages:a,name:\"ContractFunctionRevertedError\"}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"raw\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"reason\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"signature\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}},Cpe=class extends Ee{constructor({functionName:e}){super(`The contract function \"${e}\" returned no data (\"0x\").`,{metaMessages:[\"This could be due to any of the following:\",`  - The contract does not have the function \"${e}\",`,\"  - The parameters passed to the contract function may be invalid, or\",\"  - The address is not a contract.\"],name:\"ContractFunctionZeroDataError\"})}},Spe=class extends Ee{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory \"${e}\".`:\"\"}`,{metaMessages:[\"Please ensure:\",\"- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).\",\"- The `factoryData` is a valid encoded function call for contract deployment function on the factory.\"],name:\"CounterfactualDeploymentFailedError\"})}},X4=class extends Ee{constructor({data:e,message:n}){super(n||\"\",{name:\"RawContractError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}},_0=class extends Ee{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super(\"HTTP request failed.\",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${I2(o)}`,e&&`Request body: ${_r(e)}`].filter(Boolean),name:\"HttpRequestError\"}),Object.defineProperty(this,\"body\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headers\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"status\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"url\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}},FO=class extends Ee{constructor({body:e,error:n,url:r}){super(\"RPC Request failed.\",{cause:n,details:n.message,metaMessages:[`URL: ${I2(r)}`,`Request body: ${_r(e)}`],name:\"RpcRequestError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}},ZU=class extends Ee{constructor({body:e,url:n}){super(\"The request took too long to respond.\",{details:\"The request timed out.\",metaMessages:[`URL: ${I2(n)}`,`Request body: ${_r(e)}`],name:\"TimeoutError\"})}};const xpe=-1;let no=class extends Ee{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||\"RpcError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof FO?e.code:n??xpe}},Wo=class extends no{constructor(e,n){super(e,n),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}},F$=class aJ extends no{constructor(e){super(e,{code:aJ.code,name:\"ParseRpcError\",shortMessage:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"})}};Object.defineProperty(F$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32700});let q$=class cJ extends no{constructor(e){super(e,{code:cJ.code,name:\"InvalidRequestRpcError\",shortMessage:\"JSON is not a valid request object.\"})}};Object.defineProperty(q$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32600});let H$=class lJ extends no{constructor(e,{method:n}={}){super(e,{code:lJ.code,name:\"MethodNotFoundRpcError\",shortMessage:`The method${n?` \"${n}\"`:\"\"} does not exist / is not available.`})}};Object.defineProperty(H$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32601});let V$=class uJ extends no{constructor(e){super(e,{code:uJ.code,name:\"InvalidParamsRpcError\",shortMessage:[\"Invalid parameters were provided to the RPC method.\",\"Double check you have provided the correct parameters.\"].join(`\n`)})}};Object.defineProperty(V$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32602});let tv=class dJ extends no{constructor(e){super(e,{code:dJ.code,name:\"InternalRpcError\",shortMessage:\"An internal error was received.\"})}};Object.defineProperty(tv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32603});let nv=class fJ extends no{constructor(e){super(e,{code:fJ.code,name:\"InvalidInputRpcError\",shortMessage:[\"Missing or invalid parameters.\",\"Double check you have provided the correct parameters.\"].join(`\n`)})}};Object.defineProperty(nv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});let K$=class hJ extends no{constructor(e){super(e,{code:hJ.code,name:\"ResourceNotFoundRpcError\",shortMessage:\"Requested resource not found.\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ResourceNotFoundRpcError\"})}};Object.defineProperty(K$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32001});let Df=class pJ extends no{constructor(e){super(e,{code:pJ.code,name:\"ResourceUnavailableRpcError\",shortMessage:\"Requested resource not available.\"})}};Object.defineProperty(Df,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32002});let o8=class gJ extends no{constructor(e){super(e,{code:gJ.code,name:\"TransactionRejectedRpcError\",shortMessage:\"Transaction creation failed.\"})}};Object.defineProperty(o8,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32003});let hw=class mJ extends no{constructor(e,{method:n}={}){super(e,{code:mJ.code,name:\"MethodNotSupportedRpcError\",shortMessage:`Method${n?` \"${n}\"`:\"\"} is not supported.`})}};Object.defineProperty(hw,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32004});let a8=class yJ extends no{constructor(e){super(e,{code:yJ.code,name:\"LimitExceededRpcError\",shortMessage:\"Request exceeds defined limit.\"})}};Object.defineProperty(a8,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32005});let W$=class bJ extends no{constructor(e){super(e,{code:bJ.code,name:\"JsonRpcVersionUnsupportedError\",shortMessage:\"Version of JSON-RPC protocol is not supported.\"})}};Object.defineProperty(W$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32006});let Yn=class wJ extends Wo{constructor(e){super(e,{code:wJ.code,name:\"UserRejectedRequestError\",shortMessage:\"User rejected the request.\"})}};Object.defineProperty(Yn,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4001});let G$=class vJ extends Wo{constructor(e){super(e,{code:vJ.code,name:\"UnauthorizedProviderError\",shortMessage:\"The requested method and/or account has not been authorized by the user.\"})}};Object.defineProperty(G$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4100});let Z$=class EJ extends Wo{constructor(e,{method:n}={}){super(e,{code:EJ.code,name:\"UnsupportedProviderMethodError\",shortMessage:`The Provider does not support the requested method${n?` \" ${n}\"`:\"\"}.`})}};Object.defineProperty(Z$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4200});let Y$=class _J extends Wo{constructor(e){super(e,{code:_J.code,name:\"ProviderDisconnectedError\",shortMessage:\"The Provider is disconnected from all chains.\"})}};Object.defineProperty(Y$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4900});let J$=class CJ extends Wo{constructor(e){super(e,{code:CJ.code,name:\"ChainDisconnectedError\",shortMessage:\"The Provider is not connected to the requested chain.\"})}};Object.defineProperty(J$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4901});let zu=class SJ extends Wo{constructor(e){super(e,{code:SJ.code,name:\"SwitchChainError\",shortMessage:\"An error occurred when attempting to switch chain.\"})}};Object.defineProperty(zu,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4902});let c8=class xJ extends Wo{constructor(e){super(e,{code:xJ.code,name:\"UnsupportedNonOptionalCapabilityError\",shortMessage:\"This Wallet does not support a capability that was not marked as optional.\"})}};Object.defineProperty(c8,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5700});let X$=class AJ extends Wo{constructor(e){super(e,{code:AJ.code,name:\"UnsupportedChainIdError\",shortMessage:\"This Wallet does not support the requested chain ID.\"})}};Object.defineProperty(X$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5710});let Q$=class $J extends Wo{constructor(e){super(e,{code:$J.code,name:\"DuplicateIdError\",shortMessage:\"There is already a bundle submitted with this ID.\"})}};Object.defineProperty(Q$,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5720});let eI=class IJ extends Wo{constructor(e){super(e,{code:IJ.code,name:\"UnknownBundleIdError\",shortMessage:\"This bundle id is unknown / has not been submitted\"})}};Object.defineProperty(eI,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5730});let tI=class TJ extends Wo{constructor(e){super(e,{code:TJ.code,name:\"BundleTooLargeError\",shortMessage:\"The call bundle is too large for the Wallet to process.\"})}};Object.defineProperty(tI,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5740});let nI=class PJ extends Wo{constructor(e){super(e,{code:PJ.code,name:\"AtomicReadyWalletRejectedUpgradeError\",shortMessage:\"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.\"})}};Object.defineProperty(nI,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5750});let l8=class OJ extends Wo{constructor(e){super(e,{code:OJ.code,name:\"AtomicityNotSupportedError\",shortMessage:\"The wallet does not support atomic execution but the request requires it.\"})}};Object.defineProperty(l8,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5760});let Ape=class extends no{constructor(e){super(e,{name:\"UnknownRpcError\",shortMessage:\"An unknown RPC error occurred.\"})}};const $pe=3;function B0(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof X4?t:t instanceof Ee?t.walk(b=>\"data\"in b)||t.walk():{},{code:c,data:l,details:d,message:h,shortMessage:p}=a,m=t instanceof E2?new Cpe({functionName:s}):[$pe,tv.code].includes(c)&&(l||d||h||p)?new z$({abi:e,data:typeof l==\"object\"?l.data:l,functionName:s,message:a instanceof FO?d:p??h}):t;return new oJ(m,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function Ipe(t){const e=Ui(`0x${t.substring(4)}`).substring(26);return C2(`0x${e}`)}const Tpe=\"modulepreload\",Ppe=function(t,e){return new URL(t,e).href},YU={},De=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(p=>({status:\"fulfilled\",value:p}),p=>({status:\"rejected\",reason:p}))))};const a=document.getElementsByTagName(\"link\"),c=document.querySelector(\"meta[property=csp-nonce]\"),l=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute(\"nonce\"));i=o(n.map(d=>{if(d=Ppe(d,r),d in YU)return;YU[d]=!0;const h=d.endsWith(\".css\"),p=h?'[rel=\"stylesheet\"]':\"\";if(!!r)for(let y=a.length-1;y>=0;y--){const E=a[y];if(E.href===d&&(!h||E.rel===\"stylesheet\"))return}else if(document.querySelector(`link[href=\"${d}\"]${p}`))return;const b=document.createElement(\"link\");if(b.rel=h?\"stylesheet\":Tpe,h||(b.as=\"script\"),b.crossOrigin=\"\",b.href=d,l&&b.setAttribute(\"nonce\",l),document.head.appendChild(b),h)return new Promise((y,E)=>{b.addEventListener(\"load\",y),b.addEventListener(\"error\",()=>E(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(o){const a=new Event(\"vite:preloadError\",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status===\"rejected\"&&s(a.reason);return e().catch(s)})};async function Ope({hash:t,signature:e}){const n=fc(t)?t:ts(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>lQ);return{secp256k1:o}},void 0,import.meta.url);return`0x${(()=>{if(typeof e==\"object\"&&\"r\"in e&&\"s\"in e){const{r:l,s:d,v:h,yParity:p}=e,m=Number(p??h),b=JU(m);return new r.Signature(di(l),di(d)).addRecoveryBit(b)}const o=fc(e)?e:ts(e);if(ir(o)!==65)throw new Error(\"invalid signature length\");const a=Bo(`0x${o.slice(130)}`),c=JU(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function JU(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error(\"Invalid yParityOrV value\")}async function NJ({hash:t,signature:e}){return Ipe(await Ope({hash:t,signature:e}))}function Jf(t,e=\"hex\"){const n=RJ(t),r=UO(new Uint8Array(n.length));return n.encode(r),e===\"hex\"?kr(r.bytes):r.bytes}function RJ(t){return Array.isArray(t)?Npe(t.map(e=>RJ(e))):Rpe(t)}function Npe(t){const e=t.reduce((i,s)=>i+s.length,0),n=kJ(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Rpe(t){const e=typeof t==\"string\"?El(t):t,n=kJ(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function kJ(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ee(\"Length is too large.\")}function kpe(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=Ui(Ac([\"0x05\",Jf([e?Oe(e):\"0x\",i,n?Oe(n):\"0x\"])]));return r===\"bytes\"?El(s):s}async function Q4(t){const{authorization:e,signature:n}=t;return NJ({hash:kpe(e),signature:n??e})}let Mpe=class extends Ee{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:h,value:p}){var b;const m=$2({from:n==null?void 0:n.address,to:h,value:typeof p<\"u\"&&`${zO(p)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||\"ETH\"}`,data:s,gas:o,gasPrice:typeof a<\"u\"&&`${Xs(a)} gwei`,maxFeePerGas:typeof c<\"u\"&&`${Xs(c)} gwei`,maxPriorityFeePerGas:typeof l<\"u\"&&`${Xs(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],\"Estimate Gas Arguments:\",m].filter(Boolean),name:\"EstimateGasExecutionError\"}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}},d0=class extends Ee{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace(\"execution reverted: \",\"\"))==null?void 0:i.replace(\"execution reverted\",\"\");super(`Execution reverted ${r?`with reason: ${r}`:\"for an unknown reason\"}.`,{cause:e,name:\"ExecutionRevertedError\"})}};Object.defineProperty(d0,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(d0,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});let L0=class extends Ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\\`maxFeePerGas\\`${n?` = ${Xs(n)} gwei`:\"\"}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:\"FeeCapTooHighError\"})}};Object.defineProperty(L0,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\\^256-1|fee cap higher than 2\\^256-1/});let rI=class extends Ee{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\\`maxFeePerGas\\`${n?` = ${Xs(n)}`:\"\"} gwei) cannot be lower than the block base fee.`,{cause:e,name:\"FeeCapTooLowError\"})}};Object.defineProperty(rI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});let iI=class extends Ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:\"\"}is higher than the next one expected.`,{cause:e,name:\"NonceTooHighError\"})}};Object.defineProperty(iI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});let sI=class extends Ee{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:\"\"}is lower than the current nonce of the account.`,\"Try increasing the nonce or find the latest nonce with `getTransactionCount`.\"].join(`\n`),{cause:e,name:\"NonceTooLowError\"})}};Object.defineProperty(sI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});let oI=class extends Ee{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:\"\"}exceeds the maximum allowed nonce.`,{cause:e,name:\"NonceMaxValueError\"})}};Object.defineProperty(oI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});let aI=class extends Ee{constructor({cause:e}={}){super([\"The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.\"].join(`\n`),{cause:e,metaMessages:[\"This error could arise when the account does not have enough funds to:\",\" - pay for the total gas fee,\",\" - pay for the value to send.\",\" \",\"The cost of the transaction is calculated as `gas * gas fee + value`, where:\",\" - `gas` is the amount of gas needed for transaction to execute,\",\" - `gas fee` is the gas fee,\",\" - `value` is the amount of ether to send to the recipient.\"],name:\"InsufficientFundsError\"})}};Object.defineProperty(aI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});let cI=class extends Ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:\"\"}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:\"IntrinsicGasTooHighError\"})}};Object.defineProperty(cI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});let lI=class extends Ee{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:\"\"}provided for the transaction is too low.`,{cause:e,name:\"IntrinsicGasTooLowError\"})}};Object.defineProperty(lI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});let uI=class extends Ee{constructor({cause:e}){super(\"The transaction type is not supported for this chain.\",{cause:e,name:\"TransactionTypeNotSupportedError\"})}};Object.defineProperty(uI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});let rv=class extends Ee{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\\`maxPriorityFeePerGas\\`${n?` = ${Xs(n)} gwei`:\"\"}) cannot be higher than the fee cap (\\`maxFeePerGas\\`${r?` = ${Xs(r)} gwei`:\"\"}).`].join(`\n`),{cause:e,name:\"TipAboveFeeCapError\"})}};Object.defineProperty(rv,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});let T2=class extends Ee{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:\"UnknownNodeError\"})}};function e_(t,e){const n=(t.details||\"\").toLowerCase(),r=t instanceof Ee?t.walk(i=>(i==null?void 0:i.code)===d0.code):t;return r instanceof Ee?new d0({cause:t,message:r.details}):d0.nodeMessage.test(n)?new d0({cause:t,message:t.details}):L0.nodeMessage.test(n)?new L0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):rI.nodeMessage.test(n)?new rI({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):iI.nodeMessage.test(n)?new iI({cause:t,nonce:e==null?void 0:e.nonce}):sI.nodeMessage.test(n)?new sI({cause:t,nonce:e==null?void 0:e.nonce}):oI.nodeMessage.test(n)?new oI({cause:t,nonce:e==null?void 0:e.nonce}):aI.nodeMessage.test(n)?new aI({cause:t}):cI.nodeMessage.test(n)?new cI({cause:t,gas:e==null?void 0:e.gas}):lI.nodeMessage.test(n)?new lI({cause:t,gas:e==null?void 0:e.gas}):uI.nodeMessage.test(n)?new uI({cause:t}):rv.nodeMessage.test(n)?new rv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new T2({cause:t})}function Dpe(t,{docsPath:e,...n}){const r=(()=>{const i=e_(t,n);return i instanceof T2?t:i})();return new Mpe(r,{docsPath:e,...n})}function P2(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]==\"object\"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}function qO(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const o=e(i,s);if(n)for(const a of n)delete o[a];return{...o,...r(i,s)}},type:t})}const Bpe={legacy:\"0x0\",eip2930:\"0x1\",eip1559:\"0x2\",eip4844:\"0x3\",eip7702:\"0x4\"};function $p(t,e){const n={};return typeof t.authorizationList<\"u\"&&(n.authorizationList=Lpe(t.authorizationList)),typeof t.accessList<\"u\"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<\"u\"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<\"u\"&&(typeof t.blobs[0]!=\"string\"?n.blobs=t.blobs.map(r=>kr(r)):n.blobs=t.blobs),typeof t.data<\"u\"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<\"u\"&&(n.from=t.from),typeof t.gas<\"u\"&&(n.gas=Oe(t.gas)),typeof t.gasPrice<\"u\"&&(n.gasPrice=Oe(t.gasPrice)),typeof t.maxFeePerBlobGas<\"u\"&&(n.maxFeePerBlobGas=Oe(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<\"u\"&&(n.maxFeePerGas=Oe(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<\"u\"&&(n.maxPriorityFeePerGas=Oe(t.maxPriorityFeePerGas)),typeof t.nonce<\"u\"&&(n.nonce=Oe(t.nonce)),typeof t.to<\"u\"&&(n.to=t.to),typeof t.type<\"u\"&&(n.type=Bpe[t.type]),typeof t.value<\"u\"&&(n.value=Oe(t.value)),n}function Lpe(t){return t.map(e=>({address:e.address,r:e.r?Oe(BigInt(e.r)):e.r,s:e.s?Oe(BigInt(e.s)):e.s,chainId:Oe(e.chainId),nonce:Oe(e.nonce),...typeof e.yParity<\"u\"?{yParity:Oe(e.yParity)}:{},...typeof e.v<\"u\"&&typeof e.yParity>\"u\"?{v:Oe(e.v)}:{}}))}function XU(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new BU({size:n.length,targetSize:66,type:\"hex\"});if(r.length!==66)throw new BU({size:r.length,targetSize:66,type:\"hex\"});return e[n]=r,e},{})}function Upe(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=Oe(e)),n!==void 0&&(o.nonce=Oe(n)),r!==void 0&&(o.state=XU(r)),i!==void 0){if(o.state)throw new ppe;o.stateDiff=XU(i)}return o}function HO(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Vr(n,{strict:!1}))throw new Es({address:n});if(e[n])throw new hpe({address:n});e[n]=Upe(r)}return e}const t_=2n**256n-1n;function lh(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?or(e):void 0;if(o&&!Vr(o.address))throw new Es({address:o.address});if(s&&!Vr(s))throw new Es({address:s});if(typeof n<\"u\"&&(typeof r<\"u\"||typeof i<\"u\"))throw new mpe;if(r&&r>t_)throw new L0({maxFeePerGas:r});if(i&&r&&i>r)throw new rv({maxFeePerGas:r,maxPriorityFeePerGas:i})}let jpe=class extends Ee{constructor(){super(\"`baseFeeMultiplier` must be greater than 1.\",{name:\"BaseFeeScalarError\"})}},VO=class extends Ee{constructor(){super(\"Chain does not support EIP-1559 fees.\",{name:\"Eip1559FeesNotSupportedError\"})}},zpe=class extends Ee{constructor({maxPriorityFeePerGas:e}){super(`\\`maxFeePerGas\\` cannot be less than the \\`maxPriorityFeePerGas\\` (${Xs(e)} gwei).`,{name:\"MaxFeePerGasTooLowError\"})}},MJ=class extends Ee{constructor({blockHash:e,blockNumber:n}){let r=\"Block\";e&&(r=`Block at hash \"${e}\"`),n&&(r=`Block at number \"${n}\"`),super(`${r} could not be found.`,{name:\"BlockNotFoundError\"})}};const DJ={\"0x0\":\"legacy\",\"0x1\":\"eip2930\",\"0x2\":\"eip1559\",\"0x3\":\"eip4844\",\"0x4\":\"eip7702\"};function n_(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Bo(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Bo(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?DJ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=qpe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v==\"bigint\"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type===\"legacy\"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type===\"eip2930\"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type===\"eip1559\"&&delete n.maxFeePerBlobGas,n}const Fpe=qO(\"transaction\",n_);function qpe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function KO(t,e){const n=(t.transactions??[]).map(r=>typeof r==\"string\"?r:n_(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Hpe=qO(\"block\",KO);async function cl(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\",includeTransactions:i}={}){var l,d,h;const s=i??!1,o=n!==void 0?Oe(n):void 0;let a=null;if(e?a=await t.request({method:\"eth_getBlockByHash\",params:[e,s]},{dedupe:!0}):a=await t.request({method:\"eth_getBlockByNumber\",params:[o||r,s]},{dedupe:!!o}),!a)throw new MJ({blockHash:e,blockNumber:n});return(((h=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:h.format)||KO)(a,\"getBlock\")}async function WO(t){const e=await t.request({method:\"eth_gasPrice\"});return BigInt(e)}async function Vpe(t,e){return BJ(t,e)}async function BJ(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a==\"function\"){const l=n||await ct(t,cl,\"getBlock\")({}),d=await a({block:l,client:t,request:i});if(d===null)throw new Error;return d}if(typeof a<\"u\")return a;const c=await t.request({method:\"eth_maxPriorityFeePerGas\"});return di(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ct(t,cl,\"getBlock\")({}),ct(t,WO,\"getGasPrice\")({})]);if(typeof a.baseFeePerGas!=\"bigint\")throw new VO;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function Kpe(t,e){return dI(t,e)}async function dI(t,e){var p,m;const{block:n,chain:r=t.chain,request:i,type:s=\"eip1559\"}=e||{},o=await(async()=>{var b,y;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)==\"function\"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new jpe;const c=10**(((p=o.toString().split(\".\")[1])==null?void 0:p.length)??0),l=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await ct(t,cl,\"getBlock\")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)==\"function\"){const b=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(b!==null)return b}if(s===\"eip1559\"){if(typeof d.baseFeePerGas!=\"bigint\")throw new VO;const b=typeof(i==null?void 0:i.maxPriorityFeePerGas)==\"bigint\"?i.maxPriorityFeePerGas:await BJ(t,{block:d,chain:r,request:i}),y=l(d.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+b,maxPriorityFeePerGas:b}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await ct(t,WO,\"getGasPrice\")({}))}}async function GO(t,{address:e,blockTag:n=\"latest\",blockNumber:r}){const i=await t.request({method:\"eth_getTransactionCount\",params:[e,typeof r==\"bigint\"?Oe(r):n]},{dedupe:!!r});return Bo(i)}function ZO(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]==\"string\"?\"hex\":\"bytes\"),r=typeof t.blobs[0]==\"string\"?t.blobs.map(s=>El(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n===\"bytes\"?i:i.map(s=>kr(s))}function YO(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]==\"string\"?\"hex\":\"bytes\"),r=typeof t.blobs[0]==\"string\"?t.blobs.map(o=>El(o)):t.blobs,i=typeof t.commitments[0]==\"string\"?t.commitments.map(o=>El(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n===\"bytes\"?s:s.map(o=>kr(o))}function Wpe(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function Gpe(t,e,n){return t&e^~t&n}function Zpe(t,e,n){return t&e^t&n^e&n}let Ype=class extends MO{constructor(e,n,r,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.buffer=new Uint8Array(e),this.view=XS(this.buffer)}update(e){Cm(this),e=G4(e),M0(e);const{view:n,buffer:r,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=XS(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Cm(this),LY(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,Sm(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;Wpe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=XS(e),c=this.outputLen;if(c%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=c/4,d=this.get();if(l>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}};const qd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jpe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Hd=new Uint32Array(64);let Xpe=class extends Ype{constructor(e=32){super(64,e,8,!1),this.A=qd[0]|0,this.B=qd[1]|0,this.C=qd[2]|0,this.D=qd[3]|0,this.E=qd[4]|0,this.F=qd[5]|0,this.G=qd[6]|0,this.H=qd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Hd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Hd[h-15],m=Hd[h-2],b=Lc(p,7)^Lc(p,18)^p>>>3,y=Lc(m,17)^Lc(m,19)^m>>>10;Hd[h]=y+Hd[h-7]+b+Hd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const p=Lc(a,6)^Lc(a,11)^Lc(a,25),m=d+p+Gpe(a,c,l)+Jpe[h]+Hd[h]|0,y=(Lc(r,2)^Lc(r,13)^Lc(r,22))+Zpe(r,i,s)|0;d=l,l=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){Sm(Hd)}destroy(){this.set(0,0,0,0,0,0,0,0),Sm(this.buffer)}};const LJ=UY(()=>new Xpe),UJ=LJ;function Qpe(t,e){return UJ(fc(t,{strict:!1})?cy(t):t)}function ege(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e==\"string\"?\"hex\":\"bytes\"),i=Qpe(e);return i.set([n],0),r===\"bytes\"?i:kr(i)}function jJ(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]==\"string\"?\"hex\":\"bytes\"),i=[];for(const s of e)i.push(ege({commitment:s,to:r,version:n}));return i}const QU=6,zJ=32,JO=4096,FJ=zJ*JO,ej=FJ*QU-1-1*JO*QU,qJ=1;let tge=class extends Ee{constructor({maxSize:e,size:n}){super(\"Blob size is too large.\",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:\"BlobSizeTooLargeError\"})}},HJ=class extends Ee{constructor(){super(\"Blob data must not be empty.\",{name:\"EmptyBlobError\"})}},nge=class extends Ee{constructor({hash:e,size:n}){super(`Versioned hash \"${e}\" size is invalid.`,{metaMessages:[\"Expected: 32\",`Received: ${n}`],name:\"InvalidVersionedHashSizeError\"})}},rge=class extends Ee{constructor({hash:e,version:n}){super(`Versioned hash \"${e}\" version is invalid.`,{metaMessages:[`Expected: ${qJ}`,`Received: ${n}`],name:\"InvalidVersionedHashVersionError\"})}};function ige(t){const e=t.to??(typeof t.data==\"string\"?\"hex\":\"bytes\"),n=typeof t.data==\"string\"?El(t.data):t.data,r=ir(n);if(!r)throw new HJ;if(r>ej)throw new tge({maxSize:ej,size:r});const i=[];let s=!0,o=0;for(;s;){const a=UO(new Uint8Array(FJ));let c=0;for(;c<JO;){const l=n.slice(o,o+(zJ-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e===\"bytes\"?i.map(a=>a.bytes):i.map(a=>kr(a.bytes))}function VJ(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??ige({data:e,to:r}),s=t.commitments??ZO({blobs:i,kzg:n,to:r}),o=t.proofs??YO({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}function KJ(t){if(t.type)return t.type;if(typeof t.authorizationList<\"u\")return\"eip7702\";if(typeof t.blobs<\"u\"||typeof t.blobVersionedHashes<\"u\"||typeof t.maxFeePerBlobGas<\"u\"||typeof t.sidecars<\"u\")return\"eip4844\";if(typeof t.maxFeePerGas<\"u\"||typeof t.maxPriorityFeePerGas<\"u\")return\"eip1559\";if(typeof t.gasPrice<\"u\")return typeof t.accessList<\"u\"?\"eip2930\":\"legacy\";throw new bpe({transaction:t})}async function Ip(t){const e=await t.request({method:\"eth_chainId\"},{dedupe:!0});return Bo(e)}const XO=[\"blobVersionedHashes\",\"chainId\",\"fees\",\"gas\",\"nonce\",\"type\"],tj=new Map;async function O2(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=XO,type:d}=e,h=n&&or(n),p={...e,...h?{from:h==null?void 0:h.address}:{}};let m;async function b(){return m||(m=await ct(t,cl,\"getBlock\")({blockTag:\"latest\"}),m)}let y;async function E(){return y||(i?i.id:typeof e.chainId<\"u\"?e.chainId:(y=await ct(t,Ip,\"getChainId\")({}),y))}if(l.includes(\"nonce\")&&typeof a>\"u\"&&h)if(c){const v=await E();p.nonce=await c.consume({address:h.address,chainId:v,client:t})}else p.nonce=await ct(t,GO,\"getTransactionCount\")({address:h.address,blockTag:\"pending\"});if((l.includes(\"blobVersionedHashes\")||l.includes(\"sidecars\"))&&r&&o){const v=ZO({blobs:r,kzg:o});if(l.includes(\"blobVersionedHashes\")){const _=jJ({commitments:v,to:\"hex\"});p.blobVersionedHashes=_}if(l.includes(\"sidecars\")){const _=YO({blobs:r,commitments:v,kzg:o}),C=VJ({blobs:r,commitments:v,proofs:_,to:\"hex\"});p.sidecars=C}}if(l.includes(\"chainId\")&&(p.chainId=await E()),(l.includes(\"fees\")||l.includes(\"type\"))&&typeof d>\"u\")try{p.type=KJ(p)}catch{let v=tj.get(t.uid);if(typeof v>\"u\"){const _=await b();v=typeof(_==null?void 0:_.baseFeePerGas)==\"bigint\",tj.set(t.uid,v)}p.type=v?\"eip1559\":\"legacy\"}if(l.includes(\"fees\"))if(p.type!==\"legacy\"&&p.type!==\"eip2930\"){if(typeof p.maxFeePerGas>\"u\"||typeof p.maxPriorityFeePerGas>\"u\"){const v=await b(),{maxFeePerGas:_,maxPriorityFeePerGas:C}=await dI(t,{block:v,chain:i,request:p});if(typeof e.maxPriorityFeePerGas>\"u\"&&e.maxFeePerGas&&e.maxFeePerGas<C)throw new zpe({maxPriorityFeePerGas:C});p.maxPriorityFeePerGas=C,p.maxFeePerGas=_}}else{if(typeof e.maxFeePerGas<\"u\"||typeof e.maxPriorityFeePerGas<\"u\")throw new VO;if(typeof e.gasPrice>\"u\"){const v=await b(),{gasPrice:_}=await dI(t,{block:v,chain:i,request:p,type:\"legacy\"});p.gasPrice=_}}return l.includes(\"gas\")&&typeof s>\"u\"&&(p.gas=await ct(t,QO,\"estimateGas\")({...p,account:h,prepare:(h==null?void 0:h.type)===\"local\"?[]:[\"blobVersionedHashes\"]})),lh(p),delete p.parameters,p}async function QO(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,i=n?or(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!==\"local\")return[\"blobVersionedHashes\"]})();try{const{accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:p,blockNumber:m,blockTag:b,data:y,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:A,value:I,stateOverride:O,...D}=r?await O2(t,{...e,parameters:s}):e,U=(typeof m==\"bigint\"?Oe(m):void 0)||b,F=HO(O),H=await(async()=>{if(D.to)return D.to;if(d&&d.length>0)return await Q4({authorization:d[0]}).catch(()=>{throw new Ee(\"`to` is required. Could not infer from `authorizationList`\")})})();lh(e);const V=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,$=(V||$p)({...P2(D,{format:V}),account:i,accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:p,data:y,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:A,to:H,value:I},\"estimateGas\");return BigInt(await t.request({method:\"eth_estimateGas\",params:F?[$,U??t.experimental_blockTag??\"latest\",F]:U?[$,U]:[$]}))}catch(l){throw Dpe(l,{...e,account:i,chain:t.chain})}}async function sge(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,c=Ko({abi:n,args:i,functionName:s});try{return await ct(t,QO,\"estimateGas\")({data:`${c}${o?o.replace(\"0x\",\"\"):\"\"}`,to:r,...a})}catch(l){const d=a.account?or(a.account):void 0;throw B0(l,{abi:n,address:r,args:i,docsPath:\"/docs/contract/estimateContractGas\",functionName:s,sender:d==null?void 0:d.address})}}function ly(t,e){if(!Vr(t,{strict:!1}))throw new Es({address:t});if(!Vr(e,{strict:!1}))throw new Es({address:e});return t.toLowerCase()===e.toLowerCase()}const nj=\"/docs/contract/decodeEventLog\";function eN(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new Khe({docsPath:nj});const c=e.find(y=>y.type===\"event\"&&o===Y4(dc(y)));if(!(c&&\"name\"in c)||c.type!==\"event\")throw new OY(o,{docsPath:nj});const{name:l,inputs:d}=c,h=d==null?void 0:d.some(y=>!(\"name\"in y&&y.name)),p=h?[]:{},m=d.map((y,E)=>[y,E]).filter(([y])=>\"indexed\"in y&&y.indexed);for(let y=0;y<m.length;y++){const[E,v]=m[y],_=a[y];if(!_)throw new W4({abiItem:c,param:E});p[h?v:E.name||v]=oge({param:E,value:_})}const b=d.filter(y=>!(\"indexed\"in y&&y.indexed));if(b.length>0){if(n&&n!==\"0x\")try{const y=A2(b,n);if(y)if(h)for(let E=0;E<d.length;E++)p[E]=p[E]??y.shift();else for(let E=0;E<b.length;E++)p[b[E].name]=y[E]}catch(y){if(s)throw y instanceof TY||y instanceof QY?new Xw({abiItem:c,data:n,params:b,size:ir(n)}):y}else if(s)throw new Xw({abiItem:c,data:\"0x\",params:b,size:0})}return{eventName:l,args:Object.values(p).length>0?p:void 0}}function oge({param:t,value:e}){return t.type===\"string\"||t.type===\"bytes\"||t.type===\"tuple\"||t.type.match(/^(.*)\\[(\\d+)?\\]$/)?e:(A2([t],e)||[])[0]}function tN(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(d=>d.type===\"event\"&&o.topics[0]===Y4(d));if(!c)return null;const l=eN({...o,abi:[c],strict:i});return s&&!s.includes(l.eventName)||!age({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,d;if(c instanceof OY)return null;if(c instanceof Xw||c instanceof W4){if(i)return null;l=c.abiItem.name,d=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!(\"name\"in h&&h.name))}return{...o,args:d?[]:{},eventName:l}}}).filter(Boolean)}function age(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type===\"address\"?ly(o,a):s.type===\"string\"||s.type===\"bytes\"?Ui(cy(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e==\"object\"&&!Array.isArray(e)&&typeof r==\"object\"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}function Qu(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function nN(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,d=o??(s?[s]:void 0);let h=[];d&&(h=[d.flatMap(y=>x2({abi:[y],eventName:y.name,args:o?void 0:a}))],s&&(h=h[0]));let p;n?p=await t.request({method:\"eth_getLogs\",params:[{address:e,topics:h,blockHash:n}]}):p=await t.request({method:\"eth_getLogs\",params:[{address:e,topics:h,fromBlock:typeof r==\"bigint\"?Oe(r):r,toBlock:typeof i==\"bigint\"?Oe(i):i}]});const m=p.map(b=>Qu(b));return d?tN({abi:d,args:a,logs:m,strict:l}):m}async function WJ(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,d=o?Ap({abi:n,name:o}):void 0,h=d?void 0:n.filter(p=>p.type===\"event\");return ct(t,nN,\"getLogs\")({address:r,args:i,blockHash:s,event:d,events:h,fromBlock:a,toBlock:c,strict:l})}const tx=\"/docs/contract/decodeFunctionResult\";function Tp(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=Ap({abi:e,args:n,name:r});if(!a)throw new Em(r,{docsPath:tx});s=a}if(s.type!==\"function\")throw new Em(void 0,{docsPath:tx});if(!s.outputs)throw new NY(s.name,{docsPath:tx});const o=A2(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const rN=BigInt(0),fI=BigInt(1);function N2(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function iN(t){if(!N2(t))throw new Error(\"Uint8Array expected\")}function iv(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}function n3(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function GJ(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?rN:BigInt(\"0x\"+t)}const ZJ=typeof Uint8Array.from([]).toHex==\"function\"&&typeof Uint8Array.fromHex==\"function\",cge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function sv(t){if(iN(t),ZJ)return t.toHex();let e=\"\";for(let n=0;n<t.length;n++)e+=cge[t[n]];return e}const tu={_0:48,_9:57,A:65,F:70,a:97,f:102};function rj(t){if(t>=tu._0&&t<=tu._9)return t-tu._0;if(t>=tu.A&&t<=tu.F)return t-(tu.A-10);if(t>=tu.a&&t<=tu.f)return t-(tu.a-10)}function u8(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);if(ZJ)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=rj(t.charCodeAt(s)),a=rj(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=o*16+a}return r}function C0(t){return GJ(sv(t))}function YJ(t){return iN(t),GJ(sv(Uint8Array.from(t).reverse()))}function R2(t,e){return u8(t.toString(16).padStart(e*2,\"0\"))}function JJ(t,e){return R2(t,e).reverse()}function Sa(t,e,n){let r;if(typeof e==\"string\")try{r=u8(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(N2(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+i);return r}function d8(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];iN(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const nx=t=>typeof t==\"bigint\"&&rN<=t;function sN(t,e,n){return nx(t)&&nx(e)&&nx(n)&&e<=t&&t<n}function am(t,e,n,r){if(!sN(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function lge(t){let e;for(e=0;t>rN;t>>=fI,e+=1);return e}const r_=t=>(fI<<BigInt(t))-fI,rx=t=>new Uint8Array(t),ij=t=>Uint8Array.from(t);function uge(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=rx(t),i=rx(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=rx(0))=>{i=a(ij([0]),h),r=a(),h.length!==0&&(i=a(ij([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let h=0;const p=[];for(;h<e;){r=a();const m=r.slice();p.push(m),h+=r.length}return d8(...p)};return(h,p)=>{o(),c(h);let m;for(;!(m=p(l()));)c();return o(),m}}const dge={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||N2(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function i_(t,e,n={}){const r=(i,s,o)=>{const a=dge[s];if(typeof a!=\"function\")throw new Error(\"invalid validator function\");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(\"param \"+String(i)+\" is invalid. Expected \"+s+\", got \"+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function sj(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const fge=\"0.1.1\";function hge(){return fge}let Wt=class hI extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof hI){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&\"details\"in n.cause&&typeof n.cause.details==\"string\"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof hI&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??\"\"}`,a=[e||\"An error occurred.\",...n.metaMessages?[\"\",...n.metaMessages]:[],...r||i?[\"\",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c==\"string\").join(`\n`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docs\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"BaseError\"}),Object.defineProperty(this,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${hge()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return XJ(this,e)}};function XJ(t,e){return e!=null&&e(t)?t:t&&typeof t==\"object\"&&\"cause\"in t&&t.cause?XJ(t.cause,e):e?null:t}function k2(t,e){if(z1(t)>e)throw new Pge({givenSize:z1(t),maxSize:e})}const nu={zero:48,nine:57,A:65,F:70,a:97,f:102};function oj(t){if(t>=nu.zero&&t<=nu.nine)return t-nu.zero;if(t>=nu.A&&t<=nu.F)return t-(nu.A-10);if(t>=nu.a&&t<=nu.f)return t-(nu.a-10)}function pge(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new Oge({size:t.length,targetSize:r,type:\"Bytes\"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n===\"right\";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function QJ(t,e={}){const{dir:n=\"left\"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n===\"left\"?s:r.length-s-1].toString()===\"0\";s++)i++;return r=n===\"left\"?r.slice(i):r.slice(0,r.length-i),r}function s_(t,e){if(Uo(t)>e)throw new Bge({givenSize:Uo(t),maxSize:e})}function gge(t,e){if(typeof e==\"number\"&&e>0&&e>Uo(t)-1)throw new cX({offset:e,position:\"start\",size:Uo(t)})}function mge(t,e,n){if(typeof e==\"number\"&&typeof n==\"number\"&&Uo(t)!==n-e)throw new cX({offset:n,position:\"end\",size:Uo(t)})}function eX(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace(\"0x\",\"\");if(i.length>r*2)throw new Lge({size:Math.ceil(i.length/2),targetSize:r,type:\"Hex\"});return`0x${i[n===\"right\"?\"padEnd\":\"padStart\"](r*2,\"0\")}`}const yge=\"#__bigint\";function tX(t,e,n){return JSON.stringify(t,(r,i)=>typeof i==\"bigint\"?i.toString()+yge:i,n)}const bge=new TextDecoder,wge=new TextEncoder;function vge(t){return t instanceof Uint8Array?t:typeof t==\"string\"?nX(t):Ege(t)}function Ege(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function nX(t,e={}){const{size:n}=e;let r=t;n&&(s_(t,n),r=j0(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=oj(i.charCodeAt(c++)),d=oj(i.charCodeAt(c++));if(l===void 0||d===void 0)throw new Wt(`Invalid byte sequence (\"${i[c-2]}${i[c-1]}\" in \"${i}\").`);o[a]=l*16+d}return o}function _ge(t,e={}){const{size:n}=e,r=wge.encode(t);return typeof n==\"number\"?(k2(r,n),Cge(r,n)):r}function Cge(t,e){return pge(t,{dir:\"right\",size:e})}function z1(t){return t.length}function Sge(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function xge(t,e={}){const{size:n}=e;typeof n<\"u\"&&k2(t,n);const r=pc(t,e);return sX(r,e)}function Age(t,e={}){const{size:n}=e;let r=t;if(typeof n<\"u\"&&(k2(r,n),r=rX(r)),r.length>1||r[0]>1)throw new Tge(r);return!!r[0]}function Fu(t,e={}){const{size:n}=e;typeof n<\"u\"&&k2(t,n);const r=pc(t,e);return oX(r,e)}function $ge(t,e={}){const{size:n}=e;let r=t;return typeof n<\"u\"&&(k2(r,n),r=Ige(r)),bge.decode(r)}function rX(t){return QJ(t,{dir:\"left\"})}function Ige(t){return QJ(t,{dir:\"right\"})}let Tge=class extends Wt{constructor(e){super(`Bytes value \\`${e}\\` is not a valid boolean.`,{metaMessages:[\"The bytes array must contain a single byte of either a `0` or `1` value.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.InvalidBytesBooleanError\"})}},Pge=class extends Wt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \\`${n}\\` bytes. Given size: \\`${e}\\` bytes.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.SizeOverflowError\"})}},Oge=class extends Wt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\\`${e}\\`) exceeds padding size (\\`${n}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.SizeExceedsPaddingSizeError\"})}};const Nge=new TextEncoder,Rge=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function kge(t,e={}){const{strict:n=!1}=e;if(!t)throw new aj(t);if(typeof t!=\"string\")throw new aj(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new cj(t);if(!t.startsWith(\"0x\"))throw new cj(t)}function hc(...t){return`0x${t.reduce((e,n)=>e+n.replace(\"0x\",\"\"),\"\")}`}function Mge(t){return t instanceof Uint8Array?pc(t):Array.isArray(t)?pc(new Uint8Array(t)):t}function iX(t,e={}){const n=`0x${Number(t)}`;return typeof e.size==\"number\"?(s_(n,e.size),U0(n,e.size)):n}function pc(t,e={}){let n=\"\";for(let i=0;i<t.length;i++)n+=Rge[t[i]];const r=`0x${n}`;return typeof e.size==\"number\"?(s_(r,e.size),j0(r,e.size)):r}function us(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t==\"number\"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s==\"bigint\"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t==\"bigint\"?\"n\":\"\";throw new aX({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?U0(c,r):c}function oN(t,e={}){return pc(Nge.encode(t),e)}function U0(t,e){return eX(t,{dir:\"left\",size:e})}function j0(t,e){return eX(t,{dir:\"right\",size:e})}function hl(t,e,n,r={}){const{strict:i}=r;gge(t,e);const s=`0x${t.replace(\"0x\",\"\").slice((e??0)*2,(n??t.length)*2)}`;return i&&mge(s,e,n),s}function Uo(t){return Math.ceil((t.length-2)/2)}function sX(t,e={}){const{signed:n}=e;e.size&&s_(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function oX(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:sX(t,e))}function Dge(t,e={}){const{strict:n=!1}=e;try{return kge(t,{strict:n}),!0}catch{return!1}}let aX=class extends Wt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \\`${s}\\` is not in safe${i?` ${i*8}-bit`:\"\"}${r?\" signed\":\" unsigned\"} integer range ${e?`(\\`${n}\\` to \\`${e}\\`)`:`(above \\`${n}\\`)`}`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.IntegerOutOfRangeError\"})}},aj=class extends Wt{constructor(e){super(`Value \\`${typeof e==\"object\"?tX(e):e}\\` of type \\`${typeof e}\\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `\"0x${string}\"`.']}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.InvalidHexTypeError\"})}},cj=class extends Wt{constructor(e){super(`Value \\`${e}\\` is an invalid hex value.`,{metaMessages:['Hex values must start with `\"0x\"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.InvalidHexValueError\"})}},Bge=class extends Wt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \\`${n}\\` bytes. Given size: \\`${e}\\` bytes.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SizeOverflowError\"})}},cX=class extends Wt{constructor({offset:e,position:n,size:r}){super(`Slice ${n===\"start\"?\"starting\":\"ending\"} at offset \\`${e}\\` is out-of-bounds (size: \\`${r}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SliceOffsetOutOfBoundsError\"})}},Lge=class extends Wt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\\`${e}\\`) exceeds padding size (\\`${n}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SizeExceedsPaddingSizeError\"})}};function Uge(t){return{address:t.address,amount:us(t.amount),index:us(t.index),validatorIndex:us(t.validatorIndex)}}function lX(t){return{...typeof t.baseFeePerGas==\"bigint\"&&{baseFeePerGas:us(t.baseFeePerGas)},...typeof t.blobBaseFee==\"bigint\"&&{blobBaseFee:us(t.blobBaseFee)},...typeof t.feeRecipient==\"string\"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit==\"bigint\"&&{gasLimit:us(t.gasLimit)},...typeof t.number==\"bigint\"&&{number:us(t.number)},...typeof t.prevRandao==\"bigint\"&&{prevRandao:us(t.prevRandao)},...typeof t.time==\"bigint\"&&{time:us(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Uge)}}}const f8=[{inputs:[{components:[{name:\"target\",type:\"address\"},{name:\"allowFailure\",type:\"bool\"},{name:\"callData\",type:\"bytes\"}],name:\"calls\",type:\"tuple[]\"}],name:\"aggregate3\",outputs:[{components:[{name:\"success\",type:\"bool\"},{name:\"returnData\",type:\"bytes\"}],name:\"returnData\",type:\"tuple[]\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getCurrentBlockTimestamp\",outputs:[{internalType:\"uint256\",name:\"timestamp\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"}],pI=[{name:\"query\",type:\"function\",stateMutability:\"view\",inputs:[{type:\"tuple[]\",name:\"queries\",components:[{type:\"address\",name:\"sender\"},{type:\"string[]\",name:\"urls\"},{type:\"bytes\",name:\"data\"}]}],outputs:[{type:\"bool[]\",name:\"failures\"},{type:\"bytes[]\",name:\"responses\"}]},{name:\"HttpError\",type:\"error\",inputs:[{type:\"uint16\",name:\"status\"},{type:\"string\",name:\"message\"}]}],uX=[{inputs:[{name:\"dns\",type:\"bytes\"}],name:\"DNSDecodingFailed\",type:\"error\"},{inputs:[{name:\"ens\",type:\"string\"}],name:\"DNSEncodingFailed\",type:\"error\"},{inputs:[],name:\"EmptyAddress\",type:\"error\"},{inputs:[{name:\"status\",type:\"uint16\"},{name:\"message\",type:\"string\"}],name:\"HttpError\",type:\"error\"},{inputs:[],name:\"InvalidBatchGatewayResponse\",type:\"error\"},{inputs:[{name:\"errorData\",type:\"bytes\"}],name:\"ResolverError\",type:\"error\"},{inputs:[{name:\"name\",type:\"bytes\"},{name:\"resolver\",type:\"address\"}],name:\"ResolverNotContract\",type:\"error\"},{inputs:[{name:\"name\",type:\"bytes\"}],name:\"ResolverNotFound\",type:\"error\"},{inputs:[{name:\"primary\",type:\"string\"},{name:\"primaryAddress\",type:\"bytes\"}],name:\"ReverseAddressMismatch\",type:\"error\"},{inputs:[{internalType:\"bytes4\",name:\"selector\",type:\"bytes4\"}],name:\"UnsupportedResolverProfile\",type:\"error\"}],dX=[...uX,{name:\"resolveWithGateways\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes\"},{name:\"data\",type:\"bytes\"},{name:\"gateways\",type:\"string[]\"}],outputs:[{name:\"\",type:\"bytes\"},{name:\"address\",type:\"address\"}]}],jge=[...uX,{name:\"reverseWithGateways\",type:\"function\",stateMutability:\"view\",inputs:[{type:\"bytes\",name:\"reverseName\"},{type:\"uint256\",name:\"coinType\"},{type:\"string[]\",name:\"gateways\"}],outputs:[{type:\"string\",name:\"resolvedName\"},{type:\"address\",name:\"resolver\"},{type:\"address\",name:\"reverseResolver\"}]}],lj=[{name:\"text\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"},{name:\"key\",type:\"string\"}],outputs:[{name:\"\",type:\"string\"}]}],uj=[{name:\"addr\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"}],outputs:[{name:\"\",type:\"address\"}]},{name:\"addr\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"},{name:\"coinType\",type:\"uint256\"}],outputs:[{name:\"\",type:\"bytes\"}]}],fX=[{name:\"isValidSignature\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"hash\",type:\"bytes32\"},{name:\"signature\",type:\"bytes\"}],outputs:[{name:\"\",type:\"bytes4\"}]}],dj=[{inputs:[{name:\"_signer\",type:\"address\"},{name:\"_hash\",type:\"bytes32\"},{name:\"_signature\",type:\"bytes\"}],stateMutability:\"nonpayable\",type:\"constructor\"},{inputs:[{name:\"_signer\",type:\"address\"},{name:\"_hash\",type:\"bytes32\"},{name:\"_signature\",type:\"bytes\"}],outputs:[{type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\",name:\"isValidSig\"}],zge=\"0x82ad56cb\",hX=\"0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe\",Fge=\"0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe\",qge=\"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572\",aN=\"0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033\";let gI=class extends Ee{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain \"${n.name}\" does not support contract \"${r.name}\".`,{metaMessages:[\"This could be due to any of the following:\",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract \"${r.name}\" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract \"${r.name}\" configured.`]],name:\"ChainDoesNotSupportContract\"})}};class Hge extends Ee{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:\"ChainMismatchError\"})}}class Vge extends Ee{constructor(){super([\"No chain was provided to the request.\",\"Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient.\"].join(`\n`),{name:\"ChainNotFoundError\"})}}let pX=class extends Ee{constructor(){super(\"No chain was provided to the Client.\",{name:\"ClientChainNotConfiguredError\"})}},o_=class extends Ee{constructor({chainId:e}){super(typeof e==\"number\"?`Chain ID \"${e}\" is invalid.`:\"Chain ID is invalid.\",{name:\"InvalidChainIdError\"})}};const ix=\"/docs/contract/encodeDeployData\";function a_(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>\"type\"in o&&o.type===\"constructor\");if(!i)throw new zhe({docsPath:ix});if(!(\"inputs\"in i))throw new kU({docsPath:ix});if(!i.inputs||i.inputs.length===0)throw new kU({docsPath:ix});const s=ch(i.inputs,n);return Ac([r,s])}function uy({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new gI({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new gI({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function gX(t,{docsPath:e,...n}){const r=(()=>{const i=e_(t,n);return i instanceof T2?t:i})();return new sJ(r,{docsPath:e,...n})}function cN(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const sx=new Map;function mX({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const d=c();o();const h=d.map(({args:p})=>p);h.length!==0&&t(h).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let m=0;m<d.length;m++){const{resolve:b}=d[m];b==null||b([p[m],p])}}).catch(p=>{for(let m=0;m<d.length;m++){const{reject:b}=d[m];b==null||b(p)}})},o=()=>sx.delete(e),a=()=>c().map(({args:d})=>d),c=()=>sx.get(e)||[],l=d=>sx.set(e,[...c(),d]);return{flush:o,async schedule(d){const{promise:h,resolve:p,reject:m}=cN();return(n==null?void 0:n([...a(),d]))&&s(),c().length>0?(l({args:d,resolve:p,reject:m}),h):(l({args:d,resolve:p,reject:m}),setTimeout(s,r),h)}}}async function M2(t,e){var V,M,$,P;const{account:n=t.account,authorizationList:r,batch:i=!!((V=t.batch)!=null&&V.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??\"latest\",accessList:a,blobs:c,blockOverrides:l,code:d,data:h,factory:p,factoryData:m,gas:b,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:v,maxPriorityFeePerGas:_,nonce:C,to:S,value:A,stateOverride:I,...O}=e,D=n?or(n):void 0;if(d&&(p||m))throw new Ee(\"Cannot provide both `code` & `factory`/`factoryData` as parameters.\");if(d&&S)throw new Ee(\"Cannot provide both `code` & `to` as parameters.\");const N=d&&h,U=p&&m&&S&&h,F=N||U,H=N?yX({code:d,data:h}):U?Gge({data:h,factory:p,factoryData:m,to:S}):h;try{lh(e);const T=(typeof s==\"bigint\"?Oe(s):void 0)||o,k=l?lX(l):void 0,z=HO(I),L=(P=($=(M=t.chain)==null?void 0:M.formatters)==null?void 0:$.transactionRequest)==null?void 0:P.format,j=(L||$p)({...P2(O,{format:L}),accessList:a,account:D,authorizationList:r,blobs:c,data:H,gas:b,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:v,maxPriorityFeePerGas:_,nonce:C,to:F?void 0:S,value:A},\"call\");if(i&&Kge({request:j})&&!z&&!k)try{return await Wge(t,{...j,blockNumber:s,blockTag:o})}catch(Z){if(!(Z instanceof pX)&&!(Z instanceof gI))throw Z}const K=(()=>{const Z=[j,T];return z&&k?[...Z,z,k]:z?[...Z,z]:k?[...Z,{},k]:Z})(),G=await t.request({method:\"eth_call\",params:K});return G===\"0x\"?{data:void 0}:{data:G}}catch(q){const T=Zge(q),{offchainLookup:k,offchainLookupSignature:z}=await De(async()=>{const{offchainLookup:L,offchainLookupSignature:B}=await Promise.resolve().then(()=>ime);return{offchainLookup:L,offchainLookupSignature:B}},void 0,import.meta.url);if(t.ccipRead!==!1&&(T==null?void 0:T.slice(0,10))===z&&S)return{data:await k(t,{data:T,to:S})};throw F&&(T==null?void 0:T.slice(0,10))===\"0x101bb98d\"?new Spe({factory:p}):gX(q,{...e,account:D,chain:t.chain})}}function Kge({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(zge)||!n||Object.values(r).filter(i=>typeof i<\"u\").length>0)}async function Wge(t,e){var y;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((y=t.batch)==null?void 0:y.multicall)==\"object\"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??\"latest\",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return uy({blockNumber:s,chain:t.chain,contract:\"multicall3\"});throw new pX})(),h=(typeof s==\"bigint\"?Oe(s):void 0)||o,{schedule:p}=mX({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(E){return E.reduce((_,{data:C})=>_+(C.length-2),0)>n*2},fn:async E=>{const v=E.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),_=Ko({abi:f8,args:[v],functionName:\"aggregate3\"}),C=await t.request({method:\"eth_call\",params:[{...l===null?{data:yX({code:aN,data:_})}:{to:l,data:_}},h]});return Tp({abi:f8,args:[v],functionName:\"aggregate3\",data:C||\"0x\"})}}),[{returnData:m,success:b}]=await p({data:a,to:c});if(!b)throw new X4({data:m});return m===\"0x\"?{data:void 0}:{data:m}}function yX(t){const{code:e,data:n}=t;return a_({abi:AY([\"constructor(bytes, bytes)\"]),bytecode:hX,args:[e,n]})}function Gge(t){const{data:e,factory:n,factoryData:r,to:i}=t;return a_({abi:AY([\"constructor(address, bytes, address, bytes)\"]),bytecode:Fge,args:[i,e,n,r]})}function Zge(t){var n;if(!(t instanceof Ee))return;const e=t.walk();return typeof(e==null?void 0:e.data)==\"object\"?(n=e.data)==null?void 0:n.data:e.data}async function gc(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=Ko({abi:n,args:i,functionName:s});try{const{data:c}=await ct(t,M2,\"call\")({...o,data:a,to:r});return Tp({abi:n,args:i,functionName:s,data:c||\"0x\"})}catch(c){throw B0(c,{abi:n,address:r,args:i,docsPath:\"/docs/contract/readContract\",functionName:s})}}async function Yge(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?or(a.account):t.account,l=Ko({abi:n,args:i,functionName:o});try{const{data:d}=await ct(t,M2,\"call\")({batch:!1,data:`${l}${s?s.replace(\"0x\",\"\"):\"\"}`,to:r,...a,account:c}),h=Tp({abi:n,args:i,functionName:o,data:d||\"0x\"}),p=n.filter(m=>\"name\"in m&&m.name===e.functionName);return{result:h,request:{abi:p,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(d){throw B0(d,{abi:n,address:r,args:i,docsPath:\"/docs/contract/simulateContract\",functionName:o,sender:c==null?void 0:c.address})}}const ox=new Map,fj=new Map;let Jge=0;function ed(t,e,n){const r=++Jge,i=()=>ox.get(t)||[],s=()=>{const d=i();ox.set(t,d.filter(h=>h.id!==r))},o=()=>{const d=i();if(!d.some(p=>p.id===r))return;const h=fj.get(t);if(d.length===1&&h){const p=h();p instanceof Promise&&p.catch(()=>{})}s()},a=i();if(ox.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const d in e)c[d]=((...h)=>{var m,b;const p=i();if(p.length!==0)for(const y of p)(b=(m=y.fns)[d])==null||b.call(m,...h)});const l=n(c);return typeof l==\"function\"&&fj.set(t,l),o}async function h8(t){return new Promise(e=>setTimeout(e,t))}function dy(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await h8(c);const l=async()=>{i&&(await t({unpoll:s}),await h8(r),l())};l()})(),s}const Xge=new Map,Qge=new Map;function e1e(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,Xge),r=e(t,Qge);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function t1e(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=e1e(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const n1e=t=>`blockNumber.${t}`;async function D2(t,{cacheTime:e=t.cacheTime}={}){const n=await t1e(()=>t.request({method:\"eth_blockNumber\"}),{cacheKey:n1e(t.uid),cacheTime:e});return BigInt(n)}async function c_(t,{filter:e}){const n=\"strict\"in e&&e.strict,r=await e.request({method:\"eth_getFilterChanges\",params:[e.id]});if(typeof r[0]==\"string\")return r;const i=r.map(s=>Qu(s));return!(\"abi\"in e)||!e.abi?i:tN({abi:e.abi,logs:i,strict:n})}async function l_(t,{filter:e}){return e.request({method:\"eth_uninstallFilter\",params:[e.id]})}function r1e(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:d,pollingInterval:h=t.pollingInterval,strict:p}=e;return(typeof d<\"u\"?d:typeof a==\"bigint\"?!0:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")))?(()=>{const E=p??!1,v=_r([\"watchContractEvent\",r,i,s,t.uid,o,h,E,a]);return ed(v,{onLogs:l,onError:c},_=>{let C;a!==void 0&&(C=a-1n);let S,A=!1;const I=dy(async()=>{var O;if(!A){try{S=await ct(t,JY,\"createContractEventFilter\")({abi:n,address:r,args:i,eventName:o,strict:E,fromBlock:a})}catch{}A=!0;return}try{let D;if(S)D=await ct(t,c_,\"getFilterChanges\")({filter:S});else{const N=await ct(t,D2,\"getBlockNumber\")({});C&&C<N?D=await ct(t,WJ,\"getContractEvents\")({abi:n,address:r,args:i,eventName:o,fromBlock:C+1n,toBlock:N,strict:E}):D=[],C=N}if(D.length===0)return;if(s)_.onLogs(D);else for(const N of D)_.onLogs([N])}catch(D){S&&D instanceof nv&&(A=!1),(O=_.onError)==null||O.call(_,D)}},{emitOnBegin:!0,interval:h});return async()=>{S&&await ct(t,l_,\"uninstallFilter\")({filter:S}),I()}})})():(()=>{const E=p??!1,v=_r([\"watchContractEvent\",r,i,s,t.uid,o,h,E]);let _=!0,C=()=>_=!1;return ed(v,{onLogs:l,onError:c},S=>((async()=>{try{const A=(()=>{if(t.transport.type===\"fallback\"){const D=t.transport.transports.find(N=>N.config.type===\"webSocket\"||N.config.type===\"ipc\");return D?D.value:t.transport}return t.transport})(),I=o?x2({abi:n,eventName:o,args:i}):[],{unsubscribe:O}=await A.subscribe({params:[\"logs\",{address:r,topics:I}],onData(D){var U;if(!_)return;const N=D.result;try{const{eventName:F,args:H}=eN({abi:n,data:N.data,topics:N.topics,strict:p}),V=Qu(N,{args:H,eventName:F});S.onLogs([V])}catch(F){let H,V;if(F instanceof Xw||F instanceof W4){if(p)return;H=F.abiItem.name,V=(U=F.abiItem.inputs)==null?void 0:U.some($=>!(\"name\"in $&&$.name))}const M=Qu(N,{args:V?[]:{},eventName:H});S.onLogs([M])}},onError(D){var N;(N=S.onError)==null||N.call(S,D)}});C=O,_||C()}catch(A){c==null||c(A)}})(),()=>C()))})()}class uh extends Ee{constructor({docsPath:e}={}){super([\"Could not find an Account to execute with this Action.\",\"Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client.\"].join(`\n`),{docsPath:e,docsSlug:\"account\",name:\"AccountNotFoundError\"})}}class S0 extends Ee{constructor({docsPath:e,metaMessages:n,type:r}){super(`Account type \"${r}\" is not supported.`,{docsPath:e,metaMessages:n,name:\"AccountTypeNotSupportedError\"})}}function lN({chain:t,currentChainId:e}){if(!t)throw new Vge;if(e!==t.id)throw new Hge({chain:t,currentChainId:e})}function uN(t,{docsPath:e,...n}){const r=(()=>{const i=e_(t,n);return i instanceof T2?t:i})();return new vpe(r,{docsPath:e,...n})}async function dN(t,{serializedTransaction:e}){return t.request({method:\"eth_sendRawTransaction\",params:[e]},{retryCount:0})}const ax=new _2(128);async function u_(t,e){var _,C,S,A;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,type:b,value:y,...E}=e;if(typeof n>\"u\")throw new uh({docsPath:\"/docs/actions/wallet/sendTransaction\"});const v=n?or(n):null;try{lh(e);const I=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await Q4({authorization:s[0]}).catch(()=>{throw new Ee(\"`to` is required. Could not infer from `authorizationList`.\")})})();if((v==null?void 0:v.type)===\"json-rpc\"||v===null){let O;r!==null&&(O=await ct(t,Ip,\"getChainId\")({}),lN({currentChainId:O,chain:r}));const D=(S=(C=(_=t.chain)==null?void 0:_.formatters)==null?void 0:C.transactionRequest)==null?void 0:S.format,U=(D||$p)({...P2(E,{format:D}),accessList:i,account:v,authorizationList:s,blobs:o,chainId:O,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:I,type:b,value:y},\"sendTransaction\"),F=ax.get(t.uid),H=F?\"wallet_sendTransaction\":\"eth_sendTransaction\";try{return await t.request({method:H,params:[U]},{retryCount:0})}catch(V){if(F===!1)throw V;const M=V;if(M.name===\"InvalidInputRpcError\"||M.name===\"InvalidParamsRpcError\"||M.name===\"MethodNotFoundRpcError\"||M.name===\"MethodNotSupportedRpcError\")return await t.request({method:\"wallet_sendTransaction\",params:[U]},{retryCount:0}).then($=>(ax.set(t.uid,!0),$)).catch($=>{const P=$;throw P.name===\"MethodNotFoundRpcError\"||P.name===\"MethodNotSupportedRpcError\"?(ax.set(t.uid,!1),M):P});throw M}}if((v==null?void 0:v.type)===\"local\"){const O=await ct(t,O2,\"prepareTransactionRequest\")({account:v,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,nonceManager:v.nonceManager,parameters:[...XO,\"sidecars\"],type:b,value:y,...E,to:I}),D=(A=r==null?void 0:r.serializers)==null?void 0:A.transaction,N=await v.signTransaction(O,{serializer:D});return await ct(t,dN,\"sendRawTransaction\")({serializedTransaction:N})}throw(v==null?void 0:v.type)===\"smart\"?new S0({metaMessages:[\"Consider using the `sendUserOperation` Action instead.\"],docsPath:\"/docs/actions/bundler/sendUserOperation\",type:\"smart\"}):new S0({docsPath:\"/docs/actions/wallet/sendTransaction\",type:v==null?void 0:v.type})}catch(I){throw I instanceof S0?I:uN(I,{...e,account:v,chain:e.chain||void 0})}}async function ov(t,e){return ov.internal(t,u_,\"sendTransaction\",e)}(function(t){async function e(n,r,i,s){const{abi:o,account:a=n.account,address:c,args:l,dataSuffix:d,functionName:h,...p}=s;if(typeof a>\"u\")throw new uh({docsPath:\"/docs/contract/writeContract\"});const m=a?or(a):null,b=Ko({abi:o,args:l,functionName:h});try{return await ct(n,r,i)({data:`${b}${d?d.replace(\"0x\",\"\"):\"\"}`,to:c,account:m,...p})}catch(y){throw B0(y,{abi:o,address:c,args:l,docsPath:\"/docs/contract/writeContract\",functionName:h,sender:m==null?void 0:m.address})}}t.internal=e})(ov||(ov={}));class i1e extends Ee{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:\"BundleFailedError\"}),Object.defineProperty(this,\"result\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}function z0(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const d=typeof e==\"function\"?e({count:a,error:l}):e;d&&await h8(d),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}const bX={\"0x0\":\"reverted\",\"0x1\":\"success\"};function fN(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>Qu(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Bo(t.transactionIndex):null,status:t.status?bX[t.status]:null,type:t.type?DJ[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const s1e=qO(\"transactionReceipt\",fN),wX=\"0x5792579257925792579257925792579257925792579257925792579257925792\",vX=Oe(0,{size:32});async function EX(t,e){const{account:n=t.account,capabilities:r,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:l=\"2.0.0\"}=e,d=n?or(n):null,h=e.calls.map(p=>{const m=p,b=m.abi?Ko({abi:m.abi,functionName:m.functionName,args:m.args}):m.data;return{data:m.dataSuffix&&b?Lo([b,m.dataSuffix]):b,to:m.to,value:m.value?Oe(m.value):void 0}});try{const p=await t.request({method:\"wallet_sendCalls\",params:[{atomicRequired:a,calls:h,capabilities:r,chainId:Oe(i.id),from:d==null?void 0:d.address,id:c,version:l}]},{retryCount:0});return typeof p==\"string\"?{id:p}:p}catch(p){const m=p;if(s&&(m.name===\"MethodNotFoundRpcError\"||m.name===\"MethodNotSupportedRpcError\"||m.name===\"UnknownRpcError\"||m.details.toLowerCase().includes(\"does not exist / is not available\")||m.details.toLowerCase().includes(\"missing or invalid. request()\")||m.details.toLowerCase().includes(\"did not match any variant of untagged enum\")||m.details.toLowerCase().includes(\"account upgraded to unsupported contract\")||m.details.toLowerCase().includes(\"eip-7702 not supported\")||m.details.toLowerCase().includes(\"unsupported wc_ method\")||m.details.toLowerCase().includes(\"feature toggled misconfigured\")||m.details.toLowerCase().includes(\"jsonrpcengine: response has no error or result for request\"))){if(r&&Object.values(r).some(_=>!_.optional)){const _=\"non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.\";throw new c8(new Ee(_,{details:_}))}if(a&&h.length>1){const v=\"`forceAtomic` is not supported on fallback to `eth_sendTransaction`.\";throw new l8(new Ee(v,{details:v}))}const b=[];for(const v of h){const _=u_(t,{account:d,chain:i,data:v.data,to:v.to,value:v.value?di(v.value):void 0});b.push(_),o>0&&await new Promise(C=>setTimeout(C,o))}const y=await Promise.allSettled(b);if(y.every(v=>v.status===\"rejected\"))throw y[0].reason;const E=y.map(v=>v.status===\"fulfilled\"?v.value:vX);return{id:Lo([...E,Oe(i.id,{size:32}),wX])}}throw uN(p,{...e,account:d,chain:e.chain})}}async function _X(t,e){async function n(d){if(d.endsWith(wX.slice(2))){const p=Pa(L$(d,-64,-32)),m=L$(d,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(m.map(E=>vX.slice(2)!==E?t.request({method:\"eth_getTransactionReceipt\",params:[`0x${E}`]},{dedupe:!0}):void 0)),y=b.some(E=>E===null)?100:b.every(E=>(E==null?void 0:E.status)===\"0x1\")?200:b.every(E=>(E==null?void 0:E.status)===\"0x0\")?500:600;return{atomic:!1,chainId:Bo(p),receipts:b.filter(Boolean),status:y,version:\"2.0.0\"}}return t.request({method:\"wallet_getCallsStatus\",params:[d]})}const{atomic:r=!1,chainId:i,receipts:s,version:o=\"2.0.0\",...a}=await n(e.id),[c,l]=(()=>{const d=a.status;return d>=100&&d<200?[\"pending\",d]:d>=200&&d<300?[\"success\",d]:d>=300&&d<700?[\"failure\",d]:d===\"CONFIRMED\"?[\"success\",200]:d===\"PENDING\"?[\"pending\",100]:[void 0,d]})();return{...a,atomic:r,chainId:i?Bo(i):void 0,receipts:(s==null?void 0:s.map(d=>({...d,blockNumber:di(d.blockNumber),gasUsed:di(d.gasUsed),status:bX[d.status]})))??[],statusCode:l,status:c,version:o}}async function CX(t,e){const{id:n,pollingInterval:r=t.pollingInterval,status:i=({statusCode:y})=>y===200||y>=300,retryCount:s=4,retryDelay:o=({count:y})=>~~(1<<y)*200,timeout:a=6e4,throwOnFailure:c=!1}=e,l=_r([\"waitForCallsStatus\",t.uid,n]),{promise:d,resolve:h,reject:p}=cN();let m;const b=ed(l,{resolve:h,reject:p},y=>{const E=dy(async()=>{const v=_=>{clearTimeout(m),E(),_(),b()};try{const _=await z0(async()=>{const C=await ct(t,_X,\"getCallsStatus\")({id:n});if(c&&C.status===\"failure\")throw new i1e(C);return C},{retryCount:s,delay:o});if(!i(_))return;v(()=>y.resolve(_))}catch(_){v(()=>y.reject(_))}},{interval:r,emitOnBegin:!0});return E});return m=a?setTimeout(()=>{b(),clearTimeout(m),p(new o1e({id:n}))},a):void 0,await d}class o1e extends Ee{constructor({id:e}){super(`Timed out while waiting for call bundle with id \"${e}\" to be confirmed.`,{name:\"WaitForCallsStatusTimeoutError\"})}}const mI=256;let r3=mI,i3;function SX(t=11){if(!i3||r3+t>mI*2){i3=\"\",r3=0;for(let e=0;e<mI;e++)i3+=(256+Math.random()*256|0).toString(16).substring(1)}return i3.substring(r3,r3+++t)}function xX(t){const{batch:e,chain:n,ccipRead:r,key:i=\"base\",name:s=\"Base Client\",type:o=\"base\"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)==\"number\"?\"pending\":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),d=t.pollingInterval??l,h=t.cacheTime??d,p=t.account?or(t.account):void 0,{config:m,request:b,value:y}=t.transport({chain:n,pollingInterval:d}),E={...m,...y},v={account:p,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:d,request:b,transport:E,type:o,uid:SX(),...a?{experimental_blockTag:a}:{}};function _(C){return S=>{const A=S(C);for(const O in v)delete A[O];const I={...C,...A};return Object.assign(I,{extend:_(I)})}}return Object.assign(v,{extend:_(v)})}function hN(t){var n,r,i,s,o,a;if(!(t instanceof Ee))return!1;const e=t.walk(c=>c instanceof z$);return e instanceof z$?((n=e.data)==null?void 0:n.errorName)===\"HttpError\"||((r=e.data)==null?void 0:r.errorName)===\"ResolverError\"||((i=e.data)==null?void 0:i.errorName)===\"ResolverNotContract\"||((s=e.data)==null?void 0:s.errorName)===\"ResolverNotFound\"||((o=e.data)==null?void 0:o.errorName)===\"ReverseAddressMismatch\"||((a=e.data)==null?void 0:a.errorName)===\"UnsupportedResolverProfile\":!1}function a1e(t){const{abi:e,data:n}=t,r=D0(n,0,4),i=e.find(s=>s.type===\"function\"&&r===S2(dc(s)));if(!i)throw new Whe(r,{docsPath:\"/docs/contract/decodeFunctionData\"});return{functionName:i.name,args:\"inputs\"in i&&i.inputs&&i.inputs.length>0?A2(i.inputs,D0(n,4)):void 0}}const cx=\"/docs/contract/encodeErrorResult\";function hj(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=Ap({abi:e,args:r,name:n});if(!c)throw new MU(n,{docsPath:cx});i=c}if(i.type!==\"error\")throw new MU(void 0,{docsPath:cx});const s=dc(i),o=S2(s);let a=\"0x\";if(r&&r.length>0){if(!i.inputs)throw new Vhe(i.name,{docsPath:cx});a=ch(i.inputs,r)}return Ac([o,a])}const lx=\"/docs/contract/encodeFunctionResult\";function c1e(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=Ap({abi:e,name:n});if(!o)throw new Em(n,{docsPath:lx});i=o}if(i.type!==\"function\")throw new Em(void 0,{docsPath:lx});if(!i.outputs)throw new NY(i.name,{docsPath:lx});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new RY(r)})();return ch(i.outputs,s)}const B2=\"x-batch-gateway:true\";async function AX(t){const{data:e,ccipRequest:n}=t,{args:[r]}=a1e({abi:pI,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(B2)?await AX({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=l1e(c)}})),c1e({abi:pI,functionName:\"query\",result:[i,s]})}function l1e(t){return t.name===\"HttpRequestError\"&&t.status?hj({abi:pI,errorName:\"HttpError\",args:[t.status,t.shortMessage]}):hj({abi:[XY],errorName:\"Error\",args:[\"shortMessage\"in t?t.shortMessage:t.message]})}function $X(t){if(t.length!==66||t.indexOf(\"[\")!==0||t.indexOf(\"]\")!==65)return null;const e=`0x${t.slice(1,65)}`;return fc(e)?e:null}function yI(t){let e=new Uint8Array(32).fill(0);if(!t)return kr(e);const n=t.split(\".\");for(let r=n.length-1;r>=0;r-=1){const i=$X(n[r]),s=i?cy(i):Ui(E0(n[r]),\"bytes\");e=Ui(Lo([e,s]),\"bytes\")}return kr(e)}function u1e(t){return`[${t.slice(2)}]`}function d1e(t){const e=new Uint8Array(32).fill(0);return t?$X(t)||Ui(E0(t)):kr(e)}function pN(t){const e=t.replace(/^\\.|\\.$/gm,\"\");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(E0(e).byteLength+2);let r=0;const i=e.split(\".\");for(let s=0;s<i.length;s++){let o=E0(i[s]);o.byteLength>255&&(o=E0(u1e(d1e(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function f1e(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return uy({blockNumber:n,chain:c,contract:\"ensUniversalResolver\"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(p=>s.endsWith(p)))return null;const h=i!=null?[yI(s),BigInt(i)]:[yI(s)];try{const p=Ko({abi:uj,functionName:\"addr\",args:h}),m={address:l,abi:dX,functionName:\"resolveWithGateways\",args:[ts(pN(s)),p,o??[B2]],blockNumber:n,blockTag:r},y=await ct(t,gc,\"readContract\")(m);if(y[0]===\"0x\")return null;const E=Tp({abi:uj,args:h,functionName:\"addr\",data:y[0]});return E===\"0x\"||Pa(E)===\"0x00\"?null:E}catch(p){if(a)throw p;if(hN(p))return null;throw p}}let h1e=class extends Ee{constructor({data:e}){super(\"Unable to extract image from metadata. The metadata may be malformed or invalid.\",{metaMessages:[\"- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.\",\"\",`Provided data: ${JSON.stringify(e)}`],name:\"EnsAvatarInvalidMetadataError\"})}},Rb=class extends Ee{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:\"EnsAvatarInvalidNftUriError\"})}},gN=class extends Ee{constructor({uri:e}){super(`Unable to resolve ENS avatar URI \"${e}\". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:\"EnsAvatarUriResolutionError\"})}},p1e=class extends Ee{constructor({namespace:e}){super(`ENS NFT avatar namespace \"${e}\" is not supported. Must be \"erc721\" or \"erc1155\".`,{name:\"EnsAvatarUnsupportedNamespaceError\"})}};const g1e=/(?<protocol>https?:\\/\\/[^/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?/,m1e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$/,y1e=/^data:([a-zA-Z\\-/+]*);base64,([^\"].*)/,b1e=/^data:([a-zA-Z\\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function w1e(t){try{const e=await fetch(t,{method:\"HEAD\"});if(e.status===200){const n=e.headers.get(\"content-type\");return n==null?void 0:n.startsWith(\"image/\")}return!1}catch(e){return typeof e==\"object\"&&typeof e.response<\"u\"||!Object.hasOwn(globalThis,\"Image\")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function pj(t,e){return t?t.endsWith(\"/\")?t.slice(0,-1):t:e}function IX({uri:t,gatewayUrls:e}){const n=y1e.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=pj(e==null?void 0:e.ipfs,\"https://ipfs.io\"),i=pj(e==null?void 0:e.arweave,\"https://arweave.net\"),s=t.match(g1e),{protocol:o,subpath:a,target:c,subtarget:l=\"\"}=(s==null?void 0:s.groups)||{},d=o===\"ipns:/\"||a===\"ipns/\",h=o===\"ipfs:/\"||a===\"ipfs/\"||m1e.test(t);if(t.startsWith(\"http\")&&!d&&!h){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\\/\\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||h)&&c)return{uri:`${r}/${d?\"ipns\":\"ipfs\"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o===\"ar:/\"&&c)return{uri:`${i}/${c}${l||\"\"}`,isOnChain:!1,isEncoded:!1};let p=t.replace(b1e,\"\");if(p.startsWith(\"<svg\")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith(\"data:\")||p.startsWith(\"{\"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new gN({uri:t})}function TX(t){if(typeof t!=\"object\"||!(\"image\"in t)&&!(\"image_url\"in t)&&!(\"image_data\"in t))throw new h1e({data:t});return t.image||t.image_url||t.image_data}async function v1e({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await mN({gatewayUrls:t,uri:TX(n)})}catch{throw new gN({uri:e})}}async function mN({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=IX({uri:e,gatewayUrls:t});if(r||await w1e(n))return n;throw new gN({uri:e})}function E1e(t){let e=t;e.startsWith(\"did:nft:\")&&(e=e.replace(\"did:nft:\",\"\").replace(/_/g,\"/\"));const[n,r,i]=e.split(\"/\"),[s,o]=n.split(\":\"),[a,c]=r.split(\":\");if(!s||s.toLowerCase()!==\"eip155\")throw new Rb({reason:\"Only EIP-155 supported\"});if(!o)throw new Rb({reason:\"Chain ID not found\"});if(!c)throw new Rb({reason:\"Contract address not found\"});if(!i)throw new Rb({reason:\"Token ID not found\"});if(!a)throw new Rb({reason:\"ERC namespace not found\"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function _1e(t,{nft:e}){if(e.namespace===\"erc721\")return gc(t,{address:e.contractAddress,abi:[{name:\"tokenURI\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"tokenId\",type:\"uint256\"}],outputs:[{name:\"\",type:\"string\"}]}],functionName:\"tokenURI\",args:[BigInt(e.tokenID)]});if(e.namespace===\"erc1155\")return gc(t,{address:e.contractAddress,abi:[{name:\"uri\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"_id\",type:\"uint256\"}],outputs:[{name:\"\",type:\"string\"}]}],functionName:\"uri\",args:[BigInt(e.tokenID)]});throw new p1e({namespace:e.namespace})}async function C1e(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?S1e(t,{gatewayUrls:e,record:n}):mN({uri:n,gatewayUrls:e})}async function S1e(t,{gatewayUrls:e,record:n}){const r=E1e(n),i=await _1e(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=IX({uri:i,gatewayUrls:e});if(o&&(s.includes(\"data:application/json;base64,\")||s.startsWith(\"{\"))){const l=a?atob(s.replace(\"data:application/json;base64,\",\"\")):s,d=JSON.parse(l);return mN({uri:TX(d),gatewayUrls:e})}let c=r.tokenID;return r.namespace===\"erc1155\"&&(c=c.replace(\"0x\",\"\").padStart(64,\"0\")),v1e({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function PX(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return uy({blockNumber:n,chain:c,contract:\"ensUniversalResolver\"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(h=>s.endsWith(h)))return null;try{const h={address:l,abi:dX,args:[ts(pN(s)),Ko({abi:lj,functionName:\"text\",args:[yI(s),i]}),o??[B2]],functionName:\"resolveWithGateways\",blockNumber:n,blockTag:r},m=await ct(t,gc,\"readContract\")(h);if(m[0]===\"0x\")return null;const b=Tp({abi:lj,functionName:\"text\",data:m[0]});return b===\"\"?null:b}catch(h){if(a)throw h;if(hN(h))return null;throw h}}async function x1e(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await ct(t,PX,\"getEnsText\")({blockNumber:e,blockTag:n,key:\"avatar\",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await C1e(t,{record:c,gatewayUrls:r})}catch{return null}}async function A1e(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return uy({blockNumber:r,chain:c,contract:\"ensUniversalResolver\"})})();try{const d={address:l,abi:jge,args:[n,s,o??[B2]],functionName:\"reverseWithGateways\",blockNumber:r,blockTag:i},h=ct(t,gc,\"readContract\"),[p]=await h(d);return p||null}catch(d){if(a)throw d;if(hN(d))return null;throw d}}async function $1e(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return uy({blockNumber:n,chain:s,contract:\"ensUniversalResolver\"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(\", \")}) for chain \"${s.name}\" (id: ${s.id}).`);const[c]=await ct(t,gc,\"readContract\")({address:o,abi:[{inputs:[{type:\"bytes\"}],name:\"findResolver\",outputs:[{type:\"address\"},{type:\"bytes32\"},{type:\"uint256\"}],stateMutability:\"view\",type:\"function\"}],functionName:\"findResolver\",args:[ts(pN(i))],blockNumber:n,blockTag:r});return c}async function OX(t,e){var E,v,_;const{account:n=t.account,blockNumber:r,blockTag:i=\"latest\",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:h,to:p,value:m,...b}=e,y=n?or(n):void 0;try{lh(e);const S=(typeof r==\"bigint\"?Oe(r):void 0)||i,A=(_=(v=(E=t.chain)==null?void 0:E.formatters)==null?void 0:v.transactionRequest)==null?void 0:_.format,O=(A||$p)({...P2(b,{format:A}),account:y,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:h,to:p,value:m},\"createAccessList\"),D=await t.request({method:\"eth_createAccessList\",params:[O,S]});return{accessList:D.accessList,gasUsed:BigInt(D.gasUsed)}}catch(C){throw gX(C,{...e,account:y,chain:t.chain})}}async function I1e(t){const e=J4(t,{method:\"eth_newBlockFilter\"}),n=await t.request({method:\"eth_newBlockFilter\"});return{id:n,request:e(n),type:\"block\"}}async function NX(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=J4(t,{method:\"eth_newFilter\"});let d=[];c&&(d=[c.flatMap(m=>x2({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const h=await t.request({method:\"eth_newFilter\",params:[{address:e,fromBlock:typeof s==\"bigint\"?Oe(s):s,toBlock:typeof a==\"bigint\"?Oe(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:l(h),strict:!!o,toBlock:a,type:\"event\"}}async function RX(t){const e=J4(t,{method:\"eth_newPendingTransactionFilter\"}),n=await t.request({method:\"eth_newPendingTransactionFilter\"});return{id:n,request:e(n),type:\"transaction\"}}async function T1e(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\"}){const i=typeof n==\"bigint\"?Oe(n):void 0,s=await t.request({method:\"eth_getBalance\",params:[e,i||r]});return BigInt(s)}async function P1e(t){const e=await t.request({method:\"eth_blobBaseFee\"});return BigInt(e)}async function O1e(t,{blockHash:e,blockNumber:n,blockTag:r=\"latest\"}={}){const i=n!==void 0?Oe(n):void 0;let s;return e?s=await t.request({method:\"eth_getBlockTransactionCountByHash\",params:[e]},{dedupe:!0}):s=await t.request({method:\"eth_getBlockTransactionCountByNumber\",params:[i||r]},{dedupe:!!i}),Bo(s)}async function bI(t,{address:e,blockNumber:n,blockTag:r=\"latest\"}){const i=n!==void 0?Oe(n):void 0,s=await t.request({method:\"eth_getCode\",params:[e,i||r]},{dedupe:!!i});if(s!==\"0x\")return s}let N1e=class extends Ee{constructor({address:e}){super(`No EIP-712 domain found on contract \"${e}\".`,{metaMessages:[\"Ensure that:\",`- The contract is deployed at the address \"${e}\".`,\"- `eip712Domain()` function exists on the contract.\",\"- `eip712Domain()` function matches signature to ERC-5267 specification.\"],name:\"Eip712DomainNotFoundError\"})}};async function R1e(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,c,l,d,h]=await ct(t,gc,\"readContract\")({abi:k1e,address:n,functionName:\"eip712Domain\",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:d},extensions:h,fields:s}}catch(s){const o=s;throw o.name===\"ContractFunctionExecutionError\"&&o.cause.name===\"ContractFunctionZeroDataError\"?new N1e({address:n}):o}}const k1e=[{inputs:[],name:\"eip712Domain\",outputs:[{name:\"fields\",type:\"bytes1\"},{name:\"name\",type:\"string\"},{name:\"version\",type:\"string\"},{name:\"chainId\",type:\"uint256\"},{name:\"verifyingContract\",type:\"address\"},{name:\"salt\",type:\"bytes32\"},{name:\"extensions\",type:\"uint256[]\"}],stateMutability:\"view\",type:\"function\"}];function M1e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function D1e(t,{blockCount:e,blockNumber:n,blockTag:r=\"latest\",rewardPercentiles:i}){const s=typeof n==\"bigint\"?Oe(n):void 0,o=await t.request({method:\"eth_feeHistory\",params:[Oe(e),s||r,i]},{dedupe:!!s});return M1e(o)}async function B1e(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:\"eth_getFilterLogs\",params:[e.id]})).map(s=>Qu(s));return e.abi?tN({abi:e.abi,logs:i,strict:n}):i}function L1e(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Vr(i))throw new Es({address:i});if(r<0)throw new o_({chainId:r})}yN(t)}function U1e(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new HJ;for(const n of e){const r=ir(n),i=Bo(D0(n,0,1));if(r!==32)throw new nge({hash:n,size:r});if(i!==qJ)throw new rge({hash:n,version:i})}}yN(t)}function yN(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new o_({chainId:e});if(i&&!Vr(i))throw new Es({address:i});if(r&&r>t_)throw new L0({maxFeePerGas:r});if(n&&r&&n>r)throw new rv({maxFeePerGas:r,maxPriorityFeePerGas:n})}function j1e(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new o_({chainId:e});if(s&&!Vr(s))throw new Es({address:s});if(n||i)throw new Ee(\"`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.\");if(r&&r>t_)throw new L0({maxFeePerGas:r})}function z1e(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Vr(s))throw new Es({address:s});if(typeof e<\"u\"&&e<=0)throw new o_({chainId:e});if(n||i)throw new Ee(\"`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.\");if(r&&r>t_)throw new L0({maxFeePerGas:r})}function d_(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new wpe({storageKey:i[s]});if(!Vr(r,{strict:!1}))throw new Es({address:r});e.push([r,i])}return e}function F1e(t,e){const n=KJ(t);return n===\"eip1559\"?V1e(t,e):n===\"eip2930\"?K1e(t,e):n===\"eip4844\"?H1e(t,e):n===\"eip7702\"?q1e(t,e):W1e(t,e)}function q1e(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:h}=t;L1e(t);const p=d_(d),m=G1e(n);return Ac([\"0x04\",Jf([Oe(r),s?Oe(s):\"0x\",l?Oe(l):\"0x\",c?Oe(c):\"0x\",i?Oe(i):\"0x\",o??\"0x\",a?Oe(a):\"0x\",h??\"0x\",p,m,...L2(t,e)])])}function H1e(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:h}=t;U1e(t);let p=t.blobVersionedHashes,m=t.sidecars;if(t.blobs&&(typeof p>\"u\"||typeof m>\"u\")){const C=typeof t.blobs[0]==\"string\"?t.blobs:t.blobs.map(I=>kr(I)),S=t.kzg,A=ZO({blobs:C,kzg:S});if(typeof p>\"u\"&&(p=jJ({commitments:A})),typeof m>\"u\"){const I=YO({blobs:C,commitments:A,kzg:S});m=VJ({blobs:C,commitments:A,proofs:I})}}const b=d_(d),y=[Oe(n),i?Oe(i):\"0x\",l?Oe(l):\"0x\",c?Oe(c):\"0x\",r?Oe(r):\"0x\",s??\"0x\",o?Oe(o):\"0x\",h??\"0x\",b,a?Oe(a):\"0x\",p??[],...L2(t,e)],E=[],v=[],_=[];if(m)for(let C=0;C<m.length;C++){const{blob:S,commitment:A,proof:I}=m[C];E.push(S),v.push(A),_.push(I)}return Ac([\"0x03\",Jf(m?[y,E,v,_]:y)])}function V1e(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=t;yN(t);const h=d_(l),p=[Oe(n),i?Oe(i):\"0x\",c?Oe(c):\"0x\",a?Oe(a):\"0x\",r?Oe(r):\"0x\",s??\"0x\",o?Oe(o):\"0x\",d??\"0x\",h,...L2(t,e)];return Ac([\"0x02\",Jf(p)])}function K1e(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=t;j1e(t);const d=d_(c),h=[Oe(n),s?Oe(s):\"0x\",l?Oe(l):\"0x\",r?Oe(r):\"0x\",o??\"0x\",a?Oe(a):\"0x\",i??\"0x\",d,...L2(t,e)];return Ac([\"0x01\",Jf(h)])}function W1e(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=t;z1e(t);let l=[s?Oe(s):\"0x\",c?Oe(c):\"0x\",r?Oe(r):\"0x\",o??\"0x\",a?Oe(a):\"0x\",i??\"0x\"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const m=27n+(e.v===27n?0n:1n);if(e.v!==m)throw new ype({v:e.v});return m})(),h=Pa(e.r),p=Pa(e.s);l=[...l,Oe(d),h===\"0x00\"?\"0x\":h,p===\"0x00\"?\"0x\":p]}else n>0&&(l=[...l,Oe(n),\"0x\",\"0x\"]);return Jf(l)}function L2(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>\"u\")return[];if(typeof n.s>\"u\")return[];if(typeof r>\"u\"&&typeof i>\"u\")return[];const s=Pa(n.r),o=Pa(n.s);return[typeof i==\"number\"?i?Oe(1):\"0x\":r===0n?\"0x\":r===1n?Oe(1):r===27n?\"0x\":Oe(1),s===\"0x00\"?\"0x\":s,o===\"0x00\"?\"0x\":o]}function G1e(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,o=n.address;e.push([r?ts(r):\"0x\",o,i?ts(i):\"0x\",...L2({},s)])}return e}async function Z1e({address:t,authorization:e,signature:n}){return ly(Ys(t),await Q4({authorization:e,signature:n}))}const s3=new _2(8192);function Y1e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(s3.get(n))return s3.get(n);const r=t().finally(()=>s3.delete(n));return s3.set(n,r),r}function J1e(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new hw(new Error(\"method not supported\"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new hw(new Error(\"method not supported\"),{method:l});const d=i?_m(`${c}.${_r(n)}`):void 0;return Y1e(()=>z0(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case F$.code:throw new F$(m);case q$.code:throw new q$(m);case H$.code:throw new H$(m,{method:n.method});case V$.code:throw new V$(m);case tv.code:throw new tv(m);case nv.code:throw new nv(m);case K$.code:throw new K$(m);case Df.code:throw new Df(m);case o8.code:throw new o8(m);case hw.code:throw new hw(m,{method:n.method});case a8.code:throw new a8(m);case W$.code:throw new W$(m);case Yn.code:throw new Yn(m);case G$.code:throw new G$(m);case Z$.code:throw new Z$(m);case Y$.code:throw new Y$(m);case J$.code:throw new J$(m);case zu.code:throw new zu(m);case c8.code:throw new c8(m);case X$.code:throw new X$(m);case Q$.code:throw new Q$(m);case eI.code:throw new eI(m);case tI.code:throw new tI(m);case nI.code:throw new nI(m);case l8.code:throw new l8(m);case 5e3:throw new Yn(m);default:throw p instanceof Ee?p:new Ape(m)}}},{delay:({count:p,error:m})=>{var b;if(m&&m instanceof _0){const y=(b=m==null?void 0:m.headers)==null?void 0:b.get(\"Retry-After\");if(y!=null&&y.match(/\\d/))return Number.parseInt(y,10)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>X1e(p)}),{enabled:i,id:d})}}function X1e(t){return\"code\"in t&&typeof t.code==\"number\"?t.code===-1||t.code===a8.code||t.code===tv.code:t instanceof _0&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}let Q1e=class extends Ee{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||\"An error occurred while fetching for an offchain result.\",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?\"\":[],\"Offchain Gateway Call:\",o&&[\"  Gateway URL(s):\",...o.map(c=>`    ${I2(c)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:\"OffchainLookupError\"})}},eme=class extends Ee{constructor({result:e,url:n}){super(\"Offchain gateway response is malformed. Response data must be a hex value.\",{metaMessages:[`Gateway URL: ${I2(n)}`,`Response: ${_r(e)}`],name:\"OffchainLookupResponseMalformedError\"})}},tme=class extends Ee{constructor({sender:e,to:n}){super(\"Reverted sender address does not match target contract address (`to`).\",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:\"OffchainLookupSenderMismatchError\"})}};const nme=\"0x556f1830\",kX={name:\"OffchainLookup\",type:\"error\",inputs:[{name:\"sender\",type:\"address\"},{name:\"urls\",type:\"string[]\"},{name:\"callData\",type:\"bytes\"},{name:\"callbackFunction\",type:\"bytes4\"},{name:\"extraData\",type:\"bytes\"}]};async function rme(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=eJ({data:r,abi:[kX]}),[o,a,c,l,d]=s,{ccipRead:h}=t,p=h&&typeof(h==null?void 0:h.request)==\"function\"?h.request:MX;try{if(!ly(i,o))throw new tme({sender:o,to:i});const m=a.includes(B2)?await AX({data:c,ccipRequest:p}):await p({data:c,sender:o,urls:a}),{data:b}=await M2(t,{blockNumber:e,blockTag:n,data:Lo([l,ch([{type:\"bytes\"},{type:\"bytes\"}],[m,d])]),to:i});return b}catch(m){throw new Q1e({callbackSelector:l,cause:m,data:r,extraData:d,sender:o,urls:a})}}async function MX({data:t,sender:e,urls:n}){var i;let r=new Error(\"An unknown error occurred.\");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes(\"{data}\")?\"GET\":\"POST\",c=a===\"POST\"?{data:t,sender:e}:void 0,l=a===\"POST\"?{\"Content-Type\":\"application/json\"}:{};try{const d=await fetch(o.replace(\"{sender}\",e.toLowerCase()).replace(\"{data}\",t),{body:JSON.stringify(c),headers:l,method:a});let h;if((i=d.headers.get(\"Content-Type\"))!=null&&i.startsWith(\"application/json\")?h=(await d.json()).data:h=await d.text(),!d.ok){r=new _0({body:c,details:h!=null&&h.error?_r(h.error):d.statusText,headers:d.headers,status:d.status,url:o});continue}if(!fc(h)){r=new eme({result:h,url:o});continue}return h}catch(d){r=new _0({body:c,details:d.message,url:o})}}throw r}const ime=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:MX,offchainLookup:rme,offchainLookupAbiItem:kX,offchainLookupSignature:nme},Symbol.toStringTag,{value:\"Module\"}));function fy(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function bN(t,{errorInstance:e=new Error(\"timed out\"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)===\"AbortError\"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function sme(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const gj=sme();function ome(t,e={}){return{async request(n){var p;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:d,signal:h}=c;try{const m=await bN(async({signal:y})=>{const E={...c,body:Array.isArray(r)?_r(r.map(S=>({jsonrpc:\"2.0\",id:S.id??gj.take(),...S}))):_r({jsonrpc:\"2.0\",id:r.id??gj.take(),...r}),headers:{\"Content-Type\":\"application/json\",...l},method:d||\"POST\",signal:h||(a>0?y:null)},v=new Request(t,E),_=await(s==null?void 0:s(v,E))??{...E,url:t};return await i(_.url??t,_)},{errorInstance:new ZU({body:r,url:t}),timeout:a,signal:!0});o&&await o(m);let b;if((p=m.headers.get(\"Content-Type\"))!=null&&p.startsWith(\"application/json\"))b=await m.json();else{b=await m.text();try{b=JSON.parse(b||\"{}\")}catch(y){if(m.ok)throw y;b={error:b}}}if(!m.ok)throw new _0({body:r,details:_r(b.error)||m.statusText,headers:m.headers,status:m.status,url:t});return b}catch(m){throw m instanceof _0||m instanceof ZU?m:new _0({body:r,cause:m,url:t})}}}}const ame=`Ethereum Signed Message:\n`;function cme(t){const e=typeof t==\"string\"?_m(t):typeof t.raw==\"string\"?t.raw:kr(t.raw),n=_m(`${ame}${ir(e)}`);return Lo([n,e])}function DX(t,e){return Ui(cme(t),e)}let lme=class extends Ee{constructor({domain:e}){super(`Invalid domain \"${_r(e)}\".`,{metaMessages:[\"Must be a valid EIP-712 domain.\"]})}},ume=class extends Ee{constructor({primaryType:e,types:n}){super(`Invalid primary type \\`${e}\\` must be one of \\`${JSON.stringify(Object.keys(n))}\\`.`,{docsPath:\"/api/glossary/Errors#typeddatainvalidprimarytypeerror\",metaMessages:[\"Check that the primary type is a key in `types`.\"]})}},dme=class extends Ee{constructor({type:e}){super(`Struct type \"${e}\" is invalid.`,{metaMessages:[\"Struct type must not be a Solidity type.\"],name:\"InvalidStructTypeError\"})}};function fme(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(c,l)=>{const d={...l};for(const h of c){const{name:p,type:m}=h;m===\"address\"&&(d[p]=d[p].toLowerCase())}return d},o=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},a=(()=>{if(r!==\"EIP712Domain\")return s(i[r],n)})();return _r({domain:o,message:a,primaryType:r,types:i})}function BX(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:l,type:d}=c,h=a[l],p=d.match(ZY);if(p&&(typeof h==\"number\"||typeof h==\"bigint\")){const[y,E,v]=p;Oe(h,{signed:E===\"int\",size:Number.parseInt(v,10)/8})}if(d===\"address\"&&typeof h==\"string\"&&!Vr(h))throw new Es({address:h});const m=d.match(z0e);if(m){const[y,E]=m;if(E&&ir(h)!==Number.parseInt(E,10))throw new Zhe({expectedSize:Number.parseInt(E,10),givenSize:ir(h)})}const b=i[d];b&&(hme(d),s(b,h))}};if(i.EIP712Domain&&e){if(typeof e!=\"object\")throw new lme({domain:e});s(i.EIP712Domain,e)}if(r!==\"EIP712Domain\")if(i[r])s(i[r],n);else throw new ume({primaryType:r,types:i})}function LX({domain:t}){return[typeof(t==null?void 0:t.name)==\"string\"&&{name:\"name\",type:\"string\"},(t==null?void 0:t.version)&&{name:\"version\",type:\"string\"},(typeof(t==null?void 0:t.chainId)==\"number\"||typeof(t==null?void 0:t.chainId)==\"bigint\")&&{name:\"chainId\",type:\"uint256\"},(t==null?void 0:t.verifyingContract)&&{name:\"verifyingContract\",type:\"address\"},(t==null?void 0:t.salt)&&{name:\"salt\",type:\"bytes32\"}].filter(Boolean)}function hme(t){if(t===\"address\"||t===\"bool\"||t===\"string\"||t.startsWith(\"bytes\")||t.startsWith(\"uint\")||t.startsWith(\"int\"))throw new dme({type:t})}function pme(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:LX({domain:e}),...t.types};BX({domain:e,message:n,primaryType:r,types:i});const s=[\"0x1901\"];return e&&s.push(gme({domain:e,types:i})),r!==\"EIP712Domain\"&&s.push(UX({data:n,primaryType:r,types:i})),Ui(Lo(s))}function gme({domain:t,types:e}){return UX({data:t,primaryType:\"EIP712Domain\",types:e})}function UX({data:t,primaryType:e,types:n}){const r=jX({data:t,primaryType:e,types:n});return Ui(r)}function jX({data:t,primaryType:e,types:n}){const r=[{type:\"bytes32\"}],i=[mme({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=FX({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return ch(r,i)}function mme({primaryType:t,types:e}){const n=ts(yme({primaryType:t,types:e}));return Ui(n)}function yme({primaryType:t,types:e}){let n=\"\";const r=zX({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(\",\")})`;return n}function zX({primaryType:t,types:e},n=new Set){const r=t.match(/^\\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])zX({primaryType:s.type,types:e},n);return n}function FX({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:\"bytes32\"},Ui(jX({data:r,primaryType:n,types:t}))];if(n===\"bytes\")return r=`0x${(r.length%2?\"0\":\"\")+r.slice(2)}`,[{type:\"bytes32\"},Ui(r)];if(n===\"string\")return[{type:\"bytes32\"},Ui(ts(r))];if(n.lastIndexOf(\"]\")===n.length-1){const i=n.slice(0,n.lastIndexOf(\"[\")),s=r.map(o=>FX({name:e,type:i,types:t,value:o}));return[{type:\"bytes32\"},Ui(ch(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}let bme=class extends Map{constructor(e){super(),Object.defineProperty(this,\"maxSize\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const wme={checksum:new bme(8192)},ux=wme.checksum;function qX(t,e={}){const{as:n=typeof t==\"string\"?\"Hex\":\"Bytes\"}=e,r=Z4(vge(t));return n===\"Bytes\"?r:pc(r)}const vme=/^0x[a-fA-F0-9]{40}$/;function f_(t,e={}){const{strict:n=!0}=e;if(!vme.test(t))throw new mj({address:t,cause:new Eme});if(n){if(t.toLowerCase()===t)return;if(HX(t)!==t)throw new mj({address:t,cause:new _me})}}function HX(t){if(ux.has(t))return ux.get(t);f_(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=qX(_ge(e),{as:\"Bytes\"}),r=e.split(\"\");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join(\"\")}`;return ux.set(t,i),i}function wI(t,e={}){const{strict:n=!0}=e??{};try{return f_(t,{strict:n}),!0}catch{return!1}}let mj=class extends Wt{constructor({address:e,cause:n}){super(`Address \"${e}\" is invalid.`,{cause:n}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidAddressError\"})}},Eme=class extends Wt{constructor(){super(\"Address is not a 20 byte (40 hexadecimal character) value.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidInputError\"})}},_me=class extends Wt{constructor(){super(\"Address does not match its checksum counterpart.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidChecksumError\"})}};const Cme=/^(.*)\\[([0-9]*)\\]$/,Sme=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,VX=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,yj=2n**256n-1n;function cm(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=EN(e.type);if(s){const[o,a]=s;return Ame(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type===\"tuple\")return Pme(t,e,{checksumAddress:r,staticPosition:i});if(e.type===\"address\")return xme(t,{checksum:r});if(e.type===\"bool\")return $me(t);if(e.type.startsWith(\"bytes\"))return Ime(t,e,{staticPosition:i});if(e.type.startsWith(\"uint\")||e.type.startsWith(\"int\"))return Tme(t,e);if(e.type===\"string\")return Ome(t,{staticPosition:i});throw new CN(e.type)}const bj=32,vI=32;function xme(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?HX(s):s)(pc(Sge(r,-20))),32]}function Ame(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Fu(t.readBytes(vI)),l=s+c,d=l+bj;t.setPosition(l);const h=Fu(t.readBytes(bj)),p=av(e);let m=0;const b=[];for(let y=0;y<h;++y){t.setPosition(d+(p?y*32:m));const[E,v]=cm(t,e,{checksumAddress:r,staticPosition:d});m+=v,b.push(E)}return t.setPosition(s+32),[b,32]}if(av(e)){const c=Fu(t.readBytes(vI)),l=s+c,d=[];for(let h=0;h<i;++h){t.setPosition(l+h*32);const[p]=cm(t,e,{checksumAddress:r,staticPosition:l});d.push(p)}return t.setPosition(s+32),[d,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[l,d]=cm(t,e,{checksumAddress:r,staticPosition:s+o});o+=d,a.push(l)}return[a,o]}function $me(t){return[Age(t.readBytes(32),{size:32}),32]}function Ime(t,e,{staticPosition:n}){const[r,i]=e.type.split(\"bytes\");if(!i){const o=Fu(t.readBytes(32));t.setPosition(n+o);const a=Fu(t.readBytes(32));if(a===0)return t.setPosition(n+32),[\"0x\",32];const c=t.readBytes(a);return t.setPosition(n+32),[pc(c),32]}return[pc(t.readBytes(Number.parseInt(i,10),32)),32]}function Tme(t,e){const n=e.type.startsWith(\"int\"),r=Number.parseInt(e.type.split(\"int\")[1]||\"256\",10),i=t.readBytes(32);return[r>48?xge(i,{signed:n}):Fu(i,{signed:n}),32]}function Pme(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(av(e)){const c=Fu(t.readBytes(vI)),l=i+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(l+a);const[p,m]=cm(t,h,{checksumAddress:r,staticPosition:l});a+=m,o[s?d:h==null?void 0:h.name]=p}return t.setPosition(i+32),[o,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[d,h]=cm(t,l,{checksumAddress:r,staticPosition:i});o[s?c:l==null?void 0:l.name]=d,a+=h}return[o,a]}function Ome(t,{staticPosition:e}){const n=Fu(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Fu(t.readBytes(32));if(i===0)return t.setPosition(e+32),[\"\",32];const s=t.readBytes(i,32),o=$ge(rX(s));return t.setPosition(e+32),[o,32]}function Nme({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(wN({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function wN({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=EN(r.type);if(i){const[s,o]=i;return kme(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type===\"tuple\")return Ume(n,{checksumAddress:t,parameter:r});if(r.type===\"address\")return Rme(n,{checksum:t});if(r.type===\"bool\")return Dme(n);if(r.type.startsWith(\"uint\")||r.type.startsWith(\"int\")){const s=r.type.startsWith(\"int\"),[,,o=\"256\"]=VX.exec(r.type)??[];return Bme(n,{signed:s,size:Number(o)})}if(r.type.startsWith(\"bytes\"))return Mme(n,{type:r.type});if(r.type===\"string\")return Lme(n);throw new CN(r.type)}function vN(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=Uo(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(us(e+i,{size:32})),r.push(a),i+=Uo(a)):n.push(a)}return hc(...n,...r)}function Rme(t,e){const{checksum:n=!1}=e;return f_(t,{strict:n}),{dynamic:!1,encoded:U0(t.toLowerCase())}}function kme(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new Gme(t);if(!s&&t.length!==r)throw new Wme({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=wN({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=vN(a);if(s){const l=us(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?hc(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:hc(...a.map(({encoded:c})=>c))}}function Mme(t,{type:e}){const[,n]=e.split(\"bytes\"),r=Uo(t);if(!n){let i=t;return r%32!==0&&(i=j0(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:hc(U0(us(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new WX({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:j0(t)}}function Dme(t){if(typeof t!=\"boolean\")throw new Wt(`Invalid boolean value: \"${t}\" (type: ${typeof t}). Expected: \\`true\\` or \\`false\\`.`);return{dynamic:!1,encoded:U0(iX(t))}}function Bme(t,{signed:e,size:n}){if(typeof n==\"number\"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new aX({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:us(t,{size:32,signed:e})}}function Lme(t){const e=oN(t),n=Math.ceil(Uo(e)/32),r=[];for(let i=0;i<n;i++)r.push(j0(hl(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:hc(j0(us(Uo(e),{size:32})),...r)}}function Ume(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=wN({checksumAddress:n,parameter:a,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?vN(s):hc(...s.map(({encoded:o})=>o))}}function EN(t){const e=t.match(/^(.*)\\[(\\d+)?\\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function av(t){var r;const{type:e}=t;if(e===\"string\"||e===\"bytes\"||e.endsWith(\"[]\"))return!0;if(e===\"tuple\")return(r=t.components)==null?void 0:r.some(av);const n=EN(t.type);return!!(n&&av({...t,type:n[1]}))}const jme={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new qme({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Fme({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new wj({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new wj({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function zme(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(jme);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}let wj=class extends Wt{constructor({offset:e}){super(`Offset \\`${e}\\` cannot be negative.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.NegativeOffsetError\"})}},Fme=class extends Wt{constructor({length:e,position:n}){super(`Position \\`${n}\\` is out of bounds (\\`0 < position < ${e}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.PositionOutOfBoundsError\"})}},qme=class extends Wt{constructor({count:e,limit:n}){super(`Recursive read limit of \\`${n}\\` exceeded (recursive read count: \\`${e}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.RecursiveReadLimitExceededError\"})}};function Hme(t,e,n={}){const{as:r=\"Array\",checksumAddress:i=!1}=n,s=typeof e==\"string\"?nX(e):e,o=zme(s);if(z1(s)===0&&t.length>0)throw new Kme;if(z1(s)&&z1(s)<32)throw new Vme({data:typeof e==\"string\"?e:pc(e),parameters:t,size:z1(s)});let a=0;const c=r===\"Array\"?[]:{};for(let l=0;l<t.length;++l){const d=t[l];o.setPosition(a);const[h,p]=cm(o,d,{checksumAddress:i,staticPosition:0});a+=p,r===\"Array\"?c.push(h):c[d.name??l]=h}return c}function _N(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new GX({expectedLength:t.length,givenLength:e.length});const i=Nme({checksumAddress:r,parameters:t,values:e}),s=vN(i);return s.length===0?\"0x\":s}function EI(t,e){if(t.length!==e.length)throw new GX({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(EI.encode(i,s))}return hc(...n)}(function(t){function e(n,r,i=!1){if(n===\"address\"){const c=r;return f_(c),U0(c.toLowerCase(),i?32:0)}if(n===\"string\")return oN(r);if(n===\"bytes\")return r;if(n===\"bool\")return U0(iX(r),i?32:1);const s=n.match(VX);if(s){const[c,l,d=\"256\"]=s,h=Number.parseInt(d,10)/8;return us(r,{size:i?32:h,signed:l===\"int\"})}const o=n.match(Sme);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new WX({expectedSize:Number.parseInt(l,10),value:r});return j0(r,i?32:0)}const a=n.match(Cme);if(a&&Array.isArray(r)){const[c,l]=a,d=[];for(let h=0;h<r.length;h++)d.push(e(l,r[h],!0));return d.length===0?\"0x\":hc(...d)}throw new CN(n)}t.encode=e})(EI||(EI={}));function KX(t){return Array.isArray(t)&&typeof t[0]==\"string\"||typeof t==\"string\"?RU(t):t}let Vme=class extends Wt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${T1(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.DataSizeTooSmallError\"})}},Kme=class extends Wt{constructor(){super('Cannot decode zero data (\"0x\") with ABI parameters.'),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.ZeroDataError\"})}},Wme=class extends Wt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \\`${r}\\`. Expected: \\`${e}\\`. Given: \\`${n}\\`.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.ArrayLengthMismatchError\"})}},WX=class extends Wt{constructor({expectedSize:e,value:n}){super(`Size of bytes \"${n}\" (bytes${Uo(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.BytesSizeMismatchError\"})}},GX=class extends Wt{constructor({expectedLength:e,givenLength:n}){super([\"ABI encoding parameters/values length mismatch.\",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`\n`)),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.LengthMismatchError\"})}},Gme=class extends Wt{constructor(e){super(`Value \\`${e}\\` is not a valid array.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.InvalidArrayError\"})}},CN=class extends Wt{constructor(e){super(`Type \\`${e}\\` is not a valid ABI Type.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.InvalidTypeError\"})}},ZX=class extends MO{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,y0e(e);const r=G4(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),Sm(s)}update(e){return Cm(this),this.iHash.update(e),this}digestInto(e){Cm(this),M0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const YX=(t,e,n)=>new ZX(t,e).update(n).digest();YX.create=(t,e)=>new ZX(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Js=BigInt(0),ys=BigInt(1),f0=BigInt(2),Zme=BigInt(3),JX=BigInt(4),XX=BigInt(5),QX=BigInt(8);function Hs(t,e){const n=t%e;return n>=Js?n:e+n}function la(t,e,n){let r=t;for(;e-- >Js;)r*=r,r%=n;return r}function _I(t,e){if(t===Js)throw new Error(\"invert: expected non-zero number\");if(e<=Js)throw new Error(\"invert: expected positive modulus, got \"+e);let n=Hs(t,e),r=e,i=Js,s=ys;for(;n!==Js;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==ys)throw new Error(\"invert: does not exist\");return Hs(i,e)}function eQ(t,e){const n=(t.ORDER+ys)/JX,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error(\"Cannot find square root\");return r}function Yme(t,e){const n=(t.ORDER-XX)/QX,r=t.mul(e,f0),i=t.pow(r,n),s=t.mul(e,i),o=t.mul(t.mul(s,f0),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error(\"Cannot find square root\");return a}function Jme(t){if(t<BigInt(3))throw new Error(\"sqrt is not defined for small field\");let e=t-ys,n=0;for(;e%f0===Js;)e/=f0,n++;let r=f0;const i=SN(t);for(;vj(i,r)===1;)if(r++>1e3)throw new Error(\"Cannot find square root: probably non-prime P\");if(n===1)return eQ;let s=i.pow(r,e);const o=(e+ys)/f0;return function(c,l){if(c.is0(l))return l;if(vj(c,l)!==1)throw new Error(\"Cannot find square root\");let d=n,h=c.mul(c.ONE,s),p=c.pow(l,e),m=c.pow(l,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let b=1,y=c.sqr(p);for(;!c.eql(y,c.ONE);)if(b++,y=c.sqr(y),b===d)throw new Error(\"Cannot find square root\");const E=ys<<BigInt(d-b-1),v=c.pow(h,E);d=b,h=c.sqr(v),p=c.mul(p,h),m=c.mul(m,v)}return m}}function Xme(t){return t%JX===Zme?eQ:t%QX===XX?Yme:Jme(t)}const Qme=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function eye(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=Qme.reduce((r,i)=>(r[i]=\"function\",r),e);return i_(t,n)}function tye(t,e,n){if(n<Js)throw new Error(\"invalid exponent, negatives unsupported\");if(n===Js)return t.ONE;if(n===ys)return e;let r=t.ONE,i=e;for(;n>Js;)n&ys&&(r=t.mul(r,i)),i=t.sqr(i),n>>=ys;return r}function tQ(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),s),r}function vj(t,e){const n=(t.ORDER-ys)/f0,r=t.pow(e,n),i=t.eql(r,t.ONE),s=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error(\"invalid Legendre symbol result\");return i?1:s?0:-1}function nQ(t,e){e!==void 0&&Qw(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function SN(t,e,n=!1,r={}){if(t<=Js)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:i,nByteLength:s}=nQ(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:r_(i),ZERO:Js,ONE:ys,create:c=>Hs(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return Js<=c&&c<t},is0:c=>c===Js,isOdd:c=>(c&ys)===ys,neg:c=>Hs(-c,t),eql:(c,l)=>c===l,sqr:c=>Hs(c*c,t),add:(c,l)=>Hs(c+l,t),sub:(c,l)=>Hs(c-l,t),mul:(c,l)=>Hs(c*l,t),pow:(c,l)=>tye(a,c,l),div:(c,l)=>Hs(c*_I(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>_I(c,t),sqrt:r.sqrt||(c=>(o||(o=Xme(t)),o(a,c))),toBytes:c=>n?JJ(c,s):R2(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+c.length);return n?YJ(c):C0(c)},invertBatch:c=>tQ(a,c),cmov:(c,l,d)=>d?l:c});return Object.freeze(a)}function rQ(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function iQ(t){const e=rQ(t);return e+Math.ceil(e/2)}function nye(t,e,n=!1){const r=t.length,i=rQ(e),s=iQ(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const o=n?YJ(t):C0(t),a=Hs(o,e-ys)+ys;return n?JJ(a,i):R2(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ej=BigInt(0),CI=BigInt(1);function dx(t,e){const n=e.negate();return t?n:e}function sQ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function fx(t,e){sQ(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),i=2**t,s=r_(t),o=BigInt(t);return{windows:n,windowSize:r,mask:s,maxNumber:i,shiftBy:o}}function _j(t,e,n){const{windowSize:r,mask:i,maxNumber:s,shiftBy:o}=n;let a=Number(t&i),c=t>>o;a>r&&(a-=s,c+=CI);const l=e*r,d=l+Math.abs(a)-1,h=a===0,p=a<0,m=e%2!==0;return{nextN:c,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:l}}function rye(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function iye(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const hx=new WeakMap,oQ=new WeakMap;function px(t){return oQ.get(t)||1}function sye(t,e){return{constTimeNegate:dx,hasPrecomputes(n){return px(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>Ej;)r&CI&&(i=i.add(s)),s=s.double(),r>>=CI;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=fx(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){let s=t.ZERO,o=t.BASE;const a=fx(n,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:d,isZero:h,isNeg:p,isNegF:m,offsetF:b}=_j(i,c,a);i=l,h?o=o.add(dx(m,r[b])):s=s.add(dx(p,r[d]))}return{p:s,f:o}},wNAFUnsafe(n,r,i,s=t.ZERO){const o=fx(n,e);for(let a=0;a<o.windows&&i!==Ej;a++){const{nextN:c,offset:l,isZero:d,isNeg:h}=_j(i,a,o);if(i=c,!d){const p=r[l];s=s.add(h?p.negate():p)}}return s},getPrecomputes(n,r,i){let s=hx.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&hx.set(r,i(s))),s},wNAFCached(n,r,i){const s=px(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=px(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){sQ(r,e),oQ.set(n,r),hx.delete(n)}}}function oye(t,e,n,r){rye(n,t),iye(r,e);const i=n.length,s=r.length;if(i!==s)throw new Error(\"arrays of points and scalars must have equal length\");const o=t.ZERO,a=lge(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=r_(c),d=new Array(Number(l)+1).fill(o),h=Math.floor((e.BITS-1)/c)*c;let p=o;for(let m=h;m>=0;m-=c){d.fill(o);for(let y=0;y<s;y++){const E=r[y],v=Number(E>>BigInt(m)&l);d[v]=d[v].add(n[y])}let b=o;for(let y=d.length-1,E=o;y>0;y--)E=E.add(d[y]),b=b.add(E);if(p=p.add(b),m!==0)for(let y=0;y<c;y++)p=p.double()}return p}function aQ(t){return eye(t.Fp),i_(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...nQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Cj(t){t.lowS!==void 0&&iv(\"lowS\",t.lowS),t.prehash!==void 0&&iv(\"prehash\",t.prehash)}function aye(t){const e=aQ(t);i_(e,{a:\"field\",b:\"field\"},{allowInfinityPoint:\"boolean\",allowedPrivateKeyLengths:\"array\",clearCofactor:\"function\",fromBytes:\"function\",isTorsionFree:\"function\",toBytes:\"function\",wrapPrivateKey:\"boolean\"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error(\"invalid endo: CURVE.a must be 0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error('invalid endo: expected \"beta\": bigint and \"splitScalar\": function')}return Object.freeze({...e})}let cye=class extends Error{constructor(e=\"\"){super(e)}};const Eu={Err:cye,_tlv:{encode:(t,e)=>{const{Err:n}=Eu;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,i=n3(r);if(i.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?n3(i.length/2|128):\"\";return n3(t)+s+i+e},decode(t,e){const{Err:n}=Eu;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n(\"tlv.decode(long): indefinite length not supported\");if(c>4)throw new n(\"tlv.decode(long): byte length is too big\");const l=e.subarray(r,r+c);if(l.length!==c)throw new n(\"tlv.decode: length bytes not complete\");if(l[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const d of l)o=o<<8|d;if(r+=c,o<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n(\"tlv.decode: wrong value length\");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Eu;if(t<Pu)throw new e(\"integer: negative integers are not allowed\");let n=n3(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=Eu;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return C0(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Eu,i=Sa(\"signature\",t),{v:s,l:o}=r.decode(48,i);if(o.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:a,l:c}=r.decode(2,s),{v:l,l:d}=r.decode(2,c);if(d.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Eu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}};function gx(t,e){return sv(R2(t,e))}const Pu=BigInt(0),ni=BigInt(1);BigInt(2);const mx=BigInt(3),lye=BigInt(4);function uye(t){const e=aye(t),{Fp:n}=e,r=SN(e.n,e.nBitLength),i=e.toBytes||((C,S,A)=>{const I=S.toAffine();return d8(Uint8Array.from([4]),n.toBytes(I.x),n.toBytes(I.y))}),s=e.fromBytes||(C=>{const S=C.subarray(1),A=n.fromBytes(S.subarray(0,n.BYTES)),I=n.fromBytes(S.subarray(n.BYTES,2*n.BYTES));return{x:A,y:I}});function o(C){const{a:S,b:A}=e,I=n.sqr(C),O=n.mul(I,C);return n.add(n.add(O,n.mul(C,S)),A)}function a(C,S){const A=n.sqr(S),I=o(C);return n.eql(A,I)}if(!a(e.Gx,e.Gy))throw new Error(\"bad curve params: generator point\");const c=n.mul(n.pow(e.a,mx),lye),l=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,l)))throw new Error(\"bad curve params: a or b\");function d(C){return sN(C,ni,e.n)}function h(C){const{allowedPrivateKeyLengths:S,nByteLength:A,wrapPrivateKey:I,n:O}=e;if(S&&typeof C!=\"bigint\"){if(N2(C)&&(C=sv(C)),typeof C!=\"string\"||!S.includes(C.length))throw new Error(\"invalid private key\");C=C.padStart(A*2,\"0\")}let D;try{D=typeof C==\"bigint\"?C:C0(Sa(\"private key\",C,A))}catch{throw new Error(\"invalid private key, expected hex or \"+A+\" bytes, got \"+typeof C)}return I&&(D=Hs(D,O)),am(\"private key\",D,ni,O),D}function p(C){if(!(C instanceof y))throw new Error(\"ProjectivePoint expected\")}const m=sj((C,S)=>{const{px:A,py:I,pz:O}=C;if(n.eql(O,n.ONE))return{x:A,y:I};const D=C.is0();S==null&&(S=D?n.ONE:n.inv(O));const N=n.mul(A,S),U=n.mul(I,S),F=n.mul(O,S);if(D)return{x:n.ZERO,y:n.ZERO};if(!n.eql(F,n.ONE))throw new Error(\"invZ was invalid\");return{x:N,y:U}}),b=sj(C=>{if(C.is0()){if(e.allowInfinityPoint&&!n.is0(C.py))return;throw new Error(\"bad point: ZERO\")}const{x:S,y:A}=C.toAffine();if(!n.isValid(S)||!n.isValid(A))throw new Error(\"bad point: x or y not FE\");if(!a(S,A))throw new Error(\"bad point: equation left != right\");if(!C.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class y{constructor(S,A,I){if(S==null||!n.isValid(S))throw new Error(\"x required\");if(A==null||!n.isValid(A)||n.is0(A))throw new Error(\"y required\");if(I==null||!n.isValid(I))throw new Error(\"z required\");this.px=S,this.py=A,this.pz=I,Object.freeze(this)}static fromAffine(S){const{x:A,y:I}=S||{};if(!S||!n.isValid(A)||!n.isValid(I))throw new Error(\"invalid affine point\");if(S instanceof y)throw new Error(\"projective point not allowed\");const O=D=>n.eql(D,n.ZERO);return O(A)&&O(I)?y.ZERO:new y(A,I,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){const A=tQ(n,S.map(I=>I.pz));return S.map((I,O)=>I.toAffine(A[O])).map(y.fromAffine)}static fromHex(S){const A=y.fromAffine(s(Sa(\"pointHex\",S)));return A.assertValidity(),A}static fromPrivateKey(S){return y.BASE.multiply(h(S))}static msm(S,A){return oye(y,r,S,A)}_setWindowSize(S){_.setWindowSize(this,S)}assertValidity(){b(this)}hasEvenY(){const{y:S}=this.toAffine();if(n.isOdd)return!n.isOdd(S);throw new Error(\"Field doesn't support isOdd\")}equals(S){p(S);const{px:A,py:I,pz:O}=this,{px:D,py:N,pz:U}=S,F=n.eql(n.mul(A,U),n.mul(D,O)),H=n.eql(n.mul(I,U),n.mul(N,O));return F&&H}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:S,b:A}=e,I=n.mul(A,mx),{px:O,py:D,pz:N}=this;let U=n.ZERO,F=n.ZERO,H=n.ZERO,V=n.mul(O,O),M=n.mul(D,D),$=n.mul(N,N),P=n.mul(O,D);return P=n.add(P,P),H=n.mul(O,N),H=n.add(H,H),U=n.mul(S,H),F=n.mul(I,$),F=n.add(U,F),U=n.sub(M,F),F=n.add(M,F),F=n.mul(U,F),U=n.mul(P,U),H=n.mul(I,H),$=n.mul(S,$),P=n.sub(V,$),P=n.mul(S,P),P=n.add(P,H),H=n.add(V,V),V=n.add(H,V),V=n.add(V,$),V=n.mul(V,P),F=n.add(F,V),$=n.mul(D,N),$=n.add($,$),V=n.mul($,P),U=n.sub(U,V),H=n.mul($,M),H=n.add(H,H),H=n.add(H,H),new y(U,F,H)}add(S){p(S);const{px:A,py:I,pz:O}=this,{px:D,py:N,pz:U}=S;let F=n.ZERO,H=n.ZERO,V=n.ZERO;const M=e.a,$=n.mul(e.b,mx);let P=n.mul(A,D),q=n.mul(I,N),T=n.mul(O,U),k=n.add(A,I),z=n.add(D,N);k=n.mul(k,z),z=n.add(P,q),k=n.sub(k,z),z=n.add(A,O);let L=n.add(D,U);return z=n.mul(z,L),L=n.add(P,T),z=n.sub(z,L),L=n.add(I,O),F=n.add(N,U),L=n.mul(L,F),F=n.add(q,T),L=n.sub(L,F),V=n.mul(M,z),F=n.mul($,T),V=n.add(F,V),F=n.sub(q,V),V=n.add(q,V),H=n.mul(F,V),q=n.add(P,P),q=n.add(q,P),T=n.mul(M,T),z=n.mul($,z),q=n.add(q,T),T=n.sub(P,T),T=n.mul(M,T),z=n.add(z,T),P=n.mul(q,z),H=n.add(H,P),P=n.mul(L,z),F=n.mul(k,F),F=n.sub(F,P),P=n.mul(k,q),V=n.mul(L,V),V=n.add(V,P),new y(F,H,V)}subtract(S){return this.add(S.negate())}is0(){return this.equals(y.ZERO)}wNAF(S){return _.wNAFCached(this,S,y.normalizeZ)}multiplyUnsafe(S){const{endo:A,n:I}=e;am(\"scalar\",S,Pu,I);const O=y.ZERO;if(S===Pu)return O;if(this.is0()||S===ni)return this;if(!A||_.hasPrecomputes(this))return _.wNAFCachedUnsafe(this,S,y.normalizeZ);let{k1neg:D,k1:N,k2neg:U,k2:F}=A.splitScalar(S),H=O,V=O,M=this;for(;N>Pu||F>Pu;)N&ni&&(H=H.add(M)),F&ni&&(V=V.add(M)),M=M.double(),N>>=ni,F>>=ni;return D&&(H=H.negate()),U&&(V=V.negate()),V=new y(n.mul(V.px,A.beta),V.py,V.pz),H.add(V)}multiply(S){const{endo:A,n:I}=e;am(\"scalar\",S,ni,I);let O,D;if(A){const{k1neg:N,k1:U,k2neg:F,k2:H}=A.splitScalar(S);let{p:V,f:M}=this.wNAF(U),{p:$,f:P}=this.wNAF(H);V=_.constTimeNegate(N,V),$=_.constTimeNegate(F,$),$=new y(n.mul($.px,A.beta),$.py,$.pz),O=V.add($),D=M.add(P)}else{const{p:N,f:U}=this.wNAF(S);O=N,D=U}return y.normalizeZ([O,D])[0]}multiplyAndAddUnsafe(S,A,I){const O=y.BASE,D=(U,F)=>F===Pu||F===ni||!U.equals(O)?U.multiplyUnsafe(F):U.multiply(F),N=D(this,A).add(D(S,I));return N.is0()?void 0:N}toAffine(S){return m(this,S)}isTorsionFree(){const{h:S,isTorsionFree:A}=e;if(S===ni)return!0;if(A)return A(y,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:S,clearCofactor:A}=e;return S===ni?this:A?A(y,this):this.multiplyUnsafe(e.h)}toRawBytes(S=!0){return iv(\"isCompressed\",S),this.assertValidity(),i(y,this,S)}toHex(S=!0){return iv(\"isCompressed\",S),sv(this.toRawBytes(S))}}y.BASE=new y(e.Gx,e.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:v}=e,_=sye(y,E?Math.ceil(v/2):v);return{CURVE:e,ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:o,isWithinCurveOrder:d}}function dye(t){const e=aQ(t);return i_(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function fye(t){const e=dye(t),{Fp:n,n:r,nByteLength:i,nBitLength:s}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c($){return Hs($,r)}function l($){return _I($,r)}const{ProjectivePoint:d,normPrivateKeyToScalar:h,weierstrassEquation:p,isWithinCurveOrder:m}=uye({...e,toBytes($,P,q){const T=P.toAffine(),k=n.toBytes(T.x),z=d8;return iv(\"isCompressed\",q),q?z(Uint8Array.from([P.hasEvenY()?2:3]),k):z(Uint8Array.from([4]),k,n.toBytes(T.y))},fromBytes($){const P=$.length,q=$[0],T=$.subarray(1);if(P===o&&(q===2||q===3)){const k=C0(T);if(!sN(k,ni,n.ORDER))throw new Error(\"Point is not on curve\");const z=p(k);let L;try{L=n.sqrt(z)}catch(K){const G=K instanceof Error?\": \"+K.message:\"\";throw new Error(\"Point is not on curve\"+G)}const B=(L&ni)===ni;return(q&1)===1!==B&&(L=n.neg(L)),{x:k,y:L}}else if(P===a&&q===4){const k=n.fromBytes(T.subarray(0,n.BYTES)),z=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:k,y:z}}else{const k=o,z=a;throw new Error(\"invalid Point, expected length of \"+k+\", or uncompressed \"+z+\", got \"+P)}}});function b($){const P=r>>ni;return $>P}function y($){return b($)?c(-$):$}const E=($,P,q)=>C0($.slice(P,q));class v{constructor(P,q,T){am(\"r\",P,ni,r),am(\"s\",q,ni,r),this.r=P,this.s=q,T!=null&&(this.recovery=T),Object.freeze(this)}static fromCompact(P){const q=i;return P=Sa(\"compactSignature\",P,q*2),new v(E(P,0,q),E(P,q,2*q))}static fromDER(P){const{r:q,s:T}=Eu.toSig(Sa(\"DER\",P));return new v(q,T)}assertValidity(){}addRecoveryBit(P){return new v(this.r,this.s,P)}recoverPublicKey(P){const{r:q,s:T,recovery:k}=this,z=O(Sa(\"msgHash\",P));if(k==null||![0,1,2,3].includes(k))throw new Error(\"recovery id invalid\");const L=k===2||k===3?q+e.n:q;if(L>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const B=(k&1)===0?\"02\":\"03\",j=d.fromHex(B+gx(L,n.BYTES)),K=l(L),G=c(-z*K),Z=c(T*K),Y=d.BASE.multiplyAndAddUnsafe(j,G,Z);if(!Y)throw new Error(\"point at infinify\");return Y.assertValidity(),Y}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new v(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return u8(this.toDERHex())}toDERHex(){return Eu.hexFromSig(this)}toCompactRawBytes(){return u8(this.toCompactHex())}toCompactHex(){const P=i;return gx(this.r,P)+gx(this.s,P)}}const _={isValidPrivateKey($){try{return h($),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{const $=iQ(e.n);return nye(e.randomBytes($),e.n)},precompute($=8,P=d.BASE){return P._setWindowSize($),P.multiply(BigInt(3)),P}};function C($,P=!0){return d.fromPrivateKey($).toRawBytes(P)}function S($){if(typeof $==\"bigint\")return!1;if($ instanceof d)return!0;const q=Sa(\"key\",$).length,T=n.BYTES,k=T+1,z=2*T+1;if(!(e.allowedPrivateKeyLengths||i===k))return q===k||q===z}function A($,P,q=!0){if(S($)===!0)throw new Error(\"first arg must be private key\");if(S(P)===!1)throw new Error(\"second arg must be public key\");return d.fromHex(P).multiply(h($)).toRawBytes(q)}const I=e.bits2int||function($){if($.length>8192)throw new Error(\"input is too large\");const P=C0($),q=$.length*8-s;return q>0?P>>BigInt(q):P},O=e.bits2int_modN||function($){return c(I($))},D=r_(s);function N($){return am(\"num < 2^\"+s,$,Pu,D),R2($,i)}function U($,P,q=F){if([\"recovered\",\"canonical\"].some(Q=>Q in q))throw new Error(\"sign() legacy options not supported\");const{hash:T,randomBytes:k}=e;let{lowS:z,prehash:L,extraEntropy:B}=q;z==null&&(z=!0),$=Sa(\"msgHash\",$),Cj(q),L&&($=Sa(\"prehashed msgHash\",T($)));const j=O($),K=h(P),G=[N(K),N(j)];if(B!=null&&B!==!1){const Q=B===!0?k(n.BYTES):B;G.push(Sa(\"extraEntropy\",Q))}const Z=d8(...G),Y=j;function X(Q){const re=I(Q);if(!m(re))return;const oe=l(re),ue=d.BASE.multiply(re).toAffine(),ye=c(ue.x);if(ye===Pu)return;const xe=c(oe*c(Y+ye*K));if(xe===Pu)return;let Be=(ue.x===ye?0:2)|Number(ue.y&ni),ke=xe;return z&&b(xe)&&(ke=y(xe),Be^=1),new v(ye,ke,Be)}return{seed:Z,k2sig:X}}const F={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function V($,P,q=F){const{seed:T,k2sig:k}=U($,P,q),z=e;return uge(z.hash.outputLen,z.nByteLength,z.hmac)(T,k)}d.BASE._setWindowSize(8);function M($,P,q,T=H){var Be;const k=$;P=Sa(\"msgHash\",P),q=Sa(\"publicKey\",q);const{lowS:z,prehash:L,format:B}=T;if(Cj(T),\"strict\"in T)throw new Error(\"options.strict was renamed to lowS\");if(B!==void 0&&B!==\"compact\"&&B!==\"der\")throw new Error(\"format must be compact or der\");const j=typeof k==\"string\"||N2(k),K=!j&&!B&&typeof k==\"object\"&&k!==null&&typeof k.r==\"bigint\"&&typeof k.s==\"bigint\";if(!j&&!K)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let G,Z;try{if(K&&(G=new v(k.r,k.s)),j){try{B!==\"compact\"&&(G=v.fromDER(k))}catch(ke){if(!(ke instanceof Eu.Err))throw ke}!G&&B!==\"der\"&&(G=v.fromCompact(k))}Z=d.fromHex(q)}catch{return!1}if(!G||z&&G.hasHighS())return!1;L&&(P=e.hash(P));const{r:Y,s:X}=G,Q=O(P),re=l(X),oe=c(Q*re),ue=c(Y*re),ye=(Be=d.BASE.multiplyAndAddUnsafe(Z,oe,ue))==null?void 0:Be.toAffine();return ye?c(ye.x)===Y:!1}return{CURVE:e,getPublicKey:C,getSharedSecret:A,sign:V,verify:M,ProjectivePoint:d,Signature:v,utils:_}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function hye(t){return{hash:t,hmac:(e,...n)=>YX(t,e,C0e(...n)),randomBytes:S0e}}function pye(t,e){const n=r=>fye({...t,...hye(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cQ=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),Sj=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),gye=BigInt(0),mye=BigInt(1),SI=BigInt(2),xj=(t,e)=>(t+e/SI)/e;function yye(t){const e=cQ,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,d=l*l*t%e,h=la(d,n,e)*d%e,p=la(h,n,e)*d%e,m=la(p,SI,e)*l%e,b=la(m,i,e)*m%e,y=la(b,s,e)*b%e,E=la(y,a,e)*y%e,v=la(E,c,e)*E%e,_=la(v,a,e)*y%e,C=la(_,n,e)*d%e,S=la(C,o,e)*b%e,A=la(S,r,e)*l%e,I=la(A,SI,e);if(!xI.eql(xI.sqr(I),t))throw new Error(\"Cannot find square root\");return I}const xI=SN(cQ,void 0,void 0,{sqrt:yye}),xN=pye({a:gye,b:BigInt(7),Fp:xI,n:Sj,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:t=>{const e=Sj,n=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),r=-mye*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=n,o=BigInt(\"0x100000000000000000000000000000000\"),a=xj(s*t,e),c=xj(-r*t,e);let l=Hs(t-a*n-c*i,e),d=Hs(-a*r-c*s,e);const h=l>o,p=d>o;if(h&&(l=e-l),p&&(d=e-d),l>o||d>o)throw new Error(\"splitScalar: Endomorphism failed, k=\"+t);return{k1neg:h,k1:l,k2neg:p,k2:d}}}},LJ),lQ=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:xN},Symbol.toStringTag,{value:\"Module\"}));function uQ(t,e={}){const{recovered:n}=e;if(typeof t.r>\"u\")throw new yx({signature:t});if(typeof t.s>\"u\")throw new yx({signature:t});if(n&&typeof t.yParity>\"u\")throw new yx({signature:t});if(t.r<0n||t.r>yj)throw new Sye({value:t.r});if(t.s<0n||t.s>yj)throw new xye({value:t.s});if(typeof t.yParity==\"number\"&&t.yParity!==0&&t.yParity!==1)throw new $N({value:t.yParity})}function bye(t){return dQ(pc(t))}function dQ(t){if(t.length!==130&&t.length!==132)throw new Cye({signature:t});const e=BigInt(hl(t,0,32)),n=BigInt(hl(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return AN(i)}catch{throw new $N({value:i})}})();return typeof r>\"u\"?{r:e,s:n}:{r:e,s:n,yParity:r}}function wye(t){if(!(typeof t.r>\"u\")&&!(typeof t.s>\"u\"))return vye(t)}function vye(t){const e=typeof t==\"string\"?dQ(t):t instanceof Uint8Array?bye(t):typeof t.r==\"string\"?_ye(t):t.v?Eye(t):{r:t.r,s:t.s,...typeof t.yParity<\"u\"?{yParity:t.yParity}:{}};return uQ(e),e}function Eye(t){return{r:t.r,s:t.s,yParity:AN(t.v)}}function _ye(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n==\"number\"&&typeof r!=\"number\"&&(r=AN(n)),typeof r!=\"number\")throw new $N({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function AN(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new Aye({value:t})}let Cye=class extends Wt{constructor({signature:e}){super(`Value \\`${e}\\` is an invalid signature size.`,{metaMessages:[\"Expected: 64 bytes or 65 bytes.\",`Received ${Uo(Mge(e))} bytes.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidSerializedSizeError\"})}},yx=class extends Wt{constructor({signature:e}){super(`Signature \\`${tX(e)}\\` is missing either an \\`r\\`, \\`s\\`, or \\`yParity\\` property.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.MissingPropertiesError\"})}},Sye=class extends Wt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidRError\"})}},xye=class extends Wt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidSError\"})}},$N=class extends Wt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidYParityError\"})}},Aye=class extends Wt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidVError\"})}};function $ye(t,e={}){return typeof t.chainId==\"string\"?Iye(t):{...t,...e.signature}}function Iye(t){const{address:e,chainId:n,nonce:r}=t,i=wye(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const Tye=\"0x8010801080108010801080108010801080108010801080108010801080108010\",Pye=KX(\"(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data\");function fQ(t){if(typeof t==\"string\"){if(hl(t,-32)!==Tye)throw new Rye(t)}else uQ(t.authorization)}function Oye(t){fQ(t);const e=oX(hl(t,-64,-32)),n=hl(t,-e-64,-64),r=hl(t,0,-e-64),[i,s,o]=Hme(Pye,n);return{authorization:$ye({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!==\"0x\"?{data:o,to:s}:{}}}function Nye(t){try{return fQ(t),!0}catch{return!1}}let Rye=class extends Wt{constructor(e){super(`Value \\`${e}\\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SignatureErc8010.InvalidWrappedSignatureError\"})}};function kye(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Mye(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Bo(t.nonce):void 0,storageProof:t.storageProof?kye(t.storageProof):void 0}}async function Dye(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??\"latest\",o=n!==void 0?Oe(n):void 0,a=await t.request({method:\"eth_getProof\",params:[e,i,o||s]});return Mye(a)}async function Bye(t,{address:e,blockNumber:n,blockTag:r=\"latest\",slot:i}){const s=n!==void 0?Oe(n):void 0;return await t.request({method:\"eth_getStorageAt\",params:[e,i,s||r]})}async function IN(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var d,h,p;const o=r||\"latest\",a=n!==void 0?Oe(n):void 0;let c=null;if(i?c=await t.request({method:\"eth_getTransactionByHash\",params:[i]},{dedupe:!0}):e?c=await t.request({method:\"eth_getTransactionByBlockHashAndIndex\",params:[e,Oe(s)]},{dedupe:!0}):c=await t.request({method:\"eth_getTransactionByBlockNumberAndIndex\",params:[a||o,Oe(s)]},{dedupe:!!a}),!c)throw new nJ({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((p=(h=(d=t.chain)==null?void 0:d.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||n_)(c,\"getTransaction\")}async function Lye(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([ct(t,D2,\"getBlockNumber\")({}),e?ct(t,IN,\"getTransaction\")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function bE(t,{hash:e}){var i,s,o;const n=await t.request({method:\"eth_getTransactionReceipt\",params:[e]},{dedupe:!0});if(!n)throw new rJ({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||fN)(n,\"getTransactionReceipt\")}async function Uye(t,e){var _;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((_=t.batch)==null?void 0:_.multicall)==\"object\"?t.batch.multicall:{},p=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return uy({blockNumber:s,chain:t.chain,contract:\"multicall3\"});throw new Error(\"client chain not configured. multicallAddress is required.\")})(),m=[[]];let b=0,y=0;for(let C=0;C<l.length;C++){const{abi:S,address:A,args:I,functionName:O}=l[C];try{const D=Ko({abi:S,args:I,functionName:O});y+=(D.length-2)/2,d>0&&y>d&&m[b].length>0&&(b++,y=(D.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:D,target:A}]}catch(D){const N=B0(D,{abi:S,address:A,args:I,docsPath:\"/docs/contract/multicall\",functionName:O,sender:n});if(!i)throw N;m[b]=[...m[b],{allowFailure:!0,callData:\"0x\",target:A}]}}const E=await Promise.allSettled(m.map(C=>ct(t,gc,\"readContract\")({...p===null?{code:aN}:{address:p},abi:f8,account:n,args:[C],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:\"aggregate3\",stateOverride:c}))),v=[];for(let C=0;C<E.length;C++){const S=E[C];if(S.status===\"rejected\"){if(!i)throw S.reason;for(let I=0;I<m[C].length;I++)v.push({status:\"failure\",error:S.reason,result:void 0});continue}const A=S.value;for(let I=0;I<A.length;I++){const{returnData:O,success:D}=A[I],{callData:N}=m[C][I],{abi:U,address:F,functionName:H,args:V}=l[v.length];try{if(N===\"0x\")throw new E2;if(!D)throw new X4({data:O});const M=Tp({abi:U,args:V,data:O,functionName:H});v.push(i?{result:M,status:\"success\"}:M)}catch(M){const $=B0(M,{abi:U,address:F,args:V,docsPath:\"/docs/contract/multicall\",functionName:H});if(!i)throw $;v.push({error:$,result:void 0,status:\"failure\"})}}}if(v.length!==l.length)throw new Ee(\"multicall results mismatch\");return v}async function AI(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const p of i){const m=p.blockOverrides?lX(p.blockOverrides):void 0,b=p.calls.map(E=>{const v=E,_=v.account?or(v.account):void 0,C=v.abi?Ko(v):v.data,S={...v,account:_,data:v.dataSuffix?Lo([C||\"0x\",v.dataSuffix]):C,from:v.from??(_==null?void 0:_.address)};return lh(S),$p(S)}),y=p.stateOverrides?HO(p.stateOverrides):void 0;c.push({blockOverrides:m,calls:b,stateOverrides:y})}const d=(typeof n==\"bigint\"?Oe(n):void 0)||r;return(await t.request({method:\"eth_simulateV1\",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},d]})).map((p,m)=>({...KO(p),calls:p.calls.map((b,y)=>{var U,F;const{abi:E,args:v,functionName:_,to:C}=i[m].calls[y],S=((U=b.error)==null?void 0:U.data)??b.returnData,A=BigInt(b.gasUsed),I=(F=b.logs)==null?void 0:F.map(H=>Qu(H)),O=b.status===\"0x1\"?\"success\":\"failure\",D=E&&O===\"success\"&&S!==\"0x\"?Tp({abi:E,data:S,functionName:_}):null,N=(()=>{var V;if(O===\"success\")return;let H;if(((V=b.error)==null?void 0:V.data)===\"0x\"?H=new E2:b.error&&(H=new X4(b.error)),!!H)return B0(H,{abi:E??[],address:C??\"0x\",args:v,functionName:_??\"<unknown>\"})})();return{data:S,gasUsed:A,logs:I,status:O,...O===\"success\"?{result:D}:{error:N}}})}))}catch(c){const l=c,d=e_(l,{});throw d instanceof T2?l:d}}function $I(t){let e=!0,n=\"\",r=0,i=\"\",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if([\"(\",\")\",\",\"].includes(a)&&(e=!0),a===\"(\"&&r++,a===\")\"&&r--,!!e){if(r===0){if(a===\" \"&&[\"event\",\"function\",\"error\",\"\"].includes(i))i=\"\";else if(i+=a,a===\")\"){s=!0;break}continue}if(a===\" \"){t[o-1]!==\",\"&&n!==\",\"&&n!==\",(\"&&(n=\"\",e=!1);continue}i+=a,n+=a}}if(!s)throw new Wt(\"Unable to normalize signature.\");return i}function II(t,e){const n=typeof t,r=e.type;switch(r){case\"address\":return wI(t,{strict:!1});case\"bool\":return n===\"boolean\";case\"function\":return n===\"string\";case\"string\":return n===\"string\";default:return r===\"tuple\"&&\"components\"in e?Object.values(e.components).every((i,s)=>II(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n===\"number\"||n===\"bigint\":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n===\"string\"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(r)?Array.isArray(t)&&t.every(i=>II(i,{...e,type:r.replace(/(\\[[0-9]{0,}\\])$/,\"\")})):!1}}function hQ(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type===\"tuple\"&&s.type===\"tuple\"&&\"components\"in i&&\"components\"in s)return hQ(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes(\"address\")&&o.includes(\"bytes20\")?!0:o.includes(\"address\")&&o.includes(\"string\")?wI(n[r],{strict:!1}):o.includes(\"address\")&&o.includes(\"bytes\")?wI(n[r],{strict:!1}):!1)return o}}function pQ(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t==\"string\"?NU(t):t;return{...r,...n?{hash:F1(r)}:{}}}function h_(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=Dge(e,{strict:!1}),o=t.filter(l=>s?l.type===\"function\"||l.type===\"error\"?gQ(l)===hl(e,0,4):l.type===\"event\"?F1(l)===e:!1:\"name\"in l&&l.name===e);if(o.length===0)throw new p8({name:e});if(o.length===1)return{...o[0],...i?{hash:F1(o[0])}:{}};let a;for(const l of o){if(!(\"inputs\"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:F1(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((h,p)=>{const m=\"inputs\"in l&&l.inputs[p];return m?II(h,m):!1})){if(a&&\"inputs\"in a&&a.inputs){const h=hQ(l.inputs,a.inputs,r);if(h)throw new zye({abiItem:l,type:h[0]},{abiItem:a,type:h[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...d]=o;return{...l,overloads:d}})();if(!c)throw new p8({name:e});return{...c,...i?{hash:F1(c)}:{}}}function gQ(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return h_(n,r)}return t[0]})();return hl(F1(e),0,4)}function jye(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return h_(r,i)}return t[0]})(),n=typeof e==\"string\"?e:s8(e);return $I(n)}function F1(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return h_(n,r)}return t[0]})();return typeof e!=\"string\"&&\"hash\"in e&&e.hash?e.hash:qX(oN(jye(e)))}let zye=class extends Wt{constructor(e,n){super(\"Found ambiguous types in overloaded ABI Items.\",{metaMessages:[`\\`${e.type}\\` in \\`${$I(s8(e.abiItem))}\\`, and`,`\\`${n.type}\\` in \\`${$I(s8(n.abiItem))}\\``,\"\",\"These types encode differently and cannot be distinguished at runtime.\",\"Remove one of the ambiguous items in the ABI.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiItem.AmbiguityError\"})}},p8=class extends Wt{constructor({name:e,data:n,type:r=\"item\"}){const i=e?` with name \"${e}\"`:n?` with data \"${n}\"`:\"\";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiItem.NotFoundError\"})}};function Fye(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[Hye(o),a]}return t})(),{bytecode:r,args:i}=n;return hc(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?_N(e.inputs,i):\"0x\")}function qye(t){return pQ(t)}function Hye(t){const e=t.find(n=>n.type===\"constructor\");if(!e)throw new p8({name:\"constructor\"});return e}function Vye(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,d,h]=t;return[Aj(l,d,{args:h}),h]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?Aj([e,...r],e.name,{args:n}):e,s=Kye(i),o=n.length>0?_N(i.inputs,n):void 0;return o?hc(s,o):s}function jg(t,e={}){return pQ(t,e)}function Aj(t,e,n){const r=h_(t,e,n);if(r.type!==\"function\")throw new p8({name:e,type:\"function\"});return r}function Kye(t){return gQ(t)}const Wye=\"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",Uc=\"0x0000000000000000000000000000000000000000\",Gye=\"0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033\";async function Zye(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?or(e.account):void 0;if(o&&!l)throw new Ee(\"`account` is required when `traceAssetChanges` is true\");const d=l?Fye(qye(\"constructor(bytes, bytes)\"),{bytecode:hX,args:[Gye,Vye(jg(\"function getBalance(address)\"),[l.address])]}):void 0,h=o?await Promise.all(e.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:k}=await OX(t,{account:l.address,...T,data:T.abi?Ko(T):T.data});return k.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(T=>T.flat().filter(Boolean)):[],p=await AI(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:h.map((T,k)=>({abi:[jg(\"function balanceOf(address) returns (uint256)\")],functionName:\"balanceOf\",args:[l.address],to:T,from:Uc,nonce:k})),stateOverrides:[{address:Uc,nonce:0}]}]:[],{calls:[...i,{}].map(T=>({...T,from:l==null?void 0:l.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:h.map((T,k)=>({abi:[jg(\"function balanceOf(address) returns (uint256)\")],functionName:\"balanceOf\",args:[l.address],to:T,from:Uc,nonce:k})),stateOverrides:[{address:Uc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[jg(\"function decimals() returns (uint256)\")],functionName:\"decimals\",from:Uc,nonce:k})),stateOverrides:[{address:Uc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[jg(\"function tokenURI(uint256) returns (string)\")],functionName:\"tokenURI\",args:[0n],from:Uc,nonce:k})),stateOverrides:[{address:Uc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[jg(\"function symbol() returns (string)\")],functionName:\"symbol\",from:Uc,nonce:k})),stateOverrides:[{address:Uc,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?p[2]:p[0],[b,y,,E,v,_,C,S]=o?p:[],{calls:A,...I}=m,O=A.slice(0,-1)??[],D=(b==null?void 0:b.calls)??[],N=(y==null?void 0:y.calls)??[],U=[...D,...N].map(T=>T.status===\"success\"?di(T.data):null),F=(E==null?void 0:E.calls)??[],H=(v==null?void 0:v.calls)??[],V=[...F,...H].map(T=>T.status===\"success\"?di(T.data):null),M=((_==null?void 0:_.calls)??[]).map(T=>T.status===\"success\"?T.result:null),$=((S==null?void 0:S.calls)??[]).map(T=>T.status===\"success\"?T.result:null),P=((C==null?void 0:C.calls)??[]).map(T=>T.status===\"success\"?T.result:null),q=[];for(const[T,k]of V.entries()){const z=U[T];if(typeof k!=\"bigint\"||typeof z!=\"bigint\")continue;const L=M[T-1],B=$[T-1],j=P[T-1],K=T===0?{address:Wye,decimals:18,symbol:\"ETH\"}:{address:h[T-1],decimals:j||L?Number(L??1):void 0,symbol:B??void 0};q.some(G=>G.token.address===K.address)||q.push({token:K,value:{pre:z,post:k,diff:k-z}})}return{assetChanges:q,block:I,results:O}}const mQ=\"0x6492649264926492649264926492649264926492649264926492649264926492\";function Yye(t){if(hl(t,-32)!==mQ)throw new Qye(t)}function Jye(t){const{data:e,signature:n,to:r}=t;return hc(_N(KX(\"address, bytes, bytes\"),[r,e,n]),mQ)}function Xye(t){try{return Yye(t),!0}catch{return!1}}let Qye=class extends Wt{constructor(e){super(`Value \\`${e}\\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SignatureErc6492.InvalidWrappedSignatureError\"})}};function ebe({r:t,s:e,to:n=\"hex\",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error(\"Invalid `v` or `yParity` value\")})(),o=`0x${new xN.Signature(di(t),di(e)).toCompactHex()}${s===0?\"1b\":\"1c\"}`;return n===\"hex\"?o:El(o)}async function p_(t,e){var a,c,l,d,h,p;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((l=(c=(a=t.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:s=e.multicallAddress??((p=(h=(d=t.chain)==null?void 0:d.contracts)==null?void 0:h.multicall3)==null?void 0:p.address)}=e,o=(()=>{const m=e.signature;return fc(m)?m:typeof m==\"object\"&&\"r\"in m&&\"s\"in m?ebe(m):kr(m)})();try{return Nye(o)?await tbe(t,{...e,multicallAddress:s,signature:o}):await nbe(t,{...e,verifierAddress:i,signature:o})}catch(m){try{if(ly(Ys(n),await NJ({hash:r,signature:o})))return!0}catch{}if(m instanceof F0)return!1;throw m}}async function tbe(t,e){var E;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:d}=Oye(e.signature);if(await bI(t,{address:n,blockNumber:r,blockTag:i})===Ac([\"0xef0100\",a.address]))return await rbe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:Oe(a.r,{size:32}),s:Oe(a.s,{size:32}),yParity:a.yParity};if(!await Z1e({address:n,authorization:p}))throw new F0;const b=await ct(t,gc,\"readContract\")({...o?{address:o}:{code:aN},authorizationList:[p],abi:f8,blockNumber:r,blockTag:\"pending\",functionName:\"aggregate3\",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Ko({abi:fX,functionName:\"isValidSignature\",args:[s,l]})}]]}),y=(E=b[b.length-1])==null?void 0:E.returnData;if(y!=null&&y.startsWith(\"0x1626ba7e\"))return!0;throw new F0}async function nbe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=e,l=await(async()=>!r&&!i||Xye(o)?o:Jye({data:i,signature:o,to:r}))(),d=a?{to:a,data:Ko({abi:dj,functionName:\"isValidSig\",args:[n,s,l]}),...c}:{data:a_({abi:dj,args:[n,s,l],bytecode:qge}),...c},{data:h}=await ct(t,M2,\"call\")(d).catch(p=>{throw p instanceof sJ?new F0:p});if(i0e(h??\"0x0\"))return!0;throw new F0}async function rbe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await ct(t,gc,\"readContract\")({address:n,abi:fX,args:[s,o],blockNumber:r,blockTag:i,functionName:\"isValidSignature\"}).catch(c=>{throw c instanceof oJ?new F0:c})).startsWith(\"0x1626ba7e\"))return!0;throw new F0}let F0=class extends Error{};async function ibe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=DX(n);return p_(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function sbe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...d}=e,h=pme({message:o,primaryType:a,types:c,domain:l});return p_(t,{address:n,factory:r,factoryData:i,hash:h,signature:s,...d})}function yQ(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<\"u\"?s:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\"));let c;return a?(()=>{const h=_r([\"watchBlockNumber\",t.uid,e,n,o]);return ed(h,{onBlockNumber:r,onError:i},p=>dy(async()=>{var m;try{const b=await ct(t,D2,\"getBlockNumber\")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let y=c+1n;y<b;y++)p.onBlockNumber(y,c),c=y}(c===void 0||b>c)&&(p.onBlockNumber(b,c),c=b)}catch(b){(m=p.onError)==null||m.call(p,b)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=_r([\"watchBlockNumber\",t.uid,e,n]);return ed(h,{onBlockNumber:r,onError:i},p=>{let m=!0,b=()=>m=!1;return(async()=>{try{const y=(()=>{if(t.transport.type===\"fallback\"){const v=t.transport.transports.find(_=>_.config.type===\"webSocket\"||_.config.type===\"ipc\");return v?v.value:t.transport}return t.transport})(),{unsubscribe:E}=await y.subscribe({params:[\"newHeads\"],onData(v){var C;if(!m)return;const _=di((C=v.result)==null?void 0:C.number);p.onBlockNumber(_,c),c=_},onError(v){var _;(_=p.onError)==null||_.call(p,v)}});b=E,m||b()}catch(y){i==null||i(y)}})(),()=>b()})})()}async function bQ(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:A})=>~~(1<<A)*200,timeout:c=18e4}=e,l=_r([\"waitForTransactionReceipt\",t.uid,i]),d=(()=>{var A;return e.pollingInterval?e.pollingInterval:(A=t.chain)!=null&&A.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,p,m,b=!1,y,E;const{promise:v,resolve:_,reject:C}=cN(),S=c?setTimeout(()=>{E==null||E(),y==null||y(),C(new Epe({hash:i}))},c):void 0;return y=ed(l,{onReplaced:s,resolve:_,reject:C},async A=>{if(m=await ct(t,bE,\"getTransactionReceipt\")({hash:i}).catch(()=>{}),m&&r<=1){clearTimeout(S),A.resolve(m),y==null||y();return}E=ct(t,yQ,\"watchBlockNumber\")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(I){const O=N=>{clearTimeout(S),E==null||E(),N(),y==null||y()};let D=I;if(!b)try{if(m){if(r>1&&(!m.blockNumber||D-m.blockNumber+1n<r))return;O(()=>A.resolve(m));return}if(n&&!h&&(b=!0,await z0(async()=>{h=await ct(t,IN,\"getTransaction\")({hash:i}),h.blockNumber&&(D=h.blockNumber)},{delay:a,retryCount:o}),b=!1),m=await ct(t,bE,\"getTransactionReceipt\")({hash:i}),r>1&&(!m.blockNumber||D-m.blockNumber+1n<r))return;O(()=>A.resolve(m))}catch(N){if(N instanceof nJ||N instanceof rJ){if(!h){b=!1;return}try{p=h,b=!0;const U=await z0(()=>ct(t,cl,\"getBlock\")({blockNumber:D,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:V})=>V instanceof MJ});b=!1;const F=U.transactions.find(({from:V,nonce:M})=>V===p.from&&M===p.nonce);if(!F||(m=await ct(t,bE,\"getTransactionReceipt\")({hash:F.hash}),r>1&&(!m.blockNumber||D-m.blockNumber+1n<r)))return;let H=\"replaced\";F.to===p.to&&F.value===p.value&&F.input===p.input?H=\"repriced\":F.from===F.to&&F.value===0n&&(H=\"cancelled\"),O(()=>{var V;(V=A.onReplaced)==null||V.call(A,{reason:H,replacedTransaction:p,transaction:F,transactionReceipt:m}),A.resolve(m)})}catch(U){O(()=>A.reject(U))}}else O(()=>A.reject(N))}}})}),v}function obe(t,{blockTag:e=t.experimental_blockTag??\"latest\",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<\"u\"?a:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")),d=o??!1;let h;return l?(()=>{const b=_r([\"watchBlocks\",t.uid,e,n,r,d,c]);return ed(b,{onBlock:i,onError:s},y=>dy(async()=>{var E;try{const v=await ct(t,cl,\"getBlock\")({blockTag:e,includeTransactions:d});if(v.number!==null&&(h==null?void 0:h.number)!=null){if(v.number===h.number)return;if(v.number-h.number>1&&n)for(let _=(h==null?void 0:h.number)+1n;_<v.number;_++){const C=await ct(t,cl,\"getBlock\")({blockNumber:_,includeTransactions:d});y.onBlock(C,h),h=C}}((h==null?void 0:h.number)==null||e===\"pending\"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>h.number)&&(y.onBlock(v,h),h=v)}catch(v){(E=y.onError)==null||E.call(y,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,y=!0,E=()=>b=!1;return(async()=>{try{r&&ct(t,cl,\"getBlock\")({blockTag:e,includeTransactions:d}).then(C=>{b&&y&&(i(C,void 0),y=!1)}).catch(s);const v=(()=>{if(t.transport.type===\"fallback\"){const C=t.transport.transports.find(S=>S.config.type===\"webSocket\"||S.config.type===\"ipc\");return C?C.value:t.transport}return t.transport})(),{unsubscribe:_}=await v.subscribe({params:[\"newHeads\"],async onData(C){var A;if(!b)return;const S=await ct(t,cl,\"getBlock\")({blockNumber:(A=C.result)==null?void 0:A.number,includeTransactions:d}).catch(()=>{});b&&(i(S,h),y=!1,h=S)},onError(C){s==null||s(C)}});E=_,b||E()}catch(v){s==null||s(v)}})(),()=>E()})()}function abe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:d=t.pollingInterval,strict:h}){const p=typeof l<\"u\"?l:typeof o==\"bigint\"?!0:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")),m=h??!1;return p?(()=>{const E=_r([\"watchEvent\",e,n,r,t.uid,i,d,o]);return ed(E,{onLogs:c,onError:a},v=>{let _;o!==void 0&&(_=o-1n);let C,S=!1;const A=dy(async()=>{var I;if(!S){try{C=await ct(t,NX,\"createEventFilter\")({address:e,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}S=!0;return}try{let O;if(C)O=await ct(t,c_,\"getFilterChanges\")({filter:C});else{const D=await ct(t,D2,\"getBlockNumber\")({});_&&_!==D?O=await ct(t,nN,\"getLogs\")({address:e,args:n,event:i,events:s,fromBlock:_+1n,toBlock:D}):O=[],_=D}if(O.length===0)return;if(r)v.onLogs(O);else for(const D of O)v.onLogs([D])}catch(O){C&&O instanceof nv&&(S=!1),(I=v.onError)==null||I.call(v,O)}},{emitOnBegin:!0,interval:d});return async()=>{C&&await ct(t,l_,\"uninstallFilter\")({filter:C}),A()}})})():(()=>{let E=!0,v=()=>E=!1;return(async()=>{try{const _=(()=>{if(t.transport.type===\"fallback\"){const I=t.transport.transports.find(O=>O.config.type===\"webSocket\"||O.config.type===\"ipc\");return I?I.value:t.transport}return t.transport})(),C=s??(i?[i]:void 0);let S=[];C&&(S=[C.flatMap(O=>x2({abi:[O],eventName:O.name,args:n}))],i&&(S=S[0]));const{unsubscribe:A}=await _.subscribe({params:[\"logs\",{address:e,topics:S}],onData(I){var D;if(!E)return;const O=I.result;try{const{eventName:N,args:U}=eN({abi:C??[],data:O.data,topics:O.topics,strict:m}),F=Qu(O,{args:U,eventName:N});c([F])}catch(N){let U,F;if(N instanceof Xw||N instanceof W4){if(h)return;U=N.abiItem.name,F=(D=N.abiItem.inputs)==null?void 0:D.some(V=>!(\"name\"in V&&V.name))}const H=Qu(O,{args:F?[]:{},eventName:U});c([H])}},onError(I){a==null||a(I)}});v=A,E||v()}catch(_){a==null||a(_)}})(),()=>v()})()}function cbe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<\"u\"?i:t.transport.type!==\"webSocket\"&&t.transport.type!==\"ipc\")?(()=>{const l=_r([\"watchPendingTransactions\",t.uid,e,s]);return ed(l,{onTransactions:r,onError:n},d=>{let h;const p=dy(async()=>{var m;try{if(!h)try{h=await ct(t,RX,\"createPendingTransactionFilter\")({});return}catch(y){throw p(),y}const b=await ct(t,c_,\"getFilterChanges\")({filter:h});if(b.length===0)return;if(e)d.onTransactions(b);else for(const y of b)d.onTransactions([y])}catch(b){(m=d.onError)==null||m.call(d,b)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await ct(t,l_,\"uninstallFilter\")({filter:h}),p()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:[\"newPendingTransactions\"],onData(p){if(!l)return;const m=p.result;r([m])},onError(p){n==null||n(p)}});d=h,l||d()}catch(h){n==null||n(h)}})(),()=>d()})()}function lbe(t){var h,p,m;const{scheme:e,statement:n,...r}=((h=t.match(ube))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((p=t.match(dbe))==null?void 0:p.groups)??{},d=(m=t.split(\"Resources:\")[1])==null?void 0:m.split(`\n- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const ube=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?/,dbe=/(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?/;function fbe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Vr(r.address,{strict:!1})||e&&!ly(r.address,e))return!1}catch{return!1}return!0}async function hbe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=e,d=lbe(i);if(!d.address||!fbe({address:n,domain:r,message:d,nonce:s,scheme:o,time:c}))return!1;const p=DX(i);return p_(t,{address:d.address,hash:p,signature:a,...l})}async function TN(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,l;const i=await t.request({method:\"eth_sendRawTransactionSync\",params:r?[e,Oe(r)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||fN)(i);if(o.status===\"reverted\"&&n)throw new iJ({receipt:o});return o}function g8(t){return{call:e=>M2(t,e),createAccessList:e=>OX(t,e),createBlockFilter:()=>I1e(t),createContractEventFilter:e=>JY(t,e),createEventFilter:e=>NX(t,e),createPendingTransactionFilter:()=>RX(t),estimateContractGas:e=>sge(t,e),estimateGas:e=>QO(t,e),getBalance:e=>T1e(t,e),getBlobBaseFee:()=>P1e(t),getBlock:e=>cl(t,e),getBlockNumber:e=>D2(t,e),getBlockTransactionCount:e=>O1e(t,e),getBytecode:e=>bI(t,e),getChainId:()=>Ip(t),getCode:e=>bI(t,e),getContractEvents:e=>WJ(t,e),getEip712Domain:e=>R1e(t,e),getEnsAddress:e=>f1e(t,e),getEnsAvatar:e=>x1e(t,e),getEnsName:e=>A1e(t,e),getEnsResolver:e=>$1e(t,e),getEnsText:e=>PX(t,e),getFeeHistory:e=>D1e(t,e),estimateFeesPerGas:e=>Kpe(t,e),getFilterChanges:e=>c_(t,e),getFilterLogs:e=>B1e(t,e),getGasPrice:()=>WO(t),getLogs:e=>nN(t,e),getProof:e=>Dye(t,e),estimateMaxPriorityFeePerGas:e=>Vpe(t,e),getStorageAt:e=>Bye(t,e),getTransaction:e=>IN(t,e),getTransactionConfirmations:e=>Lye(t,e),getTransactionCount:e=>GO(t,e),getTransactionReceipt:e=>bE(t,e),multicall:e=>Uye(t,e),prepareTransactionRequest:e=>O2(t,e),readContract:e=>gc(t,e),sendRawTransaction:e=>dN(t,e),sendRawTransactionSync:e=>TN(t,e),simulate:e=>AI(t,e),simulateBlocks:e=>AI(t,e),simulateCalls:e=>Zye(t,e),simulateContract:e=>Yge(t,e),verifyHash:e=>p_(t,e),verifyMessage:e=>ibe(t,e),verifySiweMessage:e=>hbe(t,e),verifyTypedData:e=>sbe(t,e),uninstallFilter:e=>l_(t,e),waitForTransactionReceipt:e=>bQ(t,e),watchBlocks:e=>obe(t,e),watchBlockNumber:e=>yQ(t,e),watchContractEvent:e=>r1e(t,e),watchEvent:e=>abe(t,e),watchPendingTransactions:e=>cbe(t,e)}}async function pbe(t,{chain:e}){const{id:n,name:r,nativeCurrency:i,rpcUrls:s,blockExplorers:o}=e;await t.request({method:\"wallet_addEthereumChain\",params:[{chainId:Oe(n),chainName:r,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function gbe(t,e){const{abi:n,args:r,bytecode:i,...s}=e,o=a_({abi:n,args:r,bytecode:i});return u_(t,{...s,...s.authorizationList?{to:null}:{},data:o})}async function mbe(t){var n;return((n=t.account)==null?void 0:n.type)===\"local\"?[t.account.address]:(await t.request({method:\"eth_accounts\"},{dedupe:!0})).map(r=>C2(r))}async function ybe(t,e={}){const{account:n=t.account,chainId:r}=e,i=n?or(n):void 0,s=r?[i==null?void 0:i.address,[Oe(r)]]:[i==null?void 0:i.address],o=await t.request({method:\"wallet_getCapabilities\",params:s}),a={};for(const[c,l]of Object.entries(o)){a[Number(c)]={};for(let[d,h]of Object.entries(l))d===\"addSubAccount\"&&(d=\"unstable_addSubAccount\"),a[Number(c)][d]=h}return typeof r==\"number\"?a[r]:a}async function bbe(t){return await t.request({method:\"wallet_getPermissions\"},{dedupe:!0})}async function wQ(t,e){var c;const{account:n=t.account,chainId:r,nonce:i}=e;if(!n)throw new uh({docsPath:\"/docs/eip7702/prepareAuthorization\"});const s=or(n),o=(()=>{if(e.executor)return e.executor===\"self\"?e.executor:or(e.executor)})(),a={address:e.contractAddress??e.address,chainId:r,nonce:i};return typeof a.chainId>\"u\"&&(a.chainId=((c=t.chain)==null?void 0:c.id)??await ct(t,Ip,\"getChainId\")({})),typeof a.nonce>\"u\"&&(a.nonce=await ct(t,GO,\"getTransactionCount\")({address:s.address,blockTag:\"pending\"}),(o===\"self\"||o!=null&&o.address&&ly(o.address,s.address))&&(a.nonce+=1)),a}async function wbe(t){return(await t.request({method:\"eth_requestAccounts\"},{dedupe:!0,retryCount:0})).map(n=>Ys(n))}async function vbe(t,e){return t.request({method:\"wallet_requestPermissions\",params:[e]},{retryCount:0})}async function Ebe(t,e){const{chain:n=t.chain}=e,r=e.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),i=await EX(t,e);return await CX(t,{...e,id:i.id,timeout:r})}const bx=new _2(128);async function vQ(t,e){var A,I,O,D;const{account:n=t.account,chain:r=t.chain,accessList:i,authorizationList:s,blobs:o,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,pollingInterval:b,throwOnReceiptRevert:y,type:E,value:v,..._}=e,C=e.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>\"u\")throw new uh({docsPath:\"/docs/actions/wallet/sendTransactionSync\"});const S=n?or(n):null;try{lh(e);const N=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await Q4({authorization:s[0]}).catch(()=>{throw new Ee(\"`to` is required. Could not infer from `authorizationList`.\")})})();if((S==null?void 0:S.type)===\"json-rpc\"||S===null){let U;r!==null&&(U=await ct(t,Ip,\"getChainId\")({}),lN({currentChainId:U,chain:r}));const F=(O=(I=(A=t.chain)==null?void 0:A.formatters)==null?void 0:I.transactionRequest)==null?void 0:O.format,V=(F||$p)({...P2(_,{format:F}),accessList:i,account:S,authorizationList:s,blobs:o,chainId:U,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,to:N,type:E,value:v},\"sendTransaction\"),M=bx.get(t.uid),$=M?\"wallet_sendTransaction\":\"eth_sendTransaction\",P=await(async()=>{try{return await t.request({method:$,params:[V]},{retryCount:0})}catch(T){if(M===!1)throw T;const k=T;if(k.name===\"InvalidInputRpcError\"||k.name===\"InvalidParamsRpcError\"||k.name===\"MethodNotFoundRpcError\"||k.name===\"MethodNotSupportedRpcError\")return await t.request({method:\"wallet_sendTransaction\",params:[V]},{retryCount:0}).then(z=>(bx.set(t.uid,!0),z)).catch(z=>{const L=z;throw L.name===\"MethodNotFoundRpcError\"||L.name===\"MethodNotSupportedRpcError\"?(bx.set(t.uid,!1),k):L});throw k}})(),q=await ct(t,bQ,\"waitForTransactionReceipt\")({checkReplacement:!1,hash:P,pollingInterval:b,timeout:C});if(y&&q.status===\"reverted\")throw new iJ({receipt:q});return q}if((S==null?void 0:S.type)===\"local\"){const U=await ct(t,O2,\"prepareTransactionRequest\")({account:S,accessList:i,authorizationList:s,blobs:o,chain:r,data:a,gas:c,gasPrice:l,maxFeePerBlobGas:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:m,nonceManager:S.nonceManager,parameters:[...XO,\"sidecars\"],type:E,value:v,..._,to:N}),F=(D=r==null?void 0:r.serializers)==null?void 0:D.transaction,H=await S.signTransaction(U,{serializer:F});return await ct(t,TN,\"sendRawTransactionSync\")({serializedTransaction:H,throwOnReceiptRevert:y})}throw(S==null?void 0:S.type)===\"smart\"?new S0({metaMessages:[\"Consider using the `sendUserOperation` Action instead.\"],docsPath:\"/docs/actions/bundler/sendUserOperation\",type:\"smart\"}):new S0({docsPath:\"/docs/actions/wallet/sendTransactionSync\",type:S==null?void 0:S.type})}catch(N){throw N instanceof S0?N:uN(N,{...e,account:S,chain:e.chain||void 0})}}async function _be(t,e){const{id:n}=e;await t.request({method:\"wallet_showCallsStatus\",params:[n]})}async function Cbe(t,e){const{account:n=t.account}=e;if(!n)throw new uh({docsPath:\"/docs/eip7702/signAuthorization\"});const r=or(n);if(!r.signAuthorization)throw new S0({docsPath:\"/docs/eip7702/signAuthorization\",metaMessages:[\"The `signAuthorization` Action does not support JSON-RPC Accounts.\"],type:r.type});const i=await wQ(t,e);return r.signAuthorization(i)}async function Sbe(t,{account:e=t.account,message:n}){if(!e)throw new uh({docsPath:\"/docs/actions/wallet/signMessage\"});const r=or(e);if(r.signMessage)return r.signMessage({message:n});const i=typeof n==\"string\"?_m(n):n.raw instanceof Uint8Array?ts(n.raw):n.raw;return t.request({method:\"personal_sign\",params:[i,r.address]},{retryCount:0})}async function xbe(t,e){var l,d,h,p;const{account:n=t.account,chain:r=t.chain,...i}=e;if(!n)throw new uh({docsPath:\"/docs/actions/wallet/signTransaction\"});const s=or(n);lh({account:s,...e});const o=await ct(t,Ip,\"getChainId\")({});r!==null&&lN({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((d=a==null?void 0:a.transactionRequest)==null?void 0:d.format)||$p;return s.signTransaction?s.signTransaction({...i,chainId:o},{serializer:(p=(h=t.chain)==null?void 0:h.serializers)==null?void 0:p.transaction}):await t.request({method:\"eth_signTransaction\",params:[{...c({...i,account:s},\"signTransaction\"),chainId:Oe(o),from:s.address}]},{retryCount:0})}async function Abe(t,e){const{account:n=t.account,domain:r,message:i,primaryType:s}=e;if(!n)throw new uh({docsPath:\"/docs/actions/wallet/signTypedData\"});const o=or(n),a={EIP712Domain:LX({domain:r}),...e.types};if(BX({domain:r,message:i,primaryType:s,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:i,primaryType:s,types:a});const c=fme({domain:r,message:i,primaryType:s,types:a});return t.request({method:\"eth_signTypedData_v4\",params:[o.address,c]},{retryCount:0})}async function $be(t,{id:e}){await t.request({method:\"wallet_switchEthereumChain\",params:[{chainId:Oe(e)}]},{retryCount:0})}async function Ibe(t,e){return await t.request({method:\"wallet_watchAsset\",params:e},{retryCount:0})}async function Tbe(t,e){return ov.internal(t,vQ,\"sendTransactionSync\",e)}function Pbe(t){return{addChain:e=>pbe(t,e),deployContract:e=>gbe(t,e),getAddresses:()=>mbe(t),getCallsStatus:e=>_X(t,e),getCapabilities:e=>ybe(t,e),getChainId:()=>Ip(t),getPermissions:()=>bbe(t),prepareAuthorization:e=>wQ(t,e),prepareTransactionRequest:e=>O2(t,e),requestAddresses:()=>wbe(t),requestPermissions:e=>vbe(t,e),sendCalls:e=>EX(t,e),sendCallsSync:e=>Ebe(t,e),sendRawTransaction:e=>dN(t,e),sendRawTransactionSync:e=>TN(t,e),sendTransaction:e=>u_(t,e),sendTransactionSync:e=>vQ(t,e),showCallsStatus:e=>_be(t,e),signAuthorization:e=>Cbe(t,e),signMessage:e=>Sbe(t,e),signTransaction:e=>xbe(t,e),signTypedData:e=>Abe(t,e),switchChain:e=>$be(t,e),waitForCallsStatus:e=>CX(t,e),watchAsset:e=>Ibe(t,e),writeContract:e=>ov(t,e),writeContractSync:e=>Tbe(t,e)}}function PN({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=SX();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:J1e(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function Obe(t,e={}){const{key:n=\"custom\",methods:r,name:i=\"Custom Provider\",retryDelay:s}=e;return({retryCount:o})=>PN({key:n,methods:r,name:i,request:t.request.bind(t),retryCount:e.retryCount??o,retryDelay:s,type:\"custom\"})}function $j(t,e={}){const{key:n=\"fallback\",name:r=\"Fallback\",rank:i=!1,shouldThrow:s=Nbe,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:d,...h})=>{let p=t,m=()=>{};const b=PN({key:n,name:r,async request({method:y,params:E}){let v;const _=async(C=0)=>{const S=p[C]({...h,chain:c,retryCount:0,timeout:d});try{const A=await S.request({method:y,params:E});return m({method:y,params:E,response:A,transport:S,status:\"success\"}),A}catch(A){if(m({error:A,method:y,params:E,transport:S,status:\"error\"}),s(A)||C===p.length-1||(v??(v=p.slice(C+1).some(I=>{const{include:O,exclude:D}=I({chain:c}).config.methods||{};return O?O.includes(y):D?!D.includes(y):!0})),!v))throw A;return _(C+1)}};return _()},retryCount:o,retryDelay:a,type:\"fallback\"},{onResponse:y=>m=y,transports:p.map(y=>y({chain:c,retryCount:0}))});if(i){const y=typeof i==\"object\"?i:{};Rbe({chain:c,interval:y.interval??l,onTransports:E=>p=E,ping:y.ping,sampleCount:y.sampleCount,timeout:y.timeout,transports:p,weights:y.weights})}return b})}function Nbe(t){return!!(\"code\"in t&&typeof t.code==\"number\"&&(t.code===o8.code||t.code===Yn.code||d0.nodeMessage.test(t.message)||t.code===5e3))}function Rbe({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,d=[],h=async()=>{const p=await Promise.all(o.map(async y=>{const E=y({chain:t,retryCount:0,timeout:s}),v=Date.now();let _,C;try{await(r?r({transport:E}):E.request({method:\"net_listening\"})),C=1}catch{C=0}finally{_=Date.now()}return{latency:_-v,success:C}}));d.push(p),d.length>i&&d.shift();const m=Math.max(...d.map(y=>Math.max(...y.map(({latency:E})=>E)))),b=o.map((y,E)=>{const v=d.map(I=>I[E].latency),C=1-v.reduce((I,O)=>I+O,0)/v.length/m,S=d.map(I=>I[E].success),A=S.reduce((I,O)=>I+O,0)/S.length;return A===0?[0,E]:[l*C+c*A,E]}).sort((y,E)=>E[0]-y[0]);n(b.map(([,y])=>o[y])),await h8(e),h()};h()}let kbe=class extends Ee{constructor(){super(\"No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.\",{docsPath:\"/docs/clients/intro\",name:\"UrlRequiredError\"})}};function Ou(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s=\"http\",methods:o,name:a=\"HTTP JSON-RPC\",onFetchRequest:c,onFetchResponse:l,retryDelay:d,raw:h}=e;return({chain:p,retryCount:m,timeout:b})=>{const{batchSize:y=1e3,wait:E=0}=typeof n==\"object\"?n:{},v=e.retryCount??m,_=b??e.timeout??1e4,C=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!C)throw new kbe;const S=ome(C,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:_});return PN({key:s,methods:o,name:a,async request({method:A,params:I}){const O={method:A,params:I},{schedule:D}=mX({id:C,wait:E,shouldSplitBatch(H){return H.length>y},fn:H=>S.request({body:H}),sort:(H,V)=>H.id-V.id}),N=async H=>n?D(H):[await S.request({body:H})],[{error:U,result:F}]=await N(O);if(h)return{error:U,result:F};if(U)throw new FO({body:O,error:U,url:C});return F},retryCount:v,retryDelay:d,timeout:_,type:\"http\"},{fetchOptions:i,url:C})}}const wE=\"2.22.1\",Mbe=()=>`@wagmi/core@${wE}`;var EQ=function(t,e,n,r){if(n===\"a\"&&!r)throw new TypeError(\"Private accessor was defined without a getter\");if(typeof e==\"function\"?t!==e||!r:!e.has(t))throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");return n===\"m\"?r:n===\"a\"?r.call(t):r?r.value:e.get(t)},m8,_Q;let Pp=class TI extends Error{get docsBaseUrl(){return\"https://wagmi.sh/core\"}get version(){return Mbe()}constructor(e,n={}){var s;super(),m8.add(this),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"WagmiCoreError\"});const r=n.cause instanceof TI?n.cause.details:(s=n.cause)!=null&&s.message?n.cause.message:n.details,i=n.cause instanceof TI&&n.cause.docsPath||n.docsPath;this.message=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...i?[`Docs: ${this.docsBaseUrl}${i}.html${n.docsSlug?`#${n.docsSlug}`:\"\"}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`\n`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return EQ(this,m8,\"m\",_Q).call(this,this,e)}};m8=new WeakSet,_Q=function t(e,n){return n!=null&&n(e)?e:e.cause?EQ(this,m8,\"m\",t).call(this,e.cause,n):e};class cv extends Pp{constructor(){super(\"Chain not configured.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ChainNotConfiguredError\"})}}class Dbe extends Pp{constructor(){super(\"Connector already connected.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ConnectorAlreadyConnectedError\"})}}class Bbe extends Pp{constructor(){super(\"Connector not connected.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ConnectorNotConnectedError\"})}}class Lbe extends Pp{constructor({address:e,connector:n}){super(`Account \"${e}\" not found for connector \"${n.name}\".`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ConnectorAccountNotFoundError\"})}}class Ube extends Pp{constructor({connectionChainId:e,connectorChainId:n}){super(`The current chain of the connector (id: ${n}) does not match the connection's chain (id: ${e}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e}`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ConnectorChainMismatchError\"})}}class jbe extends Pp{constructor({connector:e}){super(`Connector \"${e.name}\" unavailable while reconnecting.`,{details:[\"During the reconnection step, the only connector methods guaranteed to be available are: `id`, `name`, `type`, `uid`.\",\"All other methods are not guaranteed to be available until reconnection completes and connectors are fully restored.\",\"This error commonly occurs for connectors that asynchronously inject after reconnection has already started.\"].join(\" \")}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ConnectorUnavailableReconnectingError\"})}}async function CQ(t,e){var r;let n;if(typeof e.connector==\"function\"?n=t._internal.connectors.setup(e.connector):n=e.connector,n.uid===t.state.current)throw new Dbe;try{t.setState(a=>({...a,status:\"connecting\"})),n.emitter.emit(\"message\",{type:\"connecting\"});const{connector:i,...s}=e,o=await n.connect(s);return n.emitter.off(\"connect\",t._internal.events.connect),n.emitter.on(\"change\",t._internal.events.change),n.emitter.on(\"disconnect\",t._internal.events.disconnect),await((r=t.storage)==null?void 0:r.setItem(\"recentConnectorId\",n.id)),t.setState(a=>({...a,connections:new Map(a.connections).set(n.uid,{accounts:s.withCapabilities?o.accounts.map(c=>typeof c==\"object\"?c.address:c):o.accounts,chainId:o.chainId,connector:n}),current:n.uid,status:\"connected\"})),{accounts:s.withCapabilities?o.accounts.map(a=>typeof a==\"object\"?a:{address:a,capabilities:{}}):o.accounts,chainId:o.chainId}}catch(i){throw t.setState(s=>({...s,status:s.current?\"connected\":\"disconnected\"})),i}}async function zbe(t,e={}){const{assertChainId:n=!0}=e;let r;if(e.connector){const{connector:d}=e;if(t.state.status===\"reconnecting\"&&!d.getAccounts&&!d.getChainId)throw new jbe({connector:d});const[h,p]=await Promise.all([d.getAccounts().catch(m=>{if(e.account===null)return[];throw m}),d.getChainId()]);r={accounts:h,chainId:p,connector:d}}else r=t.state.connections.get(t.state.current);if(!r)throw new Bbe;const i=e.chainId??r.chainId,s=await r.connector.getChainId();if(n&&s!==i)throw new Ube({connectionChainId:i,connectorChainId:s});const o=r.connector;if(o.getClient)return o.getClient({chainId:i});const a=or(e.account??r.accounts[0]);if(a&&(a.address=Ys(a.address)),e.account&&!r.accounts.some(d=>d.toLowerCase()===a.address.toLowerCase()))throw new Lbe({address:a.address,connector:o});const c=t.chains.find(d=>d.id===i),l=await r.connector.getProvider({chainId:i});return xX({account:a,chain:c,name:\"Connector Client\",transport:d=>Obe(l)({...d,retryCount:0})})}async function Fbe(t,e={}){var i,s;let n;if(e.connector)n=e.connector;else{const{connections:o,current:a}=t.state,c=o.get(a);n=c==null?void 0:c.connector}const r=t.state.connections;n&&(await n.disconnect(),n.emitter.off(\"change\",t._internal.events.change),n.emitter.off(\"disconnect\",t._internal.events.disconnect),n.emitter.on(\"connect\",t._internal.events.connect),r.delete(n.uid)),t.setState(o=>{if(r.size===0)return{...o,connections:new Map,current:null,status:\"disconnected\"};const a=r.values().next().value;return{...o,connections:new Map(r),current:a.connector.uid}});{const o=t.state.current;if(!o)return;const a=(i=t.state.connections.get(o))==null?void 0:i.connector;if(!a)return;await((s=t.storage)==null?void 0:s.setItem(\"recentConnectorId\",a.id))}}async function y8(t,e={}){return(await zbe(t,e)).extend(Pbe)}class _u extends Pp{constructor(){super(\"Provider not found.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ProviderNotFoundError\"})}}x0.type=\"injected\";function x0(t={}){const{shimDisconnect:e=!0,unstable_shimAsyncInject:n}=t;function r(){const c=t.target;if(typeof c==\"function\"){const l=c();if(l)return l}return typeof c==\"object\"?c:typeof c==\"string\"?{...qbe[c]??{id:c,name:`${c[0].toUpperCase()}${c.slice(1)}`,provider:`is${c[0].toUpperCase()}${c.slice(1)}`}}:{id:\"injected\",name:\"Injected\",provider(l){return l==null?void 0:l.ethereum}}}let i,s,o,a;return c=>({get icon(){return r().icon},get id(){return r().id},get name(){return r().name},get supportsSimulation(){return!0},type:x0.type,async setup(){const l=await this.getProvider();l!=null&&l.on&&t.target&&(o||(o=this.onConnect.bind(this),l.on(\"connect\",o)),i||(i=this.onAccountsChanged.bind(this),l.on(\"accountsChanged\",i)))},async connect({chainId:l,isReconnecting:d,withCapabilities:h}={}){var b,y,E,v,_,C;const p=await this.getProvider();if(!p)throw new _u;let m=[];if(d)m=await this.getAccounts().catch(()=>[]);else if(e)try{m=(v=(E=(y=(b=(await p.request({method:\"wallet_requestPermissions\",params:[{eth_accounts:{}}]}))[0])==null?void 0:b.caveats)==null?void 0:y[0])==null?void 0:E.value)==null?void 0:v.map(A=>Ys(A)),m.length>0&&(m=await this.getAccounts())}catch(S){const A=S;if(A.code===Yn.code)throw new Yn(A);if(A.code===Df.code)throw A}try{!(m!=null&&m.length)&&!d&&(m=(await p.request({method:\"eth_requestAccounts\"})).map(I=>Ys(I))),o&&(p.removeListener(\"connect\",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),p.on(\"accountsChanged\",i)),s||(s=this.onChainChanged.bind(this),p.on(\"chainChanged\",s)),a||(a=this.onDisconnect.bind(this),p.on(\"disconnect\",a));let S=await this.getChainId();if(l&&S!==l){const A=await this.switchChain({chainId:l}).catch(I=>{if(I.code===Yn.code)throw I;return{id:S}});S=(A==null?void 0:A.id)??S}return e&&await((_=c.storage)==null?void 0:_.removeItem(`${this.id}.disconnected`)),t.target||await((C=c.storage)==null?void 0:C.setItem(\"injected.connected\",!0)),{accounts:h?m.map(A=>({address:A,capabilities:{}})):m,chainId:S}}catch(S){const A=S;throw A.code===Yn.code?new Yn(A):A.code===Df.code?new Df(A):A}},async disconnect(){var d,h;const l=await this.getProvider();if(!l)throw new _u;s&&(l.removeListener(\"chainChanged\",s),s=void 0),a&&(l.removeListener(\"disconnect\",a),a=void 0),o||(o=this.onConnect.bind(this),l.on(\"connect\",o));try{await bN(()=>l.request({method:\"wallet_revokePermissions\",params:[{eth_accounts:{}}]}),{timeout:100})}catch{}e&&await((d=c.storage)==null?void 0:d.setItem(`${this.id}.disconnected`,!0)),t.target||await((h=c.storage)==null?void 0:h.removeItem(\"injected.connected\"))},async getAccounts(){const l=await this.getProvider();if(!l)throw new _u;return(await l.request({method:\"eth_accounts\"})).map(h=>Ys(h))},async getChainId(){const l=await this.getProvider();if(!l)throw new _u;const d=await l.request({method:\"eth_chainId\"});return Number(d)},async getProvider(){if(typeof window>\"u\")return;let l;const d=r();return typeof d.provider==\"function\"?l=d.provider(window):typeof d.provider==\"string\"?l=vE(window,d.provider):l=d.provider,l&&!l.removeListener&&(\"off\"in l&&typeof l.off==\"function\"?l.removeListener=l.off:l.removeListener=()=>{}),l},async isAuthorized(){var l,d;try{if(e&&await((l=c.storage)==null?void 0:l.getItem(`${this.id}.disconnected`))||!t.target&&!await((d=c.storage)==null?void 0:d.getItem(\"injected.connected\")))return!1;if(!await this.getProvider()){if(n!==void 0&&n!==!1){const b=async()=>(typeof window<\"u\"&&window.removeEventListener(\"ethereum#initialized\",b),!!await this.getProvider()),y=typeof n==\"number\"?n:1e3;if(await Promise.race([...typeof window<\"u\"?[new Promise(v=>window.addEventListener(\"ethereum#initialized\",()=>v(b()),{once:!0}))]:[],new Promise(v=>setTimeout(()=>v(b()),y))]))return!0}throw new _u}return!!(await z0(()=>this.getAccounts())).length}catch{return!1}},async switchChain({addEthereumChainParameter:l,chainId:d}){var b,y,E,v;const h=await this.getProvider();if(!h)throw new _u;const p=c.chains.find(_=>_.id===d);if(!p)throw new zu(new cv);const m=new Promise(_=>{const C=(S=>{\"chainId\"in S&&S.chainId===d&&(c.emitter.off(\"change\",C),_())});c.emitter.on(\"change\",C)});try{return await Promise.all([h.request({method:\"wallet_switchEthereumChain\",params:[{chainId:Oe(d)}]}).then(async()=>{await this.getChainId()===d&&c.emitter.emit(\"change\",{chainId:d})}),m]),p}catch(_){const C=_;if(C.code===4902||((y=(b=C==null?void 0:C.data)==null?void 0:b.originalError)==null?void 0:y.code)===4902)try{const{default:S,...A}=p.blockExplorers??{};let I;l!=null&&l.blockExplorerUrls?I=l.blockExplorerUrls:S&&(I=[S.url,...Object.values(A).map(N=>N.url)]);let O;(E=l==null?void 0:l.rpcUrls)!=null&&E.length?O=l.rpcUrls:O=[((v=p.rpcUrls.default)==null?void 0:v.http[0])??\"\"];const D={blockExplorerUrls:I,chainId:Oe(d),chainName:(l==null?void 0:l.chainName)??p.name,iconUrls:l==null?void 0:l.iconUrls,nativeCurrency:(l==null?void 0:l.nativeCurrency)??p.nativeCurrency,rpcUrls:O};return await Promise.all([h.request({method:\"wallet_addEthereumChain\",params:[D]}).then(async()=>{if(await this.getChainId()===d)c.emitter.emit(\"change\",{chainId:d});else throw new Yn(new Error(\"User rejected switch after adding network.\"))}),m]),p}catch(S){throw new Yn(S)}throw C.code===Yn.code?new Yn(C):new zu(C)}},async onAccountsChanged(l){var d;if(l.length===0)this.onDisconnect();else if(c.emitter.listenerCount(\"connect\")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h}),e&&await((d=c.storage)==null?void 0:d.removeItem(`${this.id}.disconnected`))}else c.emitter.emit(\"change\",{accounts:l.map(h=>Ys(h))})},onChainChanged(l){const d=Number(l);c.emitter.emit(\"change\",{chainId:d})},async onConnect(l){const d=await this.getAccounts();if(d.length===0)return;const h=Number(l.chainId);c.emitter.emit(\"connect\",{accounts:d,chainId:h});const p=await this.getProvider();p&&(o&&(p.removeListener(\"connect\",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),p.on(\"accountsChanged\",i)),s||(s=this.onChainChanged.bind(this),p.on(\"chainChanged\",s)),a||(a=this.onDisconnect.bind(this),p.on(\"disconnect\",a)))},async onDisconnect(l){const d=await this.getProvider();l&&l.code===1013&&d&&(await this.getAccounts()).length||(c.emitter.emit(\"disconnect\"),d&&(s&&(d.removeListener(\"chainChanged\",s),s=void 0),a&&(d.removeListener(\"disconnect\",a),a=void 0),o||(o=this.onConnect.bind(this),d.on(\"connect\",o))))}})}const qbe={coinbaseWallet:{id:\"coinbaseWallet\",name:\"Coinbase Wallet\",provider(t){return t!=null&&t.coinbaseWalletExtension?t.coinbaseWalletExtension:vE(t,\"isCoinbaseWallet\")}},metaMask:{id:\"metaMask\",name:\"MetaMask\",provider(t){return vE(t,e=>{if(!e.isMetaMask||e.isBraveWallet&&!e._events&&!e._state)return!1;const n=[\"isApexWallet\",\"isAvalanche\",\"isBitKeep\",\"isBlockWallet\",\"isKuCoinWallet\",\"isMathWallet\",\"isOkxWallet\",\"isOKExWallet\",\"isOneInchIOSWallet\",\"isOneInchAndroidWallet\",\"isOpera\",\"isPhantom\",\"isPortal\",\"isRabby\",\"isTokenPocket\",\"isTokenary\",\"isUniswapWallet\",\"isZerion\"];for(const r of n)if(e[r])return!1;return!0})}},phantom:{id:\"phantom\",name:\"Phantom\",provider(t){var e,n;return(e=t==null?void 0:t.phantom)!=null&&e.ethereum?(n=t.phantom)==null?void 0:n.ethereum:vE(t,\"isPhantom\")}}};function vE(t,e){function n(i){return typeof e==\"function\"?e(i):typeof e==\"string\"?i[e]:!0}const r=t.ethereum;if(r!=null&&r.providers)return r.providers.find(i=>n(i));if(r&&n(r))return r}function Hbe(t){if(typeof window>\"u\")return;const e=n=>t(n.detail);return window.addEventListener(\"eip6963:announceProvider\",e),window.dispatchEvent(new CustomEvent(\"eip6963:requestProvider\")),()=>window.removeEventListener(\"eip6963:announceProvider\",e)}function Vbe(){const t=new Set;let e=[];const n=()=>Hbe(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let r=n();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),r==null||r()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),r==null||r(),r=n()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}const Kbe=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(o,a,c)=>{let l=o;if(a){const d=(c==null?void 0:c.equalityFn)||Object.is;let h=o(r.getState());l=p=>{const m=o(p);if(!d(h,m)){const b=h;a(h=m,b)}},c!=null&&c.fireImmediately&&a(h,h)}return i(l)},t(e,n,r)},Wbe=Kbe;function Gbe(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=c=>c===null?null:JSON.parse(c,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const PI=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return PI(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return PI(r)(n)}}}},Zbe=(t,e)=>(n,r,i)=>{let s={storage:Gbe(()=>localStorage),partialize:y=>y,version:0,merge:(y,E)=>({...E,...y}),...e},o=!1;const a=new Set,c=new Set;let l=s.storage;if(!l)return t((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...y)},r,i);const d=()=>{const y=s.partialize({...r()});return l.setItem(s.name,{state:y,version:s.version})},h=i.setState;i.setState=(y,E)=>{h(y,E),d()};const p=t((...y)=>{n(...y),d()},r,i);i.getInitialState=()=>p;let m;const b=()=>{var y,E;if(!l)return;o=!1,a.forEach(_=>{var C;return _((C=r())!=null?C:p)});const v=((E=s.onRehydrateStorage)==null?void 0:E.call(s,(y=r())!=null?y:p))||void 0;return PI(l.getItem.bind(l))(s.name).then(_=>{if(_)if(typeof _.version==\"number\"&&_.version!==s.version){if(s.migrate)return[!0,s.migrate(_.state,_.version)];console.error(\"State loaded from storage couldn't be migrated since no migrate function was provided\")}else return[!1,_.state];return[!1,void 0]}).then(_=>{var C;const[S,A]=_;if(m=s.merge(A,(C=r())!=null?C:p),n(m,!0),S)return d()}).then(()=>{v==null||v(m,void 0),m=r(),o=!0,c.forEach(_=>_(m))}).catch(_=>{v==null||v(void 0,_)})};return i.persist={setOptions:y=>{s={...s,...y},y.storage&&(l=y.storage)},clearStorage:()=>{l==null||l.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>b(),hasHydrated:()=>o,onHydrate:y=>(a.add(y),()=>{a.delete(y)}),onFinishHydration:y=>(c.add(y),()=>{c.delete(y)})},s.skipHydration||b(),m||p},Ybe=Zbe,Ij=t=>{let e;const n=new Set,r=(l,d)=>{const h=typeof l==\"function\"?l(e):l;if(!Object.is(h,e)){const p=e;e=d??(typeof h!=\"object\"||h===null)?h:Object.assign({},e,h),n.forEach(m=>m(e,p))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>c,subscribe:l=>(n.add(l),()=>n.delete(l))},c=e=t(r,i,a);return a},wx=t=>t?Ij(t):Ij;var vx={exports:{}},Tj;function Jbe(){return Tj||(Tj=1,(function(t){var e=Object.prototype.hasOwnProperty,n=\"~\";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,l,d){this.fn=c,this.context=l,this.once=d||!1}function s(c,l,d,h,p){if(typeof d!=\"function\")throw new TypeError(\"The listener must be a function\");var m=new i(d,h||c,p),b=n?n+l:l;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],m]:c._events[b].push(m):(c._events[b]=m,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new r:delete c._events[l]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],d,h;if(this._eventsCount===0)return l;for(h in d=this._events)e.call(d,h)&&l.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(d)):l},a.prototype.listeners=function(l){var d=n?n+l:l,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var p=0,m=h.length,b=new Array(m);p<m;p++)b[p]=h[p].fn;return b},a.prototype.listenerCount=function(l){var d=n?n+l:l,h=this._events[d];return h?h.fn?1:h.length:0},a.prototype.emit=function(l,d,h,p,m,b){var y=n?n+l:l;if(!this._events[y])return!1;var E=this._events[y],v=arguments.length,_,C;if(E.fn){switch(E.once&&this.removeListener(l,E.fn,void 0,!0),v){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,d),!0;case 3:return E.fn.call(E.context,d,h),!0;case 4:return E.fn.call(E.context,d,h,p),!0;case 5:return E.fn.call(E.context,d,h,p,m),!0;case 6:return E.fn.call(E.context,d,h,p,m,b),!0}for(C=1,_=new Array(v-1);C<v;C++)_[C-1]=arguments[C];E.fn.apply(E.context,_)}else{var S=E.length,A;for(C=0;C<S;C++)switch(E[C].once&&this.removeListener(l,E[C].fn,void 0,!0),v){case 1:E[C].fn.call(E[C].context);break;case 2:E[C].fn.call(E[C].context,d);break;case 3:E[C].fn.call(E[C].context,d,h);break;case 4:E[C].fn.call(E[C].context,d,h,p);break;default:if(!_)for(A=1,_=new Array(v-1);A<v;A++)_[A-1]=arguments[A];E[C].fn.apply(E[C].context,_)}}return!0},a.prototype.on=function(l,d,h){return s(this,l,d,h,!1)},a.prototype.once=function(l,d,h){return s(this,l,d,h,!0)},a.prototype.removeListener=function(l,d,h,p){var m=n?n+l:l;if(!this._events[m])return this;if(!d)return o(this,m),this;var b=this._events[m];if(b.fn)b.fn===d&&(!p||b.once)&&(!h||b.context===h)&&o(this,m);else{for(var y=0,E=[],v=b.length;y<v;y++)(b[y].fn!==d||p&&!b[y].once||h&&b[y].context!==h)&&E.push(b[y]);E.length?this._events[m]=E.length===1?E[0]:E:o(this,m)}return this},a.prototype.removeAllListeners=function(l){var d;return l?(d=n?n+l:l,this._events[d]&&o(this,d)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(vx)),vx.exports}var Xbe=Jbe();const Qbe=ah(Xbe);let ewe=class{constructor(e){Object.defineProperty(this,\"uid\",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,\"_emitter\",{enumerable:!0,configurable:!0,writable:!0,value:new Qbe})}on(e,n){this._emitter.on(e,n)}once(e,n){this._emitter.once(e,n)}off(e,n){this._emitter.off(e,n)}emit(e,...n){const r=n[0];this._emitter.emit(e,{uid:this.uid,...r})}listenerCount(e){return this._emitter.listenerCount(e)}};function twe(t){return new ewe(t)}function nwe(t,e){return JSON.parse(t,(n,r)=>{let i=r;return(i==null?void 0:i.__type)===\"bigint\"&&(i=BigInt(i.value)),(i==null?void 0:i.__type)===\"Map\"&&(i=new Map(i.value)),(e==null?void 0:e(n,i))??i})}function Pj(t,e){return t.slice(0,e).join(\".\")||\".\"}function Oj(t,e){const{length:n}=t;for(let r=0;r<n;++r)if(t[r]===e)return r+1;return 0}function rwe(t,e){const n=typeof t==\"function\",r=typeof e==\"function\",i=[],s=[];return function(a,c){if(typeof c==\"object\")if(i.length){const l=Oj(i,this);l===0?i[i.length]=this:(i.splice(l),s.splice(l)),s[s.length]=a;const d=Oj(i,c);if(d!==0)return r?e.call(this,a,c,Pj(s,d)):`[ref=${Pj(s,d)}]`}else i[0]=c,s[0]=a;return n?t.call(this,a,c):c}}function iwe(t,e,n,r){return JSON.stringify(t,rwe((i,s)=>{let o=s;return typeof o==\"bigint\"&&(o={__type:\"bigint\",value:s.toString()}),o instanceof Map&&(o={__type:\"Map\",value:Array.from(s.entries())}),(e==null?void 0:e(i,o))??o},r),n??void 0)}function swe(t){const{deserialize:e=nwe,key:n=\"wagmi\",serialize:r=iwe,storage:i=SQ}=t;function s(o){return o instanceof Promise?o.then(a=>a).catch(()=>null):o}return{...i,key:n,async getItem(o,a){const c=i.getItem(`${n}.${o}`),l=await s(c);return l?e(l)??null:a??null},async setItem(o,a){const c=`${n}.${o}`;a===null?await s(i.removeItem(c)):await s(i.setItem(c,r(a)))},async removeItem(o){await s(i.removeItem(`${n}.${o}`))}}}const SQ={getItem:()=>null,setItem:()=>{},removeItem:()=>{}};function owe(){const t=typeof window<\"u\"&&window.localStorage?window.localStorage:SQ;return{getItem(e){return t.getItem(e)},removeItem(e){t.removeItem(e)},setItem(e,n){try{t.setItem(e,n)}catch{}}}}const OI=256;let o3=OI,a3;function awe(t=11){if(!a3||o3+t>OI*2){a3=\"\",o3=0;for(let e=0;e<OI;e++)a3+=(256+Math.random()*256|0).toString(16).substring(1)}return a3.substring(o3,o3+++t)}function cwe(t){const{multiInjectedProviderDiscovery:e=!0,storage:n=swe({storage:owe()}),syncConnectedChain:r=!0,ssr:i=!1,...s}=t,o=typeof window<\"u\"&&e?Vbe():void 0,a=wx(()=>s.chains),c=wx(()=>{const A=[],I=new Set;for(const O of s.connectors??[]){const D=l(O);if(A.push(D),!i&&D.rdns){const N=typeof D.rdns==\"string\"?[D.rdns]:D.rdns;for(const U of N)I.add(U)}}if(!i&&o){const O=o.getProviders();for(const D of O)I.has(D.info.rdns)||A.push(l(d(D)))}return A});function l(A){var D;const I=twe(awe()),O={...A({emitter:I,chains:a.getState(),storage:n,transports:s.transports}),emitter:I,uid:I.uid};return I.on(\"connect\",C),(D=O.setup)==null||D.call(O),O}function d(A){const{info:I}=A,O=A.provider;return x0({target:{...I,id:I.rdns,provider:O}})}const h=new Map;function p(A={}){const I=A.chainId??E.getState().chainId,O=a.getState().find(N=>N.id===I);if(A.chainId&&!O)throw new cv;{const N=h.get(E.getState().chainId);if(N&&!O)return N;if(!O)throw new cv}{const N=h.get(I);if(N)return N}let D;if(s.client)D=s.client({chain:O});else{const N=O.id,U=a.getState().map(V=>V.id),F={},H=Object.entries(s);for(const[V,M]of H)if(!(V===\"chains\"||V===\"client\"||V===\"connectors\"||V===\"transports\"))if(typeof M==\"object\")if(N in M)F[V]=M[N];else{if(U.some(P=>P in M))continue;F[V]=M}else F[V]=M;D=xX({...F,chain:O,batch:F.batch??{multicall:!0},transport:V=>s.transports[N]({...V,connectors:c})})}return h.set(I,D),D}function m(){return{chainId:a.getState()[0].id,connections:new Map,current:null,status:\"disconnected\"}}let b;const y=\"0.0.0-canary-\";wE.startsWith(y)?b=Number.parseInt(wE.replace(y,\"\"),10):b=Number.parseInt(wE.split(\".\")[0]??\"0\",10);const E=wx(Wbe(n?Ybe(m,{migrate(A,I){if(I===b)return A;const O=m(),D=v(A,O.chainId);return{...O,chainId:D}},name:\"store\",partialize(A){return{connections:{__type:\"Map\",value:Array.from(A.connections.entries()).map(([I,O])=>{const{id:D,name:N,type:U,uid:F}=O.connector;return[I,{...O,connector:{id:D,name:N,type:U,uid:F}}]})},chainId:A.chainId,current:A.current}},merge(A,I){typeof A==\"object\"&&A&&\"status\"in A&&delete A.status;const O=v(A,I.chainId);return{...I,...A,chainId:O}},skipHydration:i,storage:n,version:b}):m));E.setState(m());function v(A,I){return A&&typeof A==\"object\"&&\"chainId\"in A&&typeof A.chainId==\"number\"&&a.getState().some(O=>O.id===A.chainId)?A.chainId:I}r&&E.subscribe(({connections:A,current:I})=>{var O;return I?(O=A.get(I))==null?void 0:O.chainId:void 0},A=>{if(a.getState().some(O=>O.id===A))return E.setState(O=>({...O,chainId:A??O.chainId}))}),o==null||o.subscribe(A=>{const I=new Set,O=new Set;for(const N of c.getState())if(I.add(N.id),N.rdns){const U=typeof N.rdns==\"string\"?[N.rdns]:N.rdns;for(const F of U)O.add(F)}const D=[];for(const N of A){if(O.has(N.info.rdns))continue;const U=l(d(N));I.has(U.id)||D.push(U)}n&&!E.persist.hasHydrated()||c.setState(N=>[...N,...D],!0)});function _(A){E.setState(I=>{const O=I.connections.get(A.uid);return O?{...I,connections:new Map(I.connections).set(A.uid,{accounts:A.accounts??O.accounts,chainId:A.chainId??O.chainId,connector:O.connector})}:I})}function C(A){E.getState().status===\"connecting\"||E.getState().status===\"reconnecting\"||E.setState(I=>{const O=c.getState().find(D=>D.uid===A.uid);return O?(O.emitter.listenerCount(\"connect\")&&O.emitter.off(\"connect\",_),O.emitter.listenerCount(\"change\")||O.emitter.on(\"change\",_),O.emitter.listenerCount(\"disconnect\")||O.emitter.on(\"disconnect\",S),{...I,connections:new Map(I.connections).set(A.uid,{accounts:A.accounts,chainId:A.chainId,connector:O}),current:A.uid,status:\"connected\"}):I})}function S(A){E.setState(I=>{const O=I.connections.get(A.uid);if(O){const N=O.connector;N.emitter.listenerCount(\"change\")&&O.connector.emitter.off(\"change\",_),N.emitter.listenerCount(\"disconnect\")&&O.connector.emitter.off(\"disconnect\",S),N.emitter.listenerCount(\"connect\")||O.connector.emitter.on(\"connect\",C)}if(I.connections.delete(A.uid),I.connections.size===0)return{...I,connections:new Map,current:null,status:\"disconnected\"};const D=I.connections.values().next().value;return{...I,connections:new Map(I.connections),current:D.connector.uid}})}return{get chains(){return a.getState()},get connectors(){return c.getState()},storage:n,getClient:p,get state(){return E.getState()},setState(A){let I;typeof A==\"function\"?I=A(E.getState()):I=A;const O=m();typeof I!=\"object\"&&(I=O),Object.keys(O).some(N=>!(N in I))&&(I=O),E.setState(I,!0)},subscribe(A,I,O){return E.subscribe(A,I,O?{...O,fireImmediately:O.emitImmediately}:void 0)},_internal:{mipd:o,async revalidate(){const A=E.getState(),I=A.connections;let O=A.current;for(const[,D]of I){const N=D.connector;N.isAuthorized&&await N.isAuthorized()||(I.delete(N.uid),O===N.uid&&(O=null))}E.setState(D=>({...D,connections:I,current:O}))},store:E,ssr:!!i,syncConnectedChain:r,transports:s.transports,chains:{setState(A){const I=typeof A==\"function\"?A(a.getState()):A;if(I.length!==0)return a.setState(I,!0)},subscribe(A){return a.subscribe(A)}},connectors:{providerDetailToConnector:d,setup:l,setState(A){return c.setState(typeof A==\"function\"?A(c.getState()):A,!0)},subscribe(A){return c.subscribe(A)}},events:{change:_,connect:C,disconnect:S}}}}function xQ(t){var s,o,a;const{chain:e}=t,n=e.rpcUrls.default.http[0];if(!t.transports)return[n];const r=(o=(s=t.transports)==null?void 0:s[e.id])==null?void 0:o.call(s,{chain:e});return(((a=r==null?void 0:r.value)==null?void 0:a.transports)||[r]).map(({value:c})=>(c==null?void 0:c.url)||n)}const lwe={gasPriceOracle:{address:\"0x420000000000000000000000000000000000000F\"},l1Block:{address:\"0x4200000000000000000000000000000000000015\"},l2CrossDomainMessenger:{address:\"0x4200000000000000000000000000000000000007\"},l2Erc721Bridge:{address:\"0x4200000000000000000000000000000000000014\"},l2StandardBridge:{address:\"0x4200000000000000000000000000000000000010\"},l2ToL1MessagePasser:{address:\"0x4200000000000000000000000000000000000016\"}},uwe={block:Hpe({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r==\"string\")return r;const i=n_(r);return i.typeHex===\"0x7e\"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?di(r.mint):void 0,i.sourceHash=r.sourceHash,i.type=\"deposit\"),i}),stateRoot:t.stateRoot}}}),transaction:Fpe({format(t){const e={};return t.type===\"0x7e\"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?di(t.mint):void 0,e.sourceHash=t.sourceHash,e.type=\"deposit\"),e}}),transactionReceipt:s1e({format(t){return{l1GasPrice:t.l1GasPrice?di(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?di(t.l1GasUsed):null,l1Fee:t.l1Fee?di(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function dwe(t,e){return pwe(t)?hwe(t):F1e(t,e)}const fwe={transaction:dwe};function hwe(t){gwe(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=t,l=[e,r,a??\"0x\",o?ts(o):\"0x\",c?ts(c):\"0x\",i?ts(i):\"0x\",s?\"0x1\":\"0x\",n??\"0x\"];return Ac([\"0x7e\",Jf(l)])}function pwe(t){return t.type===\"deposit\"||typeof t.sourceHash<\"u\"}function gwe(t){const{from:e,to:n}=t;if(e&&!Vr(e))throw new Es({address:e});if(n&&!Vr(n))throw new Es({address:n})}const Nj={blockTime:2e3,contracts:lwe,formatters:uwe,serializers:fwe},kb=1,b8=fy({...Nj,id:8453,name:\"Base\",nativeCurrency:{name:\"Ether\",symbol:\"ETH\",decimals:18},rpcUrls:{default:{http:[\"https://mainnet.base.org\"]}},blockExplorers:{default:{name:\"Basescan\",url:\"https://basescan.org\",apiUrl:\"https://api.basescan.org/api\"}},contracts:{...Nj.contracts,disputeGameFactory:{[kb]:{address:\"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e\"}},l2OutputOracle:{[kb]:{address:\"0x56315b90c40730925ec5485cf004d835058518A0\"}},multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:5022},portal:{[kb]:{address:\"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e\",blockCreated:17482143}},l1StandardBridge:{[kb]:{address:\"0x3154Cf16ccdb4C6d922629664174b904d80F2C35\",blockCreated:17482143}}},sourceId:kb});({...b8});const NI=fy({id:56,name:\"BNB Smart Chain\",blockTime:750,nativeCurrency:{decimals:18,name:\"BNB\",symbol:\"BNB\"},rpcUrls:{default:{http:[\"https://56.rpc.thirdweb.com\"]}},blockExplorers:{default:{name:\"BscScan\",url:\"https://bscscan.com\",apiUrl:\"https://api.bscscan.com/api\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:15921452}}}),Rj=fy({id:97,name:\"BNB Smart Chain Testnet\",nativeCurrency:{decimals:18,name:\"BNB\",symbol:\"tBNB\"},rpcUrls:{default:{http:[\"https://data-seed-prebsc-1-s1.bnbchain.org:8545\"]}},blockExplorers:{default:{name:\"BscScan\",url:\"https://testnet.bscscan.com\",apiUrl:\"https://api-testnet.bscscan.com/api\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:17422483}},testnet:!0}),RI=fy({id:137,name:\"Polygon\",blockTime:2e3,nativeCurrency:{name:\"POL\",symbol:\"POL\",decimals:18},rpcUrls:{default:{http:[\"https://polygon-rpc.com\"]}},blockExplorers:{default:{name:\"PolygonScan\",url:\"https://polygonscan.com\",apiUrl:\"https://api.polygonscan.com/api\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:25770160}}}),kI=fy({id:1329,name:\"Sei Network\",nativeCurrency:{name:\"Sei\",symbol:\"SEI\",decimals:18},rpcUrls:{default:{http:[\"https://evm-rpc.sei-apis.com/\"],webSocket:[\"wss://evm-ws.sei-apis.com/\"]}},blockExplorers:{default:{name:\"Seitrace\",url:\"https://seitrace.com\",apiUrl:\"https://seitrace.com/pacific-1/api\"}},contracts:{multicall3:{address:\"0xcA11bde05977b3631167028862bE2a173976CA11\"}}});g_.type=\"metaMask\";function g_(t={}){let e,n,r,i,s,o,a,c;return l=>({id:\"metaMaskSDK\",name:\"MetaMask\",rdns:[\"io.metamask\",\"io.metamask.mobile\"],type:g_.type,async setup(){const d=await this.getProvider();d!=null&&d.on&&(o||(o=this.onConnect.bind(this),d.on(\"connect\",o)),i||(i=this.onAccountsChanged.bind(this),d.on(\"accountsChanged\",i)))},async connect({chainId:d,isReconnecting:h,withCapabilities:p}={}){const m=await this.getProvider();a||(a=this.onDisplayUri,m.on(\"display_uri\",a));let b=[];h&&(b=await this.getAccounts().catch(()=>[]));try{let y,E;b!=null&&b.length||(t.connectAndSign||t.connectWith?(t.connectAndSign?y=await e.connectAndSign({msg:t.connectAndSign}):t.connectWith&&(E=await e.connectWith({method:t.connectWith.method,params:t.connectWith.params})),b=await this.getAccounts()):b=(await e.connect()).map(C=>Ys(C)));let v=await this.getChainId();if(d&&v!==d){const _=await this.switchChain({chainId:d}).catch(C=>{if(C.code===Yn.code)throw C;return{id:v}});v=(_==null?void 0:_.id)??v}return a&&(m.removeListener(\"display_uri\",a),a=void 0),y?m.emit(\"connectAndSign\",{accounts:b,chainId:v,signResponse:y}):E&&m.emit(\"connectWith\",{accounts:b,chainId:v,connectWithResponse:E}),o&&(m.removeListener(\"connect\",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),m.on(\"accountsChanged\",i)),s||(s=this.onChainChanged.bind(this),m.on(\"chainChanged\",s)),c||(c=this.onDisconnect.bind(this),m.on(\"disconnect\",c)),{accounts:p?b.map(_=>({address:_,capabilities:{}})):b,chainId:v}}catch(y){const E=y;throw E.code===Yn.code?new Yn(E):E.code===Df.code?new Df(E):E}},async disconnect(){const d=await this.getProvider();s&&(d.removeListener(\"chainChanged\",s),s=void 0),c&&(d.removeListener(\"disconnect\",c),c=void 0),o||(o=this.onConnect.bind(this),d.on(\"connect\",o)),await e.terminate()},async getAccounts(){return(await(await this.getProvider()).request({method:\"eth_accounts\"})).map(p=>Ys(p))},async getChainId(){const d=await this.getProvider(),h=d.getChainId()||await(d==null?void 0:d.request({method:\"eth_chainId\"}));return Number(h)},async getProvider(){async function d(){var y,E,v,_,C;const h=await(async()=>{const{default:S}=await De(async()=>{const{default:A}=await Promise.resolve().then(()=>Zxe);return{default:A}},void 0,import.meta.url);return typeof S!=\"function\"&&typeof S.default==\"function\"?S.default:S})(),p={};for(const S of l.chains)p[Oe(S.id)]=(y=xQ({chain:S,transports:l.transports}))==null?void 0:y[0];e=new h({_source:\"wagmi\",forceDeleteProvider:!1,forceInjectProvider:!1,injectProvider:!1,...t,readonlyRPCMap:p,dappMetadata:{...t.dappMetadata,name:(E=t.dappMetadata)!=null&&E.name?(v=t.dappMetadata)==null?void 0:v.name:\"wagmi\",url:(_=t.dappMetadata)!=null&&_.url?(C=t.dappMetadata)==null?void 0:C.url:typeof window<\"u\"?window.location.origin:\"https://wagmi.sh\"},useDeeplink:t.useDeeplink??!0});const m=await e.init(),b=m!=null&&m.activeProvider?m.activeProvider:e.getProvider();if(!b)throw new _u;return b}return n||(r||(r=d()),n=await r),n},async isAuthorized(){try{return!!(await z0(()=>bN(()=>this.getAccounts(),{timeout:200}),{delay:201,retryCount:3})).length}catch{return!1}},async switchChain({addEthereumChainParameter:d,chainId:h}){var E,v;const p=await this.getProvider(),m=l.chains.find(_=>_.id===h);if(!m)throw new zu(new cv);try{return await p.request({method:\"wallet_switchEthereumChain\",params:[{chainId:Oe(h)}]}),await b(),await y(h),m}catch(_){const C=_;if(C.code===Yn.code)throw new Yn(C);if(C.code===4902||((v=(E=C==null?void 0:C.data)==null?void 0:E.originalError)==null?void 0:v.code)===4902)try{return await p.request({method:\"wallet_addEthereumChain\",params:[{blockExplorerUrls:(()=>{const{default:S,...A}=m.blockExplorers??{};if(d!=null&&d.blockExplorerUrls)return d.blockExplorerUrls;if(S)return[S.url,...Object.values(A).map(I=>I.url)]})(),chainId:Oe(h),chainName:(d==null?void 0:d.chainName)??m.name,iconUrls:d==null?void 0:d.iconUrls,nativeCurrency:(d==null?void 0:d.nativeCurrency)??m.nativeCurrency,rpcUrls:(()=>{var S,A;return(S=d==null?void 0:d.rpcUrls)!=null&&S.length?d.rpcUrls:[((A=m.rpcUrls.default)==null?void 0:A.http[0])??\"\"]})()}]}),await b(),await y(h),m}catch(S){const A=S;throw A.code===Yn.code?new Yn(A):new zu(A)}throw new zu(C)}async function b(){await z0(async()=>{const _=Bo(await p.request({method:\"eth_chainId\"}));if(_!==h)throw new Error(\"User rejected switch after adding network.\");return _},{delay:50,retryCount:20})}async function y(_){await new Promise(C=>{const S=(A=>{\"chainId\"in A&&A.chainId===_&&(l.emitter.off(\"change\",S),C())});l.emitter.on(\"change\",S),l.emitter.emit(\"change\",{chainId:_})})}},async onAccountsChanged(d){if(d.length===0)if(e.isExtensionActive())this.onDisconnect();else return;else if(l.emitter.listenerCount(\"connect\")){const h=(await this.getChainId()).toString();this.onConnect({chainId:h})}else l.emitter.emit(\"change\",{accounts:d.map(h=>Ys(h))})},onChainChanged(d){const h=Number(d);l.emitter.emit(\"change\",{chainId:h})},async onConnect(d){const h=await this.getAccounts();if(h.length===0)return;const p=Number(d.chainId);l.emitter.emit(\"connect\",{accounts:h,chainId:p});const m=await this.getProvider();o&&(m.removeListener(\"connect\",o),o=void 0),i||(i=this.onAccountsChanged.bind(this),m.on(\"accountsChanged\",i)),s||(s=this.onChainChanged.bind(this),m.on(\"chainChanged\",s)),c||(c=this.onDisconnect.bind(this),m.on(\"disconnect\",c))},async onDisconnect(d){const h=await this.getProvider();d&&d.code===1013&&h&&(await this.getAccounts()).length||(l.emitter.emit(\"disconnect\"),s&&(h.removeListener(\"chainChanged\",s),s=void 0),c&&(h.removeListener(\"disconnect\",c),c=void 0),o||(o=this.onConnect.bind(this),h.on(\"connect\",o)))},onDisplayUri(d){l.emitter.emit(\"message\",{type:\"display_uri\",data:d})}})}function Op(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function AQ(t,e){let n;const r=()=>{if(n)return n;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),n=Op(i),n.then(s=>{s.onclose=()=>n=void 0},()=>{}),n};return(i,s)=>r().then(o=>s(o.transaction(e,i).objectStore(e)))}let Ex;function U2(){return Ex||(Ex=AQ(\"keyval-store\",\"keyval\")),Ex}function kj(t,e=U2()){return e(\"readonly\",n=>Op(n.get(t)))}function mwe(t,e,n=U2()){return n(\"readwrite\",r=>(r.put(e,t),Op(r.transaction)))}function ywe(t,e=U2()){return e(\"readwrite\",n=>(n.delete(t),Op(n.transaction)))}function bwe(t=U2()){return t(\"readwrite\",e=>(e.clear(),Op(e.transaction)))}function wwe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Op(t.transaction)}function vwe(t=U2()){return t(\"readonly\",e=>{if(e.getAllKeys)return Op(e.getAllKeys());const n=[];return wwe(e,r=>n.push(r.key)).then(()=>n)})}m_.type=\"walletConnect\";function m_(t){const e=t.isNewChainsStale??!0;let n,r;const i=\"eip155\";let s,o,a,c,l,d;return h=>({id:\"walletConnect\",name:\"WalletConnect\",type:m_.type,async setup(){const p=await this.getProvider().catch(()=>null);p&&(a||(a=this.onConnect.bind(this),p.on(\"connect\",a)),l||(l=this.onSessionDelete.bind(this),p.on(\"session_delete\",l)))},async connect({chainId:p,withCapabilities:m,...b}={}){var y,E;try{const v=await this.getProvider();if(!v)throw new _u;c||(c=this.onDisplayUri,v.on(\"display_uri\",c));let _=p;if(!_){const I=await((y=h.storage)==null?void 0:y.getItem(\"state\"))??{};h.chains.some(D=>D.id===I.chainId)?_=I.chainId:_=(E=h.chains[0])==null?void 0:E.id}if(!_)throw new Error(\"No chains found on connector.\");const C=await this.isChainsStale();if(v.session&&C&&await v.disconnect(),!v.session||C){const I=h.chains.filter(O=>O.id!==_).map(O=>O.id);await v.connect({optionalChains:[_,...I],...\"pairingTopic\"in b?{pairingTopic:b.pairingTopic}:{}}),this.setRequestedChainsIds(h.chains.map(O=>O.id))}const S=(await v.enable()).map(I=>Ys(I));let A=await this.getChainId();if(p&&A!==p){const I=await this.switchChain({chainId:p}).catch(O=>{var D;if(O.code===Yn.code&&((D=O.cause)==null?void 0:D.message)!==\"Missing or invalid. request() method: wallet_addEthereumChain\")throw O;return{id:A}});A=(I==null?void 0:I.id)??A}return c&&(v.removeListener(\"display_uri\",c),c=void 0),a&&(v.removeListener(\"connect\",a),a=void 0),s||(s=this.onAccountsChanged.bind(this),v.on(\"accountsChanged\",s)),o||(o=this.onChainChanged.bind(this),v.on(\"chainChanged\",o)),d||(d=this.onDisconnect.bind(this),v.on(\"disconnect\",d)),l||(l=this.onSessionDelete.bind(this),v.on(\"session_delete\",l)),{accounts:m?S.map(I=>({address:I,capabilities:{}})):S,chainId:A}}catch(v){throw/(user rejected|connection request reset)/i.test(v==null?void 0:v.message)?new Yn(v):v}},async disconnect(){const p=await this.getProvider();try{await(p==null?void 0:p.disconnect())}catch(m){if(!/No matching key/i.test(m.message))throw m}finally{o&&(p==null||p.removeListener(\"chainChanged\",o),o=void 0),d&&(p==null||p.removeListener(\"disconnect\",d),d=void 0),a||(a=this.onConnect.bind(this),p==null||p.on(\"connect\",a)),s&&(p==null||p.removeListener(\"accountsChanged\",s),s=void 0),l&&(p==null||p.removeListener(\"session_delete\",l),l=void 0),this.setRequestedChainsIds([])}},async getAccounts(){return(await this.getProvider()).accounts.map(m=>Ys(m))},async getProvider({chainId:p}={}){var b;async function m(){const y=h.chains.map(v=>v.id);if(!y.length)return;const{EthereumProvider:E}=await De(async()=>{const{EthereumProvider:v}=await Promise.resolve().then(()=>LFe);return{EthereumProvider:v}},void 0,import.meta.url);return await E.init({...t,disableProviderPing:!0,optionalChains:y,projectId:t.projectId,rpcMap:Object.fromEntries(h.chains.map(v=>{const[_]=xQ({chain:v,transports:h.transports});return[v.id,_]})),showQrModal:t.showQrModal??!0})}return n||(r||(r=m()),n=await r,n==null||n.events.setMaxListeners(Number.POSITIVE_INFINITY)),p&&await((b=this.switchChain)==null?void 0:b.call(this,{chainId:p})),n},async getChainId(){return(await this.getProvider()).chainId},async isAuthorized(){try{const[p,m]=await Promise.all([this.getAccounts(),this.getProvider()]);return p.length?await this.isChainsStale()&&m.session?(await m.disconnect().catch(()=>{}),!1):!0:!1}catch{return!1}},async switchChain({addEthereumChainParameter:p,chainId:m}){var E,v,_;const b=await this.getProvider();if(!b)throw new _u;const y=h.chains.find(C=>C.id===m);if(!y)throw new zu(new cv);try{await Promise.all([new Promise(S=>{const A=({chainId:I})=>{I===m&&(h.emitter.off(\"change\",A),S())};h.emitter.on(\"change\",A)}),b.request({method:\"wallet_switchEthereumChain\",params:[{chainId:Oe(m)}]})]);const C=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...C,m]),y}catch(C){const S=C;if(/(user rejected)/i.test(S.message))throw new Yn(S);try{let A;p!=null&&p.blockExplorerUrls?A=p.blockExplorerUrls:A=(E=y.blockExplorers)!=null&&E.default.url?[(v=y.blockExplorers)==null?void 0:v.default.url]:[];let I;(_=p==null?void 0:p.rpcUrls)!=null&&_.length?I=p.rpcUrls:I=[...y.rpcUrls.default.http];const O={blockExplorerUrls:A,chainId:Oe(m),chainName:(p==null?void 0:p.chainName)??y.name,iconUrls:p==null?void 0:p.iconUrls,nativeCurrency:(p==null?void 0:p.nativeCurrency)??y.nativeCurrency,rpcUrls:I};await b.request({method:\"wallet_addEthereumChain\",params:[O]});const D=await this.getRequestedChainsIds();return this.setRequestedChainsIds([...D,m]),y}catch(A){throw new Yn(A)}}},onAccountsChanged(p){p.length===0?this.onDisconnect():h.emitter.emit(\"change\",{accounts:p.map(m=>Ys(m))})},onChainChanged(p){const m=Number(p);h.emitter.emit(\"change\",{chainId:m})},async onConnect(p){const m=Number(p.chainId),b=await this.getAccounts();h.emitter.emit(\"connect\",{accounts:b,chainId:m})},async onDisconnect(p){this.setRequestedChainsIds([]),h.emitter.emit(\"disconnect\");const m=await this.getProvider();s&&(m.removeListener(\"accountsChanged\",s),s=void 0),o&&(m.removeListener(\"chainChanged\",o),o=void 0),d&&(m.removeListener(\"disconnect\",d),d=void 0),l&&(m.removeListener(\"session_delete\",l),l=void 0),a||(a=this.onConnect.bind(this),m.on(\"connect\",a))},onDisplayUri(p){h.emitter.emit(\"message\",{type:\"display_uri\",data:p})},onSessionDelete(){this.onDisconnect()},getNamespaceChainsIds(){var m,b,y;return n?((y=(b=(m=n.session)==null?void 0:m.namespaces[i])==null?void 0:b.accounts)==null?void 0:y.map(E=>Number.parseInt(E.split(\":\")[1]||\"\",10)))??[]:[]},async getRequestedChainsIds(){var p;return await((p=h.storage)==null?void 0:p.getItem(this.requestedChainsStorageKey))??[]},async isChainsStale(){if(!e)return!1;const p=h.chains.map(y=>y.id),m=this.getNamespaceChainsIds();if(m.length&&!m.some(y=>p.includes(y)))return!1;const b=await this.getRequestedChainsIds();return!p.every(y=>b.includes(y))},async setRequestedChainsIds(p){var m;await((m=h.storage)==null?void 0:m.setItem(this.requestedChainsStorageKey,p))},get requestedChainsStorageKey(){return`${this.id}.requestedChains`}})}const zg=cwe({chains:[NI,b8,RI,kI,Rj],connectors:[g_(),m_({projectId:\"\"}),x0({shimDisconnect:!0,target:\"phantom\"})],transports:{[NI.id]:Ou(\"https://few-boldest-spring.bsc.quiknode.pro/ec468d8a1ea2c310457b2e2f4eea257e62ba3b1e/\"),[b8.id]:Ou(),[RI.id]:Ou(),[kI.id]:Ou(),[Rj.id]:Ou()}});function dh(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const $Q=\"2.38.5\";let Mb={getDocsUrl:({docsBaseUrl:t,docsPath:e=\"\",docsSlug:n})=>e?`${t??\"https://viem.sh\"}${e}${n?`#${n}`:\"\"}`:void 0,version:`viem@${$Q}`},Ae=class MI extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof MI?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof MI&&n.cause.docsPath||n.docsPath,s=(a=Mb.getDocsUrl)==null?void 0:a.call(Mb,{...n,docsPath:i}),o=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Mb.version?[`Version: ${Mb.version}`]:[]].join(`\n`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"BaseError\"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=$Q}walk(e){return IQ(this,e)}};function IQ(t,e){return e!=null&&e(t)?t:t&&typeof t==\"object\"&&\"cause\"in t&&t.cause!==void 0?IQ(t.cause,e):e?null:t}let TQ=class extends Ae{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \"${s}\" is not in safe ${i?`${i*8}-bit ${r?\"signed\":\"unsigned\"} `:\"\"}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:\"IntegerOutOfRangeError\"})}},Ewe=class extends Ae{constructor(e){super(`Bytes value \"${e}\" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:\"InvalidBytesBooleanError\"})}};class _we extends Ae{constructor(e){super(`Hex value \"${e}\" is not a valid boolean. The hex value must be \"0x0\" (false) or \"0x1\" (true).`,{name:\"InvalidHexBooleanError\"})}}let Cwe=class extends Ae{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:\"SizeOverflowError\"})}};function mc(t,{strict:e=!0}={}){return!t||typeof t!=\"string\"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith(\"0x\")}function sr(t){return mc(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function oc(t,{dir:e=\"left\"}={}){let n=typeof t==\"string\"?t.replace(\"0x\",\"\"):t,r=0;for(let i=0;i<n.length-1&&n[e===\"left\"?i:n.length-i-1].toString()===\"0\";i++)r++;return n=e===\"left\"?n.slice(r):n.slice(0,n.length-r),typeof t==\"string\"?(n.length===1&&e===\"right\"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}let PQ=class extends Ae{constructor({offset:e,position:n,size:r}){super(`Slice ${n===\"start\"?\"starting\":\"ending\"} at offset \"${e}\" is out-of-bounds (size: ${r}).`,{name:\"SliceOffsetOutOfBoundsError\"})}},OQ=class extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:\"SizeExceedsPaddingSizeError\"})}};class Mj extends Ae{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:\"InvalidBytesLengthError\"})}}function hy(t,{dir:e,size:n=32}={}){return typeof t==\"string\"?Bf(t,{dir:e,size:n}):Swe(t,{dir:e,size:n})}function Bf(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace(\"0x\",\"\");if(r.length>n*2)throw new OQ({size:Math.ceil(r.length/2),targetSize:n,type:\"hex\"});return`0x${r[e===\"right\"?\"padEnd\":\"padStart\"](n*2,\"0\")}`}function Swe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new OQ({size:t.length,targetSize:n,type:\"bytes\"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e===\"right\";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}const xwe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Do(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?je(t,e):typeof t==\"string\"?lv(t,e):typeof t==\"boolean\"?NQ(t,e):Mr(t,e)}function NQ(t,e={}){const n=`0x${Number(t)}`;return typeof e.size==\"number\"?($c(n,{size:e.size}),hy(n,{size:e.size})):n}function Mr(t,e={}){let n=\"\";for(let i=0;i<t.length;i++)n+=xwe[t[i]];const r=`0x${n}`;return typeof e.size==\"number\"?($c(r,{size:e.size}),hy(r,{dir:\"right\",size:e.size})):r}function je(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t==\"number\"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s==\"bigint\"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t==\"bigint\"?\"n\":\"\";throw new TQ({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?hy(a,{size:r}):a}const Awe=new TextEncoder;function lv(t,e={}){const n=Awe.encode(t);return Mr(n,e)}const $we=new TextEncoder;function Np(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?Twe(t,e):typeof t==\"boolean\"?Iwe(t,e):mc(t)?_l(t,e):A0(t,e)}function Iwe(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size==\"number\"?($c(n,{size:e.size}),hy(n,{size:e.size})):n}const ru={zero:48,nine:57,A:65,F:70,a:97,f:102};function Dj(t){if(t>=ru.zero&&t<=ru.nine)return t-ru.zero;if(t>=ru.A&&t<=ru.F)return t-(ru.A-10);if(t>=ru.a&&t<=ru.f)return t-(ru.a-10)}function _l(t,e={}){let n=t;e.size&&($c(n,{size:e.size}),n=hy(n,{dir:\"right\",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=Dj(r.charCodeAt(a++)),l=Dj(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new Ae(`Invalid byte sequence (\"${r[a-2]}${r[a-1]}\" in \"${r}\").`);s[o]=c*16+l}return s}function Twe(t,e){const n=je(t,e);return _l(n)}function A0(t,e={}){const n=$we.encode(t);return typeof e.size==\"number\"?($c(n,{size:e.size}),hy(n,{dir:\"right\",size:e.size})):n}function $c(t,{size:e}){if(sr(t)>e)throw new Cwe({givenSize:sr(t),maxSize:e})}function hs(t,e={}){const{signed:n}=e;e.size&&$c(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${\"f\".padStart(i*2,\"f\")}`)-1n}function Pwe(t,e={}){let n=t;if(e.size&&($c(n,{size:e.size}),n=oc(n)),oc(n)===\"0x00\")return!1;if(oc(n)===\"0x01\")return!0;throw new _we(n)}function Cl(t,e={}){return Number(hs(t,e))}function ON(t,e){return({exclude:n,format:r})=>({exclude:n,format:(i,s)=>{const o=e(i,s);if(n)for(const a of n)delete o[a];return{...o,...r(i,s)}},type:t})}const RQ={\"0x0\":\"legacy\",\"0x1\":\"eip2930\",\"0x2\":\"eip1559\",\"0x3\":\"eip4844\",\"0x4\":\"eip7702\"};function y_(t,e){const n={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Cl(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Cl(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?RQ[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(n.authorizationList=Nwe(t.authorizationList)),n.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof n.v==\"bigint\"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type===\"legacy\"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type===\"eip2930\"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type===\"eip1559\"&&delete n.maxFeePerBlobGas,n}const Owe=ON(\"transaction\",y_);function Nwe(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function NN(t,e){const n=(t.transactions??[]).map(r=>typeof r==\"string\"?r:y_(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:n,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Rwe=ON(\"block\",NN);function td(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}const kwe={\"0x0\":\"reverted\",\"0x1\":\"success\"};function RN(t,e){const n={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>td(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Cl(t.transactionIndex):null,status:t.status?kwe[t.status]:null,type:t.type?RQ[t.type]||t.type:null};return t.blobGasPrice&&(n.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(n.blobGasUsed=BigInt(t.blobGasUsed)),n}const Mwe=ON(\"transactionReceipt\",RN),Dwe={legacy:\"0x0\",eip2930:\"0x1\",eip1559:\"0x2\",eip4844:\"0x3\",eip7702:\"0x4\"};function b_(t,e){const n={};return typeof t.authorizationList<\"u\"&&(n.authorizationList=Bwe(t.authorizationList)),typeof t.accessList<\"u\"&&(n.accessList=t.accessList),typeof t.blobVersionedHashes<\"u\"&&(n.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<\"u\"&&(typeof t.blobs[0]!=\"string\"?n.blobs=t.blobs.map(r=>Mr(r)):n.blobs=t.blobs),typeof t.data<\"u\"&&(n.data=t.data),t.account&&(n.from=t.account.address),typeof t.from<\"u\"&&(n.from=t.from),typeof t.gas<\"u\"&&(n.gas=je(t.gas)),typeof t.gasPrice<\"u\"&&(n.gasPrice=je(t.gasPrice)),typeof t.maxFeePerBlobGas<\"u\"&&(n.maxFeePerBlobGas=je(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<\"u\"&&(n.maxFeePerGas=je(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<\"u\"&&(n.maxPriorityFeePerGas=je(t.maxPriorityFeePerGas)),typeof t.nonce<\"u\"&&(n.nonce=je(t.nonce)),typeof t.to<\"u\"&&(n.to=t.to),typeof t.type<\"u\"&&(n.type=Dwe[t.type]),typeof t.value<\"u\"&&(n.value=je(t.value)),n}function Bwe(t){return t.map(e=>({address:e.address,r:e.r?je(BigInt(e.r)):e.r,s:e.s?je(BigInt(e.s)):e.s,chainId:je(e.chainId),nonce:je(e.nonce),...typeof e.yParity<\"u\"?{yParity:je(e.yParity)}:{},...typeof e.v<\"u\"&&typeof e.yParity>\"u\"?{v:je(e.v)}:{}}))}const w_=2n**256n-1n;function yc(t){return typeof t[0]==\"string\"?Ic(t):Lwe(t)}function Lwe(t){let e=0;for(const i of t)e+=i.length;const n=new Uint8Array(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ic(t){return`0x${t.reduce((e,n)=>e+n.replace(\"0x\",\"\"),\"\")}`}let Bj=class extends Ae{constructor({offset:e}){super(`Offset \\`${e}\\` cannot be negative.`,{name:\"NegativeOffsetError\"})}},kQ=class extends Ae{constructor({length:e,position:n}){super(`Position \\`${n}\\` is out of bounds (\\`0 < position < ${e}\\`).`,{name:\"PositionOutOfBoundsError\"})}},Uwe=class extends Ae{constructor({count:e,limit:n}){super(`Recursive read limit of \\`${n}\\` exceeded (recursive read count: \\`${e}\\`).`,{name:\"RecursiveReadLimitExceededError\"})}};const jwe={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Uwe({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new kQ({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Bj({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Bj({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function kN(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(jwe);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function Xf(t,e=\"hex\"){const n=MQ(t),r=kN(new Uint8Array(n.length));return n.encode(r),e===\"hex\"?Mr(r.bytes):r.bytes}function MQ(t){return Array.isArray(t)?zwe(t.map(e=>MQ(e))):Fwe(t)}function zwe(t){const e=t.reduce((i,s)=>i+s.length,0),n=DQ(e);return{length:e<=55?1+e:1+n+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+n),n===1?i.pushUint8(e):n===2?i.pushUint16(e):n===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Fwe(t){const e=typeof t==\"string\"?_l(t):t,n=DQ(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+n),n===1?i.pushUint8(e.length):n===2?i.pushUint16(e.length):n===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function DQ(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ae(\"Length is too large.\")}const qwe={gwei:9,wei:18},Hwe={ether:-9,wei:9};function BQ(t,e){let n=t.toString();const r=n.startsWith(\"-\");r&&(n=n.slice(1)),n=n.padStart(e,\"0\");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,\"\"),`${r?\"-\":\"\"}${i||\"0\"}${s?`.${s}`:\"\"}`}function LQ(t,e=\"wei\"){return BQ(t,qwe[e])}function ac(t,e=\"wei\"){return BQ(t,Hwe[e])}function v_(t){const e=Object.entries(t).map(([r,i])=>i===void 0||i===!1?null:[r,i]).filter(Boolean),n=e.reduce((r,[i])=>Math.max(r,i.length),0);return e.map(([r,i])=>`  ${`${r}:`.padEnd(n+1)}  ${i}`).join(`\n`)}class Vwe extends Ae{constructor(){super([\"Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.\",\"Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others.\"].join(`\n`),{name:\"FeeConflictError\"})}}class Kwe extends Ae{constructor({v:e}){super(`Invalid \\`v\\` value \"${e}\". Expected 27 or 28.`,{name:\"InvalidLegacyVError\"})}}class Wwe extends Ae{constructor({transaction:e}){super(\"Cannot infer a transaction type from provided transaction.\",{metaMessages:[\"Provided Transaction:\",\"{\",v_(e),\"}\",\"\",\"To infer the type, either provide:\",\"- a `type` to the Transaction, or\",\"- an EIP-1559 Transaction with `maxFeePerGas`, or\",\"- an EIP-2930 Transaction with `gasPrice` & `accessList`, or\",\"- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or\",\"- an EIP-7702 Transaction with `authorizationList`, or\",\"- a Legacy Transaction with `gasPrice`\"],name:\"InvalidSerializableTransactionError\"})}}class Gwe extends Ae{constructor({storageKey:e}){super(`Size for storage key \"${e}\" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:\"InvalidStorageKeySizeError\"})}}class UQ extends Ae{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){let o=\"Transaction\";r&&s!==void 0&&(o=`Transaction at block time \"${r}\" at index \"${s}\"`),e&&s!==void 0&&(o=`Transaction at block hash \"${e}\" at index \"${s}\"`),n&&s!==void 0&&(o=`Transaction at block number \"${n}\" at index \"${s}\"`),i&&(o=`Transaction with hash \"${i}\"`),super(`${o} could not be found.`,{name:\"TransactionNotFoundError\"})}}class jQ extends Ae{constructor({hash:e}){super(`Transaction receipt with hash \"${e}\" could not be found. The Transaction may not be processed on a block yet.`,{name:\"TransactionReceiptNotFoundError\"})}}class Zwe extends Ae{constructor({receipt:e}){super(`Transaction with hash \"${e.transactionHash}\" reverted.`,{metaMessages:['The receipt marked the transaction as \"reverted\". This could mean that the function on the contract you are trying to call threw an error.',\" \",\"You can attempt to extract the revert reason by:\",\"- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract\",\"- using the `call` Action with raw `data`\"],name:\"TransactionReceiptRevertedError\"}),Object.defineProperty(this,\"receipt\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=e}}class Ywe extends Ae{constructor({hash:e}){super(`Timed out while waiting for transaction with hash \"${e}\" to be confirmed.`,{name:\"WaitForTransactionReceiptTimeoutError\"})}}function Jwe(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:i,...s}=n,o=n.address;e.push([r?Do(r):\"0x\",o,i?Do(i):\"0x\",...j2({},s)])}return e}function MN(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]==\"string\"?\"hex\":\"bytes\"),r=typeof t.blobs[0]==\"string\"?t.blobs.map(s=>_l(s)):t.blobs,i=[];for(const s of r)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return n===\"bytes\"?i:i.map(s=>Mr(s))}function DN(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]==\"string\"?\"hex\":\"bytes\"),r=typeof t.blobs[0]==\"string\"?t.blobs.map(o=>_l(o)):t.blobs,i=typeof t.commitments[0]==\"string\"?t.commitments.map(o=>_l(o)):t.commitments,s=[];for(let o=0;o<r.length;o++){const a=r[o],c=i[o];s.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n===\"bytes\"?s:s.map(o=>Mr(o))}function Xwe(t,e){return UJ(mc(t,{strict:!1})?Np(t):t)}function Qwe(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e==\"string\"?\"hex\":\"bytes\"),i=Xwe(e);return i.set([n],0),r===\"bytes\"?i:Mr(i)}function zQ(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]==\"string\"?\"hex\":\"bytes\"),i=[];for(const s of e)i.push(Qwe({commitment:s,to:r,version:n}));return i}const Lj=6,FQ=32,BN=4096,qQ=FQ*BN,Uj=qQ*Lj-1-1*BN*Lj,HQ=1;class eve extends Ae{constructor({maxSize:e,size:n}){super(\"Blob size is too large.\",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:\"BlobSizeTooLargeError\"})}}class VQ extends Ae{constructor(){super(\"Blob data must not be empty.\",{name:\"EmptyBlobError\"})}}class tve extends Ae{constructor({hash:e,size:n}){super(`Versioned hash \"${e}\" size is invalid.`,{metaMessages:[\"Expected: 32\",`Received: ${n}`],name:\"InvalidVersionedHashSizeError\"})}}class nve extends Ae{constructor({hash:e,version:n}){super(`Versioned hash \"${e}\" version is invalid.`,{metaMessages:[`Expected: ${HQ}`,`Received: ${n}`],name:\"InvalidVersionedHashVersionError\"})}}function rve(t){const e=t.to??(typeof t.data==\"string\"?\"hex\":\"bytes\"),n=typeof t.data==\"string\"?_l(t.data):t.data,r=sr(n);if(!r)throw new VQ;if(r>Uj)throw new eve({maxSize:Uj,size:r});const i=[];let s=!0,o=0;for(;s;){const a=kN(new Uint8Array(qQ));let c=0;for(;c<BN;){const l=n.slice(o,o+(FQ-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),s=!1;break}c++,o+=31}i.push(a)}return e===\"bytes\"?i.map(a=>a.bytes):i.map(a=>Mr(a.bytes))}function KQ(t){const{data:e,kzg:n,to:r}=t,i=t.blobs??rve({data:e,to:r}),s=t.commitments??MN({blobs:i,kzg:n,to:r}),o=t.proofs??DN({blobs:i,commitments:s,kzg:n,to:r}),a=[];for(let c=0;c<i.length;c++)a.push({blob:i[c],commitment:s[c],proof:o[c]});return a}let _s=class extends Ae{constructor({address:e}){super(`Address \"${e}\" is invalid.`,{metaMessages:[\"- Address must be a hex value of 20 bytes (40 hex characters).\",\"- Address must match its checksum counterpart.\"],name:\"InvalidAddressError\"})}};class DI extends Ae{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain \"${n.name}\" does not support contract \"${r.name}\".`,{metaMessages:[\"This could be due to any of the following:\",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract \"${r.name}\" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract \"${r.name}\" configured.`]],name:\"ChainDoesNotSupportContract\"})}}class WQ extends Ae{constructor(){super(\"No chain was provided to the Client.\",{name:\"ClientChainNotConfiguredError\"})}}class E_ extends Ae{constructor({chainId:e}){super(typeof e==\"number\"?`Chain ID \"${e}\" is invalid.`:\"Chain ID is invalid.\",{name:\"InvalidChainIdError\"})}}class q1 extends Ae{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace(\"execution reverted: \",\"\"))==null?void 0:i.replace(\"execution reverted\",\"\");super(`Execution reverted ${r?`with reason: ${r}`:\"for an unknown reason\"}.`,{cause:e,name:\"ExecutionRevertedError\"})}}Object.defineProperty(q1,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(q1,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class q0 extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\\`maxFeePerGas\\`${n?` = ${ac(n)} gwei`:\"\"}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:\"FeeCapTooHighError\"})}}Object.defineProperty(q0,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\\^256-1|fee cap higher than 2\\^256-1/});class BI extends Ae{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\\`maxFeePerGas\\`${n?` = ${ac(n)}`:\"\"} gwei) cannot be lower than the block base fee.`,{cause:e,name:\"FeeCapTooLowError\"})}}Object.defineProperty(BI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class LI extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:\"\"}is higher than the next one expected.`,{cause:e,name:\"NonceTooHighError\"})}}Object.defineProperty(LI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class UI extends Ae{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:\"\"}is lower than the current nonce of the account.`,\"Try increasing the nonce or find the latest nonce with `getTransactionCount`.\"].join(`\n`),{cause:e,name:\"NonceTooLowError\"})}}Object.defineProperty(UI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class jI extends Ae{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:\"\"}exceeds the maximum allowed nonce.`,{cause:e,name:\"NonceMaxValueError\"})}}Object.defineProperty(jI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class zI extends Ae{constructor({cause:e}={}){super([\"The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.\"].join(`\n`),{cause:e,metaMessages:[\"This error could arise when the account does not have enough funds to:\",\" - pay for the total gas fee,\",\" - pay for the value to send.\",\" \",\"The cost of the transaction is calculated as `gas * gas fee + value`, where:\",\" - `gas` is the amount of gas needed for transaction to execute,\",\" - `gas fee` is the gas fee,\",\" - `value` is the amount of ether to send to the recipient.\"],name:\"InsufficientFundsError\"})}}Object.defineProperty(zI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class FI extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:\"\"}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:\"IntrinsicGasTooHighError\"})}}Object.defineProperty(FI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qI extends Ae{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:\"\"}provided for the transaction is too low.`,{cause:e,name:\"IntrinsicGasTooLowError\"})}}Object.defineProperty(qI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class HI extends Ae{constructor({cause:e}){super(\"The transaction type is not supported for this chain.\",{cause:e,name:\"TransactionTypeNotSupportedError\"})}}Object.defineProperty(HI,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class uv extends Ae{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\\`maxPriorityFeePerGas\\`${n?` = ${ac(n)} gwei`:\"\"}) cannot be higher than the fee cap (\\`maxFeePerGas\\`${r?` = ${ac(r)} gwei`:\"\"}).`].join(`\n`),{cause:e,name:\"TipAboveFeeCapError\"})}}Object.defineProperty(uv,\"nodeMessage\",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class __ extends Ae{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:\"UnknownNodeError\"})}}let LN=class extends Map{constructor(e){super(),Object.defineProperty(this,\"maxSize\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};function pi(t,e){const n=e||\"hex\",r=Z4(mc(t,{strict:!1})?Np(t):t);return n===\"bytes\"?r:Do(r)}const _x=new LN(8192);function C_(t,e){if(_x.has(`${t}.${e}`))return _x.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=pi(A0(n),\"bytes\"),i=n.split(\"\");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join(\"\")}`;return _x.set(`${t}.${e}`,s),s}function GQ(t,e){if(!Kr(t,{strict:!1}))throw new _s({address:t});return C_(t,e)}const ive=/^0x[a-fA-F0-9]{40}$/,Cx=new LN(8192);function Kr(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Cx.has(r))return Cx.get(r);const i=ive.test(t)?t.toLowerCase()===t?!0:n?C_(t)===t:!0:!1;return Cx.set(r,i),i}function H0(t,e,n,{strict:r}={}){return mc(t,{strict:!1})?sve(t,e,n,{strict:r}):JQ(t,e,n,{strict:r})}function ZQ(t,e){if(typeof e==\"number\"&&e>0&&e>sr(t)-1)throw new PQ({offset:e,position:\"start\",size:sr(t)})}function YQ(t,e,n){if(typeof e==\"number\"&&typeof n==\"number\"&&sr(t)!==n-e)throw new PQ({offset:n,position:\"end\",size:sr(t)})}function JQ(t,e,n,{strict:r}={}){ZQ(t,e);const i=t.slice(e,n);return r&&YQ(i,e,n),i}function sve(t,e,n,{strict:r}={}){ZQ(t,e);const i=`0x${t.replace(\"0x\",\"\").slice((e??0)*2,(n??t.length)*2)}`;return r&&YQ(i,e,n),i}function ove(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,i=n.address;if(!Kr(i))throw new _s({address:i});if(r<0)throw new E_({chainId:r})}UN(t)}function ave(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new VQ;for(const n of e){const r=sr(n),i=Cl(H0(n,0,1));if(r!==32)throw new tve({hash:n,size:r});if(i!==HQ)throw new nve({hash:n,version:i})}}UN(t)}function UN(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:i}=t;if(e<=0)throw new E_({chainId:e});if(i&&!Kr(i))throw new _s({address:i});if(r&&r>w_)throw new q0({maxFeePerGas:r});if(n&&r&&n>r)throw new uv({maxFeePerGas:r,maxPriorityFeePerGas:n})}function cve(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(e<=0)throw new E_({chainId:e});if(s&&!Kr(s))throw new _s({address:s});if(n||i)throw new Ae(\"`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.\");if(r&&r>w_)throw new q0({maxFeePerGas:r})}function lve(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:i,to:s}=t;if(s&&!Kr(s))throw new _s({address:s});if(typeof e<\"u\"&&e<=0)throw new E_({chainId:e});if(n||i)throw new Ae(\"`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.\");if(r&&r>w_)throw new q0({maxFeePerGas:r})}function XQ(t){if(t.type)return t.type;if(typeof t.authorizationList<\"u\")return\"eip7702\";if(typeof t.blobs<\"u\"||typeof t.blobVersionedHashes<\"u\"||typeof t.maxFeePerBlobGas<\"u\"||typeof t.sidecars<\"u\")return\"eip4844\";if(typeof t.maxFeePerGas<\"u\"||typeof t.maxPriorityFeePerGas<\"u\")return\"eip1559\";if(typeof t.gasPrice<\"u\")return typeof t.accessList<\"u\"?\"eip2930\":\"legacy\";throw new Wwe({transaction:t})}function S_(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:i}=t[n];for(let s=0;s<i.length;s++)if(i[s].length-2!==64)throw new Gwe({storageKey:i[s]});if(!Kr(r,{strict:!1}))throw new _s({address:r});e.push([r,i])}return e}function uve(t,e){const n=XQ(t);return n===\"eip1559\"?hve(t,e):n===\"eip2930\"?pve(t,e):n===\"eip4844\"?fve(t,e):n===\"eip7702\"?dve(t,e):gve(t,e)}function dve(t,e){const{authorizationList:n,chainId:r,gas:i,nonce:s,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:h}=t;ove(t);const p=S_(d),m=Jwe(n);return Ic([\"0x04\",Xf([je(r),s?je(s):\"0x\",l?je(l):\"0x\",c?je(c):\"0x\",i?je(i):\"0x\",o??\"0x\",a?je(a):\"0x\",h??\"0x\",p,m,...j2(t,e)])])}function fve(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:d,data:h}=t;ave(t);let p=t.blobVersionedHashes,m=t.sidecars;if(t.blobs&&(typeof p>\"u\"||typeof m>\"u\")){const C=typeof t.blobs[0]==\"string\"?t.blobs:t.blobs.map(I=>Mr(I)),S=t.kzg,A=MN({blobs:C,kzg:S});if(typeof p>\"u\"&&(p=zQ({commitments:A})),typeof m>\"u\"){const I=DN({blobs:C,commitments:A,kzg:S});m=KQ({blobs:C,commitments:A,proofs:I})}}const b=S_(d),y=[je(n),i?je(i):\"0x\",l?je(l):\"0x\",c?je(c):\"0x\",r?je(r):\"0x\",s??\"0x\",o?je(o):\"0x\",h??\"0x\",b,a?je(a):\"0x\",p??[],...j2(t,e)],E=[],v=[],_=[];if(m)for(let C=0;C<m.length;C++){const{blob:S,commitment:A,proof:I}=m[C];E.push(S),v.push(A),_.push(I)}return Ic([\"0x03\",Xf(m?[y,E,v,_]:y)])}function hve(t,e){const{chainId:n,gas:r,nonce:i,to:s,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:l,data:d}=t;UN(t);const h=S_(l),p=[je(n),i?je(i):\"0x\",c?je(c):\"0x\",a?je(a):\"0x\",r?je(r):\"0x\",s??\"0x\",o?je(o):\"0x\",d??\"0x\",h,...j2(t,e)];return Ic([\"0x02\",Xf(p)])}function pve(t,e){const{chainId:n,gas:r,data:i,nonce:s,to:o,value:a,accessList:c,gasPrice:l}=t;cve(t);const d=S_(c),h=[je(n),s?je(s):\"0x\",l?je(l):\"0x\",r?je(r):\"0x\",o??\"0x\",a?je(a):\"0x\",i??\"0x\",d,...j2(t,e)];return Ic([\"0x01\",Xf(h)])}function gve(t,e){const{chainId:n=0,gas:r,data:i,nonce:s,to:o,value:a,gasPrice:c}=t;lve(t);let l=[s?je(s):\"0x\",c?je(c):\"0x\",r?je(r):\"0x\",o??\"0x\",a?je(a):\"0x\",i??\"0x\"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const m=27n+(e.v===27n?0n:1n);if(e.v!==m)throw new Kwe({v:e.v});return m})(),h=oc(e.r),p=oc(e.s);l=[...l,je(d),h===\"0x00\"?\"0x\":h,p===\"0x00\"?\"0x\":p]}else n>0&&(l=[...l,je(n),\"0x\",\"0x\"]);return Xf(l)}function j2(t,e){const n=e??t,{v:r,yParity:i}=n;if(typeof n.r>\"u\")return[];if(typeof n.s>\"u\")return[];if(typeof r>\"u\"&&typeof i>\"u\")return[];const s=oc(n.r),o=oc(n.s);return[typeof i==\"number\"?i?je(1):\"0x\":r===0n?\"0x\":r===1n?je(1):r===27n?\"0x\":je(1),s===\"0x00\"?\"0x\":s,o===\"0x00\"?\"0x\":o]}const mve={gasPriceOracle:{address:\"0x420000000000000000000000000000000000000F\"},l1Block:{address:\"0x4200000000000000000000000000000000000015\"},l2CrossDomainMessenger:{address:\"0x4200000000000000000000000000000000000007\"},l2Erc721Bridge:{address:\"0x4200000000000000000000000000000000000014\"},l2StandardBridge:{address:\"0x4200000000000000000000000000000000000010\"},l2ToL1MessagePasser:{address:\"0x4200000000000000000000000000000000000016\"}},yve={block:Rwe({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>{if(typeof r==\"string\")return r;const i=y_(r);return i.typeHex===\"0x7e\"&&(i.isSystemTx=r.isSystemTx,i.mint=r.mint?hs(r.mint):void 0,i.sourceHash=r.sourceHash,i.type=\"deposit\"),i}),stateRoot:t.stateRoot}}}),transaction:Owe({format(t){const e={};return t.type===\"0x7e\"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?hs(t.mint):void 0,e.sourceHash=t.sourceHash,e.type=\"deposit\"),e}}),transactionReceipt:Mwe({format(t){return{l1GasPrice:t.l1GasPrice?hs(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?hs(t.l1GasUsed):null,l1Fee:t.l1Fee?hs(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function bve(t,e){return Eve(t)?vve(t):uve(t,e)}const wve={transaction:bve};function vve(t){_ve(t);const{sourceHash:e,data:n,from:r,gas:i,isSystemTx:s,mint:o,to:a,value:c}=t,l=[e,r,a??\"0x\",o?Do(o):\"0x\",c?Do(c):\"0x\",i?Do(i):\"0x\",s?\"0x1\":\"0x\",n??\"0x\"];return Ic([\"0x7e\",Xf(l)])}function Eve(t){return t.type===\"deposit\"||typeof t.sourceHash<\"u\"}function _ve(t){const{from:e,to:n}=t;if(e&&!Kr(e))throw new _s({address:e});if(n&&!Kr(n))throw new _s({address:n})}const jj={blockTime:2e3,contracts:mve,formatters:yve,serializers:wve},Cve=dh({id:43114,name:\"Avalanche\",blockTime:1700,nativeCurrency:{decimals:18,name:\"Avalanche\",symbol:\"AVAX\"},rpcUrls:{default:{http:[\"https://api.avax.network/ext/bc/C/rpc\"]}},blockExplorers:{default:{name:\"SnowTrace\",url:\"https://snowtrace.io\",apiUrl:\"https://api.snowtrace.io\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:11907934}}}),Db=1,jN=dh({...jj,id:8453,name:\"Base\",nativeCurrency:{name:\"Ether\",symbol:\"ETH\",decimals:18},rpcUrls:{default:{http:[\"https://mainnet.base.org\"]}},blockExplorers:{default:{name:\"Basescan\",url:\"https://basescan.org\",apiUrl:\"https://api.basescan.org/api\"}},contracts:{...jj.contracts,disputeGameFactory:{[Db]:{address:\"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e\"}},l2OutputOracle:{[Db]:{address:\"0x56315b90c40730925ec5485cf004d835058518A0\"}},multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:5022},portal:{[Db]:{address:\"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e\",blockCreated:17482143}},l1StandardBridge:{[Db]:{address:\"0x3154Cf16ccdb4C6d922629664174b904d80F2C35\",blockCreated:17482143}}},sourceId:Db});({...jN});const QQ=dh({id:56,name:\"BNB Smart Chain\",blockTime:750,nativeCurrency:{decimals:18,name:\"BNB\",symbol:\"BNB\"},rpcUrls:{default:{http:[\"https://56.rpc.thirdweb.com\"]}},blockExplorers:{default:{name:\"BscScan\",url:\"https://bscscan.com\",apiUrl:\"https://api.bscscan.com/api\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:15921452}}});function py({blockNumber:t,chain:e,contract:n}){var i;const r=(i=e==null?void 0:e.contracts)==null?void 0:i[n];if(!r)throw new DI({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new DI({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}const Sve=dh({id:4689,name:\"IoTeX\",nativeCurrency:{decimals:18,name:\"IoTeX\",symbol:\"IOTX\"},rpcUrls:{default:{http:[\"https://babel-api.mainnet.iotex.io\"],webSocket:[\"wss://babel-api.mainnet.iotex.io\"]}},blockExplorers:{default:{name:\"IoTeXScan\",url:\"https://iotexscan.io\"}},contracts:{multicall3:{address:\"0xcA11bde05977b3631167028862bE2a173976CA11\",blockCreated:22163670}}});function Tc(t){return typeof t==\"string\"?{address:t,type:\"json-rpc\"}:t}const xve={1:\"An `assert` condition failed.\",17:\"Arithmetic operation resulted in underflow or overflow.\",18:\"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).\",33:\"Attempted to convert to an invalid type.\",34:\"Attempted to access a storage byte array that is incorrectly encoded.\",49:\"Performed `.pop()` on an empty array\",50:\"Array index is out of bounds.\",65:\"Allocated too much memory or created an array which is too large.\",81:\"Attempted to call a zero-initialized variable of internal function type.\"},eee={inputs:[{name:\"message\",type:\"string\"}],name:\"Error\",type:\"error\"},Ave={inputs:[{name:\"reason\",type:\"uint256\"}],name:\"Panic\",type:\"error\"};function bc(t,{includeName:e=!1}={}){if(t.type!==\"function\"&&t.type!==\"event\"&&t.type!==\"error\")throw new Uve(t.type);return`${t.name}(${x_(t.inputs,{includeName:e})})`}function x_(t,{includeName:e=!1}={}){return t?t.map(n=>$ve(n,{includeName:e})).join(e?\", \":\",\"):\"\"}function $ve(t,{includeName:e}){return t.type.startsWith(\"tuple\")?`(${x_(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:\"\")}class Ive extends Ae{constructor({docsPath:e}){super([\"A constructor was not found on the ABI.\",\"Make sure you are using the correct ABI and that the constructor exists on it.\"].join(`\n`),{docsPath:e,name:\"AbiConstructorNotFoundError\"})}}class zj extends Ae{constructor({docsPath:e}){super([\"Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.\",\"Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists.\"].join(`\n`),{docsPath:e,name:\"AbiConstructorParamsNotFoundError\"})}}class tee extends Ae{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`\n`),{metaMessages:[`Params: (${x_(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:\"AbiDecodingDataSizeTooSmallError\"}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"params\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"size\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class z2 extends Ae{constructor(){super('Cannot decode zero data (\"0x\") with ABI parameters.',{name:\"AbiDecodingZeroDataError\"})}}class Tve extends Ae{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`\n`),{name:\"AbiEncodingArrayLengthMismatchError\"})}}class Pve extends Ae{constructor({expectedSize:e,value:n}){super(`Size of bytes \"${n}\" (bytes${sr(n)}) does not match expected size (bytes${e}).`,{name:\"AbiEncodingBytesSizeMismatchError\"})}}class Ove extends Ae{constructor({expectedLength:e,givenLength:n}){super([\"ABI encoding params/values length mismatch.\",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`\n`),{name:\"AbiEncodingLengthMismatchError\"})}}class Nve extends Ae{constructor(e,{docsPath:n}){super([`Arguments (\\`args\\`) were provided to \"${e}\", but \"${e}\" on the ABI does not contain any parameters (\\`inputs\\`).`,\"Cannot encode error result without knowing what the parameter types are.\",\"Make sure you are using the correct ABI and that the inputs exist on it.\"].join(`\n`),{docsPath:n,name:\"AbiErrorInputsNotFoundError\"})}}class Fj extends Ae{constructor(e,{docsPath:n}={}){super([`Error ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiErrorNotFoundError\"})}}class nee extends Ae{constructor(e,{docsPath:n}){super([`Encoded error signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiErrorSignatureNotFoundError\"}),Object.defineProperty(this,\"signature\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Rve extends Ae{constructor({docsPath:e}){super(\"Cannot extract event signature from empty topics.\",{docsPath:e,name:\"AbiEventSignatureEmptyTopicsError\"})}}class ree extends Ae{constructor(e,{docsPath:n}){super([`Encoded event signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the event exists on it.\",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiEventSignatureNotFoundError\"})}}class qj extends Ae{constructor(e,{docsPath:n}={}){super([`Event ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the event exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiEventNotFoundError\"})}}class xm extends Ae{constructor(e,{docsPath:n}={}){super([`Function ${e?`\"${e}\" `:\"\"}not found on ABI.`,\"Make sure you are using the correct ABI and that the function exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiFunctionNotFoundError\"})}}class iee extends Ae{constructor(e,{docsPath:n}){super([`Function \"${e}\" does not contain any \\`outputs\\` on ABI.`,\"Cannot decode function result without knowing what the parameter types are.\",\"Make sure you are using the correct ABI and that the function exists on it.\"].join(`\n`),{docsPath:n,name:\"AbiFunctionOutputsNotFoundError\"})}}class kve extends Ae{constructor(e,{docsPath:n}){super([`Encoded function signature \"${e}\" not found on ABI.`,\"Make sure you are using the correct ABI and that the function exists on it.\",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`\n`),{docsPath:n,name:\"AbiFunctionSignatureNotFoundError\"})}}class Mve extends Ae{constructor(e,n){super(\"Found ambiguous types in overloaded ABI items.\",{metaMessages:[`\\`${e.type}\\` in \\`${bc(e.abiItem)}\\`, and`,`\\`${n.type}\\` in \\`${bc(n.abiItem)}\\``,\"\",\"These types encode differently and cannot be distinguished at runtime.\",\"Remove one of the ambiguous items in the ABI.\"],name:\"AbiItemAmbiguityError\"})}}let Dve=class extends Ae{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:\"BytesSizeMismatchError\"})}};class dv extends Ae{constructor({abiItem:e,data:n,params:r,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`\n`),{metaMessages:[`Params: (${x_(r,{includeName:!0})})`,`Data:   ${n} (${i} bytes)`],name:\"DecodeLogDataMismatch\"}),Object.defineProperty(this,\"abiItem\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"params\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"size\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=i}}class A_ extends Ae{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` \"${n.name}\"`:\"\"} on event \"${bc(e,{includeName:!0})}\".`].join(`\n`),{name:\"DecodeLogTopicsMismatch\"}),Object.defineProperty(this,\"abiItem\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Bve extends Ae{constructor(e,{docsPath:n}){super([`Type \"${e}\" is not a valid encoding type.`,\"Please provide a valid ABI type.\"].join(`\n`),{docsPath:n,name:\"InvalidAbiEncodingType\"})}}class Lve extends Ae{constructor(e,{docsPath:n}){super([`Type \"${e}\" is not a valid decoding type.`,\"Please provide a valid ABI type.\"].join(`\n`),{docsPath:n,name:\"InvalidAbiDecodingType\"})}}let see=class extends Ae{constructor(e){super([`Value \"${e}\" is not a valid array.`].join(`\n`),{name:\"InvalidArrayError\"})}};class Uve extends Ae{constructor(e){super([`\"${e}\" is not a valid definition type.`,'Valid types: \"function\", \"event\", \"error\"'].join(`\n`),{name:\"InvalidDefinitionTypeError\"})}}const jve=t=>pi(Np(t));function zve(t){return jve(t)}const Fve=\"1.1.0\";let ro=class VI extends Error{constructor(e,n={}){var o;const r=n.cause instanceof VI?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,i=n.cause instanceof VI&&n.cause.docsPath||n.docsPath,s=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Fve}`].join(`\n`);super(s),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiTypeError\"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.shortMessage=e}};function fd(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const oee=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,aee=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,cee=/^\\(.+?\\).*?$/,Hj=/^tuple(?<array>(\\[(\\d*)\\])*)$/;function KI(t){let e=t.type;if(Hj.test(t.type)&&\"components\"in t){e=\"(\";const n=t.components.length;for(let i=0;i<n;i++){const s=t.components[i];e+=KI(s),i<n-1&&(e+=\", \")}const r=fd(Hj,t.type);return e+=`)${(r==null?void 0:r.array)??\"\"}`,KI({...t,type:e})}return\"indexed\"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function P1(t){let e=\"\";const n=t.length;for(let r=0;r<n;r++){const i=t[r];e+=KI(i),r!==n-1&&(e+=\", \")}return e}function w8(t){var e;return t.type===\"function\"?`function ${t.name}(${P1(t.inputs)})${t.stateMutability&&t.stateMutability!==\"nonpayable\"?` ${t.stateMutability}`:\"\"}${(e=t.outputs)!=null&&e.length?` returns (${P1(t.outputs)})`:\"\"}`:t.type===\"event\"?`event ${t.name}(${P1(t.inputs)})`:t.type===\"error\"?`error ${t.name}(${P1(t.inputs)})`:t.type===\"constructor\"?`constructor(${P1(t.inputs)})${t.stateMutability===\"payable\"?\" payable\":\"\"}`:t.type===\"fallback\"?`fallback() external${t.stateMutability===\"payable\"?\" payable\":\"\"}`:\"receive() external payable\"}const lee=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$/;function qve(t){return lee.test(t)}function Hve(t){return fd(lee,t)}const uee=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)$/;function Vve(t){return uee.test(t)}function Kve(t){return fd(uee,t)}const dee=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\\((?<parameters>.*?)\\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\\s?\\((?<returns>.*?)\\))?$/;function Wve(t){return dee.test(t)}function Gve(t){return fd(dee,t)}const fee=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \\{(?<properties>.*?)\\}$/;function $_(t){return fee.test(t)}function Zve(t){return fd(fee,t)}const hee=/^constructor\\((?<parameters>.*?)\\)(?:\\s(?<stateMutability>payable{1}))?$/;function Yve(t){return hee.test(t)}function Jve(t){return fd(hee,t)}const pee=/^fallback\\(\\) external(?:\\s(?<stateMutability>payable{1}))?$/;function Xve(t){return pee.test(t)}function Qve(t){return fd(pee,t)}const e2e=/^receive\\(\\) external payable$/;function t2e(t){return e2e.test(t)}const Vj=new Set([\"memory\",\"indexed\",\"storage\",\"calldata\"]),n2e=new Set([\"indexed\"]),WI=new Set([\"calldata\",\"memory\",\"storage\"]);class r2e extends ro{constructor({signature:e}){super(\"Failed to parse ABI item.\",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:\"/api/human#parseabiitem-1\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiItemError\"})}}class i2e extends ro{constructor({type:e}){super(\"Unknown type.\",{metaMessages:[`Type \"${e}\" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownTypeError\"})}}class s2e extends ro{constructor({type:e}){super(\"Unknown type.\",{metaMessages:[`Type \"${e}\" is not a valid ABI type.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownSolidityTypeError\"})}}class o2e extends ro{constructor({params:e}){super(\"Failed to parse ABI parameters.\",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:\"/api/human#parseabiparameters-1\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiParametersError\"})}}class a2e extends ro{constructor({param:e}){super(\"Invalid ABI parameter.\",{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidParameterError\"})}}class c2e extends ro{constructor({param:e,name:n}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`\"${n}\" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SolidityProtectedKeywordError\"})}}class l2e extends ro{constructor({param:e,type:n,modifier:r}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`Modifier \"${r}\" not allowed${n?` in \"${n}\" type`:\"\"}.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidModifierError\"})}}class u2e extends ro{constructor({param:e,type:n,modifier:r}){super(\"Invalid ABI parameter.\",{details:e,metaMessages:[`Modifier \"${r}\" not allowed${n?` in \"${n}\" type`:\"\"}.`,`Data location can only be specified for array, struct, or mapping types, but \"${r}\" was given.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidFunctionModifierError\"})}}class d2e extends ro{constructor({abiParameter:e}){super(\"Invalid ABI parameter.\",{details:JSON.stringify(e,null,2),metaMessages:[\"ABI parameter type is invalid.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidAbiTypeParameterError\"})}}class gy extends ro{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidSignatureError\"})}}class f2e extends ro{constructor({signature:e}){super(\"Unknown signature.\",{details:e}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"UnknownSignatureError\"})}}class h2e extends ro{constructor({signature:e}){super(\"Invalid struct signature.\",{details:e,metaMessages:[\"No properties exist.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidStructSignatureError\"})}}class p2e extends ro{constructor({type:e}){super(\"Circular reference detected.\",{metaMessages:[`Struct \"${e}\" is a circular reference.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"CircularReferenceError\"})}}class g2e extends ro{constructor({current:e,depth:n}){super(\"Unbalanced parentheses.\",{metaMessages:[`\"${e.trim()}\" has too many ${n>0?\"opening\":\"closing\"} parentheses.`],details:`Depth \"${n}\"`}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"InvalidParenthesisError\"})}}function m2e(t,e,n){let r=\"\";if(n)for(const i of Object.entries(n)){if(!i)continue;let s=\"\";for(const o of i[1])s+=`[${o.type}${o.name?`:${o.name}`:\"\"}]`;r+=`(${i[0]}{${s}})`}return e?`${e}:${t}${r}`:t}const Sx=new Map([[\"address\",{type:\"address\"}],[\"bool\",{type:\"bool\"}],[\"bytes\",{type:\"bytes\"}],[\"bytes32\",{type:\"bytes32\"}],[\"int\",{type:\"int256\"}],[\"int256\",{type:\"int256\"}],[\"string\",{type:\"string\"}],[\"uint\",{type:\"uint256\"}],[\"uint8\",{type:\"uint8\"}],[\"uint16\",{type:\"uint16\"}],[\"uint24\",{type:\"uint24\"}],[\"uint32\",{type:\"uint32\"}],[\"uint64\",{type:\"uint64\"}],[\"uint96\",{type:\"uint96\"}],[\"uint112\",{type:\"uint112\"}],[\"uint160\",{type:\"uint160\"}],[\"uint192\",{type:\"uint192\"}],[\"uint256\",{type:\"uint256\"}],[\"address owner\",{type:\"address\",name:\"owner\"}],[\"address to\",{type:\"address\",name:\"to\"}],[\"bool approved\",{type:\"bool\",name:\"approved\"}],[\"bytes _data\",{type:\"bytes\",name:\"_data\"}],[\"bytes data\",{type:\"bytes\",name:\"data\"}],[\"bytes signature\",{type:\"bytes\",name:\"signature\"}],[\"bytes32 hash\",{type:\"bytes32\",name:\"hash\"}],[\"bytes32 r\",{type:\"bytes32\",name:\"r\"}],[\"bytes32 root\",{type:\"bytes32\",name:\"root\"}],[\"bytes32 s\",{type:\"bytes32\",name:\"s\"}],[\"string name\",{type:\"string\",name:\"name\"}],[\"string symbol\",{type:\"string\",name:\"symbol\"}],[\"string tokenURI\",{type:\"string\",name:\"tokenURI\"}],[\"uint tokenId\",{type:\"uint256\",name:\"tokenId\"}],[\"uint8 v\",{type:\"uint8\",name:\"v\"}],[\"uint256 balance\",{type:\"uint256\",name:\"balance\"}],[\"uint256 tokenId\",{type:\"uint256\",name:\"tokenId\"}],[\"uint256 value\",{type:\"uint256\",name:\"value\"}],[\"event:address indexed from\",{type:\"address\",name:\"from\",indexed:!0}],[\"event:address indexed to\",{type:\"address\",name:\"to\",indexed:!0}],[\"event:uint indexed tokenId\",{type:\"uint256\",name:\"tokenId\",indexed:!0}],[\"event:uint256 indexed tokenId\",{type:\"uint256\",name:\"tokenId\",indexed:!0}]]);function GI(t,e={}){if(Wve(t))return y2e(t,e);if(Vve(t))return b2e(t,e);if(qve(t))return w2e(t,e);if(Yve(t))return v2e(t,e);if(Xve(t))return E2e(t);if(t2e(t))return{type:\"receive\",stateMutability:\"payable\"};throw new f2e({signature:t})}function y2e(t,e={}){const n=Gve(t);if(!n)throw new gy({signature:t,type:\"function\"});const r=No(n.parameters),i=[],s=r.length;for(let a=0;a<s;a++)i.push(nd(r[a],{modifiers:WI,structs:e,type:\"function\"}));const o=[];if(n.returns){const a=No(n.returns),c=a.length;for(let l=0;l<c;l++)o.push(nd(a[l],{modifiers:WI,structs:e,type:\"function\"}))}return{name:n.name,type:\"function\",stateMutability:n.stateMutability??\"nonpayable\",inputs:i,outputs:o}}function b2e(t,e={}){const n=Kve(t);if(!n)throw new gy({signature:t,type:\"event\"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(nd(r[o],{modifiers:n2e,structs:e,type:\"event\"}));return{name:n.name,type:\"event\",inputs:i}}function w2e(t,e={}){const n=Hve(t);if(!n)throw new gy({signature:t,type:\"error\"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(nd(r[o],{structs:e,type:\"error\"}));return{name:n.name,type:\"error\",inputs:i}}function v2e(t,e={}){const n=Jve(t);if(!n)throw new gy({signature:t,type:\"constructor\"});const r=No(n.parameters),i=[],s=r.length;for(let o=0;o<s;o++)i.push(nd(r[o],{structs:e,type:\"constructor\"}));return{type:\"constructor\",stateMutability:n.stateMutability??\"nonpayable\",inputs:i}}function E2e(t){const e=Qve(t);if(!e)throw new gy({signature:t,type:\"fallback\"});return{type:\"fallback\",stateMutability:e.stateMutability??\"nonpayable\"}}const _2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\\spayable)?)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,C2e=/^\\((?<type>.+?)\\)(?<array>(?:\\[\\d*?\\])+?)?(?:\\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,S2e=/^u?int$/;function nd(t,e){var h,p;const n=m2e(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Sx.has(n))return Sx.get(n);const r=cee.test(t),i=fd(r?C2e:_2e,t);if(!i)throw new a2e({param:t});if(i.name&&A2e(i.name))throw new c2e({param:t,name:i.name});const s=i.name?{name:i.name}:{},o=i.modifier===\"indexed\"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,l={};if(r){c=\"tuple\";const m=No(i.type),b=[],y=m.length;for(let E=0;E<y;E++)b.push(nd(m[E],{structs:a}));l={components:b}}else if(i.type in a)c=\"tuple\",l={components:a[i.type]};else if(S2e.test(i.type))c=`${i.type}256`;else if(i.type===\"address payable\")c=\"address\";else if(c=i.type,(e==null?void 0:e.type)!==\"struct\"&&!gee(c))throw new s2e({type:c});if(i.modifier){if(!((p=(h=e==null?void 0:e.modifiers)==null?void 0:h.has)!=null&&p.call(h,i.modifier)))throw new l2e({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(WI.has(i.modifier)&&!$2e(c,!!i.array))throw new u2e({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const d={type:`${c}${i.array??\"\"}`,...s,...o,...l};return Sx.set(n,d),d}function No(t,e=[],n=\"\",r=0){const i=t.trim().length;for(let s=0;s<i;s++){const o=t[s],a=t.slice(s+1);switch(o){case\",\":return r===0?No(a,[...e,n.trim()]):No(a,e,`${n}${o}`,r);case\"(\":return No(a,e,`${n}${o}`,r+1);case\")\":return No(a,e,`${n}${o}`,r-1);default:return No(a,e,`${n}${o}`,r)}}if(n===\"\")return e;if(r!==0)throw new g2e({current:n,depth:r});return e.push(n.trim()),e}function gee(t){return t===\"address\"||t===\"bool\"||t===\"function\"||t===\"string\"||oee.test(t)||aee.test(t)}const x2e=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function A2e(t){return t===\"address\"||t===\"bool\"||t===\"function\"||t===\"string\"||t===\"tuple\"||oee.test(t)||aee.test(t)||x2e.test(t)}function $2e(t,e){return e||t===\"bytes\"||t===\"string\"||t===\"tuple\"}function zN(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!$_(a))continue;const c=Zve(a);if(!c)throw new gy({signature:a,type:\"struct\"});const l=c.properties.split(\";\"),d=[],h=l.length;for(let p=0;p<h;p++){const b=l[p].trim();if(!b)continue;const y=nd(b,{type:\"struct\"});d.push(y)}if(!d.length)throw new h2e({signature:a});e[c.name]=d}const r={},i=Object.entries(e),s=i.length;for(let o=0;o<s;o++){const[a,c]=i[o];r[a]=mee(c,e)}return r}const I2e=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\\[\\d*?\\])+?)?$/;function mee(t,e,n=new Set){const r=[],i=t.length;for(let s=0;s<i;s++){const o=t[s];if(cee.test(o.type))r.push(o);else{const c=fd(I2e,o.type);if(!(c!=null&&c.type))throw new d2e({abiParameter:o});const{array:l,type:d}=c;if(d in e){if(n.has(d))throw new p2e({type:d});r.push({...o,type:`tuple${l??\"\"}`,components:mee(e[d]??[],e,new Set([...n,d]))})}else if(gee(d))r.push(o);else throw new i2e({type:d})}}return r}function yee(t){const e=zN(t),n=[],r=t.length;for(let i=0;i<r;i++){const s=t[i];$_(s)||n.push(GI(s,e))}return n}function Kj(t){let e;if(typeof t==\"string\")e=GI(t);else{const n=zN(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if(!$_(s)){e=GI(s,n);break}}}if(!e)throw new r2e({signature:t});return e}function Wj(t){const e=[];if(typeof t==\"string\"){const n=No(t),r=n.length;for(let i=0;i<r;i++)e.push(nd(n[i],{modifiers:Vj}))}else{const n=zN(t),r=t.length;for(let i=0;i<r;i++){const s=t[i];if($_(s))continue;const o=No(s),a=o.length;for(let c=0;c<a;c++)e.push(nd(o[c],{modifiers:Vj,structs:n}))}}if(e.length===0)throw new o2e({params:t});return e}function T2e(t){let e=!0,n=\"\",r=0,i=\"\",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if([\"(\",\")\",\",\"].includes(a)&&(e=!0),a===\"(\"&&r++,a===\")\"&&r--,!!e){if(r===0){if(a===\" \"&&[\"event\",\"function\",\"\"].includes(i))i=\"\";else if(i+=a,a===\")\"){s=!0;break}continue}if(a===\" \"){t[o-1]!==\",\"&&n!==\",\"&&n!==\",(\"&&(n=\"\",e=!1);continue}i+=a,n+=a}}if(!s)throw new Ae(\"Unable to normalize signature.\");return i}const P2e=t=>{const e=typeof t==\"string\"?t:w8(t);return T2e(e)};function bee(t){return zve(P2e(t))}const F2=t=>H0(bee(t),0,4);function O2e(t,e={}){typeof e.size<\"u\"&&$c(t,{size:e.size});const n=Mr(t,e);return hs(n,e)}function N2e(t,e={}){let n=t;if(typeof e.size<\"u\"&&($c(n,{size:e.size}),n=oc(n)),n.length>1||n[0]>1)throw new Ewe(n);return!!n[0]}function qu(t,e={}){typeof e.size<\"u\"&&$c(t,{size:e.size});const n=Mr(t,e);return Cl(n,e)}function R2e(t,e={}){let n=t;return typeof e.size<\"u\"&&($c(n,{size:e.size}),n=oc(n,{dir:\"right\"})),new TextDecoder().decode(n)}const k2e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,wee=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function fh(t,e){if(t.length!==e.length)throw new Ove({expectedLength:t.length,givenLength:e.length});const n=M2e({params:t,values:e}),r=qN(n);return r.length===0?\"0x\":r}function M2e({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(FN({param:t[r],value:e[r]}));return n}function FN({param:t,value:e}){const n=HN(t.type);if(n){const[r,i]=n;return B2e(e,{length:r,param:{...t,type:i}})}if(t.type===\"tuple\")return F2e(e,{param:t});if(t.type===\"address\")return D2e(e);if(t.type===\"bool\")return U2e(e);if(t.type.startsWith(\"uint\")||t.type.startsWith(\"int\")){const r=t.type.startsWith(\"int\"),[,,i=\"256\"]=wee.exec(t.type)??[];return j2e(e,{signed:r,size:Number(i)})}if(t.type.startsWith(\"bytes\"))return L2e(e,{param:t});if(t.type===\"string\")return z2e(e);throw new Bve(t.type,{docsPath:\"/docs/contract/encodeAbiParameters\"})}function qN(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=sr(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(je(e+i,{size:32})),r.push(a),i+=sr(a)):n.push(a)}return yc([...n,...r])}function D2e(t){if(!Kr(t))throw new _s({address:t});return{dynamic:!1,encoded:Bf(t.toLowerCase())}}function B2e(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new see(t);if(!r&&t.length!==e)throw new Tve({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let i=!1;const s=[];for(let o=0;o<t.length;o++){const a=FN({param:n,value:t[o]});a.dynamic&&(i=!0),s.push(a)}if(r||i){const o=qN(s);if(r){const a=je(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?yc([a,o]):a}}if(i)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:yc(s.map(({encoded:o})=>o))}}function L2e(t,{param:e}){const[,n]=e.type.split(\"bytes\"),r=sr(t);if(!n){let i=t;return r%32!==0&&(i=Bf(i,{dir:\"right\",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:yc([Bf(je(r,{size:32})),i])}}if(r!==Number.parseInt(n,10))throw new Pve({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:Bf(t,{dir:\"right\"})}}function U2e(t){if(typeof t!=\"boolean\")throw new Ae(`Invalid boolean value: \"${t}\" (type: ${typeof t}). Expected: \\`true\\` or \\`false\\`.`);return{dynamic:!1,encoded:Bf(NQ(t))}}function j2e(t,{signed:e,size:n=256}){if(typeof n==\"number\"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new TQ({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:je(t,{size:32,signed:e})}}function z2e(t){const e=lv(t),n=Math.ceil(sr(e)/32),r=[];for(let i=0;i<n;i++)r.push(Bf(H0(e,i*32,(i+1)*32),{dir:\"right\"}));return{dynamic:!0,encoded:yc([Bf(je(sr(e),{size:32})),...r])}}function F2e(t,{param:e}){let n=!1;const r=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],o=Array.isArray(t)?i:s.name,a=FN({param:s,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?qN(r):yc(r.map(({encoded:i})=>i))}}function HN(t){const e=t.match(/^(.*)\\[(\\d+)?\\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function q2(t,e){const n=typeof e==\"string\"?_l(e):e,r=kN(n);if(sr(n)===0&&t.length>0)throw new z2;if(sr(e)&&sr(e)<32)throw new tee({data:typeof e==\"string\"?e:Mr(e),params:t,size:sr(e)});let i=0;const s=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(i);const[c,l]=lm(r,a,{staticPosition:0});i+=l,s.push(c)}return s}function lm(t,e,{staticPosition:n}){const r=HN(e.type);if(r){const[i,s]=r;return H2e(t,{...e,type:s},{length:i,staticPosition:n})}if(e.type===\"tuple\")return G2e(t,e,{staticPosition:n});if(e.type===\"address\")return q2e(t);if(e.type===\"bool\")return V2e(t);if(e.type.startsWith(\"bytes\"))return K2e(t,e,{staticPosition:n});if(e.type.startsWith(\"uint\")||e.type.startsWith(\"int\"))return W2e(t,e);if(e.type===\"string\")return Z2e(t,{staticPosition:n});throw new Lve(e.type,{docsPath:\"/docs/contract/decodeAbiParameters\"})}const Gj=32,ZI=32;function q2e(t){const e=t.readBytes(32);return[C_(Mr(JQ(e,-20))),32]}function H2e(t,e,{length:n,staticPosition:r}){if(!n){const o=qu(t.readBytes(ZI)),a=r+o,c=a+Gj;t.setPosition(a);const l=qu(t.readBytes(Gj)),d=fv(e);let h=0;const p=[];for(let m=0;m<l;++m){t.setPosition(c+(d?m*32:h));const[b,y]=lm(t,e,{staticPosition:c});h+=y,p.push(b)}return t.setPosition(r+32),[p,32]}if(fv(e)){const o=qu(t.readBytes(ZI)),a=r+o,c=[];for(let l=0;l<n;++l){t.setPosition(a+l*32);const[d]=lm(t,e,{staticPosition:a});c.push(d)}return t.setPosition(r+32),[c,32]}let i=0;const s=[];for(let o=0;o<n;++o){const[a,c]=lm(t,e,{staticPosition:r+i});i+=c,s.push(a)}return[s,i]}function V2e(t){return[N2e(t.readBytes(32),{size:32}),32]}function K2e(t,e,{staticPosition:n}){const[r,i]=e.type.split(\"bytes\");if(!i){const o=qu(t.readBytes(32));t.setPosition(n+o);const a=qu(t.readBytes(32));if(a===0)return t.setPosition(n+32),[\"0x\",32];const c=t.readBytes(a);return t.setPosition(n+32),[Mr(c),32]}return[Mr(t.readBytes(Number.parseInt(i,10),32)),32]}function W2e(t,e){const n=e.type.startsWith(\"int\"),r=Number.parseInt(e.type.split(\"int\")[1]||\"256\",10),i=t.readBytes(32);return[r>48?O2e(i,{signed:n}):qu(i,{signed:n}),32]}function G2e(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),i=r?[]:{};let s=0;if(fv(e)){const o=qu(t.readBytes(ZI)),a=n+o;for(let c=0;c<e.components.length;++c){const l=e.components[c];t.setPosition(a+s);const[d,h]=lm(t,l,{staticPosition:a});s+=h,i[r?c:l==null?void 0:l.name]=d}return t.setPosition(n+32),[i,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,l]=lm(t,a,{staticPosition:n});i[r?o:a==null?void 0:a.name]=c,s+=l}return[i,s]}function Z2e(t,{staticPosition:e}){const n=qu(t.readBytes(32)),r=e+n;t.setPosition(r);const i=qu(t.readBytes(32));if(i===0)return t.setPosition(e+32),[\"\",32];const s=t.readBytes(i,32),o=R2e(oc(s));return t.setPosition(e+32),[o,32]}function fv(t){var r;const{type:e}=t;if(e===\"string\"||e===\"bytes\"||e.endsWith(\"[]\"))return!0;if(e===\"tuple\")return(r=t.components)==null?void 0:r.some(fv);const n=HN(t.type);return!!(n&&fv({...t,type:n[1]}))}function vee(t){const{abi:e,data:n}=t,r=H0(n,0,4);if(r===\"0x\")throw new z2;const s=[...e||[],eee,Ave].find(o=>o.type===\"error\"&&r===F2(bc(o)));if(!s)throw new nee(r,{docsPath:\"/docs/contract/decodeErrorResult\"});return{abiItem:s,args:\"inputs\"in s&&s.inputs&&s.inputs.length>0?q2(s.inputs,H0(n,4)):void 0,errorName:s.name}}const qr=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i==\"bigint\"?i.toString():i,n);function Eee({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if(\"name\"in t&&\"inputs\"in t&&t.inputs)return`${n?t.name:\"\"}(${t.inputs.map((i,s)=>`${r&&i.name?`${i.name}: `:\"\"}${typeof e[s]==\"object\"?qr(e[s]):e[s]}`).join(\", \")})`}const I_=bee;function Rp(t){const{abi:e,args:n=[],name:r}=t,i=mc(r,{strict:!1}),s=e.filter(a=>i?a.type===\"function\"?F2(a)===r:a.type===\"event\"?I_(a)===r:!1:\"name\"in a&&a.name===r);if(s.length===0)return;if(s.length===1)return s[0];let o;for(const a of s){if(!(\"inputs\"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((l,d)=>{const h=\"inputs\"in a&&a.inputs[d];return h?YI(l,h):!1})){if(o&&\"inputs\"in o&&o.inputs){const l=_ee(a.inputs,o.inputs,n);if(l)throw new Mve({abiItem:a,type:l[0]},{abiItem:o,type:l[1]})}o=a}}return o||s[0]}function YI(t,e){const n=typeof t,r=e.type;switch(r){case\"address\":return Kr(t,{strict:!1});case\"bool\":return n===\"boolean\";case\"function\":return n===\"string\";case\"string\":return n===\"string\";default:return r===\"tuple\"&&\"components\"in e?Object.values(e.components).every((i,s)=>YI(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n===\"number\"||n===\"bigint\":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n===\"string\"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(r)?Array.isArray(t)&&t.every(i=>YI(i,{...e,type:r.replace(/(\\[[0-9]{0,}\\])$/,\"\")})):!1}}function _ee(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type===\"tuple\"&&s.type===\"tuple\"&&\"components\"in i&&\"components\"in s)return _ee(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes(\"address\")&&o.includes(\"bytes20\")?!0:o.includes(\"address\")&&o.includes(\"string\")?Kr(n[r],{strict:!1}):o.includes(\"address\")&&o.includes(\"bytes\")?Kr(n[r],{strict:!1}):!1)return o}}class Y2e extends Ae{constructor({address:e}){super(`State for account \"${e}\" is set multiple times.`,{name:\"AccountStateConflictError\"})}}class J2e extends Ae{constructor(){super(\"state and stateDiff are set on the same account.\",{name:\"StateAssignmentConflictError\"})}}function Zj(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}\n`,\"\")}function X2e(t){return t.reduce((e,{address:n,...r})=>{let i=`${e}    ${n}:\n`;return r.nonce&&(i+=`      nonce: ${r.nonce}\n`),r.balance&&(i+=`      balance: ${r.balance}\n`),r.code&&(i+=`      code: ${r.code}\n`),r.state&&(i+=`      state:\n`,i+=Zj(r.state)),r.stateDiff&&(i+=`      stateDiff:\n`,i+=Zj(r.stateDiff)),i},`  State Override:\n`).slice(0,-1)}const Q2e=t=>t,H2=t=>t;class Cee extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:h,value:p,stateOverride:m}){var E;const b=n?Tc(n):void 0;let y=v_({from:b==null?void 0:b.address,to:h,value:typeof p<\"u\"&&`${LQ(p)} ${((E=i==null?void 0:i.nativeCurrency)==null?void 0:E.symbol)||\"ETH\"}`,data:s,gas:o,gasPrice:typeof a<\"u\"&&`${ac(a)} gwei`,maxFeePerGas:typeof c<\"u\"&&`${ac(c)} gwei`,maxPriorityFeePerGas:typeof l<\"u\"&&`${ac(l)} gwei`,nonce:d});m&&(y+=`\n${X2e(m)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],\"Raw Call Arguments:\",y].filter(Boolean),name:\"CallExecutionError\"}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class See extends Ae{constructor(e,{abi:n,args:r,contractAddress:i,docsPath:s,functionName:o,sender:a}){const c=Rp({abi:n,args:r,name:o}),l=c?Eee({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?bc(c,{includeName:!0}):void 0,h=v_({address:i&&Q2e(i),function:d,args:l&&l!==\"()\"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>\" \").join(\"\")}${l}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function \"${o}\".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],h&&\"Contract Call:\",h].filter(Boolean),name:\"ContractFunctionExecutionError\"}),Object.defineProperty(this,\"abi\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"args\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"contractAddress\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"formattedArgs\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"functionName\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"sender\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=i,this.functionName=o,this.sender=a}}class JI extends Ae{constructor({abi:e,data:n,functionName:r,message:i}){let s,o,a,c;if(n&&n!==\"0x\")try{o=vee({abi:e,data:n});const{abiItem:d,errorName:h,args:p}=o;if(h===\"Error\")c=p[0];else if(h===\"Panic\"){const[m]=p;c=xve[m]}else{const m=d?bc(d,{includeName:!0}):void 0,b=d&&p?Eee({abiItem:d,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[m?`Error: ${m}`:\"\",b&&b!==\"()\"?`       ${[...Array((h==null?void 0:h.length)??0).keys()].map(()=>\" \").join(\"\")}${b}`:\"\"]}}catch(d){s=d}else i&&(c=i);let l;s instanceof nee&&(l=s.signature,a=[`Unable to decode signature \"${l}\" as it was not found on the provided ABI.`,\"Make sure you are using the correct ABI and that the error exists on it.\",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!==\"execution reverted\"||l?[`The contract function \"${r}\" reverted with the following ${l?\"signature\":\"reason\"}:`,c||l].join(`\n`):`The contract function \"${r}\" reverted.`,{cause:s,metaMessages:a,name:\"ContractFunctionRevertedError\"}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"raw\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"reason\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"signature\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=l}}class e5e extends Ae{constructor({functionName:e}){super(`The contract function \"${e}\" returned no data (\"0x\").`,{metaMessages:[\"This could be due to any of the following:\",`  - The contract does not have the function \"${e}\",`,\"  - The parameters passed to the contract function may be invalid, or\",\"  - The address is not a contract.\"],name:\"ContractFunctionZeroDataError\"})}}class t5e extends Ae{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory \"${e}\".`:\"\"}`,{metaMessages:[\"Please ensure:\",\"- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).\",\"- The `factoryData` is a valid encoded function call for contract deployment function on the factory.\"],name:\"CounterfactualDeploymentFailedError\"})}}class T_ extends Ae{constructor({data:e,message:n}){super(n||\"\",{name:\"RawContractError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class $0 extends Ae{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super(\"HTTP request failed.\",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${H2(o)}`,e&&`Request body: ${qr(e)}`].filter(Boolean),name:\"HttpRequestError\"}),Object.defineProperty(this,\"body\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"headers\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"status\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"url\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class VN extends Ae{constructor({body:e,error:n,url:r}){super(\"RPC Request failed.\",{cause:n,details:n.message,metaMessages:[`URL: ${H2(r)}`,`Request body: ${qr(e)}`],name:\"RpcRequestError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Yj extends Ae{constructor({body:e,url:n}){super(\"The request took too long to respond.\",{details:\"The request timed out.\",metaMessages:[`URL: ${H2(n)}`,`Request body: ${qr(e)}`],name:\"TimeoutError\"})}}const n5e=-1;class io extends Ae{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||\"RpcError\"}),Object.defineProperty(this,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof VN?e.code:n??n5e}}class Go extends io{constructor(e,n){super(e,n),Object.defineProperty(this,\"data\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class hv extends io{constructor(e){super(e,{code:hv.code,name:\"ParseRpcError\",shortMessage:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"})}}Object.defineProperty(hv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class pv extends io{constructor(e){super(e,{code:pv.code,name:\"InvalidRequestRpcError\",shortMessage:\"JSON is not a valid request object.\"})}}Object.defineProperty(pv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class gv extends io{constructor(e,{method:n}={}){super(e,{code:gv.code,name:\"MethodNotFoundRpcError\",shortMessage:`The method${n?` \"${n}\"`:\"\"} does not exist / is not available.`})}}Object.defineProperty(gv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class mv extends io{constructor(e){super(e,{code:mv.code,name:\"InvalidParamsRpcError\",shortMessage:[\"Invalid parameters were provided to the RPC method.\",\"Double check you have provided the correct parameters.\"].join(`\n`)})}}Object.defineProperty(mv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class V0 extends io{constructor(e){super(e,{code:V0.code,name:\"InternalRpcError\",shortMessage:\"An internal error was received.\"})}}Object.defineProperty(V0,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class K0 extends io{constructor(e){super(e,{code:K0.code,name:\"InvalidInputRpcError\",shortMessage:[\"Missing or invalid parameters.\",\"Double check you have provided the correct parameters.\"].join(`\n`)})}}Object.defineProperty(K0,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class yv extends io{constructor(e){super(e,{code:yv.code,name:\"ResourceNotFoundRpcError\",shortMessage:\"Requested resource not found.\"}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"ResourceNotFoundRpcError\"})}}Object.defineProperty(yv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class bv extends io{constructor(e){super(e,{code:bv.code,name:\"ResourceUnavailableRpcError\",shortMessage:\"Requested resource not available.\"})}}Object.defineProperty(bv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class wv extends io{constructor(e){super(e,{code:wv.code,name:\"TransactionRejectedRpcError\",shortMessage:\"Transaction creation failed.\"})}}Object.defineProperty(wv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class h0 extends io{constructor(e,{method:n}={}){super(e,{code:h0.code,name:\"MethodNotSupportedRpcError\",shortMessage:`Method${n?` \"${n}\"`:\"\"} is not supported.`})}}Object.defineProperty(h0,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Am extends io{constructor(e){super(e,{code:Am.code,name:\"LimitExceededRpcError\",shortMessage:\"Request exceeds defined limit.\"})}}Object.defineProperty(Am,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class vv extends io{constructor(e){super(e,{code:vv.code,name:\"JsonRpcVersionUnsupportedError\",shortMessage:\"Version of JSON-RPC protocol is not supported.\"})}}Object.defineProperty(vv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class um extends Go{constructor(e){super(e,{code:um.code,name:\"UserRejectedRequestError\",shortMessage:\"User rejected the request.\"})}}Object.defineProperty(um,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ev extends Go{constructor(e){super(e,{code:Ev.code,name:\"UnauthorizedProviderError\",shortMessage:\"The requested method and/or account has not been authorized by the user.\"})}}Object.defineProperty(Ev,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4100});class _v extends Go{constructor(e,{method:n}={}){super(e,{code:_v.code,name:\"UnsupportedProviderMethodError\",shortMessage:`The Provider does not support the requested method${n?` \" ${n}\"`:\"\"}.`})}}Object.defineProperty(_v,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Cv extends Go{constructor(e){super(e,{code:Cv.code,name:\"ProviderDisconnectedError\",shortMessage:\"The Provider is disconnected from all chains.\"})}}Object.defineProperty(Cv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Sv extends Go{constructor(e){super(e,{code:Sv.code,name:\"ChainDisconnectedError\",shortMessage:\"The Provider is not connected to the requested chain.\"})}}Object.defineProperty(Sv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4901});class xv extends Go{constructor(e){super(e,{code:xv.code,name:\"SwitchChainError\",shortMessage:\"An error occurred when attempting to switch chain.\"})}}Object.defineProperty(xv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Av extends Go{constructor(e){super(e,{code:Av.code,name:\"UnsupportedNonOptionalCapabilityError\",shortMessage:\"This Wallet does not support a capability that was not marked as optional.\"})}}Object.defineProperty(Av,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5700});class $v extends Go{constructor(e){super(e,{code:$v.code,name:\"UnsupportedChainIdError\",shortMessage:\"This Wallet does not support the requested chain ID.\"})}}Object.defineProperty($v,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Iv extends Go{constructor(e){super(e,{code:Iv.code,name:\"DuplicateIdError\",shortMessage:\"There is already a bundle submitted with this ID.\"})}}Object.defineProperty(Iv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Tv extends Go{constructor(e){super(e,{code:Tv.code,name:\"UnknownBundleIdError\",shortMessage:\"This bundle id is unknown / has not been submitted\"})}}Object.defineProperty(Tv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Pv extends Go{constructor(e){super(e,{code:Pv.code,name:\"BundleTooLargeError\",shortMessage:\"The call bundle is too large for the Wallet to process.\"})}}Object.defineProperty(Pv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Ov extends Go{constructor(e){super(e,{code:Ov.code,name:\"AtomicReadyWalletRejectedUpgradeError\",shortMessage:\"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade.\"})}}Object.defineProperty(Ov,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Nv extends Go{constructor(e){super(e,{code:Nv.code,name:\"AtomicityNotSupportedError\",shortMessage:\"The wallet does not support atomic execution but the request requires it.\"})}}Object.defineProperty(Nv,\"code\",{enumerable:!0,configurable:!0,writable:!0,value:5760});class r5e extends io{constructor(e){super(e,{name:\"UnknownRpcError\",shortMessage:\"An unknown RPC error occurred.\"})}}function KN(t,e){const n=(t.details||\"\").toLowerCase(),r=t instanceof Ae?t.walk(i=>(i==null?void 0:i.code)===q1.code):t;return r instanceof Ae?new q1({cause:t,message:r.details}):q1.nodeMessage.test(n)?new q1({cause:t,message:t.details}):q0.nodeMessage.test(n)?new q0({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):BI.nodeMessage.test(n)?new BI({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):LI.nodeMessage.test(n)?new LI({cause:t,nonce:e==null?void 0:e.nonce}):UI.nodeMessage.test(n)?new UI({cause:t,nonce:e==null?void 0:e.nonce}):jI.nodeMessage.test(n)?new jI({cause:t,nonce:e==null?void 0:e.nonce}):zI.nodeMessage.test(n)?new zI({cause:t}):FI.nodeMessage.test(n)?new FI({cause:t,gas:e==null?void 0:e.gas}):qI.nodeMessage.test(n)?new qI({cause:t,gas:e==null?void 0:e.gas}):HI.nodeMessage.test(n)?new HI({cause:t}):uv.nodeMessage.test(n)?new uv({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new __({cause:t})}function xee(t,{docsPath:e,...n}){const r=(()=>{const i=KN(t,n);return i instanceof __?t:i})();return new Cee(r,{docsPath:e,...n})}function WN(t,{format:e}){if(!e)return{};const n={};function r(s){const o=Object.keys(s);for(const a of o)a in t&&(n[a]=t[a]),s[a]&&typeof s[a]==\"object\"&&!Array.isArray(s[a])&&r(s[a])}const i=e(t||{});return r(i),n}function V2(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:i,to:s}=t,o=e?Tc(e):void 0;if(o&&!Kr(o.address))throw new _s({address:o.address});if(s&&!Kr(s))throw new _s({address:s});if(typeof n<\"u\"&&(typeof r<\"u\"||typeof i<\"u\"))throw new Vwe;if(r&&r>w_)throw new q0({maxFeePerGas:r});if(i&&r&&i>r)throw new uv({maxFeePerGas:r,maxPriorityFeePerGas:i})}const i5e=dh({id:1,name:\"Ethereum\",nativeCurrency:{name:\"Ether\",symbol:\"ETH\",decimals:18},blockTime:12e3,rpcUrls:{default:{http:[\"https://eth.merkle.io\"]}},blockExplorers:{default:{name:\"Etherscan\",url:\"https://etherscan.io\",apiUrl:\"https://api.etherscan.io/api\"}},contracts:{ensUniversalResolver:{address:\"0xeeeeeeee14d718c2b47d9923deab1335e144eeee\",blockCreated:23085558},multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:14353601}}}),Aee=dh({id:137,name:\"Polygon\",blockTime:2e3,nativeCurrency:{name:\"POL\",symbol:\"POL\",decimals:18},rpcUrls:{default:{http:[\"https://polygon-rpc.com\"]}},blockExplorers:{default:{name:\"PolygonScan\",url:\"https://polygonscan.com\",apiUrl:\"https://api.polygonscan.com/api\"}},contracts:{multicall3:{address:\"0xca11bde05977b3631167028862be2a173976ca11\",blockCreated:25770160}}}),$ee=dh({id:1329,name:\"Sei Network\",nativeCurrency:{name:\"Sei\",symbol:\"SEI\",decimals:18},rpcUrls:{default:{http:[\"https://evm-rpc.sei-apis.com/\"],webSocket:[\"wss://evm-ws.sei-apis.com/\"]}},blockExplorers:{default:{name:\"Seitrace\",url:\"https://seitrace.com\",apiUrl:\"https://seitrace.com/pacific-1/api\"}},contracts:{multicall3:{address:\"0xcA11bde05977b3631167028862bE2a173976CA11\"}}}),Jj=\"1\",Tw={1:{chain:i5e,rpcEnvVariable:\"ETHEREUM_RPC_URL\",nativeTokenDecimals:18,nativeTokenSymbol:\"ETH\"},8453:{chain:jN,rpcEnvVariable:\"BASE_RPC_URL\",nativeTokenDecimals:18,nativeTokenSymbol:\"ETH\"},56:{chain:QQ,rpcEnvVariable:\"BSC_RPC_URL\",nativeTokenDecimals:18,nativeTokenSymbol:\"BNB\"},137:{chain:Aee,rpcEnvVariable:\"POLYGON_RPC_URL\",nativeTokenDecimals:18,nativeTokenSymbol:\"POL\"},1329:{chain:$ee,rpcEnvVariable:\"SEI_RPC_URL\",nativeTokenDecimals:18,nativeTokenSymbol:\"SEI\"}};function xx(t){var e;return Tw[t]||console.warn(`Chain ID ${t} not found, falling back to default chain ${Jj}`),((e=Tw[t])==null?void 0:e.chain)??Tw[Jj].chain}const s5e=32;function Iee(){try{const t=crypto.getRandomValues(new Uint8Array(s5e));let e=\"\";for(let n=0;n<t.length;n++){const r=t[n].toString(16).padStart(2,\"0\");e+=r}return console.log(\"[DEBUG] Generated nonce using browser-compatible approach\"),`0x${e}`}catch(t){throw new Error(`Failed to generate nonce: ${t instanceof Error?t.message:String(t)}`)}}function Et(t,e,n){const r=t[e.name];if(typeof r==\"function\")return r;const i=t[n];return typeof i==\"function\"?i:s=>e(t,s)}class o5e extends Ae{constructor(e){super(`Filter type \"${e}\" is not supported.`,{name:\"FilterTypeNotSupportedError\"})}}const Xj=\"/docs/contract/encodeEventTopics\";function K2(t){var c;const{abi:e,eventName:n,args:r}=t;let i=e[0];if(n){const l=Rp({abi:e,name:n});if(!l)throw new qj(n,{docsPath:Xj});i=l}if(i.type!==\"event\")throw new qj(void 0,{docsPath:Xj});const s=bc(i),o=I_(s);let a=[];if(r&&\"inputs\"in i){const l=(c=i.inputs)==null?void 0:c.filter(h=>\"indexed\"in h&&h.indexed),d=Array.isArray(r)?r:Object.values(r).length>0?(l==null?void 0:l.map(h=>r[h.name]))??[]:[];d.length>0&&(a=(l==null?void 0:l.map((h,p)=>Array.isArray(d[p])?d[p].map((m,b)=>Qj({param:h,value:d[p][b]})):typeof d[p]<\"u\"&&d[p]!==null?Qj({param:h,value:d[p]}):null))??[])}return[o,...a]}function Qj({param:t,value:e}){if(t.type===\"string\"||t.type===\"bytes\")return pi(Np(e));if(t.type===\"tuple\"||t.type.match(/^(.*)\\[(\\d+)?\\]$/))throw new o5e(t.type);return fh([t],[e])}function P_(t,{method:e}){var r,i;const n={};return t.transport.type===\"fallback\"&&((i=(r=t.transport).onResponse)==null||i.call(r,({method:s,response:o,status:a,transport:c})=>{a===\"success\"&&e===s&&(n[o]=c.request)})),(s=>n[s]||t.request)}async function Tee(t,e){const{address:n,abi:r,args:i,eventName:s,fromBlock:o,strict:a,toBlock:c}=e,l=P_(t,{method:\"eth_newFilter\"}),d=s?K2({abi:r,args:i,eventName:s}):void 0,h=await t.request({method:\"eth_newFilter\",params:[{address:n,fromBlock:typeof o==\"bigint\"?je(o):o,toBlock:typeof c==\"bigint\"?je(c):c,topics:d}]});return{abi:r,args:i,eventName:s,id:h,request:l(h),strict:!!a,type:\"event\"}}const ez=\"/docs/contract/encodeFunctionData\";function a5e(t){const{abi:e,args:n,functionName:r}=t;let i=e[0];if(r){const s=Rp({abi:e,args:n,name:r});if(!s)throw new xm(r,{docsPath:ez});i=s}if(i.type!==\"function\")throw new xm(void 0,{docsPath:ez});return{abi:[i],functionName:F2(bc(i))}}function jo(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith(\"0x\"))?t:a5e(t)})(),i=n[0],s=r,o=\"inputs\"in i&&i.inputs?fh(i.inputs,e??[]):void 0;return Ic([s,o??\"0x\"])}const c5e=3;function $m(t,{abi:e,address:n,args:r,docsPath:i,functionName:s,sender:o}){const a=t instanceof T_?t:t instanceof Ae?t.walk(b=>\"data\"in b)||t.walk():{},{code:c,data:l,details:d,message:h,shortMessage:p}=a,m=t instanceof z2?new e5e({functionName:s}):[c5e,V0.code].includes(c)&&(l||d||h||p)?new JI({abi:e,data:typeof l==\"object\"?l.data:l,functionName:s,message:a instanceof VN?d:p??h}):t;return new See(m,{abi:e,args:r,contractAddress:n,docsPath:i,functionName:s,sender:o})}function l5e(t){const e=pi(`0x${t.substring(4)}`).substring(26);return C_(`0x${e}`)}async function u5e({hash:t,signature:e}){const n=mc(t)?t:Do(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>lQ);return{secp256k1:o}},void 0,import.meta.url);return`0x${(()=>{if(typeof e==\"object\"&&\"r\"in e&&\"s\"in e){const{r:l,s:d,v:h,yParity:p}=e,m=Number(p??h),b=tz(m);return new r.Signature(hs(l),hs(d)).addRecoveryBit(b)}const o=mc(e)?e:Do(e);if(sr(o)!==65)throw new Error(\"invalid signature length\");const a=Cl(`0x${o.slice(130)}`),c=tz(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function tz(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error(\"Invalid yParityOrV value\")}async function Pee({hash:t,signature:e}){return l5e(await u5e({hash:t,signature:e}))}function d5e(t){const{chainId:e,nonce:n,to:r}=t,i=t.contractAddress??t.address,s=pi(Ic([\"0x05\",Xf([e?je(e):\"0x\",i,n?je(n):\"0x\"])]));return r===\"bytes\"?_l(s):s}async function Oee(t){const{authorization:e,signature:n}=t;return Pee({hash:d5e(e),signature:n??e})}class f5e extends Ae{constructor(e,{account:n,docsPath:r,chain:i,data:s,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:h,value:p}){var b;const m=v_({from:n==null?void 0:n.address,to:h,value:typeof p<\"u\"&&`${LQ(p)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||\"ETH\"}`,data:s,gas:o,gasPrice:typeof a<\"u\"&&`${ac(a)} gwei`,maxFeePerGas:typeof c<\"u\"&&`${ac(c)} gwei`,maxPriorityFeePerGas:typeof l<\"u\"&&`${ac(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages,\" \"]:[],\"Estimate Gas Arguments:\",m].filter(Boolean),name:\"EstimateGasExecutionError\"}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function h5e(t,{docsPath:e,...n}){const r=(()=>{const i=KN(t,n);return i instanceof __?t:i})();return new f5e(r,{docsPath:e,...n})}function nz(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new Mj({size:n.length,targetSize:66,type:\"hex\"});if(r.length!==66)throw new Mj({size:r.length,targetSize:66,type:\"hex\"});return e[n]=r,e},{})}function p5e(t){const{balance:e,nonce:n,state:r,stateDiff:i,code:s}=t,o={};if(s!==void 0&&(o.code=s),e!==void 0&&(o.balance=je(e)),n!==void 0&&(o.nonce=je(n)),r!==void 0&&(o.state=nz(r)),i!==void 0){if(o.state)throw new J2e;o.stateDiff=nz(i)}return o}function GN(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!Kr(n,{strict:!1}))throw new _s({address:n});if(e[n])throw new Y2e({address:n});e[n]=p5e(r)}return e}class g5e extends Ae{constructor(){super(\"`baseFeeMultiplier` must be greater than 1.\",{name:\"BaseFeeScalarError\"})}}class ZN extends Ae{constructor(){super(\"Chain does not support EIP-1559 fees.\",{name:\"Eip1559FeesNotSupportedError\"})}}class m5e extends Ae{constructor({maxPriorityFeePerGas:e}){super(`\\`maxFeePerGas\\` cannot be less than the \\`maxPriorityFeePerGas\\` (${ac(e)} gwei).`,{name:\"MaxFeePerGasTooLowError\"})}}class Nee extends Ae{constructor({blockHash:e,blockNumber:n}){let r=\"Block\";e&&(r=`Block at hash \"${e}\"`),n&&(r=`Block at number \"${n}\"`),super(`${r} could not be found.`,{name:\"BlockNotFoundError\"})}}async function ll(t,{blockHash:e,blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\",includeTransactions:i}={}){var l,d,h;const s=i??!1,o=n!==void 0?je(n):void 0;let a=null;if(e?a=await t.request({method:\"eth_getBlockByHash\",params:[e,s]},{dedupe:!0}):a=await t.request({method:\"eth_getBlockByNumber\",params:[o||r,s]},{dedupe:!!o}),!a)throw new Nee({blockHash:e,blockNumber:n});return(((h=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:h.format)||NN)(a,\"getBlock\")}async function YN(t){const e=await t.request({method:\"eth_gasPrice\"});return BigInt(e)}async function y5e(t,e){return Ree(t,e)}async function Ree(t,e){var s,o;const{block:n,chain:r=t.chain,request:i}=e||{};try{const a=((s=r==null?void 0:r.fees)==null?void 0:s.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a==\"function\"){const l=n||await Et(t,ll,\"getBlock\")({}),d=await a({block:l,client:t,request:i});if(d===null)throw new Error;return d}if(typeof a<\"u\")return a;const c=await t.request({method:\"eth_maxPriorityFeePerGas\"});return hs(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):Et(t,ll,\"getBlock\")({}),Et(t,YN,\"getGasPrice\")({})]);if(typeof a.baseFeePerGas!=\"bigint\")throw new ZN;const l=c-a.baseFeePerGas;return l<0n?0n:l}}async function b5e(t,e){return XI(t,e)}async function XI(t,e){var p,m;const{block:n,chain:r=t.chain,request:i,type:s=\"eip1559\"}=e||{},o=await(async()=>{var b,y;return typeof((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)==\"function\"?r.fees.baseFeeMultiplier({block:n,client:t,request:i}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new g5e;const c=10**(((p=o.toString().split(\".\")[1])==null?void 0:p.length)??0),l=b=>b*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await Et(t,ll,\"getBlock\")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)==\"function\"){const b=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:i,type:s});if(b!==null)return b}if(s===\"eip1559\"){if(typeof d.baseFeePerGas!=\"bigint\")throw new ZN;const b=typeof(i==null?void 0:i.maxPriorityFeePerGas)==\"bigint\"?i.maxPriorityFeePerGas:await Ree(t,{block:d,chain:r,request:i}),y=l(d.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??y+b,maxPriorityFeePerGas:b}}return{gasPrice:(i==null?void 0:i.gasPrice)??l(await Et(t,YN,\"getGasPrice\")({}))}}async function kee(t,{address:e,blockTag:n=\"latest\",blockNumber:r}){const i=await t.request({method:\"eth_getTransactionCount\",params:[e,typeof r==\"bigint\"?je(r):n]},{dedupe:!!r});return Cl(i)}async function Mee(t){const e=await t.request({method:\"eth_chainId\"},{dedupe:!0});return Cl(e)}const w5e=[\"blobVersionedHashes\",\"chainId\",\"fees\",\"gas\",\"nonce\",\"type\"],rz=new Map;async function Dee(t,e){const{account:n=t.account,blobs:r,chain:i,gas:s,kzg:o,nonce:a,nonceManager:c,parameters:l=w5e,type:d}=e,h=n&&Tc(n),p={...e,...h?{from:h==null?void 0:h.address}:{}};let m;async function b(){return m||(m=await Et(t,ll,\"getBlock\")({blockTag:\"latest\"}),m)}let y;async function E(){return y||(i?i.id:typeof e.chainId<\"u\"?e.chainId:(y=await Et(t,Mee,\"getChainId\")({}),y))}if(l.includes(\"nonce\")&&typeof a>\"u\"&&h)if(c){const v=await E();p.nonce=await c.consume({address:h.address,chainId:v,client:t})}else p.nonce=await Et(t,kee,\"getTransactionCount\")({address:h.address,blockTag:\"pending\"});if((l.includes(\"blobVersionedHashes\")||l.includes(\"sidecars\"))&&r&&o){const v=MN({blobs:r,kzg:o});if(l.includes(\"blobVersionedHashes\")){const _=zQ({commitments:v,to:\"hex\"});p.blobVersionedHashes=_}if(l.includes(\"sidecars\")){const _=DN({blobs:r,commitments:v,kzg:o}),C=KQ({blobs:r,commitments:v,proofs:_,to:\"hex\"});p.sidecars=C}}if(l.includes(\"chainId\")&&(p.chainId=await E()),(l.includes(\"fees\")||l.includes(\"type\"))&&typeof d>\"u\")try{p.type=XQ(p)}catch{let v=rz.get(t.uid);if(typeof v>\"u\"){const _=await b();v=typeof(_==null?void 0:_.baseFeePerGas)==\"bigint\",rz.set(t.uid,v)}p.type=v?\"eip1559\":\"legacy\"}if(l.includes(\"fees\"))if(p.type!==\"legacy\"&&p.type!==\"eip2930\"){if(typeof p.maxFeePerGas>\"u\"||typeof p.maxPriorityFeePerGas>\"u\"){const v=await b(),{maxFeePerGas:_,maxPriorityFeePerGas:C}=await XI(t,{block:v,chain:i,request:p});if(typeof e.maxPriorityFeePerGas>\"u\"&&e.maxFeePerGas&&e.maxFeePerGas<C)throw new m5e({maxPriorityFeePerGas:C});p.maxPriorityFeePerGas=C,p.maxFeePerGas=_}}else{if(typeof e.maxFeePerGas<\"u\"||typeof e.maxPriorityFeePerGas<\"u\")throw new ZN;if(typeof e.gasPrice>\"u\"){const v=await b(),{gasPrice:_}=await XI(t,{block:v,chain:i,request:p,type:\"legacy\"});p.gasPrice=_}}return l.includes(\"gas\")&&typeof s>\"u\"&&(p.gas=await Et(t,JN,\"estimateGas\")({...p,account:h,prepare:(h==null?void 0:h.type)===\"local\"?[]:[\"blobVersionedHashes\"]})),V2(p),delete p.parameters,p}async function JN(t,e){var o,a,c;const{account:n=t.account,prepare:r=!0}=e,i=n?Tc(n):void 0,s=(()=>{if(Array.isArray(r))return r;if((i==null?void 0:i.type)!==\"local\")return[\"blobVersionedHashes\"]})();try{const{accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:p,blockNumber:m,blockTag:b,data:y,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:A,value:I,stateOverride:O,...D}=r?await Dee(t,{...e,parameters:s}):e,U=(typeof m==\"bigint\"?je(m):void 0)||b,F=GN(O),H=await(async()=>{if(D.to)return D.to;if(d&&d.length>0)return await Oee({authorization:d[0]}).catch(()=>{throw new Ae(\"`to` is required. Could not infer from `authorizationList`\")})})();V2(e);const V=(c=(a=(o=t.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,$=(V||b_)({...WN(D,{format:V}),account:i,accessList:l,authorizationList:d,blobs:h,blobVersionedHashes:p,data:y,gas:E,gasPrice:v,maxFeePerBlobGas:_,maxFeePerGas:C,maxPriorityFeePerGas:S,nonce:A,to:H,value:I},\"estimateGas\");return BigInt(await t.request({method:\"eth_estimateGas\",params:F?[$,U??t.experimental_blockTag??\"latest\",F]:U?[$,U]:[$]}))}catch(l){throw h5e(l,{...e,account:i,chain:t.chain})}}async function v5e(t,e){const{abi:n,address:r,args:i,functionName:s,dataSuffix:o,...a}=e,c=jo({abi:n,args:i,functionName:s});try{return await Et(t,JN,\"estimateGas\")({data:`${c}${o?o.replace(\"0x\",\"\"):\"\"}`,to:r,...a})}catch(l){const d=a.account?Tc(a.account):void 0;throw $m(l,{abi:n,address:r,args:i,docsPath:\"/docs/contract/estimateContractGas\",functionName:s,sender:d==null?void 0:d.address})}}function W2(t,e){if(!Kr(t,{strict:!1}))throw new _s({address:t});if(!Kr(e,{strict:!1}))throw new _s({address:e});return t.toLowerCase()===e.toLowerCase()}const iz=\"/docs/contract/decodeEventLog\";function O_(t){const{abi:e,data:n,strict:r,topics:i}=t,s=r??!0,[o,...a]=i;if(!o)throw new Rve({docsPath:iz});const c=e.find(y=>y.type===\"event\"&&o===I_(bc(y)));if(!(c&&\"name\"in c)||c.type!==\"event\")throw new ree(o,{docsPath:iz});const{name:l,inputs:d}=c,h=d==null?void 0:d.some(y=>!(\"name\"in y&&y.name)),p=h?[]:{},m=d.map((y,E)=>[y,E]).filter(([y])=>\"indexed\"in y&&y.indexed);for(let y=0;y<m.length;y++){const[E,v]=m[y],_=a[y];if(!_)throw new A_({abiItem:c,param:E});p[h?v:E.name||v]=E5e({param:E,value:_})}const b=d.filter(y=>!(\"indexed\"in y&&y.indexed));if(b.length>0){if(n&&n!==\"0x\")try{const y=q2(b,n);if(y)if(h)for(let E=0;E<d.length;E++)p[E]=p[E]??y.shift();else for(let E=0;E<b.length;E++)p[b[E].name]=y[E]}catch(y){if(s)throw y instanceof tee||y instanceof kQ?new dv({abiItem:c,data:n,params:b,size:sr(n)}):y}else if(s)throw new dv({abiItem:c,data:\"0x\",params:b,size:0})}return{eventName:l,args:Object.values(p).length>0?p:void 0}}function E5e({param:t,value:e}){return t.type===\"string\"||t.type===\"bytes\"||t.type===\"tuple\"||t.type.match(/^(.*)\\[(\\d+)?\\]$/)?e:(q2([t],e)||[])[0]}function XN(t){const{abi:e,args:n,logs:r,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(d=>d.type===\"event\"&&o.topics[0]===I_(d));if(!c)return null;const l=O_({...o,abi:[c],strict:i});return s&&!s.includes(l.eventName)||!_5e({args:l.args,inputs:c.inputs,matchArgs:n})?null:{...l,...o}}catch(c){let l,d;if(c instanceof ree)return null;if(c instanceof dv||c instanceof A_){if(i)return null;l=c.abiItem.name,d=(a=c.abiItem.inputs)==null?void 0:a.some(h=>!(\"name\"in h&&h.name))}return{...o,args:d?[]:{},eventName:l}}}).filter(Boolean)}function _5e(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function i(s,o,a){try{return s.type===\"address\"?W2(o,a):s.type===\"string\"||s.type===\"bytes\"?pi(Np(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((s,o)=>{if(s==null)return!0;const a=n[o];return a?(Array.isArray(s)?s:[s]).some(l=>i(a,l,e[o])):!1}):typeof e==\"object\"&&!Array.isArray(e)&&typeof r==\"object\"&&!Array.isArray(r)?Object.entries(r).every(([s,o])=>{if(o==null)return!0;const a=n.find(l=>l.name===s);return a?(Array.isArray(o)?o:[o]).some(l=>i(a,l,e[s])):!1}):!1}async function QN(t,{address:e,blockHash:n,fromBlock:r,toBlock:i,event:s,events:o,args:a,strict:c}={}){const l=c??!1,d=o??(s?[s]:void 0);let h=[];d&&(h=[d.flatMap(y=>K2({abi:[y],eventName:y.name,args:o?void 0:a}))],s&&(h=h[0]));let p;n?p=await t.request({method:\"eth_getLogs\",params:[{address:e,topics:h,blockHash:n}]}):p=await t.request({method:\"eth_getLogs\",params:[{address:e,topics:h,fromBlock:typeof r==\"bigint\"?je(r):r,toBlock:typeof i==\"bigint\"?je(i):i}]});const m=p.map(b=>td(b));return d?XN({abi:d,args:a,logs:m,strict:l}):m}async function Bee(t,e){const{abi:n,address:r,args:i,blockHash:s,eventName:o,fromBlock:a,toBlock:c,strict:l}=e,d=o?Rp({abi:n,name:o}):void 0,h=d?void 0:n.filter(p=>p.type===\"event\");return Et(t,QN,\"getLogs\")({address:r,args:i,blockHash:s,event:d,events:h,fromBlock:a,toBlock:c,strict:l})}const Ax=\"/docs/contract/decodeFunctionResult\";function kp(t){const{abi:e,args:n,functionName:r,data:i}=t;let s=e[0];if(r){const a=Rp({abi:e,args:n,name:r});if(!a)throw new xm(r,{docsPath:Ax});s=a}if(s.type!==\"function\")throw new xm(void 0,{docsPath:Ax});if(!s.outputs)throw new iee(s.name,{docsPath:Ax});const o=q2(s.outputs,i);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const C5e=\"0.1.1\";function S5e(){return C5e}let Gt=class QI extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof QI){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&\"details\"in n.cause&&typeof n.cause.details==\"string\"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof QI&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${i??\"\"}`,a=[e||\"An error occurred.\",...n.metaMessages?[\"\",...n.metaMessages]:[],...r||i?[\"\",r?`Details: ${r}`:void 0,i?`See: ${o}`:void 0]:[]].filter(c=>typeof c==\"string\").join(`\n`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docs\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"cause\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"BaseError\"}),Object.defineProperty(this,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${S5e()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=i,this.shortMessage=e}walk(e){return Lee(this,e)}};function Lee(t,e){return e!=null&&e(t)?t:t&&typeof t==\"object\"&&\"cause\"in t&&t.cause?Lee(t.cause,e):e?null:t}function G2(t,e){if(H1(t)>e)throw new z5e({givenSize:H1(t),maxSize:e})}const iu={zero:48,nine:57,A:65,F:70,a:97,f:102};function sz(t){if(t>=iu.zero&&t<=iu.nine)return t-iu.zero;if(t>=iu.A&&t<=iu.F)return t-(iu.A-10);if(t>=iu.a&&t<=iu.f)return t-(iu.a-10)}function x5e(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new F5e({size:t.length,targetSize:r,type:\"Bytes\"});const i=new Uint8Array(r);for(let s=0;s<r;s++){const o=n===\"right\";i[o?s:r-s-1]=t[o?s:t.length-s-1]}return i}function Uee(t,e={}){const{dir:n=\"left\"}=e;let r=t,i=0;for(let s=0;s<r.length-1&&r[n===\"left\"?s:r.length-s-1].toString()===\"0\";s++)i++;return r=n===\"left\"?r.slice(i):r.slice(0,r.length-i),r}function N_(t,e){if(zo(t)>e)throw new G5e({givenSize:zo(t),maxSize:e})}function A5e(t,e){if(typeof e==\"number\"&&e>0&&e>zo(t)-1)throw new Gee({offset:e,position:\"start\",size:zo(t)})}function $5e(t,e,n){if(typeof e==\"number\"&&typeof n==\"number\"&&zo(t)!==n-e)throw new Gee({offset:n,position:\"end\",size:zo(t)})}function jee(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const i=t.replace(\"0x\",\"\");if(i.length>r*2)throw new Z5e({size:Math.ceil(i.length/2),targetSize:r,type:\"Hex\"});return`0x${i[n===\"right\"?\"padEnd\":\"padStart\"](r*2,\"0\")}`}const I5e=\"#__bigint\";function zee(t,e,n){return JSON.stringify(t,(r,i)=>typeof i==\"bigint\"?i.toString()+I5e:i,n)}const T5e=new TextDecoder,P5e=new TextEncoder;function O5e(t){return t instanceof Uint8Array?t:typeof t==\"string\"?Fee(t):N5e(t)}function N5e(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function Fee(t,e={}){const{size:n}=e;let r=t;n&&(N_(t,n),r=G0(t,n));let i=r.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,o=new Uint8Array(s);for(let a=0,c=0;a<s;a++){const l=sz(i.charCodeAt(c++)),d=sz(i.charCodeAt(c++));if(l===void 0||d===void 0)throw new Gt(`Invalid byte sequence (\"${i[c-2]}${i[c-1]}\" in \"${i}\").`);o[a]=l*16+d}return o}function R5e(t,e={}){const{size:n}=e,r=P5e.encode(t);return typeof n==\"number\"?(G2(r,n),k5e(r,n)):r}function k5e(t,e){return x5e(t,{dir:\"right\",size:e})}function H1(t){return t.length}function M5e(t,e,n,r={}){const{strict:i}=r;return t.slice(e,n)}function D5e(t,e={}){const{size:n}=e;typeof n<\"u\"&&G2(t,n);const r=vc(t,e);return Vee(r,e)}function B5e(t,e={}){const{size:n}=e;let r=t;if(typeof n<\"u\"&&(G2(r,n),r=qee(r)),r.length>1||r[0]>1)throw new j5e(r);return!!r[0]}function Hu(t,e={}){const{size:n}=e;typeof n<\"u\"&&G2(t,n);const r=vc(t,e);return Kee(r,e)}function L5e(t,e={}){const{size:n}=e;let r=t;return typeof n<\"u\"&&(G2(r,n),r=U5e(r)),T5e.decode(r)}function qee(t){return Uee(t,{dir:\"left\"})}function U5e(t){return Uee(t,{dir:\"right\"})}class j5e extends Gt{constructor(e){super(`Bytes value \\`${e}\\` is not a valid boolean.`,{metaMessages:[\"The bytes array must contain a single byte of either a `0` or `1` value.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.InvalidBytesBooleanError\"})}}let z5e=class extends Gt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \\`${n}\\` bytes. Given size: \\`${e}\\` bytes.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.SizeOverflowError\"})}},F5e=class extends Gt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\\`${e}\\`) exceeds padding size (\\`${n}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Bytes.SizeExceedsPaddingSizeError\"})}};const q5e=new TextEncoder,H5e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function V5e(t,e={}){const{strict:n=!1}=e;if(!t)throw new oz(t);if(typeof t!=\"string\")throw new oz(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new az(t);if(!t.startsWith(\"0x\"))throw new az(t)}function wc(...t){return`0x${t.reduce((e,n)=>e+n.replace(\"0x\",\"\"),\"\")}`}function K5e(t){return t instanceof Uint8Array?vc(t):Array.isArray(t)?vc(new Uint8Array(t)):t}function Hee(t,e={}){const n=`0x${Number(t)}`;return typeof e.size==\"number\"?(N_(n,e.size),W0(n,e.size)):n}function vc(t,e={}){let n=\"\";for(let i=0;i<t.length;i++)n+=H5e[t[i]];const r=`0x${n}`;return typeof e.size==\"number\"?(N_(r,e.size),G0(r,e.size)):r}function ds(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t==\"number\"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s==\"bigint\"&&n?-s-1n:0;if(s&&i>s||i<o){const l=typeof t==\"bigint\"?\"n\":\"\";throw new Wee({max:s?`${s}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${t}${l}`})}const c=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?W0(c,r):c}function eR(t,e={}){return vc(q5e.encode(t),e)}function W0(t,e){return jee(t,{dir:\"left\",size:e})}function G0(t,e){return jee(t,{dir:\"right\",size:e})}function pl(t,e,n,r={}){const{strict:i}=r;A5e(t,e);const s=`0x${t.replace(\"0x\",\"\").slice((e??0)*2,(n??t.length)*2)}`;return i&&$5e(s,e,n),s}function zo(t){return Math.ceil((t.length-2)/2)}function Vee(t,e={}){const{signed:n}=e;e.size&&N_(t,e.size);const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,o=s>>1n;return r<=o?r:r-s-1n}function Kee(t,e={}){const{signed:n,size:r}=e;return Number(!n&&!r?t:Vee(t,e))}function W5e(t,e={}){const{strict:n=!1}=e;try{return V5e(t,{strict:n}),!0}catch{return!1}}let Wee=class extends Gt{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \\`${s}\\` is not in safe${i?` ${i*8}-bit`:\"\"}${r?\" signed\":\" unsigned\"} integer range ${e?`(\\`${n}\\` to \\`${e}\\`)`:`(above \\`${n}\\`)`}`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.IntegerOutOfRangeError\"})}};class oz extends Gt{constructor(e){super(`Value \\`${typeof e==\"object\"?zee(e):e}\\` of type \\`${typeof e}\\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `\"0x${string}\"`.']}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.InvalidHexTypeError\"})}}class az extends Gt{constructor(e){super(`Value \\`${e}\\` is an invalid hex value.`,{metaMessages:['Hex values must start with `\"0x\"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.InvalidHexValueError\"})}}let G5e=class extends Gt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \\`${n}\\` bytes. Given size: \\`${e}\\` bytes.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SizeOverflowError\"})}};class Gee extends Gt{constructor({offset:e,position:n,size:r}){super(`Slice ${n===\"start\"?\"starting\":\"ending\"} at offset \\`${e}\\` is out-of-bounds (size: \\`${r}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SliceOffsetOutOfBoundsError\"})}}let Z5e=class extends Gt{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\\`${e}\\`) exceeds padding size (\\`${n}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Hex.SizeExceedsPaddingSizeError\"})}};function Y5e(t){return{address:t.address,amount:ds(t.amount),index:ds(t.index),validatorIndex:ds(t.validatorIndex)}}function Zee(t){return{...typeof t.baseFeePerGas==\"bigint\"&&{baseFeePerGas:ds(t.baseFeePerGas)},...typeof t.blobBaseFee==\"bigint\"&&{blobBaseFee:ds(t.blobBaseFee)},...typeof t.feeRecipient==\"string\"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit==\"bigint\"&&{gasLimit:ds(t.gasLimit)},...typeof t.number==\"bigint\"&&{number:ds(t.number)},...typeof t.prevRandao==\"bigint\"&&{prevRandao:ds(t.prevRandao)},...typeof t.time==\"bigint\"&&{time:ds(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Y5e)}}}const v8=[{inputs:[{components:[{name:\"target\",type:\"address\"},{name:\"allowFailure\",type:\"bool\"},{name:\"callData\",type:\"bytes\"}],name:\"calls\",type:\"tuple[]\"}],name:\"aggregate3\",outputs:[{components:[{name:\"success\",type:\"bool\"},{name:\"returnData\",type:\"bytes\"}],name:\"returnData\",type:\"tuple[]\"}],stateMutability:\"view\",type:\"function\"},{inputs:[],name:\"getCurrentBlockTimestamp\",outputs:[{internalType:\"uint256\",name:\"timestamp\",type:\"uint256\"}],stateMutability:\"view\",type:\"function\"}],eT=[{name:\"query\",type:\"function\",stateMutability:\"view\",inputs:[{type:\"tuple[]\",name:\"queries\",components:[{type:\"address\",name:\"sender\"},{type:\"string[]\",name:\"urls\"},{type:\"bytes\",name:\"data\"}]}],outputs:[{type:\"bool[]\",name:\"failures\"},{type:\"bytes[]\",name:\"responses\"}]},{name:\"HttpError\",type:\"error\",inputs:[{type:\"uint16\",name:\"status\"},{type:\"string\",name:\"message\"}]}],Yee=[{inputs:[{name:\"dns\",type:\"bytes\"}],name:\"DNSDecodingFailed\",type:\"error\"},{inputs:[{name:\"ens\",type:\"string\"}],name:\"DNSEncodingFailed\",type:\"error\"},{inputs:[],name:\"EmptyAddress\",type:\"error\"},{inputs:[{name:\"status\",type:\"uint16\"},{name:\"message\",type:\"string\"}],name:\"HttpError\",type:\"error\"},{inputs:[],name:\"InvalidBatchGatewayResponse\",type:\"error\"},{inputs:[{name:\"errorData\",type:\"bytes\"}],name:\"ResolverError\",type:\"error\"},{inputs:[{name:\"name\",type:\"bytes\"},{name:\"resolver\",type:\"address\"}],name:\"ResolverNotContract\",type:\"error\"},{inputs:[{name:\"name\",type:\"bytes\"}],name:\"ResolverNotFound\",type:\"error\"},{inputs:[{name:\"primary\",type:\"string\"},{name:\"primaryAddress\",type:\"bytes\"}],name:\"ReverseAddressMismatch\",type:\"error\"},{inputs:[{internalType:\"bytes4\",name:\"selector\",type:\"bytes4\"}],name:\"UnsupportedResolverProfile\",type:\"error\"}],Jee=[...Yee,{name:\"resolveWithGateways\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes\"},{name:\"data\",type:\"bytes\"},{name:\"gateways\",type:\"string[]\"}],outputs:[{name:\"\",type:\"bytes\"},{name:\"address\",type:\"address\"}]}],J5e=[...Yee,{name:\"reverseWithGateways\",type:\"function\",stateMutability:\"view\",inputs:[{type:\"bytes\",name:\"reverseName\"},{type:\"uint256\",name:\"coinType\"},{type:\"string[]\",name:\"gateways\"}],outputs:[{type:\"string\",name:\"resolvedName\"},{type:\"address\",name:\"resolver\"},{type:\"address\",name:\"reverseResolver\"}]}],cz=[{name:\"text\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"},{name:\"key\",type:\"string\"}],outputs:[{name:\"\",type:\"string\"}]}],lz=[{name:\"addr\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"}],outputs:[{name:\"\",type:\"address\"}]},{name:\"addr\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"name\",type:\"bytes32\"},{name:\"coinType\",type:\"uint256\"}],outputs:[{name:\"\",type:\"bytes\"}]}],Xee=[{name:\"isValidSignature\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"hash\",type:\"bytes32\"},{name:\"signature\",type:\"bytes\"}],outputs:[{name:\"\",type:\"bytes4\"}]}],uz=[{inputs:[{name:\"_signer\",type:\"address\"},{name:\"_hash\",type:\"bytes32\"},{name:\"_signature\",type:\"bytes\"}],stateMutability:\"nonpayable\",type:\"constructor\"},{inputs:[{name:\"_signer\",type:\"address\"},{name:\"_hash\",type:\"bytes32\"},{name:\"_signature\",type:\"bytes\"}],outputs:[{type:\"bool\"}],stateMutability:\"nonpayable\",type:\"function\",name:\"isValidSig\"}],Qee=[{type:\"event\",name:\"Approval\",inputs:[{indexed:!0,name:\"owner\",type:\"address\"},{indexed:!0,name:\"spender\",type:\"address\"},{indexed:!1,name:\"value\",type:\"uint256\"}]},{type:\"event\",name:\"Transfer\",inputs:[{indexed:!0,name:\"from\",type:\"address\"},{indexed:!0,name:\"to\",type:\"address\"},{indexed:!1,name:\"value\",type:\"uint256\"}]},{type:\"function\",name:\"allowance\",stateMutability:\"view\",inputs:[{name:\"owner\",type:\"address\"},{name:\"spender\",type:\"address\"}],outputs:[{type:\"uint256\"}]},{type:\"function\",name:\"approve\",stateMutability:\"nonpayable\",inputs:[{name:\"spender\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{type:\"bool\"}]},{type:\"function\",name:\"balanceOf\",stateMutability:\"view\",inputs:[{name:\"account\",type:\"address\"}],outputs:[{type:\"uint256\"}]},{type:\"function\",name:\"decimals\",stateMutability:\"view\",inputs:[],outputs:[{type:\"uint8\"}]},{type:\"function\",name:\"name\",stateMutability:\"view\",inputs:[],outputs:[{type:\"string\"}]},{type:\"function\",name:\"symbol\",stateMutability:\"view\",inputs:[],outputs:[{type:\"string\"}]},{type:\"function\",name:\"totalSupply\",stateMutability:\"view\",inputs:[],outputs:[{type:\"uint256\"}]},{type:\"function\",name:\"transfer\",stateMutability:\"nonpayable\",inputs:[{name:\"recipient\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{type:\"bool\"}]},{type:\"function\",name:\"transferFrom\",stateMutability:\"nonpayable\",inputs:[{name:\"sender\",type:\"address\"},{name:\"recipient\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{type:\"bool\"}]}],X5e=\"0x82ad56cb\",ete=\"0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe\",Q5e=\"0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe\",e6e=\"0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572\",tR=\"0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033\",$x=\"/docs/contract/encodeDeployData\";function nR(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const i=e.find(o=>\"type\"in o&&o.type===\"constructor\");if(!i)throw new Ive({docsPath:$x});if(!(\"inputs\"in i))throw new zj({docsPath:$x});if(!i.inputs||i.inputs.length===0)throw new zj({docsPath:$x});const s=fh(i.inputs,n);return Ic([r,s])}function tte(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const Ix=new Map;function nte({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const d=c();o();const h=d.map(({args:p})=>p);h.length!==0&&t(h).then(p=>{i&&Array.isArray(p)&&p.sort(i);for(let m=0;m<d.length;m++){const{resolve:b}=d[m];b==null||b([p[m],p])}}).catch(p=>{for(let m=0;m<d.length;m++){const{reject:b}=d[m];b==null||b(p)}})},o=()=>Ix.delete(e),a=()=>c().map(({args:d})=>d),c=()=>Ix.get(e)||[],l=d=>Ix.set(e,[...c(),d]);return{flush:o,async schedule(d){const{promise:h,resolve:p,reject:m}=tte();return(n==null?void 0:n([...a(),d]))&&s(),c().length>0?(l({args:d,resolve:p,reject:m}),h):(l({args:d,resolve:p,reject:m}),setTimeout(s,r),h)}}}async function Z2(t,e){var V,M,$,P;const{account:n=t.account,authorizationList:r,batch:i=!!((V=t.batch)!=null&&V.multicall),blockNumber:s,blockTag:o=t.experimental_blockTag??\"latest\",accessList:a,blobs:c,blockOverrides:l,code:d,data:h,factory:p,factoryData:m,gas:b,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:v,maxPriorityFeePerGas:_,nonce:C,to:S,value:A,stateOverride:I,...O}=e,D=n?Tc(n):void 0;if(d&&(p||m))throw new Ae(\"Cannot provide both `code` & `factory`/`factoryData` as parameters.\");if(d&&S)throw new Ae(\"Cannot provide both `code` & `to` as parameters.\");const N=d&&h,U=p&&m&&S&&h,F=N||U,H=N?rte({code:d,data:h}):U?r6e({data:h,factory:p,factoryData:m,to:S}):h;try{V2(e);const T=(typeof s==\"bigint\"?je(s):void 0)||o,k=l?Zee(l):void 0,z=GN(I),L=(P=($=(M=t.chain)==null?void 0:M.formatters)==null?void 0:$.transactionRequest)==null?void 0:P.format,j=(L||b_)({...WN(O,{format:L}),accessList:a,account:D,authorizationList:r,blobs:c,data:H,gas:b,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:v,maxPriorityFeePerGas:_,nonce:C,to:F?void 0:S,value:A},\"call\");if(i&&t6e({request:j})&&!z&&!k)try{return await n6e(t,{...j,blockNumber:s,blockTag:o})}catch(Z){if(!(Z instanceof WQ)&&!(Z instanceof DI))throw Z}const K=(()=>{const Z=[j,T];return z&&k?[...Z,z,k]:z?[...Z,z]:k?[...Z,{},k]:Z})(),G=await t.request({method:\"eth_call\",params:K});return G===\"0x\"?{data:void 0}:{data:G}}catch(q){const T=i6e(q),{offchainLookup:k,offchainLookupSignature:z}=await De(async()=>{const{offchainLookup:L,offchainLookupSignature:B}=await Promise.resolve().then(()=>e3e);return{offchainLookup:L,offchainLookupSignature:B}},void 0,import.meta.url);if(t.ccipRead!==!1&&(T==null?void 0:T.slice(0,10))===z&&S)return{data:await k(t,{data:T,to:S})};throw F&&(T==null?void 0:T.slice(0,10))===\"0x101bb98d\"?new t5e({factory:p}):xee(q,{...e,account:D,chain:t.chain})}}function t6e({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(X5e)||!n||Object.values(r).filter(i=>typeof i<\"u\").length>0)}async function n6e(t,e){var y;const{batchSize:n=1024,deployless:r=!1,wait:i=0}=typeof((y=t.batch)==null?void 0:y.multicall)==\"object\"?t.batch.multicall:{},{blockNumber:s,blockTag:o=t.experimental_blockTag??\"latest\",data:a,to:c}=e,l=(()=>{if(r)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return py({blockNumber:s,chain:t.chain,contract:\"multicall3\"});throw new WQ})(),h=(typeof s==\"bigint\"?je(s):void 0)||o,{schedule:p}=nte({id:`${t.uid}.${h}`,wait:i,shouldSplitBatch(E){return E.reduce((_,{data:C})=>_+(C.length-2),0)>n*2},fn:async E=>{const v=E.map(S=>({allowFailure:!0,callData:S.data,target:S.to})),_=jo({abi:v8,args:[v],functionName:\"aggregate3\"}),C=await t.request({method:\"eth_call\",params:[{...l===null?{data:rte({code:tR,data:_})}:{to:l,data:_}},h]});return kp({abi:v8,args:[v],functionName:\"aggregate3\",data:C||\"0x\"})}}),[{returnData:m,success:b}]=await p({data:a,to:c});if(!b)throw new T_({data:m});return m===\"0x\"?{data:void 0}:{data:m}}function rte(t){const{code:e,data:n}=t;return nR({abi:yee([\"constructor(bytes, bytes)\"]),bytecode:ete,args:[e,n]})}function r6e(t){const{data:e,factory:n,factoryData:r,to:i}=t;return nR({abi:yee([\"constructor(address, bytes, address, bytes)\"]),bytecode:Q5e,args:[i,e,n,r]})}function i6e(t){var n;if(!(t instanceof Ae))return;const e=t.walk();return typeof(e==null?void 0:e.data)==\"object\"?(n=e.data)==null?void 0:n.data:e.data}async function Ec(t,e){const{abi:n,address:r,args:i,functionName:s,...o}=e,a=jo({abi:n,args:i,functionName:s});try{const{data:c}=await Et(t,Z2,\"call\")({...o,data:a,to:r});return kp({abi:n,args:i,functionName:s,data:c||\"0x\"})}catch(c){throw $m(c,{abi:n,address:r,args:i,docsPath:\"/docs/contract/readContract\",functionName:s})}}async function s6e(t,e){const{abi:n,address:r,args:i,dataSuffix:s,functionName:o,...a}=e,c=a.account?Tc(a.account):t.account,l=jo({abi:n,args:i,functionName:o});try{const{data:d}=await Et(t,Z2,\"call\")({batch:!1,data:`${l}${s?s.replace(\"0x\",\"\"):\"\"}`,to:r,...a,account:c}),h=kp({abi:n,args:i,functionName:o,data:d||\"0x\"}),p=n.filter(m=>\"name\"in m&&m.name===e.functionName);return{result:h,request:{abi:p,address:r,args:i,dataSuffix:s,functionName:o,...a,account:c}}}catch(d){throw $m(d,{abi:n,address:r,args:i,docsPath:\"/docs/contract/simulateContract\",functionName:o,sender:c==null?void 0:c.address})}}const Tx=new Map,dz=new Map;let o6e=0;function Qf(t,e,n){const r=++o6e,i=()=>Tx.get(t)||[],s=()=>{const d=i();Tx.set(t,d.filter(h=>h.id!==r))},o=()=>{const d=i();if(!d.some(p=>p.id===r))return;const h=dz.get(t);if(d.length===1&&h){const p=h();p instanceof Promise&&p.catch(()=>{})}s()},a=i();if(Tx.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const d in e)c[d]=((...h)=>{var m,b;const p=i();if(p.length!==0)for(const y of p)(b=(m=y.fns)[d])==null||b.call(m,...h)});const l=n(c);return typeof l==\"function\"&&dz.set(t,l),o}async function tT(t){return new Promise(e=>setTimeout(e,t))}function Y2(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let i=!0;const s=()=>i=!1;return(async()=>{let a;e&&(a=await t({unpoll:s}));const c=await(n==null?void 0:n(a))??r;await tT(c);const l=async()=>{i&&(await t({unpoll:s}),await tT(r),l())};l()})(),s}const a6e=new Map,c6e=new Map;function l6e(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:o=>s.set(i,o)}),n=e(t,a6e),r=e(t,c6e);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function u6e(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=l6e(e),i=r.response.get();if(i&&n>0&&Date.now()-i.created.getTime()<n)return i.data;let s=r.promise.get();s||(s=t(),r.promise.set(s));try{const o=await s;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const d6e=t=>`blockNumber.${t}`;async function J2(t,{cacheTime:e=t.cacheTime}={}){const n=await u6e(()=>t.request({method:\"eth_blockNumber\"}),{cacheKey:d6e(t.uid),cacheTime:e});return BigInt(n)}async function R_(t,{filter:e}){const n=\"strict\"in e&&e.strict,r=await e.request({method:\"eth_getFilterChanges\",params:[e.id]});if(typeof r[0]==\"string\")return r;const i=r.map(s=>td(s));return!(\"abi\"in e)||!e.abi?i:XN({abi:e.abi,logs:i,strict:n})}async function k_(t,{filter:e}){return e.request({method:\"eth_uninstallFilter\",params:[e.id]})}function f6e(t,e){const{abi:n,address:r,args:i,batch:s=!0,eventName:o,fromBlock:a,onError:c,onLogs:l,poll:d,pollingInterval:h=t.pollingInterval,strict:p}=e;return(typeof d<\"u\"?d:typeof a==\"bigint\"?!0:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")))?(()=>{const E=p??!1,v=qr([\"watchContractEvent\",r,i,s,t.uid,o,h,E,a]);return Qf(v,{onLogs:l,onError:c},_=>{let C;a!==void 0&&(C=a-1n);let S,A=!1;const I=Y2(async()=>{var O;if(!A){try{S=await Et(t,Tee,\"createContractEventFilter\")({abi:n,address:r,args:i,eventName:o,strict:E,fromBlock:a})}catch{}A=!0;return}try{let D;if(S)D=await Et(t,R_,\"getFilterChanges\")({filter:S});else{const N=await Et(t,J2,\"getBlockNumber\")({});C&&C<N?D=await Et(t,Bee,\"getContractEvents\")({abi:n,address:r,args:i,eventName:o,fromBlock:C+1n,toBlock:N,strict:E}):D=[],C=N}if(D.length===0)return;if(s)_.onLogs(D);else for(const N of D)_.onLogs([N])}catch(D){S&&D instanceof K0&&(A=!1),(O=_.onError)==null||O.call(_,D)}},{emitOnBegin:!0,interval:h});return async()=>{S&&await Et(t,k_,\"uninstallFilter\")({filter:S}),I()}})})():(()=>{const E=p??!1,v=qr([\"watchContractEvent\",r,i,s,t.uid,o,h,E]);let _=!0,C=()=>_=!1;return Qf(v,{onLogs:l,onError:c},S=>((async()=>{try{const A=(()=>{if(t.transport.type===\"fallback\"){const D=t.transport.transports.find(N=>N.config.type===\"webSocket\"||N.config.type===\"ipc\");return D?D.value:t.transport}return t.transport})(),I=o?K2({abi:n,eventName:o,args:i}):[],{unsubscribe:O}=await A.subscribe({params:[\"logs\",{address:r,topics:I}],onData(D){var U;if(!_)return;const N=D.result;try{const{eventName:F,args:H}=O_({abi:n,data:N.data,topics:N.topics,strict:p}),V=td(N,{args:H,eventName:F});S.onLogs([V])}catch(F){let H,V;if(F instanceof dv||F instanceof A_){if(p)return;H=F.abiItem.name,V=(U=F.abiItem.inputs)==null?void 0:U.some($=>!(\"name\"in $&&$.name))}const M=td(N,{args:V?[]:{},eventName:H});S.onLogs([M])}},onError(D){var N;(N=S.onError)==null||N.call(S,D)}});C=O,_||C()}catch(A){c==null||c(A)}})(),()=>C()))})()}async function h6e(t,{serializedTransaction:e}){return t.request({method:\"eth_sendRawTransaction\",params:[e]},{retryCount:0})}function nT(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const d=typeof e==\"function\"?e({count:a,error:l}):e;d&&await tT(d),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}const rT=256;let c3=rT,l3;function ite(t=11){if(!l3||c3+t>rT*2){l3=\"\",c3=0;for(let e=0;e<rT;e++)l3+=(256+Math.random()*256|0).toString(16).substring(1)}return l3.substring(c3,c3+++t)}function p6e(t){const{batch:e,chain:n,ccipRead:r,key:i=\"base\",name:s=\"Base Client\",type:o=\"base\"}=t,a=t.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)==\"number\"?\"pending\":void 0),c=(n==null?void 0:n.blockTime)??12e3,l=Math.min(Math.max(Math.floor(c/2),500),4e3),d=t.pollingInterval??l,h=t.cacheTime??d,p=t.account?Tc(t.account):void 0,{config:m,request:b,value:y}=t.transport({chain:n,pollingInterval:d}),E={...m,...y},v={account:p,batch:e,cacheTime:h,ccipRead:r,chain:n,key:i,name:s,pollingInterval:d,request:b,transport:E,type:o,uid:ite(),...a?{experimental_blockTag:a}:{}};function _(C){return S=>{const A=S(C);for(const O in v)delete A[O];const I={...C,...A};return Object.assign(I,{extend:_(I)})}}return Object.assign(v,{extend:_(v)})}function rR(t){var n,r,i,s,o,a;if(!(t instanceof Ae))return!1;const e=t.walk(c=>c instanceof JI);return e instanceof JI?((n=e.data)==null?void 0:n.errorName)===\"HttpError\"||((r=e.data)==null?void 0:r.errorName)===\"ResolverError\"||((i=e.data)==null?void 0:i.errorName)===\"ResolverNotContract\"||((s=e.data)==null?void 0:s.errorName)===\"ResolverNotFound\"||((o=e.data)==null?void 0:o.errorName)===\"ReverseAddressMismatch\"||((a=e.data)==null?void 0:a.errorName)===\"UnsupportedResolverProfile\":!1}function ste(t){const{abi:e,data:n}=t,r=H0(n,0,4),i=e.find(s=>s.type===\"function\"&&r===F2(bc(s)));if(!i)throw new kve(r,{docsPath:\"/docs/contract/decodeFunctionData\"});return{functionName:i.name,args:\"inputs\"in i&&i.inputs&&i.inputs.length>0?q2(i.inputs,H0(n,4)):void 0}}const Px=\"/docs/contract/encodeErrorResult\";function fz(t){const{abi:e,errorName:n,args:r}=t;let i=e[0];if(n){const c=Rp({abi:e,args:r,name:n});if(!c)throw new Fj(n,{docsPath:Px});i=c}if(i.type!==\"error\")throw new Fj(void 0,{docsPath:Px});const s=bc(i),o=F2(s);let a=\"0x\";if(r&&r.length>0){if(!i.inputs)throw new Nve(i.name,{docsPath:Px});a=fh(i.inputs,r)}return Ic([o,a])}const Ox=\"/docs/contract/encodeFunctionResult\";function g6e(t){const{abi:e,functionName:n,result:r}=t;let i=e[0];if(n){const o=Rp({abi:e,name:n});if(!o)throw new xm(n,{docsPath:Ox});i=o}if(i.type!==\"function\")throw new xm(void 0,{docsPath:Ox});if(!i.outputs)throw new iee(i.name,{docsPath:Ox});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new see(r)})();return fh(i.outputs,s)}const X2=\"x-batch-gateway:true\";async function ote(t){const{data:e,ccipRequest:n}=t,{args:[r]}=ste({abi:eT,data:e}),i=[],s=[];return await Promise.all(r.map(async(o,a)=>{try{s[a]=o.urls.includes(X2)?await ote({data:o.data,ccipRequest:n}):await n(o),i[a]=!1}catch(c){i[a]=!0,s[a]=m6e(c)}})),g6e({abi:eT,functionName:\"query\",result:[i,s]})}function m6e(t){return t.name===\"HttpRequestError\"&&t.status?fz({abi:eT,errorName:\"HttpError\",args:[t.status,t.shortMessage]}):fz({abi:[eee],errorName:\"Error\",args:[\"shortMessage\"in t?t.shortMessage:t.message]})}function ate(t){if(t.length!==66||t.indexOf(\"[\")!==0||t.indexOf(\"]\")!==65)return null;const e=`0x${t.slice(1,65)}`;return mc(e)?e:null}function iT(t){let e=new Uint8Array(32).fill(0);if(!t)return Mr(e);const n=t.split(\".\");for(let r=n.length-1;r>=0;r-=1){const i=ate(n[r]),s=i?Np(i):pi(A0(n[r]),\"bytes\");e=pi(yc([e,s]),\"bytes\")}return Mr(e)}function y6e(t){return`[${t.slice(2)}]`}function b6e(t){const e=new Uint8Array(32).fill(0);return t?ate(t)||pi(A0(t)):Mr(e)}function iR(t){const e=t.replace(/^\\.|\\.$/gm,\"\");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(A0(e).byteLength+2);let r=0;const i=e.split(\".\");for(let s=0;s<i.length;s++){let o=A0(i[s]);o.byteLength>255&&(o=A0(y6e(b6e(i[s])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function w6e(t,e){const{blockNumber:n,blockTag:r,coinType:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return py({blockNumber:n,chain:c,contract:\"ensUniversalResolver\"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(p=>s.endsWith(p)))return null;const h=i!=null?[iT(s),BigInt(i)]:[iT(s)];try{const p=jo({abi:lz,functionName:\"addr\",args:h}),m={address:l,abi:Jee,functionName:\"resolveWithGateways\",args:[Do(iR(s)),p,o??[X2]],blockNumber:n,blockTag:r},y=await Et(t,Ec,\"readContract\")(m);if(y[0]===\"0x\")return null;const E=kp({abi:lz,args:h,functionName:\"addr\",data:y[0]});return E===\"0x\"||oc(E)===\"0x00\"?null:E}catch(p){if(a)throw p;if(rR(p))return null;throw p}}class v6e extends Ae{constructor({data:e}){super(\"Unable to extract image from metadata. The metadata may be malformed or invalid.\",{metaMessages:[\"- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.\",\"\",`Provided data: ${JSON.stringify(e)}`],name:\"EnsAvatarInvalidMetadataError\"})}}class Bb extends Ae{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:\"EnsAvatarInvalidNftUriError\"})}}class sR extends Ae{constructor({uri:e}){super(`Unable to resolve ENS avatar URI \"${e}\". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:\"EnsAvatarUriResolutionError\"})}}class E6e extends Ae{constructor({namespace:e}){super(`ENS NFT avatar namespace \"${e}\" is not supported. Must be \"erc721\" or \"erc1155\".`,{name:\"EnsAvatarUnsupportedNamespaceError\"})}}const _6e=/(?<protocol>https?:\\/\\/[^/]*|ipfs:\\/|ipns:\\/|ar:\\/)?(?<root>\\/)?(?<subpath>ipfs\\/|ipns\\/)?(?<target>[\\w\\-.]+)(?<subtarget>\\/.*)?/,C6e=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\\/(?<target>[\\w\\-.]+))?(?<subtarget>\\/.*)?$/,S6e=/^data:([a-zA-Z\\-/+]*);base64,([^\"].*)/,x6e=/^data:([a-zA-Z\\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function A6e(t){try{const e=await fetch(t,{method:\"HEAD\"});if(e.status===200){const n=e.headers.get(\"content-type\");return n==null?void 0:n.startsWith(\"image/\")}return!1}catch(e){return typeof e==\"object\"&&typeof e.response<\"u\"||!Object.hasOwn(globalThis,\"Image\")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function hz(t,e){return t?t.endsWith(\"/\")?t.slice(0,-1):t:e}function cte({uri:t,gatewayUrls:e}){const n=S6e.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=hz(e==null?void 0:e.ipfs,\"https://ipfs.io\"),i=hz(e==null?void 0:e.arweave,\"https://arweave.net\"),s=t.match(_6e),{protocol:o,subpath:a,target:c,subtarget:l=\"\"}=(s==null?void 0:s.groups)||{},d=o===\"ipns:/\"||a===\"ipns/\",h=o===\"ipfs:/\"||a===\"ipfs/\"||C6e.test(t);if(t.startsWith(\"http\")&&!d&&!h){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\\/\\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||h)&&c)return{uri:`${r}/${d?\"ipns\":\"ipfs\"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o===\"ar:/\"&&c)return{uri:`${i}/${c}${l||\"\"}`,isOnChain:!1,isEncoded:!1};let p=t.replace(x6e,\"\");if(p.startsWith(\"<svg\")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith(\"data:\")||p.startsWith(\"{\"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new sR({uri:t})}function lte(t){if(typeof t!=\"object\"||!(\"image\"in t)&&!(\"image_url\"in t)&&!(\"image_data\"in t))throw new v6e({data:t});return t.image||t.image_url||t.image_data}async function $6e({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(i=>i.json());return await oR({gatewayUrls:t,uri:lte(n)})}catch{throw new sR({uri:e})}}async function oR({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=cte({uri:e,gatewayUrls:t});if(r||await A6e(n))return n;throw new sR({uri:e})}function I6e(t){let e=t;e.startsWith(\"did:nft:\")&&(e=e.replace(\"did:nft:\",\"\").replace(/_/g,\"/\"));const[n,r,i]=e.split(\"/\"),[s,o]=n.split(\":\"),[a,c]=r.split(\":\");if(!s||s.toLowerCase()!==\"eip155\")throw new Bb({reason:\"Only EIP-155 supported\"});if(!o)throw new Bb({reason:\"Chain ID not found\"});if(!c)throw new Bb({reason:\"Contract address not found\"});if(!i)throw new Bb({reason:\"Token ID not found\"});if(!a)throw new Bb({reason:\"ERC namespace not found\"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:i}}async function T6e(t,{nft:e}){if(e.namespace===\"erc721\")return Ec(t,{address:e.contractAddress,abi:[{name:\"tokenURI\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"tokenId\",type:\"uint256\"}],outputs:[{name:\"\",type:\"string\"}]}],functionName:\"tokenURI\",args:[BigInt(e.tokenID)]});if(e.namespace===\"erc1155\")return Ec(t,{address:e.contractAddress,abi:[{name:\"uri\",type:\"function\",stateMutability:\"view\",inputs:[{name:\"_id\",type:\"uint256\"}],outputs:[{name:\"\",type:\"string\"}]}],functionName:\"uri\",args:[BigInt(e.tokenID)]});throw new E6e({namespace:e.namespace})}async function P6e(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?O6e(t,{gatewayUrls:e,record:n}):oR({uri:n,gatewayUrls:e})}async function O6e(t,{gatewayUrls:e,record:n}){const r=I6e(n),i=await T6e(t,{nft:r}),{uri:s,isOnChain:o,isEncoded:a}=cte({uri:i,gatewayUrls:e});if(o&&(s.includes(\"data:application/json;base64,\")||s.startsWith(\"{\"))){const l=a?atob(s.replace(\"data:application/json;base64,\",\"\")):s,d=JSON.parse(l);return oR({uri:lte(d),gatewayUrls:e})}let c=r.tokenID;return r.namespace===\"erc1155\"&&(c=c.replace(\"0x\",\"\").padStart(64,\"0\")),$6e({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,c)})}async function ute(t,e){const{blockNumber:n,blockTag:r,key:i,name:s,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return py({blockNumber:n,chain:c,contract:\"ensUniversalResolver\"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(h=>s.endsWith(h)))return null;try{const h={address:l,abi:Jee,args:[Do(iR(s)),jo({abi:cz,functionName:\"text\",args:[iT(s),i]}),o??[X2]],functionName:\"resolveWithGateways\",blockNumber:n,blockTag:r},m=await Et(t,Ec,\"readContract\")(h);if(m[0]===\"0x\")return null;const b=kp({abi:cz,functionName:\"text\",data:m[0]});return b===\"\"?null:b}catch(h){if(a)throw h;if(rR(h))return null;throw h}}async function N6e(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:i,gatewayUrls:s,strict:o,universalResolverAddress:a}){const c=await Et(t,ute,\"getEnsText\")({blockNumber:e,blockTag:n,key:\"avatar\",name:i,universalResolverAddress:a,gatewayUrls:s,strict:o});if(!c)return null;try{return await P6e(t,{record:c,gatewayUrls:r})}catch{return null}}async function R6e(t,e){const{address:n,blockNumber:r,blockTag:i,coinType:s=60n,gatewayUrls:o,strict:a}=e,{chain:c}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return py({blockNumber:r,chain:c,contract:\"ensUniversalResolver\"})})();try{const d={address:l,abi:J5e,args:[n,s,o??[X2]],functionName:\"reverseWithGateways\",blockNumber:r,blockTag:i},h=Et(t,Ec,\"readContract\"),[p]=await h(d);return p||null}catch(d){if(a)throw d;if(rR(d))return null;throw d}}async function k6e(t,e){const{blockNumber:n,blockTag:r,name:i}=e,{chain:s}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error(\"client chain not configured. universalResolverAddress is required.\");return py({blockNumber:n,chain:s,contract:\"ensUniversalResolver\"})})(),a=s==null?void 0:s.ensTlds;if(a&&!a.some(l=>i.endsWith(l)))throw new Error(`${i} is not a valid ENS TLD (${a==null?void 0:a.join(\", \")}) for chain \"${s.name}\" (id: ${s.id}).`);const[c]=await Et(t,Ec,\"readContract\")({address:o,abi:[{inputs:[{type:\"bytes\"}],name:\"findResolver\",outputs:[{type:\"address\"},{type:\"bytes32\"},{type:\"uint256\"}],stateMutability:\"view\",type:\"function\"}],functionName:\"findResolver\",args:[Do(iR(i))],blockNumber:n,blockTag:r});return c}async function dte(t,e){var E,v,_;const{account:n=t.account,blockNumber:r,blockTag:i=\"latest\",blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:h,to:p,value:m,...b}=e,y=n?Tc(n):void 0;try{V2(e);const S=(typeof r==\"bigint\"?je(r):void 0)||i,A=(_=(v=(E=t.chain)==null?void 0:E.formatters)==null?void 0:v.transactionRequest)==null?void 0:_.format,O=(A||b_)({...WN(b,{format:A}),account:y,blobs:s,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:h,to:p,value:m},\"createAccessList\"),D=await t.request({method:\"eth_createAccessList\",params:[O,S]});return{accessList:D.accessList,gasUsed:BigInt(D.gasUsed)}}catch(C){throw xee(C,{...e,account:y,chain:t.chain})}}async function M6e(t){const e=P_(t,{method:\"eth_newBlockFilter\"}),n=await t.request({method:\"eth_newBlockFilter\"});return{id:n,request:e(n),type:\"block\"}}async function fte(t,{address:e,args:n,event:r,events:i,fromBlock:s,strict:o,toBlock:a}={}){const c=i??(r?[r]:void 0),l=P_(t,{method:\"eth_newFilter\"});let d=[];c&&(d=[c.flatMap(m=>K2({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const h=await t.request({method:\"eth_newFilter\",params:[{address:e,fromBlock:typeof s==\"bigint\"?je(s):s,toBlock:typeof a==\"bigint\"?je(a):a,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:s,id:h,request:l(h),strict:!!o,toBlock:a,type:\"event\"}}async function hte(t){const e=P_(t,{method:\"eth_newPendingTransactionFilter\"}),n=await t.request({method:\"eth_newPendingTransactionFilter\"});return{id:n,request:e(n),type:\"transaction\"}}async function D6e(t,{address:e,blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\"}){const i=typeof n==\"bigint\"?je(n):void 0,s=await t.request({method:\"eth_getBalance\",params:[e,i||r]});return BigInt(s)}async function B6e(t){const e=await t.request({method:\"eth_blobBaseFee\"});return BigInt(e)}async function L6e(t,{blockHash:e,blockNumber:n,blockTag:r=\"latest\"}={}){const i=n!==void 0?je(n):void 0;let s;return e?s=await t.request({method:\"eth_getBlockTransactionCountByHash\",params:[e]},{dedupe:!0}):s=await t.request({method:\"eth_getBlockTransactionCountByNumber\",params:[i||r]},{dedupe:!!i}),Cl(s)}async function sT(t,{address:e,blockNumber:n,blockTag:r=\"latest\"}){const i=n!==void 0?je(n):void 0,s=await t.request({method:\"eth_getCode\",params:[e,i||r]},{dedupe:!!i});if(s!==\"0x\")return s}class U6e extends Ae{constructor({address:e}){super(`No EIP-712 domain found on contract \"${e}\".`,{metaMessages:[\"Ensure that:\",`- The contract is deployed at the address \"${e}\".`,\"- `eip712Domain()` function exists on the contract.\",\"- `eip712Domain()` function matches signature to ERC-5267 specification.\"],name:\"Eip712DomainNotFoundError\"})}}async function j6e(t,e){const{address:n,factory:r,factoryData:i}=e;try{const[s,o,a,c,l,d,h]=await Et(t,Ec,\"readContract\")({abi:z6e,address:n,functionName:\"eip712Domain\",factory:r,factoryData:i});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:l,salt:d},extensions:h,fields:s}}catch(s){const o=s;throw o.name===\"ContractFunctionExecutionError\"&&o.cause.name===\"ContractFunctionZeroDataError\"?new U6e({address:n}):o}}const z6e=[{inputs:[],name:\"eip712Domain\",outputs:[{name:\"fields\",type:\"bytes1\"},{name:\"name\",type:\"string\"},{name:\"version\",type:\"string\"},{name:\"chainId\",type:\"uint256\"},{name:\"verifyingContract\",type:\"address\"},{name:\"salt\",type:\"bytes32\"},{name:\"extensions\",type:\"uint256[]\"}],stateMutability:\"view\",type:\"function\"}];function F6e(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function q6e(t,{blockCount:e,blockNumber:n,blockTag:r=\"latest\",rewardPercentiles:i}){const s=typeof n==\"bigint\"?je(n):void 0,o=await t.request({method:\"eth_feeHistory\",params:[je(e),s||r,i]},{dedupe:!!s});return F6e(o)}async function H6e(t,{filter:e}){const n=e.strict??!1,i=(await e.request({method:\"eth_getFilterLogs\",params:[e.id]})).map(s=>td(s));return e.abi?XN({abi:e.abi,logs:i,strict:n}):i}async function V6e({address:t,authorization:e,signature:n}){return W2(GQ(t),await Oee({authorization:e,signature:n}))}const u3=new LN(8192);function K6e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(u3.get(n))return u3.get(n);const r=t().finally(()=>u3.delete(n));return u3.set(n,r),r}function W6e(t,e={}){return async(n,r={})=>{var h;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((h=s==null?void 0:s.exclude)!=null&&h.includes(l))throw new h0(new Error(\"method not supported\"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new h0(new Error(\"method not supported\"),{method:l});const d=i?lv(`${c}.${qr(n)}`):void 0;return K6e(()=>nT(async()=>{try{return await t(n)}catch(p){const m=p;switch(m.code){case hv.code:throw new hv(m);case pv.code:throw new pv(m);case gv.code:throw new gv(m,{method:n.method});case mv.code:throw new mv(m);case V0.code:throw new V0(m);case K0.code:throw new K0(m);case yv.code:throw new yv(m);case bv.code:throw new bv(m);case wv.code:throw new wv(m);case h0.code:throw new h0(m,{method:n.method});case Am.code:throw new Am(m);case vv.code:throw new vv(m);case um.code:throw new um(m);case Ev.code:throw new Ev(m);case _v.code:throw new _v(m);case Cv.code:throw new Cv(m);case Sv.code:throw new Sv(m);case xv.code:throw new xv(m);case Av.code:throw new Av(m);case $v.code:throw new $v(m);case Iv.code:throw new Iv(m);case Tv.code:throw new Tv(m);case Pv.code:throw new Pv(m);case Ov.code:throw new Ov(m);case Nv.code:throw new Nv(m);case 5e3:throw new um(m);default:throw p instanceof Ae?p:new r5e(m)}}},{delay:({count:p,error:m})=>{var b;if(m&&m instanceof $0){const y=(b=m==null?void 0:m.headers)==null?void 0:b.get(\"Retry-After\");if(y!=null&&y.match(/\\d/))return Number.parseInt(y,10)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>G6e(p)}),{enabled:i,id:d})}}function G6e(t){return\"code\"in t&&typeof t.code==\"number\"?t.code===-1||t.code===Am.code||t.code===V0.code:t instanceof $0&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}class Z6e extends Ae{constructor({callbackSelector:e,cause:n,data:r,extraData:i,sender:s,urls:o}){var a;super(n.shortMessage||\"An error occurred while fetching for an offchain result.\",{cause:n,metaMessages:[...n.metaMessages||[],(a=n.metaMessages)!=null&&a.length?\"\":[],\"Offchain Gateway Call:\",o&&[\"  Gateway URL(s):\",...o.map(c=>`    ${H2(c)}`)],`  Sender: ${s}`,`  Data: ${r}`,`  Callback selector: ${e}`,`  Extra data: ${i}`].flat(),name:\"OffchainLookupError\"})}}class Y6e extends Ae{constructor({result:e,url:n}){super(\"Offchain gateway response is malformed. Response data must be a hex value.\",{metaMessages:[`Gateway URL: ${H2(n)}`,`Response: ${qr(e)}`],name:\"OffchainLookupResponseMalformedError\"})}}class J6e extends Ae{constructor({sender:e,to:n}){super(\"Reverted sender address does not match target contract address (`to`).\",{metaMessages:[`Contract address: ${n}`,`OffchainLookup sender address: ${e}`],name:\"OffchainLookupSenderMismatchError\"})}}const X6e=\"0x556f1830\",pte={name:\"OffchainLookup\",type:\"error\",inputs:[{name:\"sender\",type:\"address\"},{name:\"urls\",type:\"string[]\"},{name:\"callData\",type:\"bytes\"},{name:\"callbackFunction\",type:\"bytes4\"},{name:\"extraData\",type:\"bytes\"}]};async function Q6e(t,{blockNumber:e,blockTag:n,data:r,to:i}){const{args:s}=vee({data:r,abi:[pte]}),[o,a,c,l,d]=s,{ccipRead:h}=t,p=h&&typeof(h==null?void 0:h.request)==\"function\"?h.request:gte;try{if(!W2(i,o))throw new J6e({sender:o,to:i});const m=a.includes(X2)?await ote({data:c,ccipRequest:p}):await p({data:c,sender:o,urls:a}),{data:b}=await Z2(t,{blockNumber:e,blockTag:n,data:yc([l,fh([{type:\"bytes\"},{type:\"bytes\"}],[m,d])]),to:i});return b}catch(m){throw new Z6e({callbackSelector:l,cause:m,data:r,extraData:d,sender:o,urls:a})}}async function gte({data:t,sender:e,urls:n}){var i;let r=new Error(\"An unknown error occurred.\");for(let s=0;s<n.length;s++){const o=n[s],a=o.includes(\"{data}\")?\"GET\":\"POST\",c=a===\"POST\"?{data:t,sender:e}:void 0,l=a===\"POST\"?{\"Content-Type\":\"application/json\"}:{};try{const d=await fetch(o.replace(\"{sender}\",e.toLowerCase()).replace(\"{data}\",t),{body:JSON.stringify(c),headers:l,method:a});let h;if((i=d.headers.get(\"Content-Type\"))!=null&&i.startsWith(\"application/json\")?h=(await d.json()).data:h=await d.text(),!d.ok){r=new $0({body:c,details:h!=null&&h.error?qr(h.error):d.statusText,headers:d.headers,status:d.status,url:o});continue}if(!mc(h)){r=new Y6e({result:h,url:o});continue}return h}catch(d){r=new $0({body:c,details:d.message,url:o})}}throw r}const e3e=Object.freeze(Object.defineProperty({__proto__:null,ccipRequest:gte,offchainLookup:Q6e,offchainLookupAbiItem:pte,offchainLookupSignature:X6e},Symbol.toStringTag,{value:\"Module\"}));function t3e(t,{errorInstance:e=new Error(\"timed out\"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)===\"AbortError\"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function n3e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const pz=n3e();function r3e(t,e={}){return{async request(n){var p;const{body:r,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:l,method:d,signal:h}=c;try{const m=await t3e(async({signal:y})=>{const E={...c,body:Array.isArray(r)?qr(r.map(S=>({jsonrpc:\"2.0\",id:S.id??pz.take(),...S}))):qr({jsonrpc:\"2.0\",id:r.id??pz.take(),...r}),headers:{\"Content-Type\":\"application/json\",...l},method:d||\"POST\",signal:h||(a>0?y:null)},v=new Request(t,E),_=await(s==null?void 0:s(v,E))??{...E,url:t};return await i(_.url??t,_)},{errorInstance:new Yj({body:r,url:t}),timeout:a,signal:!0});o&&await o(m);let b;if((p=m.headers.get(\"Content-Type\"))!=null&&p.startsWith(\"application/json\"))b=await m.json();else{b=await m.text();try{b=JSON.parse(b||\"{}\")}catch(y){if(m.ok)throw y;b={error:b}}}if(!m.ok)throw new $0({body:r,details:qr(b.error)||m.statusText,headers:m.headers,status:m.status,url:t});return b}catch(m){throw m instanceof $0||m instanceof Yj?m:new $0({body:r,cause:m,url:t})}}}}const i3e=`Ethereum Signed Message:\n`;function s3e(t){const e=typeof t==\"string\"?lv(t):typeof t.raw==\"string\"?t.raw:Mr(t.raw),n=lv(`${i3e}${sr(e)}`);return yc([n,e])}function mte(t,e){return pi(s3e(t),e)}class o3e extends Ae{constructor({domain:e}){super(`Invalid domain \"${qr(e)}\".`,{metaMessages:[\"Must be a valid EIP-712 domain.\"]})}}class a3e extends Ae{constructor({primaryType:e,types:n}){super(`Invalid primary type \\`${e}\\` must be one of \\`${JSON.stringify(Object.keys(n))}\\`.`,{docsPath:\"/api/glossary/Errors#typeddatainvalidprimarytypeerror\",metaMessages:[\"Check that the primary type is a key in `types`.\"]})}}class c3e extends Ae{constructor({type:e}){super(`Struct type \"${e}\" is invalid.`,{metaMessages:[\"Struct type must not be a Solidity type.\"],name:\"InvalidStructTypeError\"})}}function l3e(t){const{domain:e,message:n,primaryType:r,types:i}=t,s=(o,a)=>{for(const c of o){const{name:l,type:d}=c,h=a[l],p=d.match(wee);if(p&&(typeof h==\"number\"||typeof h==\"bigint\")){const[y,E,v]=p;je(h,{signed:E===\"int\",size:Number.parseInt(v,10)/8})}if(d===\"address\"&&typeof h==\"string\"&&!Kr(h))throw new _s({address:h});const m=d.match(k2e);if(m){const[y,E]=m;if(E&&sr(h)!==Number.parseInt(E,10))throw new Dve({expectedSize:Number.parseInt(E,10),givenSize:sr(h)})}const b=i[d];b&&(d3e(d),s(b,h))}};if(i.EIP712Domain&&e){if(typeof e!=\"object\")throw new o3e({domain:e});s(i.EIP712Domain,e)}if(r!==\"EIP712Domain\")if(i[r])s(i[r],n);else throw new a3e({primaryType:r,types:i})}function u3e({domain:t}){return[typeof(t==null?void 0:t.name)==\"string\"&&{name:\"name\",type:\"string\"},(t==null?void 0:t.version)&&{name:\"version\",type:\"string\"},(typeof(t==null?void 0:t.chainId)==\"number\"||typeof(t==null?void 0:t.chainId)==\"bigint\")&&{name:\"chainId\",type:\"uint256\"},(t==null?void 0:t.verifyingContract)&&{name:\"verifyingContract\",type:\"address\"},(t==null?void 0:t.salt)&&{name:\"salt\",type:\"bytes32\"}].filter(Boolean)}function d3e(t){if(t===\"address\"||t===\"bool\"||t===\"string\"||t.startsWith(\"bytes\")||t.startsWith(\"uint\")||t.startsWith(\"int\"))throw new c3e({type:t})}function f3e(t){const{domain:e={},message:n,primaryType:r}=t,i={EIP712Domain:u3e({domain:e}),...t.types};l3e({domain:e,message:n,primaryType:r,types:i});const s=[\"0x1901\"];return e&&s.push(h3e({domain:e,types:i})),r!==\"EIP712Domain\"&&s.push(yte({data:n,primaryType:r,types:i})),pi(yc(s))}function h3e({domain:t,types:e}){return yte({data:t,primaryType:\"EIP712Domain\",types:e})}function yte({data:t,primaryType:e,types:n}){const r=bte({data:t,primaryType:e,types:n});return pi(r)}function bte({data:t,primaryType:e,types:n}){const r=[{type:\"bytes32\"}],i=[p3e({primaryType:e,types:n})];for(const s of n[e]){const[o,a]=vte({types:n,name:s.name,type:s.type,value:t[s.name]});r.push(o),i.push(a)}return fh(r,i)}function p3e({primaryType:t,types:e}){const n=Do(g3e({primaryType:t,types:e}));return pi(n)}function g3e({primaryType:t,types:e}){let n=\"\";const r=wte({primaryType:t,types:e});r.delete(t);const i=[t,...Array.from(r).sort()];for(const s of i)n+=`${s}(${e[s].map(({name:o,type:a})=>`${a} ${o}`).join(\",\")})`;return n}function wte({primaryType:t,types:e},n=new Set){const r=t.match(/^\\w*/u),i=r==null?void 0:r[0];if(n.has(i)||e[i]===void 0)return n;n.add(i);for(const s of e[i])wte({primaryType:s.type,types:e},n);return n}function vte({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:\"bytes32\"},pi(bte({data:r,primaryType:n,types:t}))];if(n===\"bytes\")return r=`0x${(r.length%2?\"0\":\"\")+r.slice(2)}`,[{type:\"bytes32\"},pi(r)];if(n===\"string\")return[{type:\"bytes32\"},pi(Do(r))];if(n.lastIndexOf(\"]\")===n.length-1){const i=n.slice(0,n.lastIndexOf(\"[\")),s=r.map(o=>vte({name:e,type:i,types:t,value:o}));return[{type:\"bytes32\"},pi(fh(s.map(([o])=>o),s.map(([,o])=>o)))]}return[{type:n},r]}let m3e=class extends Map{constructor(e){super(),Object.defineProperty(this,\"maxSize\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const y3e={checksum:new m3e(8192)},Nx=y3e.checksum;function Ete(t,e={}){const{as:n=typeof t==\"string\"?\"Hex\":\"Bytes\"}=e,r=Z4(O5e(t));return n===\"Bytes\"?r:vc(r)}const b3e=/^0x[a-fA-F0-9]{40}$/;function M_(t,e={}){const{strict:n=!0}=e;if(!b3e.test(t))throw new gz({address:t,cause:new w3e});if(n){if(t.toLowerCase()===t)return;if(_te(t)!==t)throw new gz({address:t,cause:new v3e})}}function _te(t){if(Nx.has(t))return Nx.get(t);M_(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=Ete(R5e(e),{as:\"Bytes\"}),r=e.split(\"\");for(let s=0;s<40;s+=2)n[s>>1]>>4>=8&&r[s]&&(r[s]=r[s].toUpperCase()),(n[s>>1]&15)>=8&&r[s+1]&&(r[s+1]=r[s+1].toUpperCase());const i=`0x${r.join(\"\")}`;return Nx.set(t,i),i}function oT(t,e={}){const{strict:n=!0}=e??{};try{return M_(t,{strict:n}),!0}catch{return!1}}class gz extends Gt{constructor({address:e,cause:n}){super(`Address \"${e}\" is invalid.`,{cause:n}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidAddressError\"})}}class w3e extends Gt{constructor(){super(\"Address is not a 20 byte (40 hexadecimal character) value.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidInputError\"})}}class v3e extends Gt{constructor(){super(\"Address does not match its checksum counterpart.\"),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Address.InvalidChecksumError\"})}}const E3e=/^(.*)\\[([0-9]*)\\]$/,_3e=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Cte=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,mz=2n**256n-1n;function dm(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=lR(e.type);if(s){const[o,a]=s;return S3e(t,{...e,type:a},{checksumAddress:r,length:o,staticPosition:i})}if(e.type===\"tuple\")return I3e(t,e,{checksumAddress:r,staticPosition:i});if(e.type===\"address\")return C3e(t,{checksum:r});if(e.type===\"bool\")return x3e(t);if(e.type.startsWith(\"bytes\"))return A3e(t,e,{staticPosition:i});if(e.type.startsWith(\"uint\")||e.type.startsWith(\"int\"))return $3e(t,e);if(e.type===\"string\")return T3e(t,{staticPosition:i});throw new dR(e.type)}const yz=32,aT=32;function C3e(t,e={}){const{checksum:n=!1}=e,r=t.readBytes(32);return[(s=>n?_te(s):s)(vc(M5e(r,-20))),32]}function S3e(t,e,n){const{checksumAddress:r,length:i,staticPosition:s}=n;if(!i){const c=Hu(t.readBytes(aT)),l=s+c,d=l+yz;t.setPosition(l);const h=Hu(t.readBytes(yz)),p=Rv(e);let m=0;const b=[];for(let y=0;y<h;++y){t.setPosition(d+(p?y*32:m));const[E,v]=dm(t,e,{checksumAddress:r,staticPosition:d});m+=v,b.push(E)}return t.setPosition(s+32),[b,32]}if(Rv(e)){const c=Hu(t.readBytes(aT)),l=s+c,d=[];for(let h=0;h<i;++h){t.setPosition(l+h*32);const[p]=dm(t,e,{checksumAddress:r,staticPosition:l});d.push(p)}return t.setPosition(s+32),[d,32]}let o=0;const a=[];for(let c=0;c<i;++c){const[l,d]=dm(t,e,{checksumAddress:r,staticPosition:s+o});o+=d,a.push(l)}return[a,o]}function x3e(t){return[B5e(t.readBytes(32),{size:32}),32]}function A3e(t,e,{staticPosition:n}){const[r,i]=e.type.split(\"bytes\");if(!i){const o=Hu(t.readBytes(32));t.setPosition(n+o);const a=Hu(t.readBytes(32));if(a===0)return t.setPosition(n+32),[\"0x\",32];const c=t.readBytes(a);return t.setPosition(n+32),[vc(c),32]}return[vc(t.readBytes(Number.parseInt(i,10),32)),32]}function $3e(t,e){const n=e.type.startsWith(\"int\"),r=Number.parseInt(e.type.split(\"int\")[1]||\"256\",10),i=t.readBytes(32);return[r>48?D5e(i,{signed:n}):Hu(i,{signed:n}),32]}function I3e(t,e,n){const{checksumAddress:r,staticPosition:i}=n,s=e.components.length===0||e.components.some(({name:c})=>!c),o=s?[]:{};let a=0;if(Rv(e)){const c=Hu(t.readBytes(aT)),l=i+c;for(let d=0;d<e.components.length;++d){const h=e.components[d];t.setPosition(l+a);const[p,m]=dm(t,h,{checksumAddress:r,staticPosition:l});a+=m,o[s?d:h==null?void 0:h.name]=p}return t.setPosition(i+32),[o,32]}for(let c=0;c<e.components.length;++c){const l=e.components[c],[d,h]=dm(t,l,{checksumAddress:r,staticPosition:i});o[s?c:l==null?void 0:l.name]=d,a+=h}return[o,a]}function T3e(t,{staticPosition:e}){const n=Hu(t.readBytes(32)),r=e+n;t.setPosition(r);const i=Hu(t.readBytes(32));if(i===0)return t.setPosition(e+32),[\"\",32];const s=t.readBytes(i,32),o=L5e(qee(s));return t.setPosition(e+32),[o,32]}function P3e({checksumAddress:t,parameters:e,values:n}){const r=[];for(let i=0;i<e.length;i++)r.push(aR({checksumAddress:t,parameter:e[i],value:n[i]}));return r}function aR({checksumAddress:t=!1,parameter:e,value:n}){const r=e,i=lR(r.type);if(i){const[s,o]=i;return N3e(n,{checksumAddress:t,length:s,parameter:{...r,type:o}})}if(r.type===\"tuple\")return B3e(n,{checksumAddress:t,parameter:r});if(r.type===\"address\")return O3e(n,{checksum:t});if(r.type===\"bool\")return k3e(n);if(r.type.startsWith(\"uint\")||r.type.startsWith(\"int\")){const s=r.type.startsWith(\"int\"),[,,o=\"256\"]=Cte.exec(r.type)??[];return M3e(n,{signed:s,size:Number(o)})}if(r.type.startsWith(\"bytes\"))return R3e(n,{type:r.type});if(r.type===\"string\")return D3e(n);throw new dR(r.type)}function cR(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?e+=32:e+=zo(a)}const n=[],r=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:o,encoded:a}=t[s];o?(n.push(ds(e+i,{size:32})),r.push(a),i+=zo(a)):n.push(a)}return wc(...n,...r)}function O3e(t,e){const{checksum:n=!1}=e;return M_(t,{strict:n}),{dynamic:!1,encoded:W0(t.toLowerCase())}}function N3e(t,e){const{checksumAddress:n,length:r,parameter:i}=e,s=r===null;if(!Array.isArray(t))throw new K3e(t);if(!s&&t.length!==r)throw new V3e({expectedLength:r,givenLength:t.length,type:`${i.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const l=aR({checksumAddress:n,parameter:i,value:t[c]});l.dynamic&&(o=!0),a.push(l)}if(s||o){const c=cR(a);if(s){const l=ds(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?wc(l,c):l}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:wc(...a.map(({encoded:c})=>c))}}function R3e(t,{type:e}){const[,n]=e.split(\"bytes\"),r=zo(t);if(!n){let i=t;return r%32!==0&&(i=G0(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:wc(W0(ds(r,{size:32})),i)}}if(r!==Number.parseInt(n,10))throw new xte({expectedSize:Number.parseInt(n,10),value:t});return{dynamic:!1,encoded:G0(t)}}function k3e(t){if(typeof t!=\"boolean\")throw new Gt(`Invalid boolean value: \"${t}\" (type: ${typeof t}). Expected: \\`true\\` or \\`false\\`.`);return{dynamic:!1,encoded:W0(Hee(t))}}function M3e(t,{signed:e,size:n}){if(typeof n==\"number\"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,i=e?-r-1n:0n;if(t>r||t<i)throw new Wee({max:r.toString(),min:i.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ds(t,{size:32,signed:e})}}function D3e(t){const e=eR(t),n=Math.ceil(zo(e)/32),r=[];for(let i=0;i<n;i++)r.push(G0(pl(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:wc(G0(ds(zo(e),{size:32})),...r)}}function B3e(t,e){const{checksumAddress:n,parameter:r}=e;let i=!1;const s=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,l=aR({checksumAddress:n,parameter:a,value:t[c]});s.push(l),l.dynamic&&(i=!0)}return{dynamic:i,encoded:i?cR(s):wc(...s.map(({encoded:o})=>o))}}function lR(t){const e=t.match(/^(.*)\\[(\\d+)?\\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Rv(t){var r;const{type:e}=t;if(e===\"string\"||e===\"bytes\"||e.endsWith(\"[]\"))return!0;if(e===\"tuple\")return(r=t.components)==null?void 0:r.some(Rv);const n=lR(t.type);return!!(n&&Rv({...t,type:n[1]}))}const L3e={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new z3e({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new j3e({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new bz({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new bz({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function U3e(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(L3e);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}class bz extends Gt{constructor({offset:e}){super(`Offset \\`${e}\\` cannot be negative.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.NegativeOffsetError\"})}}class j3e extends Gt{constructor({length:e,position:n}){super(`Position \\`${n}\\` is out of bounds (\\`0 < position < ${e}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.PositionOutOfBoundsError\"})}}class z3e extends Gt{constructor({count:e,limit:n}){super(`Recursive read limit of \\`${n}\\` exceeded (recursive read count: \\`${e}\\`).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Cursor.RecursiveReadLimitExceededError\"})}}function F3e(t,e,n={}){const{as:r=\"Array\",checksumAddress:i=!1}=n,s=typeof e==\"string\"?Fee(e):e,o=U3e(s);if(H1(s)===0&&t.length>0)throw new H3e;if(H1(s)&&H1(s)<32)throw new q3e({data:typeof e==\"string\"?e:vc(e),parameters:t,size:H1(s)});let a=0;const c=r===\"Array\"?[]:{};for(let l=0;l<t.length;++l){const d=t[l];o.setPosition(a);const[h,p]=dm(o,d,{checksumAddress:i,staticPosition:0});a+=p,r===\"Array\"?c.push(h):c[d.name??l]=h}return c}function uR(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new Ate({expectedLength:t.length,givenLength:e.length});const i=P3e({checksumAddress:r,parameters:t,values:e}),s=cR(i);return s.length===0?\"0x\":s}function cT(t,e){if(t.length!==e.length)throw new Ate({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const i=t[r],s=e[r];n.push(cT.encode(i,s))}return wc(...n)}(function(t){function e(n,r,i=!1){if(n===\"address\"){const c=r;return M_(c),W0(c.toLowerCase(),i?32:0)}if(n===\"string\")return eR(r);if(n===\"bytes\")return r;if(n===\"bool\")return W0(Hee(r),i?32:1);const s=n.match(Cte);if(s){const[c,l,d=\"256\"]=s,h=Number.parseInt(d,10)/8;return ds(r,{size:i?32:h,signed:l===\"int\"})}const o=n.match(_3e);if(o){const[c,l]=o;if(Number.parseInt(l,10)!==(r.length-2)/2)throw new xte({expectedSize:Number.parseInt(l,10),value:r});return G0(r,i?32:0)}const a=n.match(E3e);if(a&&Array.isArray(r)){const[c,l]=a,d=[];for(let h=0;h<r.length;h++)d.push(e(l,r[h],!0));return d.length===0?\"0x\":wc(...d)}throw new dR(n)}t.encode=e})(cT||(cT={}));function Ste(t){return Array.isArray(t)&&typeof t[0]==\"string\"||typeof t==\"string\"?Wj(t):t}class q3e extends Gt{constructor({data:e,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${P1(n)})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.DataSizeTooSmallError\"})}}class H3e extends Gt{constructor(){super('Cannot decode zero data (\"0x\") with ABI parameters.'),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.ZeroDataError\"})}}class V3e extends Gt{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \\`${r}\\`. Expected: \\`${e}\\`. Given: \\`${n}\\`.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.ArrayLengthMismatchError\"})}}class xte extends Gt{constructor({expectedSize:e,value:n}){super(`Size of bytes \"${n}\" (bytes${zo(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.BytesSizeMismatchError\"})}}class Ate extends Gt{constructor({expectedLength:e,givenLength:n}){super([\"ABI encoding parameters/values length mismatch.\",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`\n`)),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.LengthMismatchError\"})}}class K3e extends Gt{constructor(e){super(`Value \\`${e}\\` is not a valid array.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.InvalidArrayError\"})}}class dR extends Gt{constructor(e){super(`Type \\`${e}\\` is not a valid ABI Type.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiParameters.InvalidTypeError\"})}}function $te(t,e={}){const{recovered:n}=e;if(typeof t.r>\"u\")throw new Rx({signature:t});if(typeof t.s>\"u\")throw new Rx({signature:t});if(n&&typeof t.yParity>\"u\")throw new Rx({signature:t});if(t.r<0n||t.r>mz)throw new Q3e({value:t.r});if(t.s<0n||t.s>mz)throw new eEe({value:t.s});if(typeof t.yParity==\"number\"&&t.yParity!==0&&t.yParity!==1)throw new hR({value:t.yParity})}function W3e(t){return Ite(vc(t))}function Ite(t){if(t.length!==130&&t.length!==132)throw new X3e({signature:t});const e=BigInt(pl(t,0,32)),n=BigInt(pl(t,32,64)),r=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return fR(i)}catch{throw new hR({value:i})}})();return typeof r>\"u\"?{r:e,s:n}:{r:e,s:n,yParity:r}}function G3e(t){if(!(typeof t.r>\"u\")&&!(typeof t.s>\"u\"))return Z3e(t)}function Z3e(t){const e=typeof t==\"string\"?Ite(t):t instanceof Uint8Array?W3e(t):typeof t.r==\"string\"?J3e(t):t.v?Y3e(t):{r:t.r,s:t.s,...typeof t.yParity<\"u\"?{yParity:t.yParity}:{}};return $te(e),e}function Y3e(t){return{r:t.r,s:t.s,yParity:fR(t.v)}}function J3e(t){const e=(()=>{const n=t.v?Number(t.v):void 0;let r=t.yParity?Number(t.yParity):void 0;if(typeof n==\"number\"&&typeof r!=\"number\"&&(r=fR(n)),typeof r!=\"number\")throw new hR({value:t.yParity});return r})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function fR(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new tEe({value:t})}class X3e extends Gt{constructor({signature:e}){super(`Value \\`${e}\\` is an invalid signature size.`,{metaMessages:[\"Expected: 64 bytes or 65 bytes.\",`Received ${zo(K5e(e))} bytes.`]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidSerializedSizeError\"})}}class Rx extends Gt{constructor({signature:e}){super(`Signature \\`${zee(e)}\\` is missing either an \\`r\\`, \\`s\\`, or \\`yParity\\` property.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.MissingPropertiesError\"})}}class Q3e extends Gt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidRError\"})}}class eEe extends Gt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidSError\"})}}class hR extends Gt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidYParityError\"})}}class tEe extends Gt{constructor({value:e}){super(`Value \\`${e}\\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"Signature.InvalidVError\"})}}function nEe(t,e={}){return typeof t.chainId==\"string\"?rEe(t):{...t,...e.signature}}function rEe(t){const{address:e,chainId:n,nonce:r}=t,i=G3e(t);return{address:e,chainId:Number(n),nonce:BigInt(r),...i}}const iEe=\"0x8010801080108010801080108010801080108010801080108010801080108010\",sEe=Ste(\"(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data\");function Tte(t){if(typeof t==\"string\"){if(pl(t,-32)!==iEe)throw new cEe(t)}else $te(t.authorization)}function oEe(t){Tte(t);const e=Kee(pl(t,-64,-32)),n=pl(t,-e-64,-64),r=pl(t,0,-e-64),[i,s,o]=F3e(sEe,n);return{authorization:nEe({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:r,...o&&o!==\"0x\"?{data:o,to:s}:{}}}function aEe(t){try{return Tte(t),!0}catch{return!1}}let cEe=class extends Gt{constructor(e){super(`Value \\`${e}\\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SignatureErc8010.InvalidWrappedSignatureError\"})}};function lEe(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function uEe(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Cl(t.nonce):void 0,storageProof:t.storageProof?lEe(t.storageProof):void 0}}async function dEe(t,{address:e,blockNumber:n,blockTag:r,storageKeys:i}){const s=r??\"latest\",o=n!==void 0?je(n):void 0,a=await t.request({method:\"eth_getProof\",params:[e,i,o||s]});return uEe(a)}async function fEe(t,{address:e,blockNumber:n,blockTag:r=\"latest\",slot:i}){const s=n!==void 0?je(n):void 0;return await t.request({method:\"eth_getStorageAt\",params:[e,i,s||r]})}async function pR(t,{blockHash:e,blockNumber:n,blockTag:r,hash:i,index:s}){var d,h,p;const o=r||\"latest\",a=n!==void 0?je(n):void 0;let c=null;if(i?c=await t.request({method:\"eth_getTransactionByHash\",params:[i]},{dedupe:!0}):e?c=await t.request({method:\"eth_getTransactionByBlockHashAndIndex\",params:[e,je(s)]},{dedupe:!0}):c=await t.request({method:\"eth_getTransactionByBlockNumberAndIndex\",params:[a||o,je(s)]},{dedupe:!!a}),!c)throw new UQ({blockHash:e,blockNumber:n,blockTag:o,hash:i,index:s});return(((p=(h=(d=t.chain)==null?void 0:d.formatters)==null?void 0:h.transaction)==null?void 0:p.format)||y_)(c,\"getTransaction\")}async function hEe(t,{hash:e,transactionReceipt:n}){const[r,i]=await Promise.all([Et(t,J2,\"getBlockNumber\")({}),e?Et(t,pR,\"getTransaction\")({hash:e}):void 0]),s=(n==null?void 0:n.blockNumber)||(i==null?void 0:i.blockNumber);return s?r-s+1n:0n}async function EE(t,{hash:e}){var i,s,o;const n=await t.request({method:\"eth_getTransactionReceipt\",params:[e]},{dedupe:!0});if(!n)throw new jQ({hash:e});return(((o=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:o.format)||RN)(n,\"getTransactionReceipt\")}async function pEe(t,e){var _;const{account:n,authorizationList:r,allowFailure:i=!0,blockNumber:s,blockOverrides:o,blockTag:a,stateOverride:c}=e,l=e.contracts,{batchSize:d=e.batchSize??1024,deployless:h=e.deployless??!1}=typeof((_=t.batch)==null?void 0:_.multicall)==\"object\"?t.batch.multicall:{},p=(()=>{if(e.multicallAddress)return e.multicallAddress;if(h)return null;if(t.chain)return py({blockNumber:s,chain:t.chain,contract:\"multicall3\"});throw new Error(\"client chain not configured. multicallAddress is required.\")})(),m=[[]];let b=0,y=0;for(let C=0;C<l.length;C++){const{abi:S,address:A,args:I,functionName:O}=l[C];try{const D=jo({abi:S,args:I,functionName:O});y+=(D.length-2)/2,d>0&&y>d&&m[b].length>0&&(b++,y=(D.length-2)/2,m[b]=[]),m[b]=[...m[b],{allowFailure:!0,callData:D,target:A}]}catch(D){const N=$m(D,{abi:S,address:A,args:I,docsPath:\"/docs/contract/multicall\",functionName:O,sender:n});if(!i)throw N;m[b]=[...m[b],{allowFailure:!0,callData:\"0x\",target:A}]}}const E=await Promise.allSettled(m.map(C=>Et(t,Ec,\"readContract\")({...p===null?{code:tR}:{address:p},abi:v8,account:n,args:[C],authorizationList:r,blockNumber:s,blockOverrides:o,blockTag:a,functionName:\"aggregate3\",stateOverride:c}))),v=[];for(let C=0;C<E.length;C++){const S=E[C];if(S.status===\"rejected\"){if(!i)throw S.reason;for(let I=0;I<m[C].length;I++)v.push({status:\"failure\",error:S.reason,result:void 0});continue}const A=S.value;for(let I=0;I<A.length;I++){const{returnData:O,success:D}=A[I],{callData:N}=m[C][I],{abi:U,address:F,functionName:H,args:V}=l[v.length];try{if(N===\"0x\")throw new z2;if(!D)throw new T_({data:O});const M=kp({abi:U,args:V,data:O,functionName:H});v.push(i?{result:M,status:\"success\"}:M)}catch(M){const $=$m(M,{abi:U,address:F,args:V,docsPath:\"/docs/contract/multicall\",functionName:H});if(!i)throw $;v.push({error:$,result:void 0,status:\"failure\"})}}}if(v.length!==l.length)throw new Ae(\"multicall results mismatch\");return v}async function lT(t,e){const{blockNumber:n,blockTag:r=t.experimental_blockTag??\"latest\",blocks:i,returnFullTransactions:s,traceTransfers:o,validation:a}=e;try{const c=[];for(const p of i){const m=p.blockOverrides?Zee(p.blockOverrides):void 0,b=p.calls.map(E=>{const v=E,_=v.account?Tc(v.account):void 0,C=v.abi?jo(v):v.data,S={...v,account:_,data:v.dataSuffix?yc([C||\"0x\",v.dataSuffix]):C,from:v.from??(_==null?void 0:_.address)};return V2(S),b_(S)}),y=p.stateOverrides?GN(p.stateOverrides):void 0;c.push({blockOverrides:m,calls:b,stateOverrides:y})}const d=(typeof n==\"bigint\"?je(n):void 0)||r;return(await t.request({method:\"eth_simulateV1\",params:[{blockStateCalls:c,returnFullTransactions:s,traceTransfers:o,validation:a},d]})).map((p,m)=>({...NN(p),calls:p.calls.map((b,y)=>{var U,F;const{abi:E,args:v,functionName:_,to:C}=i[m].calls[y],S=((U=b.error)==null?void 0:U.data)??b.returnData,A=BigInt(b.gasUsed),I=(F=b.logs)==null?void 0:F.map(H=>td(H)),O=b.status===\"0x1\"?\"success\":\"failure\",D=E&&O===\"success\"&&S!==\"0x\"?kp({abi:E,data:S,functionName:_}):null,N=(()=>{var V;if(O===\"success\")return;let H;if(((V=b.error)==null?void 0:V.data)===\"0x\"?H=new z2:b.error&&(H=new T_(b.error)),!!H)return $m(H,{abi:E??[],address:C??\"0x\",args:v,functionName:_??\"<unknown>\"})})();return{data:S,gasUsed:A,logs:I,status:O,...O===\"success\"?{result:D}:{error:N}}})}))}catch(c){const l=c,d=KN(l,{});throw d instanceof __?l:d}}function uT(t){let e=!0,n=\"\",r=0,i=\"\",s=!1;for(let o=0;o<t.length;o++){const a=t[o];if([\"(\",\")\",\",\"].includes(a)&&(e=!0),a===\"(\"&&r++,a===\")\"&&r--,!!e){if(r===0){if(a===\" \"&&[\"event\",\"function\",\"error\",\"\"].includes(i))i=\"\";else if(i+=a,a===\")\"){s=!0;break}continue}if(a===\" \"){t[o-1]!==\",\"&&n!==\",\"&&n!==\",(\"&&(n=\"\",e=!1);continue}i+=a,n+=a}}if(!s)throw new Gt(\"Unable to normalize signature.\");return i}function dT(t,e){const n=typeof t,r=e.type;switch(r){case\"address\":return oT(t,{strict:!1});case\"bool\":return n===\"boolean\";case\"function\":return n===\"string\";case\"string\":return n===\"string\";default:return r===\"tuple\"&&\"components\"in e?Object.values(e.components).every((i,s)=>dT(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n===\"number\"||n===\"bigint\":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n===\"string\"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\\[[0-9]{0,}\\])+$/.test(r)?Array.isArray(t)&&t.every(i=>dT(i,{...e,type:r.replace(/(\\[[0-9]{0,}\\])$/,\"\")})):!1}}function Pte(t,e,n){for(const r in t){const i=t[r],s=e[r];if(i.type===\"tuple\"&&s.type===\"tuple\"&&\"components\"in i&&\"components\"in s)return Pte(i.components,s.components,n[r]);const o=[i.type,s.type];if(o.includes(\"address\")&&o.includes(\"bytes20\")?!0:o.includes(\"address\")&&o.includes(\"string\")?oT(n[r],{strict:!1}):o.includes(\"address\")&&o.includes(\"bytes\")?oT(n[r],{strict:!1}):!1)return o}}function Ote(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t==\"string\"?Kj(t):t;return{...r,...n?{hash:V1(r)}:{}}}function D_(t,e,n){const{args:r=[],prepare:i=!0}=n??{},s=W5e(e,{strict:!1}),o=t.filter(l=>s?l.type===\"function\"||l.type===\"error\"?Nte(l)===pl(e,0,4):l.type===\"event\"?V1(l)===e:!1:\"name\"in l&&l.name===e);if(o.length===0)throw new E8({name:e});if(o.length===1)return{...o[0],...i?{hash:V1(o[0])}:{}};let a;for(const l of o){if(!(\"inputs\"in l))continue;if(!r||r.length===0){if(!l.inputs||l.inputs.length===0)return{...l,...i?{hash:V1(l)}:{}};continue}if(!l.inputs||l.inputs.length===0||l.inputs.length!==r.length)continue;if(r.every((h,p)=>{const m=\"inputs\"in l&&l.inputs[p];return m?dT(h,m):!1})){if(a&&\"inputs\"in a&&a.inputs){const h=Pte(l.inputs,a.inputs,r);if(h)throw new mEe({abiItem:l,type:h[0]},{abiItem:a,type:h[1]})}a=l}}const c=(()=>{if(a)return a;const[l,...d]=o;return{...l,overloads:d}})();if(!c)throw new E8({name:e});return{...c,...i?{hash:V1(c)}:{}}}function Nte(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return D_(n,r)}return t[0]})();return pl(V1(e),0,4)}function gEe(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,i]=t;return D_(r,i)}return t[0]})(),n=typeof e==\"string\"?e:w8(e);return uT(n)}function V1(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,r]=t;return D_(n,r)}return t[0]})();return typeof e!=\"string\"&&\"hash\"in e&&e.hash?e.hash:Ete(eR(gEe(e)))}class mEe extends Gt{constructor(e,n){super(\"Found ambiguous types in overloaded ABI Items.\",{metaMessages:[`\\`${e.type}\\` in \\`${uT(w8(e.abiItem))}\\`, and`,`\\`${n.type}\\` in \\`${uT(w8(n.abiItem))}\\``,\"\",\"These types encode differently and cannot be distinguished at runtime.\",\"Remove one of the ambiguous items in the ABI.\"]}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiItem.AmbiguityError\"})}}class E8 extends Gt{constructor({name:e,data:n,type:r=\"item\"}){const i=e?` with name \"${e}\"`:n?` with data \"${n}\"`:\"\";super(`ABI ${r}${i} not found.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"AbiItem.NotFoundError\"})}}function yEe(...t){var s;const[e,n]=(()=>{if(Array.isArray(t[0])){const[o,a]=t;return[wEe(o),a]}return t})(),{bytecode:r,args:i}=n;return wc(r,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?uR(e.inputs,i):\"0x\")}function bEe(t){return Ote(t)}function wEe(t){const e=t.find(n=>n.type===\"constructor\");if(!e)throw new E8({name:\"constructor\"});return e}function vEe(...t){const[e,n=[]]=(()=>{if(Array.isArray(t[0])){const[l,d,h]=t;return[wz(l,d,{args:h}),h]}const[a,c]=t;return[a,c]})(),{overloads:r}=e,i=r?wz([e,...r],e.name,{args:n}):e,s=EEe(i),o=n.length>0?uR(i.inputs,n):void 0;return o?wc(s,o):s}function Fg(t,e={}){return Ote(t,e)}function wz(t,e,n){const r=D_(t,e,n);if(r.type!==\"function\")throw new E8({name:e,type:\"function\"});return r}function EEe(t){return Nte(t)}const _Ee=\"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",jc=\"0x0000000000000000000000000000000000000000\",CEe=\"0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033\";async function SEe(t,e){const{blockNumber:n,blockTag:r,calls:i,stateOverrides:s,traceAssetChanges:o,traceTransfers:a,validation:c}=e,l=e.account?Tc(e.account):void 0;if(o&&!l)throw new Ae(\"`account` is required when `traceAssetChanges` is true\");const d=l?yEe(bEe(\"constructor(bytes, bytes)\"),{bytecode:ete,args:[CEe,vEe(Fg(\"function getBalance(address)\"),[l.address])]}):void 0,h=o?await Promise.all(e.calls.map(async T=>{if(!T.data&&!T.abi)return;const{accessList:k}=await dte(t,{account:l.address,...T,data:T.abi?jo(T):T.data});return k.map(({address:z,storageKeys:L})=>L.length>0?z:null)})).then(T=>T.flat().filter(Boolean)):[],p=await lT(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:d}],stateOverrides:s},{calls:h.map((T,k)=>({abi:[Fg(\"function balanceOf(address) returns (uint256)\")],functionName:\"balanceOf\",args:[l.address],to:T,from:jc,nonce:k})),stateOverrides:[{address:jc,nonce:0}]}]:[],{calls:[...i,{}].map(T=>({...T,from:l==null?void 0:l.address})),stateOverrides:s},...o?[{calls:[{data:d}]},{calls:h.map((T,k)=>({abi:[Fg(\"function balanceOf(address) returns (uint256)\")],functionName:\"balanceOf\",args:[l.address],to:T,from:jc,nonce:k})),stateOverrides:[{address:jc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[Fg(\"function decimals() returns (uint256)\")],functionName:\"decimals\",from:jc,nonce:k})),stateOverrides:[{address:jc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[Fg(\"function tokenURI(uint256) returns (string)\")],functionName:\"tokenURI\",args:[0n],from:jc,nonce:k})),stateOverrides:[{address:jc,nonce:0}]},{calls:h.map((T,k)=>({to:T,abi:[Fg(\"function symbol() returns (string)\")],functionName:\"symbol\",from:jc,nonce:k})),stateOverrides:[{address:jc,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?p[2]:p[0],[b,y,,E,v,_,C,S]=o?p:[],{calls:A,...I}=m,O=A.slice(0,-1)??[],D=(b==null?void 0:b.calls)??[],N=(y==null?void 0:y.calls)??[],U=[...D,...N].map(T=>T.status===\"success\"?hs(T.data):null),F=(E==null?void 0:E.calls)??[],H=(v==null?void 0:v.calls)??[],V=[...F,...H].map(T=>T.status===\"success\"?hs(T.data):null),M=((_==null?void 0:_.calls)??[]).map(T=>T.status===\"success\"?T.result:null),$=((S==null?void 0:S.calls)??[]).map(T=>T.status===\"success\"?T.result:null),P=((C==null?void 0:C.calls)??[]).map(T=>T.status===\"success\"?T.result:null),q=[];for(const[T,k]of V.entries()){const z=U[T];if(typeof k!=\"bigint\"||typeof z!=\"bigint\")continue;const L=M[T-1],B=$[T-1],j=P[T-1],K=T===0?{address:_Ee,decimals:18,symbol:\"ETH\"}:{address:h[T-1],decimals:j||L?Number(L??1):void 0,symbol:B??void 0};q.some(G=>G.token.address===K.address)||q.push({token:K,value:{pre:z,post:k,diff:k-z}})}return{assetChanges:q,block:I,results:O}}const Rte=\"0x6492649264926492649264926492649264926492649264926492649264926492\";function xEe(t){if(pl(t,-32)!==Rte)throw new IEe(t)}function AEe(t){const{data:e,signature:n,to:r}=t;return wc(uR(Ste(\"address, bytes, bytes\"),[r,e,n]),Rte)}function $Ee(t){try{return xEe(t),!0}catch{return!1}}class IEe extends Gt{constructor(e){super(`Value \\`${e}\\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"SignatureErc6492.InvalidWrappedSignatureError\"})}}function TEe({r:t,s:e,to:n=\"hex\",v:r,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error(\"Invalid `v` or `yParity` value\")})(),o=`0x${new xN.Signature(hs(t),hs(e)).toCompactHex()}${s===0?\"1b\":\"1c\"}`;return n===\"hex\"?o:_l(o)}async function B_(t,e){var a,c,l,d,h,p;const{address:n,hash:r,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((l=(c=(a=t.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:l.address),multicallAddress:s=e.multicallAddress??((p=(h=(d=t.chain)==null?void 0:d.contracts)==null?void 0:h.multicall3)==null?void 0:p.address)}=e,o=(()=>{const m=e.signature;return mc(m)?m:typeof m==\"object\"&&\"r\"in m&&\"s\"in m?TEe(m):Mr(m)})();try{return aEe(o)?await PEe(t,{...e,multicallAddress:s,signature:o}):await OEe(t,{...e,verifierAddress:i,signature:o})}catch(m){try{if(W2(GQ(n),await Pee({hash:r,signature:o})))return!0}catch{}if(m instanceof Z0)return!1;throw m}}async function PEe(t,e){var E;const{address:n,blockNumber:r,blockTag:i,hash:s,multicallAddress:o}=e,{authorization:a,data:c,signature:l,to:d}=oEe(e.signature);if(await sT(t,{address:n,blockNumber:r,blockTag:i})===Ic([\"0xef0100\",a.address]))return await NEe(t,{address:n,blockNumber:r,blockTag:i,hash:s,signature:l});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:je(a.r,{size:32}),s:je(a.s,{size:32}),yParity:a.yParity};if(!await V6e({address:n,authorization:p}))throw new Z0;const b=await Et(t,Ec,\"readContract\")({...o?{address:o}:{code:tR},authorizationList:[p],abi:v8,blockNumber:r,blockTag:\"pending\",functionName:\"aggregate3\",args:[[...c?[{allowFailure:!0,target:d??n,callData:c}]:[],{allowFailure:!0,target:n,callData:jo({abi:Xee,functionName:\"isValidSignature\",args:[s,l]})}]]}),y=(E=b[b.length-1])==null?void 0:E.returnData;if(y!=null&&y.startsWith(\"0x1626ba7e\"))return!0;throw new Z0}async function OEe(t,e){const{address:n,factory:r,factoryData:i,hash:s,signature:o,verifierAddress:a,...c}=e,l=await(async()=>!r&&!i||$Ee(o)?o:AEe({data:i,signature:o,to:r}))(),d=a?{to:a,data:jo({abi:uz,functionName:\"isValidSig\",args:[n,s,l]}),...c}:{data:nR({abi:uz,args:[n,s,l],bytecode:e6e}),...c},{data:h}=await Et(t,Z2,\"call\")(d).catch(p=>{throw p instanceof Cee?new Z0:p});if(Pwe(h??\"0x0\"))return!0;throw new Z0}async function NEe(t,e){const{address:n,blockNumber:r,blockTag:i,hash:s,signature:o}=e;if((await Et(t,Ec,\"readContract\")({address:n,abi:Xee,args:[s,o],blockNumber:r,blockTag:i,functionName:\"isValidSignature\"}).catch(c=>{throw c instanceof See?new Z0:c})).startsWith(\"0x1626ba7e\"))return!0;throw new Z0}class Z0 extends Error{}async function REe(t,{address:e,message:n,factory:r,factoryData:i,signature:s,...o}){const a=mte(n);return B_(t,{address:e,factory:r,factoryData:i,hash:a,signature:s,...o})}async function kEe(t,e){const{address:n,factory:r,factoryData:i,signature:s,message:o,primaryType:a,types:c,domain:l,...d}=e,h=f3e({message:o,primaryType:a,types:c,domain:l});return B_(t,{address:n,factory:r,factoryData:i,hash:h,signature:s,...d})}function kte(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:i,poll:s,pollingInterval:o=t.pollingInterval}){const a=typeof s<\"u\"?s:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\"));let c;return a?(()=>{const h=qr([\"watchBlockNumber\",t.uid,e,n,o]);return Qf(h,{onBlockNumber:r,onError:i},p=>Y2(async()=>{var m;try{const b=await Et(t,J2,\"getBlockNumber\")({cacheTime:0});if(c!==void 0){if(b===c)return;if(b-c>1&&n)for(let y=c+1n;y<b;y++)p.onBlockNumber(y,c),c=y}(c===void 0||b>c)&&(p.onBlockNumber(b,c),c=b)}catch(b){(m=p.onError)==null||m.call(p,b)}},{emitOnBegin:e,interval:o}))})():(()=>{const h=qr([\"watchBlockNumber\",t.uid,e,n]);return Qf(h,{onBlockNumber:r,onError:i},p=>{let m=!0,b=()=>m=!1;return(async()=>{try{const y=(()=>{if(t.transport.type===\"fallback\"){const v=t.transport.transports.find(_=>_.config.type===\"webSocket\"||_.config.type===\"ipc\");return v?v.value:t.transport}return t.transport})(),{unsubscribe:E}=await y.subscribe({params:[\"newHeads\"],onData(v){var C;if(!m)return;const _=hs((C=v.result)==null?void 0:C.number);p.onBlockNumber(_,c),c=_},onError(v){var _;(_=p.onError)==null||_.call(p,v)}});b=E,m||b()}catch(y){i==null||i(y)}})(),()=>b()})})()}async function MEe(t,e){const{checkReplacement:n=!0,confirmations:r=1,hash:i,onReplaced:s,retryCount:o=6,retryDelay:a=({count:A})=>~~(1<<A)*200,timeout:c=18e4}=e,l=qr([\"waitForTransactionReceipt\",t.uid,i]),d=(()=>{var A;return e.pollingInterval?e.pollingInterval:(A=t.chain)!=null&&A.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let h,p,m,b=!1,y,E;const{promise:v,resolve:_,reject:C}=tte(),S=c?setTimeout(()=>{E==null||E(),y==null||y(),C(new Ywe({hash:i}))},c):void 0;return y=Qf(l,{onReplaced:s,resolve:_,reject:C},async A=>{if(m=await Et(t,EE,\"getTransactionReceipt\")({hash:i}).catch(()=>{}),m&&r<=1){clearTimeout(S),A.resolve(m),y==null||y();return}E=Et(t,kte,\"watchBlockNumber\")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:d,async onBlockNumber(I){const O=N=>{clearTimeout(S),E==null||E(),N(),y==null||y()};let D=I;if(!b)try{if(m){if(r>1&&(!m.blockNumber||D-m.blockNumber+1n<r))return;O(()=>A.resolve(m));return}if(n&&!h&&(b=!0,await nT(async()=>{h=await Et(t,pR,\"getTransaction\")({hash:i}),h.blockNumber&&(D=h.blockNumber)},{delay:a,retryCount:o}),b=!1),m=await Et(t,EE,\"getTransactionReceipt\")({hash:i}),r>1&&(!m.blockNumber||D-m.blockNumber+1n<r))return;O(()=>A.resolve(m))}catch(N){if(N instanceof UQ||N instanceof jQ){if(!h){b=!1;return}try{p=h,b=!0;const U=await nT(()=>Et(t,ll,\"getBlock\")({blockNumber:D,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:V})=>V instanceof Nee});b=!1;const F=U.transactions.find(({from:V,nonce:M})=>V===p.from&&M===p.nonce);if(!F||(m=await Et(t,EE,\"getTransactionReceipt\")({hash:F.hash}),r>1&&(!m.blockNumber||D-m.blockNumber+1n<r)))return;let H=\"replaced\";F.to===p.to&&F.value===p.value&&F.input===p.input?H=\"repriced\":F.from===F.to&&F.value===0n&&(H=\"cancelled\"),O(()=>{var V;(V=A.onReplaced)==null||V.call(A,{reason:H,replacedTransaction:p,transaction:F,transactionReceipt:m}),A.resolve(m)})}catch(U){O(()=>A.reject(U))}}else O(()=>A.reject(N))}}})}),v}function DEe(t,{blockTag:e=t.experimental_blockTag??\"latest\",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:i,onError:s,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const l=typeof a<\"u\"?a:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")),d=o??!1;let h;return l?(()=>{const b=qr([\"watchBlocks\",t.uid,e,n,r,d,c]);return Qf(b,{onBlock:i,onError:s},y=>Y2(async()=>{var E;try{const v=await Et(t,ll,\"getBlock\")({blockTag:e,includeTransactions:d});if(v.number!==null&&(h==null?void 0:h.number)!=null){if(v.number===h.number)return;if(v.number-h.number>1&&n)for(let _=(h==null?void 0:h.number)+1n;_<v.number;_++){const C=await Et(t,ll,\"getBlock\")({blockNumber:_,includeTransactions:d});y.onBlock(C,h),h=C}}((h==null?void 0:h.number)==null||e===\"pending\"&&(v==null?void 0:v.number)==null||v.number!==null&&v.number>h.number)&&(y.onBlock(v,h),h=v)}catch(v){(E=y.onError)==null||E.call(y,v)}},{emitOnBegin:r,interval:c}))})():(()=>{let b=!0,y=!0,E=()=>b=!1;return(async()=>{try{r&&Et(t,ll,\"getBlock\")({blockTag:e,includeTransactions:d}).then(C=>{b&&y&&(i(C,void 0),y=!1)}).catch(s);const v=(()=>{if(t.transport.type===\"fallback\"){const C=t.transport.transports.find(S=>S.config.type===\"webSocket\"||S.config.type===\"ipc\");return C?C.value:t.transport}return t.transport})(),{unsubscribe:_}=await v.subscribe({params:[\"newHeads\"],async onData(C){var A;if(!b)return;const S=await Et(t,ll,\"getBlock\")({blockNumber:(A=C.result)==null?void 0:A.number,includeTransactions:d}).catch(()=>{});b&&(i(S,h),y=!1,h=S)},onError(C){s==null||s(C)}});E=_,b||E()}catch(v){s==null||s(v)}})(),()=>E()})()}function BEe(t,{address:e,args:n,batch:r=!0,event:i,events:s,fromBlock:o,onError:a,onLogs:c,poll:l,pollingInterval:d=t.pollingInterval,strict:h}){const p=typeof l<\"u\"?l:typeof o==\"bigint\"?!0:!(t.transport.type===\"webSocket\"||t.transport.type===\"ipc\"||t.transport.type===\"fallback\"&&(t.transport.transports[0].config.type===\"webSocket\"||t.transport.transports[0].config.type===\"ipc\")),m=h??!1;return p?(()=>{const E=qr([\"watchEvent\",e,n,r,t.uid,i,d,o]);return Qf(E,{onLogs:c,onError:a},v=>{let _;o!==void 0&&(_=o-1n);let C,S=!1;const A=Y2(async()=>{var I;if(!S){try{C=await Et(t,fte,\"createEventFilter\")({address:e,args:n,event:i,events:s,strict:m,fromBlock:o})}catch{}S=!0;return}try{let O;if(C)O=await Et(t,R_,\"getFilterChanges\")({filter:C});else{const D=await Et(t,J2,\"getBlockNumber\")({});_&&_!==D?O=await Et(t,QN,\"getLogs\")({address:e,args:n,event:i,events:s,fromBlock:_+1n,toBlock:D}):O=[],_=D}if(O.length===0)return;if(r)v.onLogs(O);else for(const D of O)v.onLogs([D])}catch(O){C&&O instanceof K0&&(S=!1),(I=v.onError)==null||I.call(v,O)}},{emitOnBegin:!0,interval:d});return async()=>{C&&await Et(t,k_,\"uninstallFilter\")({filter:C}),A()}})})():(()=>{let E=!0,v=()=>E=!1;return(async()=>{try{const _=(()=>{if(t.transport.type===\"fallback\"){const I=t.transport.transports.find(O=>O.config.type===\"webSocket\"||O.config.type===\"ipc\");return I?I.value:t.transport}return t.transport})(),C=s??(i?[i]:void 0);let S=[];C&&(S=[C.flatMap(O=>K2({abi:[O],eventName:O.name,args:n}))],i&&(S=S[0]));const{unsubscribe:A}=await _.subscribe({params:[\"logs\",{address:e,topics:S}],onData(I){var D;if(!E)return;const O=I.result;try{const{eventName:N,args:U}=O_({abi:C??[],data:O.data,topics:O.topics,strict:m}),F=td(O,{args:U,eventName:N});c([F])}catch(N){let U,F;if(N instanceof dv||N instanceof A_){if(h)return;U=N.abiItem.name,F=(D=N.abiItem.inputs)==null?void 0:D.some(V=>!(\"name\"in V&&V.name))}const H=td(O,{args:F?[]:{},eventName:U});c([H])}},onError(I){a==null||a(I)}});v=A,E||v()}catch(_){a==null||a(_)}})(),()=>v()})()}function LEe(t,{batch:e=!0,onError:n,onTransactions:r,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<\"u\"?i:t.transport.type!==\"webSocket\"&&t.transport.type!==\"ipc\")?(()=>{const l=qr([\"watchPendingTransactions\",t.uid,e,s]);return Qf(l,{onTransactions:r,onError:n},d=>{let h;const p=Y2(async()=>{var m;try{if(!h)try{h=await Et(t,hte,\"createPendingTransactionFilter\")({});return}catch(y){throw p(),y}const b=await Et(t,R_,\"getFilterChanges\")({filter:h});if(b.length===0)return;if(e)d.onTransactions(b);else for(const y of b)d.onTransactions([y])}catch(b){(m=d.onError)==null||m.call(d,b)}},{emitOnBegin:!0,interval:s});return async()=>{h&&await Et(t,k_,\"uninstallFilter\")({filter:h}),p()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:h}=await t.transport.subscribe({params:[\"newPendingTransactions\"],onData(p){if(!l)return;const m=p.result;r([m])},onError(p){n==null||n(p)}});d=h,l||d()}catch(h){n==null||n(h)}})(),()=>d()})()}function UEe(t){var h,p,m;const{scheme:e,statement:n,...r}=((h=t.match(jEe))==null?void 0:h.groups)??{},{chainId:i,expirationTime:s,issuedAt:o,notBefore:a,requestId:c,...l}=((p=t.match(zEe))==null?void 0:p.groups)??{},d=(m=t.split(\"Resources:\")[1])==null?void 0:m.split(`\n- `).slice(1);return{...r,...l,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const jEe=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\\/\\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\\n)(?<address>0x[a-fA-F0-9]{40})\\n\\n(?:(?<statement>.*)\\n\\n)?/,zEe=/(?:URI: (?<uri>.+))\\n(?:Version: (?<version>.+))\\n(?:Chain ID: (?<chainId>\\d+))\\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\\n(?:Issued At: (?<issuedAt>.+))(?:\\nExpiration Time: (?<expirationTime>.+))?(?:\\nNot Before: (?<notBefore>.+))?(?:\\nRequest ID: (?<requestId>.+))?/;function FEe(t){const{address:e,domain:n,message:r,nonce:i,scheme:s,time:o=new Date}=t;if(n&&r.domain!==n||i&&r.nonce!==i||s&&r.scheme!==s||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!Kr(r.address,{strict:!1})||e&&!W2(r.address,e))return!1}catch{return!1}return!0}async function qEe(t,e){const{address:n,domain:r,message:i,nonce:s,scheme:o,signature:a,time:c=new Date,...l}=e,d=UEe(i);if(!d.address||!FEe({address:n,domain:r,message:d,nonce:s,scheme:o,time:c}))return!1;const p=mte(i);return B_(t,{address:d.address,hash:p,signature:a,...l})}async function HEe(t,{serializedTransaction:e,throwOnReceiptRevert:n,timeout:r}){var a,c,l;const i=await t.request({method:\"eth_sendRawTransactionSync\",params:r?[e,je(r)]:[e]},{retryCount:0}),o=(((l=(c=(a=t.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:l.format)||RN)(i);if(o.status===\"reverted\"&&n)throw new Zwe({receipt:o});return o}function Mp(t){return{call:e=>Z2(t,e),createAccessList:e=>dte(t,e),createBlockFilter:()=>M6e(t),createContractEventFilter:e=>Tee(t,e),createEventFilter:e=>fte(t,e),createPendingTransactionFilter:()=>hte(t),estimateContractGas:e=>v5e(t,e),estimateGas:e=>JN(t,e),getBalance:e=>D6e(t,e),getBlobBaseFee:()=>B6e(t),getBlock:e=>ll(t,e),getBlockNumber:e=>J2(t,e),getBlockTransactionCount:e=>L6e(t,e),getBytecode:e=>sT(t,e),getChainId:()=>Mee(t),getCode:e=>sT(t,e),getContractEvents:e=>Bee(t,e),getEip712Domain:e=>j6e(t,e),getEnsAddress:e=>w6e(t,e),getEnsAvatar:e=>N6e(t,e),getEnsName:e=>R6e(t,e),getEnsResolver:e=>k6e(t,e),getEnsText:e=>ute(t,e),getFeeHistory:e=>q6e(t,e),estimateFeesPerGas:e=>b5e(t,e),getFilterChanges:e=>R_(t,e),getFilterLogs:e=>H6e(t,e),getGasPrice:()=>YN(t),getLogs:e=>QN(t,e),getProof:e=>dEe(t,e),estimateMaxPriorityFeePerGas:e=>y5e(t,e),getStorageAt:e=>fEe(t,e),getTransaction:e=>pR(t,e),getTransactionConfirmations:e=>hEe(t,e),getTransactionCount:e=>kee(t,e),getTransactionReceipt:e=>EE(t,e),multicall:e=>pEe(t,e),prepareTransactionRequest:e=>Dee(t,e),readContract:e=>Ec(t,e),sendRawTransaction:e=>h6e(t,e),sendRawTransactionSync:e=>HEe(t,e),simulate:e=>lT(t,e),simulateBlocks:e=>lT(t,e),simulateCalls:e=>SEe(t,e),simulateContract:e=>s6e(t,e),verifyHash:e=>B_(t,e),verifyMessage:e=>REe(t,e),verifySiweMessage:e=>qEe(t,e),verifyTypedData:e=>kEe(t,e),uninstallFilter:e=>k_(t,e),waitForTransactionReceipt:e=>MEe(t,e),watchBlocks:e=>DEe(t,e),watchBlockNumber:e=>kte(t,e),watchContractEvent:e=>f6e(t,e),watchEvent:e=>BEe(t,e),watchPendingTransactions:e=>LEe(t,e)}}function my(t){const{key:e=\"public\",name:n=\"Public Client\"}=t;return p6e({...t,key:e,name:n,type:\"publicClient\"}).extend(Mp)}function VEe({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=ite();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:W6e(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}class KEe extends Ae{constructor(){super(\"No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.\",{docsPath:\"/docs/clients/intro\",name:\"UrlRequiredError\"})}}function yy(t,e={}){const{batch:n,fetchFn:r,fetchOptions:i,key:s=\"http\",methods:o,name:a=\"HTTP JSON-RPC\",onFetchRequest:c,onFetchResponse:l,retryDelay:d,raw:h}=e;return({chain:p,retryCount:m,timeout:b})=>{const{batchSize:y=1e3,wait:E=0}=typeof n==\"object\"?n:{},v=e.retryCount??m,_=b??e.timeout??1e4,C=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!C)throw new KEe;const S=r3e(C,{fetchFn:r,fetchOptions:i,onRequest:c,onResponse:l,timeout:_});return VEe({key:s,methods:o,name:a,async request({method:A,params:I}){const O={method:A,params:I},{schedule:D}=nte({id:C,wait:E,shouldSplitBatch(H){return H.length>y},fn:H=>S.request({body:H}),sort:(H,V)=>H.id-V.id}),N=async H=>n?D(H):[await S.request({body:H})],[{error:U,result:F}]=await N(O);if(h)return{error:U,result:F};if(U)throw new VN({body:O,error:U,url:C});return F},retryCount:v,retryDelay:d,timeout:_,type:\"http\"},{fetchOptions:i,url:C})}}var Qt;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!=\"number\"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys==\"function\"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger==\"function\"?i=>Number.isInteger(i):i=>typeof i==\"number\"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=\" | \"){return i.map(o=>typeof o==\"string\"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s==\"bigint\"?s.toString():s})(Qt||(Qt={}));var vz;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(vz||(vz={}));const rt=Qt.arrayToEnum([\"string\",\"nan\",\"number\",\"integer\",\"float\",\"boolean\",\"date\",\"bigint\",\"symbol\",\"function\",\"undefined\",\"null\",\"array\",\"object\",\"unknown\",\"promise\",\"void\",\"never\",\"map\",\"set\"]),pf=t=>{switch(typeof t){case\"undefined\":return rt.undefined;case\"string\":return rt.string;case\"number\":return Number.isNaN(t)?rt.nan:rt.number;case\"boolean\":return rt.boolean;case\"function\":return rt.function;case\"bigint\":return rt.bigint;case\"symbol\":return rt.symbol;case\"object\":return Array.isArray(t)?rt.array:t===null?rt.null:t.then&&typeof t.then==\"function\"&&t.catch&&typeof t.catch==\"function\"?rt.promise:typeof Map<\"u\"&&t instanceof Map?rt.map:typeof Set<\"u\"&&t instanceof Set?rt.set:typeof Date<\"u\"&&t instanceof Date?rt.date:rt.object;default:return rt.unknown}},Re=Qt.arrayToEnum([\"invalid_type\",\"invalid_literal\",\"custom\",\"invalid_union\",\"invalid_union_discriminator\",\"invalid_enum_value\",\"unrecognized_keys\",\"invalid_arguments\",\"invalid_return_type\",\"invalid_date\",\"invalid_string\",\"too_small\",\"too_big\",\"invalid_intersection_types\",\"not_multiple_of\",\"not_finite\"]);class rd extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name=\"ZodError\",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code===\"invalid_union\")o.unionErrors.map(i);else if(o.code===\"invalid_return_type\")i(o.returnTypeError);else if(o.code===\"invalid_arguments\")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}static assert(e){if(!(e instanceof rd))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Qt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}rd.create=t=>new rd(t);const fT=(t,e)=>{let n;switch(t.code){case Re.invalid_type:t.received===rt.undefined?n=\"Required\":n=`Expected ${t.expected}, received ${t.received}`;break;case Re.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,Qt.jsonStringifyReplacer)}`;break;case Re.unrecognized_keys:n=`Unrecognized key(s) in object: ${Qt.joinValues(t.keys,\", \")}`;break;case Re.invalid_union:n=\"Invalid input\";break;case Re.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Qt.joinValues(t.options)}`;break;case Re.invalid_enum_value:n=`Invalid enum value. Expected ${Qt.joinValues(t.options)}, received '${t.received}'`;break;case Re.invalid_arguments:n=\"Invalid function arguments\";break;case Re.invalid_return_type:n=\"Invalid function return type\";break;case Re.invalid_date:n=\"Invalid date\";break;case Re.invalid_string:typeof t.validation==\"object\"?\"includes\"in t.validation?(n=`Invalid input: must include \"${t.validation.includes}\"`,typeof t.validation.position==\"number\"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):\"startsWith\"in t.validation?n=`Invalid input: must start with \"${t.validation.startsWith}\"`:\"endsWith\"in t.validation?n=`Invalid input: must end with \"${t.validation.endsWith}\"`:Qt.assertNever(t.validation):t.validation!==\"regex\"?n=`Invalid ${t.validation}`:n=\"Invalid\";break;case Re.too_small:t.type===\"array\"?n=`Array must contain ${t.exact?\"exactly\":t.inclusive?\"at least\":\"more than\"} ${t.minimum} element(s)`:t.type===\"string\"?n=`String must contain ${t.exact?\"exactly\":t.inclusive?\"at least\":\"over\"} ${t.minimum} character(s)`:t.type===\"number\"?n=`Number must be ${t.exact?\"exactly equal to \":t.inclusive?\"greater than or equal to \":\"greater than \"}${t.minimum}`:t.type===\"bigint\"?n=`Number must be ${t.exact?\"exactly equal to \":t.inclusive?\"greater than or equal to \":\"greater than \"}${t.minimum}`:t.type===\"date\"?n=`Date must be ${t.exact?\"exactly equal to \":t.inclusive?\"greater than or equal to \":\"greater than \"}${new Date(Number(t.minimum))}`:n=\"Invalid input\";break;case Re.too_big:t.type===\"array\"?n=`Array must contain ${t.exact?\"exactly\":t.inclusive?\"at most\":\"less than\"} ${t.maximum} element(s)`:t.type===\"string\"?n=`String must contain ${t.exact?\"exactly\":t.inclusive?\"at most\":\"under\"} ${t.maximum} character(s)`:t.type===\"number\"?n=`Number must be ${t.exact?\"exactly\":t.inclusive?\"less than or equal to\":\"less than\"} ${t.maximum}`:t.type===\"bigint\"?n=`BigInt must be ${t.exact?\"exactly\":t.inclusive?\"less than or equal to\":\"less than\"} ${t.maximum}`:t.type===\"date\"?n=`Date must be ${t.exact?\"exactly\":t.inclusive?\"smaller than or equal to\":\"smaller than\"} ${new Date(Number(t.maximum))}`:n=\"Invalid input\";break;case Re.custom:n=\"Invalid input\";break;case Re.invalid_intersection_types:n=\"Intersection results could not be merged\";break;case Re.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case Re.not_finite:n=\"Number must be finite\";break;default:n=e.defaultError,Qt.assertNever(t)}return{message:n}};let WEe=fT;function GEe(){return WEe}const ZEe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a=\"\";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function Ze(t,e){const n=GEe(),r=ZEe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===fT?void 0:fT].filter(i=>!!i)});t.common.issues.push(r)}class Fo{constructor(){this.value=\"valid\"}dirty(){this.value===\"valid\"&&(this.value=\"dirty\")}abort(){this.value!==\"aborted\"&&(this.value=\"aborted\")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status===\"aborted\")return _t;i.status===\"dirty\"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Fo.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status===\"aborted\"||o.status===\"aborted\")return _t;s.status===\"dirty\"&&e.dirty(),o.status===\"dirty\"&&e.dirty(),s.value!==\"__proto__\"&&(typeof o.value<\"u\"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const _t=Object.freeze({status:\"aborted\"}),pw=t=>({status:\"dirty\",value:t}),Ra=t=>({status:\"valid\",value:t}),Ez=t=>t.status===\"aborted\",_z=t=>t.status===\"dirty\",Im=t=>t.status===\"valid\",_8=t=>typeof Promise<\"u\"&&t instanceof Promise;var ut;(function(t){t.errToObj=e=>typeof e==\"string\"?{message:e}:e||{},t.toString=e=>typeof e==\"string\"?e:e==null?void 0:e.message})(ut||(ut={}));class eh{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Cz=(t,e)=>{if(Im(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error(\"Validation failed but no issues detected.\");return{success:!1,get error(){if(this._error)return this._error;const n=new rd(t.common.issues);return this._error=n,this._error}}};function Mt(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use \"invalid_type_error\" or \"required_error\" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:c}=t;return o.code===\"invalid_enum_value\"?{message:c??a.defaultError}:typeof a.data>\"u\"?{message:c??r??a.defaultError}:o.code!==\"invalid_type\"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:i}}class Yt{get description(){return this._def.description}_getType(e){return pf(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:pf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Fo,ctx:{common:e.parent.common,data:e.data,parsedType:pf(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(_8(n))throw new Error(\"Synchronous parse encountered promise.\");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pf(e)},i=this._parseSync({data:e,path:r.path,parent:r});return Cz(r,i)}\"~validate\"(e){var r,i;const n={common:{issues:[],async:!!this[\"~standard\"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pf(e)};if(!this[\"~standard\"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Im(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes(\"encountered\")&&(this[\"~standard\"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Im(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:pf(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(_8(i)?i:Promise.resolve(i));return Cz(r,s)}refine(e,n){const r=i=>typeof n==\"string\"||typeof n>\"u\"?{message:n}:typeof n==\"function\"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:Re.custom,...r(i)});return typeof Promise<\"u\"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n==\"function\"?n(r,i):n),!1))}_refinement(e){return new ep({schema:this,typeName:St.ZodEffects,effect:{type:\"refinement\",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this[\"~standard\"]={version:1,vendor:\"zod\",validate:n=>this[\"~validate\"](n)}}optional(){return Vu.create(this,this._def)}nullable(){return tp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gl.create(this)}promise(){return $8.create(this,this._def)}or(e){return S8.create([this,e],this._def)}and(e){return x8.create(this,e,this._def)}transform(e){return new ep({...Mt(this._def),schema:this,typeName:St.ZodEffects,effect:{type:\"transform\",transform:e}})}default(e){const n=typeof e==\"function\"?e:()=>e;return new I8({...Mt(this._def),innerType:this,defaultValue:n,typeName:St.ZodDefault})}brand(){return new Lte({typeName:St.ZodBranded,type:this,...Mt(this._def)})}catch(e){const n=typeof e==\"function\"?e:()=>e;return new T8({...Mt(this._def),innerType:this,catchValue:n,typeName:St.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return mR.create(this,e)}readonly(){return P8.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const YEe=/^c[^\\s-]{8,}$/i,JEe=/^[0-9a-z]+$/,XEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,QEe=/^[0-9a-fA-F]{8}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{4}\\b-[0-9a-fA-F]{12}$/i,e8e=/^[a-z0-9_-]{21}$/i,t8e=/^[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]+\\.[A-Za-z0-9-_]*$/,n8e=/^[-+]?P(?!$)(?:(?:[-+]?\\d+Y)|(?:[-+]?\\d+[.,]\\d+Y$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:(?:[-+]?\\d+W)|(?:[-+]?\\d+[.,]\\d+W$))?(?:(?:[-+]?\\d+D)|(?:[-+]?\\d+[.,]\\d+D$))?(?:T(?=[\\d+-])(?:(?:[-+]?\\d+H)|(?:[-+]?\\d+[.,]\\d+H$))?(?:(?:[-+]?\\d+M)|(?:[-+]?\\d+[.,]\\d+M$))?(?:[-+]?\\d+(?:[.,]\\d+)?S)?)??$/,r8e=/^(?!\\.)(?!.*\\.\\.)([A-Z0-9_'+\\-\\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\\-]*\\.)+[A-Z]{2,}$/i,i8e=\"^(\\\\p{Extended_Pictographic}|\\\\p{Emoji_Component})+$\";let kx;const s8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,o8e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\\/(3[0-2]|[12]?[0-9])$/,a8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,c8e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,l8e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,u8e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Mte=\"((\\\\d\\\\d[2468][048]|\\\\d\\\\d[13579][26]|\\\\d\\\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\\\d|30)|(02)-(0[1-9]|1\\\\d|2[0-8])))\",d8e=new RegExp(`^${Mte}$`);function Dte(t){let e=\"[0-5]\\\\d\";t.precision?e=`${e}\\\\.\\\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\\\.\\\\d+)?`);const n=t.precision?\"+\":\"?\";return`([01]\\\\d|2[0-3]):[0-5]\\\\d(:${e})${n}`}function f8e(t){return new RegExp(`^${Dte(t)}$`)}function h8e(t){let e=`${Mte}T${Dte(t)}`;const n=[];return n.push(t.local?\"Z?\":\"Z\"),t.offset&&n.push(\"([+-]\\\\d{2}:?\\\\d{2})\"),e=`${e}(${n.join(\"|\")})`,new RegExp(`^${e}$`)}function p8e(t,e){return!!((e===\"v4\"||!e)&&s8e.test(t)||(e===\"v6\"||!e)&&a8e.test(t))}function g8e(t,e){if(!t8e.test(t))return!1;try{const[n]=t.split(\".\");if(!n)return!1;const r=n.replace(/-/g,\"+\").replace(/_/g,\"/\").padEnd(n.length+(4-n.length%4)%4,\"=\"),i=JSON.parse(atob(r));return!(typeof i!=\"object\"||i===null||\"typ\"in i&&(i==null?void 0:i.typ)!==\"JWT\"||!i.alg||e&&i.alg!==e)}catch{return!1}}function m8e(t,e){return!!((e===\"v4\"||!e)&&o8e.test(t)||(e===\"v6\"||!e)&&c8e.test(t))}class Mu extends Yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rt.string){const s=this._getOrReturnCtx(e);return Ze(s,{code:Re.invalid_type,expected:rt.string,received:s.parsedType}),_t}const r=new Fo;let i;for(const s of this._def.checks)if(s.kind===\"min\")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.too_small,minimum:s.value,type:\"string\",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind===\"max\")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.too_big,maximum:s.value,type:\"string\",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind===\"length\"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Ze(i,{code:Re.too_big,maximum:s.value,type:\"string\",inclusive:!0,exact:!0,message:s.message}):a&&Ze(i,{code:Re.too_small,minimum:s.value,type:\"string\",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind===\"email\")r8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"email\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"emoji\")kx||(kx=new RegExp(i8e,\"u\")),kx.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"emoji\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"uuid\")QEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"uuid\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"nanoid\")e8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"nanoid\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"cuid\")YEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"cuid\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"cuid2\")JEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"cuid2\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"ulid\")XEe.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"ulid\",code:Re.invalid_string,message:s.message}),r.dirty());else if(s.kind===\"url\")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"url\",code:Re.invalid_string,message:s.message}),r.dirty()}else s.kind===\"regex\"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"regex\",code:Re.invalid_string,message:s.message}),r.dirty())):s.kind===\"trim\"?e.data=e.data.trim():s.kind===\"includes\"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind===\"toLowerCase\"?e.data=e.data.toLowerCase():s.kind===\"toUpperCase\"?e.data=e.data.toUpperCase():s.kind===\"startsWith\"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind===\"endsWith\"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind===\"datetime\"?h8e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:\"datetime\",message:s.message}),r.dirty()):s.kind===\"date\"?d8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:\"date\",message:s.message}),r.dirty()):s.kind===\"time\"?f8e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.invalid_string,validation:\"time\",message:s.message}),r.dirty()):s.kind===\"duration\"?n8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"duration\",code:Re.invalid_string,message:s.message}),r.dirty()):s.kind===\"ip\"?p8e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"ip\",code:Re.invalid_string,message:s.message}),r.dirty()):s.kind===\"jwt\"?g8e(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"jwt\",code:Re.invalid_string,message:s.message}),r.dirty()):s.kind===\"cidr\"?m8e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"cidr\",code:Re.invalid_string,message:s.message}),r.dirty()):s.kind===\"base64\"?l8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"base64\",code:Re.invalid_string,message:s.message}),r.dirty()):s.kind===\"base64url\"?u8e.test(e.data)||(i=this._getOrReturnCtx(e,i),Ze(i,{validation:\"base64url\",code:Re.invalid_string,message:s.message}),r.dirty()):Qt.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:Re.invalid_string,...ut.errToObj(r)})}_addCheck(e){return new Mu({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:\"email\",...ut.errToObj(e)})}url(e){return this._addCheck({kind:\"url\",...ut.errToObj(e)})}emoji(e){return this._addCheck({kind:\"emoji\",...ut.errToObj(e)})}uuid(e){return this._addCheck({kind:\"uuid\",...ut.errToObj(e)})}nanoid(e){return this._addCheck({kind:\"nanoid\",...ut.errToObj(e)})}cuid(e){return this._addCheck({kind:\"cuid\",...ut.errToObj(e)})}cuid2(e){return this._addCheck({kind:\"cuid2\",...ut.errToObj(e)})}ulid(e){return this._addCheck({kind:\"ulid\",...ut.errToObj(e)})}base64(e){return this._addCheck({kind:\"base64\",...ut.errToObj(e)})}base64url(e){return this._addCheck({kind:\"base64url\",...ut.errToObj(e)})}jwt(e){return this._addCheck({kind:\"jwt\",...ut.errToObj(e)})}ip(e){return this._addCheck({kind:\"ip\",...ut.errToObj(e)})}cidr(e){return this._addCheck({kind:\"cidr\",...ut.errToObj(e)})}datetime(e){return typeof e==\"string\"?this._addCheck({kind:\"datetime\",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:\"datetime\",precision:typeof(e==null?void 0:e.precision)>\"u\"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ut.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:\"date\",message:e})}time(e){return typeof e==\"string\"?this._addCheck({kind:\"time\",precision:null,message:e}):this._addCheck({kind:\"time\",precision:typeof(e==null?void 0:e.precision)>\"u\"?null:e==null?void 0:e.precision,...ut.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:\"duration\",...ut.errToObj(e)})}regex(e,n){return this._addCheck({kind:\"regex\",regex:e,...ut.errToObj(n)})}includes(e,n){return this._addCheck({kind:\"includes\",value:e,position:n==null?void 0:n.position,...ut.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:\"startsWith\",value:e,...ut.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:\"endsWith\",value:e,...ut.errToObj(n)})}min(e,n){return this._addCheck({kind:\"min\",value:e,...ut.errToObj(n)})}max(e,n){return this._addCheck({kind:\"max\",value:e,...ut.errToObj(n)})}length(e,n){return this._addCheck({kind:\"length\",value:e,...ut.errToObj(n)})}nonempty(e){return this.min(1,ut.errToObj(e))}trim(){return new Mu({...this._def,checks:[...this._def.checks,{kind:\"trim\"}]})}toLowerCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:\"toLowerCase\"}]})}toUpperCase(){return new Mu({...this._def,checks:[...this._def.checks,{kind:\"toUpperCase\"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind===\"datetime\")}get isDate(){return!!this._def.checks.find(e=>e.kind===\"date\")}get isTime(){return!!this._def.checks.find(e=>e.kind===\"time\")}get isDuration(){return!!this._def.checks.find(e=>e.kind===\"duration\")}get isEmail(){return!!this._def.checks.find(e=>e.kind===\"email\")}get isURL(){return!!this._def.checks.find(e=>e.kind===\"url\")}get isEmoji(){return!!this._def.checks.find(e=>e.kind===\"emoji\")}get isUUID(){return!!this._def.checks.find(e=>e.kind===\"uuid\")}get isNANOID(){return!!this._def.checks.find(e=>e.kind===\"nanoid\")}get isCUID(){return!!this._def.checks.find(e=>e.kind===\"cuid\")}get isCUID2(){return!!this._def.checks.find(e=>e.kind===\"cuid2\")}get isULID(){return!!this._def.checks.find(e=>e.kind===\"ulid\")}get isIP(){return!!this._def.checks.find(e=>e.kind===\"ip\")}get isCIDR(){return!!this._def.checks.find(e=>e.kind===\"cidr\")}get isBase64(){return!!this._def.checks.find(e=>e.kind===\"base64\")}get isBase64url(){return!!this._def.checks.find(e=>e.kind===\"base64url\")}get minLength(){let e=null;for(const n of this._def.checks)n.kind===\"min\"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind===\"max\"&&(e===null||n.value<e)&&(e=n.value);return e}}Mu.create=t=>new Mu({checks:[],typeName:St.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Mt(t)});function y8e(t,e){const n=(t.toString().split(\".\")[1]||\"\").length,r=(e.toString().split(\".\")[1]||\"\").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(\".\",\"\")),o=Number.parseInt(e.toFixed(i).replace(\".\",\"\"));return s%o/10**i}class Y0 extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rt.number){const s=this._getOrReturnCtx(e);return Ze(s,{code:Re.invalid_type,expected:rt.number,received:s.parsedType}),_t}let r;const i=new Fo;for(const s of this._def.checks)s.kind===\"int\"?Qt.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.invalid_type,expected:\"integer\",received:\"float\",message:s.message}),i.dirty()):s.kind===\"min\"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.too_small,minimum:s.value,type:\"number\",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind===\"max\"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.too_big,maximum:s.value,type:\"number\",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind===\"multipleOf\"?y8e(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind===\"finite\"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.not_finite,message:s.message}),i.dirty()):Qt.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit(\"min\",e,!0,ut.toString(n))}gt(e,n){return this.setLimit(\"min\",e,!1,ut.toString(n))}lte(e,n){return this.setLimit(\"max\",e,!0,ut.toString(n))}lt(e,n){return this.setLimit(\"max\",e,!1,ut.toString(n))}setLimit(e,n,r,i){return new Y0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ut.toString(i)}]})}_addCheck(e){return new Y0({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:\"int\",message:ut.toString(e)})}positive(e){return this._addCheck({kind:\"min\",value:0,inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:0,inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:0,inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:0,inclusive:!0,message:ut.toString(e)})}multipleOf(e,n){return this._addCheck({kind:\"multipleOf\",value:e,message:ut.toString(n)})}finite(e){return this._addCheck({kind:\"finite\",message:ut.toString(e)})}safe(e){return this._addCheck({kind:\"min\",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ut.toString(e)})._addCheck({kind:\"max\",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ut.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind===\"min\"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind===\"max\"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind===\"int\"||e.kind===\"multipleOf\"&&Qt.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind===\"finite\"||r.kind===\"int\"||r.kind===\"multipleOf\")return!0;r.kind===\"min\"?(n===null||r.value>n)&&(n=r.value):r.kind===\"max\"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Y0.create=t=>new Y0({checks:[],typeName:St.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class J0 extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==rt.bigint)return this._getInvalidInput(e);let r;const i=new Fo;for(const s of this._def.checks)s.kind===\"min\"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.too_small,type:\"bigint\",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind===\"max\"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.too_big,type:\"bigint\",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind===\"multipleOf\"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ze(r,{code:Re.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Qt.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ze(n,{code:Re.invalid_type,expected:rt.bigint,received:n.parsedType}),_t}gte(e,n){return this.setLimit(\"min\",e,!0,ut.toString(n))}gt(e,n){return this.setLimit(\"min\",e,!1,ut.toString(n))}lte(e,n){return this.setLimit(\"max\",e,!0,ut.toString(n))}lt(e,n){return this.setLimit(\"max\",e,!1,ut.toString(n))}setLimit(e,n,r,i){return new J0({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ut.toString(i)}]})}_addCheck(e){return new J0({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}negative(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!1,message:ut.toString(e)})}nonpositive(e){return this._addCheck({kind:\"max\",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}nonnegative(e){return this._addCheck({kind:\"min\",value:BigInt(0),inclusive:!0,message:ut.toString(e)})}multipleOf(e,n){return this._addCheck({kind:\"multipleOf\",value:e,message:ut.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind===\"min\"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind===\"max\"&&(e===null||n.value<e)&&(e=n.value);return e}}J0.create=t=>new J0({checks:[],typeName:St.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Mt(t)});class C8 extends Yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rt.boolean){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.boolean,received:r.parsedType}),_t}return Ra(e.data)}}C8.create=t=>new C8({typeName:St.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Mt(t)});class Tm extends Yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rt.date){const s=this._getOrReturnCtx(e);return Ze(s,{code:Re.invalid_type,expected:rt.date,received:s.parsedType}),_t}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Ze(s,{code:Re.invalid_date}),_t}const r=new Fo;let i;for(const s of this._def.checks)s.kind===\"min\"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:\"date\"}),r.dirty()):s.kind===\"max\"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Ze(i,{code:Re.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:\"date\"}),r.dirty()):Qt.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Tm({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:\"min\",value:e.getTime(),message:ut.toString(n)})}max(e,n){return this._addCheck({kind:\"max\",value:e.getTime(),message:ut.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind===\"min\"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind===\"max\"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Tm.create=t=>new Tm({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:St.ZodDate,...Mt(t)});class Sz extends Yt{_parse(e){if(this._getType(e)!==rt.symbol){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.symbol,received:r.parsedType}),_t}return Ra(e.data)}}Sz.create=t=>new Sz({typeName:St.ZodSymbol,...Mt(t)});class hT extends Yt{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.undefined,received:r.parsedType}),_t}return Ra(e.data)}}hT.create=t=>new hT({typeName:St.ZodUndefined,...Mt(t)});class pT extends Yt{_parse(e){if(this._getType(e)!==rt.null){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.null,received:r.parsedType}),_t}return Ra(e.data)}}pT.create=t=>new pT({typeName:St.ZodNull,...Mt(t)});class gT extends Yt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ra(e.data)}}gT.create=t=>new gT({typeName:St.ZodAny,...Mt(t)});class xz extends Yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ra(e.data)}}xz.create=t=>new xz({typeName:St.ZodUnknown,...Mt(t)});class th extends Yt{_parse(e){const n=this._getOrReturnCtx(e);return Ze(n,{code:Re.invalid_type,expected:rt.never,received:n.parsedType}),_t}}th.create=t=>new th({typeName:St.ZodNever,...Mt(t)});class Az extends Yt{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.void,received:r.parsedType}),_t}return Ra(e.data)}}Az.create=t=>new Az({typeName:St.ZodVoid,...Mt(t)});class gl extends Yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==rt.array)return Ze(n,{code:Re.invalid_type,expected:rt.array,received:n.parsedType}),_t;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Ze(n,{code:o?Re.too_big:Re.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:\"array\",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Ze(n,{code:Re.too_small,minimum:i.minLength.value,type:\"array\",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Ze(n,{code:Re.too_big,maximum:i.maxLength.value,type:\"array\",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new eh(n,o,n.path,a)))).then(o=>Fo.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new eh(n,o,n.path,a)));return Fo.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new gl({...this._def,minLength:{value:e,message:ut.toString(n)}})}max(e,n){return new gl({...this._def,maxLength:{value:e,message:ut.toString(n)}})}length(e,n){return new gl({...this._def,exactLength:{value:e,message:ut.toString(n)}})}nonempty(e){return this.min(1,e)}}gl.create=(t,e)=>new gl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:St.ZodArray,...Mt(e)});function O1(t){if(t instanceof Pr){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Vu.create(O1(r))}return new Pr({...t._def,shape:()=>e})}else return t instanceof gl?new gl({...t._def,type:O1(t.element)}):t instanceof Vu?Vu.create(O1(t.unwrap())):t instanceof tp?tp.create(O1(t.unwrap())):t instanceof X0?X0.create(t.items.map(e=>O1(e))):t}class Pr extends Yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=Qt.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==rt.object){const l=this._getOrReturnCtx(e);return Ze(l,{code:Re.invalid_type,expected:rt.object,received:l.parsedType}),_t}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof th&&this._def.unknownKeys===\"strip\"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const d=s[l],h=i.data[l];c.push({key:{status:\"valid\",value:l},value:d._parse(new eh(i,h,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof th){const l=this._def.unknownKeys;if(l===\"passthrough\")for(const d of a)c.push({key:{status:\"valid\",value:d},value:{status:\"valid\",value:i.data[d]}});else if(l===\"strict\")a.length>0&&(Ze(i,{code:Re.unrecognized_keys,keys:a}),r.dirty());else if(l!==\"strip\")throw new Error(\"Internal ZodObject error: invalid unknownKeys value.\")}else{const l=this._def.catchall;for(const d of a){const h=i.data[d];c.push({key:{status:\"valid\",value:d},value:l._parse(new eh(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const d of c){const h=await d.key,p=await d.value;l.push({key:h,value:p,alwaysSet:d.alwaysSet})}return l}).then(l=>Fo.mergeObjectSync(r,l)):Fo.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return ut.errToObj,new Pr({...this._def,unknownKeys:\"strict\",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code===\"unrecognized_keys\"?{message:ut.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Pr({...this._def,unknownKeys:\"strip\"})}passthrough(){return new Pr({...this._def,unknownKeys:\"passthrough\"})}extend(e){return new Pr({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Pr({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:St.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Pr({...this._def,catchall:e})}pick(e){const n={};for(const r of Qt.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Pr({...this._def,shape:()=>n})}omit(e){const n={};for(const r of Qt.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new Pr({...this._def,shape:()=>n})}deepPartial(){return O1(this)}partial(e){const n={};for(const r of Qt.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new Pr({...this._def,shape:()=>n})}required(e){const n={};for(const r of Qt.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Vu;)s=s._def.innerType;n[r]=s}return new Pr({...this._def,shape:()=>n})}keyof(){return Bte(Qt.objectKeys(this.shape))}}Pr.create=(t,e)=>new Pr({shape:()=>t,unknownKeys:\"strip\",catchall:th.create(),typeName:St.ZodObject,...Mt(e)});Pr.strictCreate=(t,e)=>new Pr({shape:()=>t,unknownKeys:\"strict\",catchall:th.create(),typeName:St.ZodObject,...Mt(e)});Pr.lazycreate=(t,e)=>new Pr({shape:t,unknownKeys:\"strip\",catchall:th.create(),typeName:St.ZodObject,...Mt(e)});class S8 extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status===\"valid\")return a.result;for(const a of s)if(a.result.status===\"dirty\")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new rd(a.ctx.common.issues));return Ze(n,{code:Re.invalid_union,unionErrors:o}),_t}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},d=c._parseSync({data:n.data,path:n.path,parent:l});if(d.status===\"valid\")return d;d.status===\"dirty\"&&!s&&(s={result:d,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new rd(c));return Ze(n,{code:Re.invalid_union,unionErrors:a}),_t}}get options(){return this._def.options}}S8.create=(t,e)=>new S8({options:t,typeName:St.ZodUnion,...Mt(e)});const bu=t=>t instanceof yT?bu(t.schema):t instanceof ep?bu(t.innerType()):t instanceof A8?[t.value]:t instanceof Q0?t.options:t instanceof bT?Qt.objectValues(t.enum):t instanceof I8?bu(t._def.innerType):t instanceof hT?[void 0]:t instanceof pT?[null]:t instanceof Vu?[void 0,...bu(t.unwrap())]:t instanceof tp?[null,...bu(t.unwrap())]:t instanceof Lte||t instanceof P8?bu(t.unwrap()):t instanceof T8?bu(t._def.innerType):[];class gR extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.object)return Ze(n,{code:Re.invalid_type,expected:rt.object,received:n.parsedType}),_t;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(Ze(n,{code:Re.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),_t)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=bu(s.shape[e]);if(!o.length)throw new Error(`A discriminator value for key \\`${e}\\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new gR({typeName:St.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Mt(r)})}}function mT(t,e){const n=pf(t),r=pf(e);if(t===e)return{valid:!0,data:t};if(n===rt.object&&r===rt.object){const i=Qt.objectKeys(e),s=Qt.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=mT(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===rt.array&&r===rt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=mT(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===rt.date&&r===rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class x8 extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(Ez(s)||Ez(o))return _t;const a=mT(s.value,o.value);return a.valid?((_z(s)||_z(o))&&n.dirty(),{status:n.value,value:a.data}):(Ze(r,{code:Re.invalid_intersection_types}),_t)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}x8.create=(t,e,n)=>new x8({left:t,right:e,typeName:St.ZodIntersection,...Mt(n)});class X0 extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.array)return Ze(r,{code:Re.invalid_type,expected:rt.array,received:r.parsedType}),_t;if(r.data.length<this._def.items.length)return Ze(r,{code:Re.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),_t;!this._def.rest&&r.data.length>this._def.items.length&&(Ze(r,{code:Re.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:\"array\"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new eh(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Fo.mergeArray(n,o)):Fo.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new X0({...this._def,rest:e})}}X0.create=(t,e)=>{if(!Array.isArray(t))throw new Error(\"You must pass an array of schemas to z.tuple([ ... ])\");return new X0({items:t,typeName:St.ZodTuple,rest:null,...Mt(e)})};class $z extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.map)return Ze(r,{code:Re.invalid_type,expected:rt.map,received:r.parsedType}),_t;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new eh(r,a,r.path,[l,\"key\"])),value:s._parse(new eh(r,c,r.path,[l,\"value\"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,d=await c.value;if(l.status===\"aborted\"||d.status===\"aborted\")return _t;(l.status===\"dirty\"||d.status===\"dirty\")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,d=c.value;if(l.status===\"aborted\"||d.status===\"aborted\")return _t;(l.status===\"dirty\"||d.status===\"dirty\")&&n.dirty(),a.set(l.value,d.value)}return{status:n.value,value:a}}}}$z.create=(t,e,n)=>new $z({valueType:e,keyType:t,typeName:St.ZodMap,...Mt(n)});class kv extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.set)return Ze(r,{code:Re.invalid_type,expected:rt.set,received:r.parsedType}),_t;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Ze(r,{code:Re.too_small,minimum:i.minSize.value,type:\"set\",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Ze(r,{code:Re.too_big,maximum:i.maxSize.value,type:\"set\",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const d of c){if(d.status===\"aborted\")return _t;d.status===\"dirty\"&&n.dirty(),l.add(d.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new eh(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new kv({...this._def,minSize:{value:e,message:ut.toString(n)}})}max(e,n){return new kv({...this._def,maxSize:{value:e,message:ut.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}kv.create=(t,e)=>new kv({valueType:t,minSize:null,maxSize:null,typeName:St.ZodSet,...Mt(e)});class yT extends Yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}yT.create=(t,e)=>new yT({getter:t,typeName:St.ZodLazy,...Mt(e)});class A8 extends Yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ze(n,{received:n.data,code:Re.invalid_literal,expected:this._def.value}),_t}return{status:\"valid\",value:e.data}}get value(){return this._def.value}}A8.create=(t,e)=>new A8({value:t,typeName:St.ZodLiteral,...Mt(e)});function Bte(t,e){return new Q0({values:t,typeName:St.ZodEnum,...Mt(e)})}class Q0 extends Yt{_parse(e){if(typeof e.data!=\"string\"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ze(n,{expected:Qt.joinValues(r),received:n.parsedType,code:Re.invalid_type}),_t}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ze(n,{received:n.data,code:Re.invalid_enum_value,options:r}),_t}return Ra(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Q0.create(e,{...this._def,...n})}exclude(e,n=this._def){return Q0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Q0.create=Bte;class bT extends Yt{_parse(e){const n=Qt.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const i=Qt.objectValues(n);return Ze(r,{expected:Qt.joinValues(i),received:r.parsedType,code:Re.invalid_type}),_t}if(this._cache||(this._cache=new Set(Qt.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Qt.objectValues(n);return Ze(r,{received:r.data,code:Re.invalid_enum_value,options:i}),_t}return Ra(e.data)}get enum(){return this._def.values}}bT.create=(t,e)=>new bT({values:t,typeName:St.ZodNativeEnum,...Mt(e)});class $8 extends Yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.promise&&n.common.async===!1)return Ze(n,{code:Re.invalid_type,expected:rt.promise,received:n.parsedType}),_t;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return Ra(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}$8.create=(t,e)=>new $8({type:t,typeName:St.ZodPromise,...Mt(e)});class ep extends Yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===St.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Ze(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type===\"preprocess\"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value===\"aborted\")return _t;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status===\"aborted\"?_t:c.status===\"dirty\"||n.value===\"dirty\"?pw(c.value):c});{if(n.value===\"aborted\")return _t;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status===\"aborted\"?_t:a.status===\"dirty\"||n.value===\"dirty\"?pw(a.value):a}}if(i.type===\"refinement\"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error(\"Async refinement encountered during synchronous parse operation. Use .parseAsync instead.\");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status===\"aborted\"?_t:(a.status===\"dirty\"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status===\"aborted\"?_t:(a.status===\"dirty\"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type===\"transform\")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Im(o))return _t;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error(\"Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.\");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Im(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):_t);Qt.assertNever(i)}}ep.create=(t,e,n)=>new ep({schema:t,typeName:St.ZodEffects,effect:e,...Mt(n)});ep.createWithPreprocess=(t,e,n)=>new ep({schema:e,effect:{type:\"preprocess\",transform:t},typeName:St.ZodEffects,...Mt(n)});class Vu extends Yt{_parse(e){return this._getType(e)===rt.undefined?Ra(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Vu.create=(t,e)=>new Vu({innerType:t,typeName:St.ZodOptional,...Mt(e)});class tp extends Yt{_parse(e){return this._getType(e)===rt.null?Ra(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}tp.create=(t,e)=>new tp({innerType:t,typeName:St.ZodNullable,...Mt(e)});class I8 extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}I8.create=(t,e)=>new I8({innerType:t,typeName:St.ZodDefault,defaultValue:typeof e.default==\"function\"?e.default:()=>e.default,...Mt(e)});class T8 extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return _8(i)?i.then(s=>({status:\"valid\",value:s.status===\"valid\"?s.value:this._def.catchValue({get error(){return new rd(r.common.issues)},input:r.data})})):{status:\"valid\",value:i.status===\"valid\"?i.value:this._def.catchValue({get error(){return new rd(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}T8.create=(t,e)=>new T8({innerType:t,typeName:St.ZodCatch,catchValue:typeof e.catch==\"function\"?e.catch:()=>e.catch,...Mt(e)});class Iz extends Yt{_parse(e){if(this._getType(e)!==rt.nan){const r=this._getOrReturnCtx(e);return Ze(r,{code:Re.invalid_type,expected:rt.nan,received:r.parsedType}),_t}return{status:\"valid\",value:e.data}}}Iz.create=t=>new Iz({typeName:St.ZodNaN,...Mt(t)});class Lte extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mR extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status===\"aborted\"?_t:s.status===\"dirty\"?(n.dirty(),pw(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status===\"aborted\"?_t:i.status===\"dirty\"?(n.dirty(),{status:\"dirty\",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new mR({in:e,out:n,typeName:St.ZodPipeline})}}class P8 extends Yt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Im(i)&&(i.value=Object.freeze(i.value)),i);return _8(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}P8.create=(t,e)=>new P8({innerType:t,typeName:St.ZodReadonly,...Mt(e)});var St;(function(t){t.ZodString=\"ZodString\",t.ZodNumber=\"ZodNumber\",t.ZodNaN=\"ZodNaN\",t.ZodBigInt=\"ZodBigInt\",t.ZodBoolean=\"ZodBoolean\",t.ZodDate=\"ZodDate\",t.ZodSymbol=\"ZodSymbol\",t.ZodUndefined=\"ZodUndefined\",t.ZodNull=\"ZodNull\",t.ZodAny=\"ZodAny\",t.ZodUnknown=\"ZodUnknown\",t.ZodNever=\"ZodNever\",t.ZodVoid=\"ZodVoid\",t.ZodArray=\"ZodArray\",t.ZodObject=\"ZodObject\",t.ZodUnion=\"ZodUnion\",t.ZodDiscriminatedUnion=\"ZodDiscriminatedUnion\",t.ZodIntersection=\"ZodIntersection\",t.ZodTuple=\"ZodTuple\",t.ZodRecord=\"ZodRecord\",t.ZodMap=\"ZodMap\",t.ZodSet=\"ZodSet\",t.ZodFunction=\"ZodFunction\",t.ZodLazy=\"ZodLazy\",t.ZodLiteral=\"ZodLiteral\",t.ZodEnum=\"ZodEnum\",t.ZodEffects=\"ZodEffects\",t.ZodNativeEnum=\"ZodNativeEnum\",t.ZodOptional=\"ZodOptional\",t.ZodNullable=\"ZodNullable\",t.ZodDefault=\"ZodDefault\",t.ZodCatch=\"ZodCatch\",t.ZodPromise=\"ZodPromise\",t.ZodBranded=\"ZodBranded\",t.ZodPipeline=\"ZodPipeline\",t.ZodReadonly=\"ZodReadonly\"})(St||(St={}));const er=Mu.create,Lf=Y0.create,_E=J0.create,Ute=C8.create;Tm.create;const Tz=gT.create;th.create;const b8e=gl.create,Pl=Pr.create,jte=S8.create,w8e=gR.create;x8.create;X0.create;const zte=A8.create,id=Q0.create;$8.create;Vu.create;tp.create;const v8e={string:(t=>Mu.create({...t,coerce:!0})),number:(t=>Y0.create({...t,coerce:!0})),boolean:(t=>C8.create({...t,coerce:!0})),bigint:(t=>J0.create({...t,coerce:!0})),date:(t=>Tm.create({...t,coerce:!0}))},E8e=id([\"base\",\"avalanche\",\"iotex\",\"bsc\",\"polygon\",\"sei\"]),_8e=E8e,C8e=[\"base\",\"avalanche\",\"iotex\",\"bsc\",\"polygon\",\"sei\"],Yh=new Map([[\"base\",8453],[\"avalanche\",43114],[\"iotex\",4689],[\"bsc\",56],[\"polygon\",137],[\"sei\",1329]]);Object.fromEntries(C8e.map(t=>[Yh.get(t),t]));function Fte(t){var e,n,r,i,s,o;switch(t){case((e=Yh.get(\"base\"))==null?void 0:e.toString()):return S8e();case((n=Yh.get(\"avalanche\"))==null?void 0:n.toString()):return x8e();case((r=Yh.get(\"iotex\"))==null?void 0:r.toString()):return A8e();case((i=Yh.get(\"bsc\"))==null?void 0:i.toString()):return $8e();case((s=Yh.get(\"polygon\"))==null?void 0:s.toString()):return I8e();case((o=Yh.get(\"sei\"))==null?void 0:o.toString()):return T8e();default:throw new Error(`Unsupported network ID: ${t}`)}}function S8e(){return my({chain:jN,transport:yy()}).extend(Mp)}function x8e(){return my({chain:Cve,transport:yy()}).extend(Mp)}function A8e(){return my({chain:Sve,transport:yy()}).extend(Mp)}function $8e(){return my({chain:QQ,transport:yy(\"https://few-boldest-spring.bsc.quiknode.pro/ec468d8a1ea2c310457b2e2f4eea257e62ba3b1e/\")}).extend(Mp)}function I8e(){return my({chain:Aee,transport:yy()}).extend(Mp)}function T8e(){return my({chain:$ee,transport:yy()}).extend(Mp)}async function P8e(t,e=\"56\"){if(t===\"0x0000000000000000000000000000000000000000\")return 18;try{const n=Fte(e);if(!n)throw new Error(`Unsupported network: ${e}`);const r=await n.readContract({address:t,abi:Qee,functionName:\"decimals\"});return Number(r)}catch(n){return console.error(\"Error fetching token decimals:\",n),18}}async function O8e(t,e=\"56\"){if(t===\"0x0000000000000000000000000000000000000000\")switch(e){case\"56\":return\"BNB\";default:return}try{const n=Fte(e);if(!n)throw new Error(`Unsupported network: ${e}`);return await n.readContract({address:t,abi:Qee,functionName:\"symbol\"})}catch(n){console.error(\"Error fetching token symbol:\",n);return}}const yR=\"0x0000000000000000000000000000000000000000\";function N8e(t){if(!t)throw new Error(\"Data is required for base64 encoding\");try{return typeof window<\"u\"?window.btoa(t):Buffer.from(t).toString(\"base64\")}catch(e){throw new Error(`Failed to encode data to base64: ${e instanceof Error?e.message:String(e)}`)}}function R8e(t){if(!t)throw new Error(\"Data is required for base64 decoding\");try{return typeof window<\"u\"?window.atob(t):Buffer.from(t,\"base64\").toString(\"utf-8\")}catch(e){throw new Error(`Failed to decode base64 data: ${e instanceof Error?e.message:String(e)}`)}}jte([er().transform(t=>t.replace(/[^0-9.-]+/g,\"\")),Lf()]).pipe(v8e.number().min(1e-4).max(999999999));const Pz=/^0x[0-9a-fA-F]{40}$/,k8e=/^0x[0-9a-fA-F]{64}$/,qte=/^0x[0-9a-fA-F]{130}$/,Hte=Pl({from:er().regex(Pz),to:er().regex(Pz),value:_E(),validAfter:_E(),validBefore:_E(),nonce:er().regex(k8e),version:er()}),M8e=Pl({type:zte(\"authorization\"),signature:er().regex(qte),authorization:Hte}),D8e=Pl({type:zte(\"authorizationEip3009\"),signature:er().regex(qte),authorization:Hte}),B8e=w8e(\"type\",[M8e,D8e]),O8=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,bR=[\"exact\"],Vte=[1],Kte=[\"insufficient_funds\",\"invalid_exact_evm_payload_authorization_valid_after\",\"invalid_exact_evm_payload_authorization_valid_before\",\"invalid_exact_evm_payload_authorization_value\",\"invalid_exact_evm_payload_signature\",\"invalid_exact_evm_payload_recipient_mismatch\",\"invalid_network\",\"invalid_payload\",\"invalid_payment_requirements\",\"invalid_scheme\",\"unsupported_scheme\",\"invalid_x402_version\",\"invalid_transaction_state\",\"unexpected_verify_error\",\"unexpected_settle_error\"],wR=id([\"evm\"]),L8e=id([\"humanReadable\",\"smallestUnit\"]),Oz=jte([_E(),Lf()]),Wte=Pl({namespace:wR,tokenAddress:er(),tokenDecimals:Lf().int().optional(),tokenSymbol:er().optional(),amountRequired:Oz,amountRequiredFormat:L8e,payToAddress:er(),networkId:er(),description:er().optional(),resource:er().url().optional(),scheme:id(bR),mimeType:er().optional(),outputSchema:Tz().optional(),estimatedProcessingTime:Lf().int().optional(),extra:Tz().optional(),maxAmountRequired:Oz.optional(),requiredDeadlineSeconds:Lf().int().optional()});Wte.extend({tokenDecimals:Lf().int(),tokenSymbol:er()});const U8e=Wte;function j8e(t){return Pl({x402Version:Lf().refine(e=>Vte.includes(e)),scheme:id(bR),payload:t,namespace:wR,networkId:er(),resource:er().url().optional()})}j8e(B8e);Pl({isValid:Ute(),invalidReason:id(Kte).optional(),payer:er().regex(O8).optional(),errorMessage:er().optional(),txHash:er().regex(O8).optional(),type:id([\"payload\",\"transaction\"]).optional()});Pl({success:Ute(),transaction:er().regex(O8),namespace:wR.optional(),errorReason:id(Kte).optional(),payer:er().regex(O8).optional(),error:er().optional()});const z8e=Pl({x402Version:Lf().refine(t=>Vte.includes(t)),scheme:id(bR),network:_8e});Pl({kinds:b8e(z8e)});Pl({paymentHeader:er(),paymentRequirements:U8e});async function Gte(t,e){var r;const n={...t,amountRequired:t.amountRequired||t.maxAmountRequired||0};if(console.log(\"[x402 debug] Payment requirements:\",n),n.amountRequiredFormat===\"smallestUnit\")return n;if(n.namespace===\"evm\"&&n.amountRequiredFormat===\"humanReadable\"&&((r=n.tokenAddress)==null?void 0:r.toLowerCase())===yR.toLowerCase()){if(!Tw[n.networkId])throw new Error(`Unsupported EVM network: ${n.networkId}`);return{...n,amountRequired:BigInt(Math.floor(Number(n.amountRequired)*Math.pow(10,18)))}}try{if(n.tokenDecimals!==void 0&&n.tokenSymbol!==void 0)return{...n,amountRequired:BigInt(Math.floor(Number(n.amountRequired)*Math.pow(10,n.tokenDecimals)))};if(!e)throw new Error(\"Client is required for fetching token metadata\");console.log(\"Fetching EVM token data for:\",n.tokenAddress),console.log(\"EVM token network ID:\",n.networkId);const[i,s]=await Promise.all([P8e(n.tokenAddress,e),O8e(n.tokenAddress,e)]);return console.log(\"EVM token metadata:\",{decimals:i,symbol:s}),{...n,tokenDecimals:i,tokenSymbol:s||\"UNKNOWN\",amountRequired:BigInt(Math.floor(Number(n.amountRequired)*Math.pow(10,i)))}}catch(i){throw console.error(\"Error processing EVM token:\",i),new Error(`Failed to parse EVM token data: ${i instanceof Error?i.message:String(i)}`)}}function Zte(t){const e={...t,payload:{...t.payload,...(t.payload.type===\"authorization\"||t.payload.type===\"authorizationEip3009\")&&{authorization:{...t.payload.authorization,value:t.payload.authorization.value.toString(),validAfter:t.payload.authorization.validAfter.toString(),validBefore:t.payload.authorization.validBefore.toString()}}}};return N8e(JSON.stringify(e))}function F8e(t){const e=R8e(t),n=JSON.parse(e),r={...n,payload:{...n.payload,...(n.payload.type===\"authorization\"||n.payload.type===\"authorizationEip3009\")&&{authorization:{...n.payload.authorization,value:BigInt(n.payload.authorization.value),validAfter:BigInt(n.payload.authorization.validAfter),validBefore:BigInt(n.payload.authorization.validBefore)}}}};return q8e(r)}function q8e(t){if(!t||typeof t!=\"object\"||!t.payload||typeof t.payload!=\"object\"||!t.payload.type)throw new Error(\"Invalid payment payload structure\");switch(t.payload.type){case\"authorization\":case\"authorizationEip3009\":if(!t.payload.authorization||typeof t.payload.authorization.value!=\"bigint\"||typeof t.payload.authorization.validAfter!=\"bigint\"||typeof t.payload.authorization.validBefore!=\"bigint\"||typeof t.payload.authorization.nonce!=\"string\"||typeof t.payload.authorization.version!=\"string\"||!t.payload.signature||!t.payload.signature.startsWith(\"0x\"))throw new Error(\"Invalid authorization payload values\");break;default:throw new Error(\"Invalid payload type\")}return t}const H8e=Object.freeze(Object.defineProperty({__proto__:null,decodePaymentPayload:F8e,encodePaymentPayload:Zte},Symbol.toStringTag,{value:\"Module\"})),Yte=[{name:\"transferWithAuthorization\",type:\"function\",inputs:[{internalType:\"address\",name:\"from\",type:\"address\"},{internalType:\"address\",name:\"to\",type:\"address\"},{internalType:\"uint256\",name:\"value\",type:\"uint256\"},{internalType:\"uint256\",name:\"validAfter\",type:\"uint256\"},{internalType:\"uint256\",name:\"validBefore\",type:\"uint256\"},{internalType:\"bytes32\",name:\"nonce\",type:\"bytes32\"},{internalType:\"bytes\",name:\"signature\",type:\"bytes\"}],outputs:[],stateMutability:\"nonpayable\"}];async function Jte(t,e){try{return console.log(`[DEBUG] Checking if contract ${e} supports TransferWithAuthorization using readContract...`),await t.readContract({address:e,abi:Yte,functionName:\"transferWithAuthorization\",args:[\"0x0000000000000000000000000000000000000000\",\"0x0000000000000000000000000000000000000000\",BigInt(0),BigInt(0),BigInt(0),\"0x0000000000000000000000000000000000000000000000000000000000000000\",\"0x\"]}),console.log(`[DEBUG] readContract succeeded for ${e} - function exists`),!0}catch(n){const r=n instanceof Error?n.message:String(n);return console.log(`[DEBUG] readContract failed for ${e}:`,r),r.toLowerCase().includes(\"function does not exist\")||r.toLowerCase().includes(\"method not found\")||r.toLowerCase().includes(\"unknown method\")||r.toLowerCase().includes(\"function selector not found\")||r.toLowerCase().includes(\"no matching function\")||r.toLowerCase().includes(\"invalid function selector\")||r.toLowerCase().includes(\"function not found\")||r.toLowerCase().includes(\"contract function\")&&r.toLowerCase().includes(\"not found\")?(console.log(`[DEBUG] Function does not exist on contract ${e}`),!1):r.toLowerCase().includes(\"authorization is expired\")||r.toLowerCase().includes(\"invalid signature\")||r.toLowerCase().includes(\"authorization is used\")||r.toLowerCase().includes(\"authorization is not yet valid\")||r.toLowerCase().includes(\"invalid authorization\")||r.toLowerCase().includes(\"invalid signature length\")?(console.log(`[DEBUG] Function exists on ${e} but failed due to invalid parameters (expected)`),!0):r.toLowerCase().includes(\"execution reverted: 0x\")||r.toLowerCase().includes(\"execution reverted\")&&!r.toLowerCase().includes(\":\")?(console.log(`[DEBUG] Function call reverted for ${e} - likely function does not exist`),!1):(console.log(`[DEBUG] Unknown error for ${e}, assuming function does not exist`),!1)}}async function Xte(t,e,n=!0){const r=await Jte(t,e);return n&&console.log(`[DEBUG] Token contract ${e} supports TransferWithAuthorization: ${r}`),r}const V8e=Object.freeze(Object.defineProperty({__proto__:null,TRANSFER_WITH_AUTHORIZATION_ABI:Yte,hasTransferWithAuthorization:Jte,verifyTransferWithAuthorizationSupport:Xte},Symbol.toStringTag,{value:\"Module\"}));async function K8e(t,e,n){var d;if(!((d=t==null?void 0:t.account)!=null&&d.address))throw new Error(\"Client account is required\");const r=t.account.address,i=n.payToAddress,s=n.amountRequired,o={x402Version:e,scheme:n.scheme,namespace:n.namespace,networkId:n.networkId,resource:n.resource},a=n.tokenAddress&&n.tokenAddress!==yR?await Xte(t,n.tokenAddress):!1;console.log(\"[log] tokenAddress:\",n.tokenAddress),console.log(\"[log] supportsTransferWithAuthorization:\",a);let c,l;return a?(l=\"authorizationEip3009\",c=await Qte(t,{from:r,to:i,value:s},n)):(l=\"authorization\",c=await ene(t,{from:r,to:i,value:s},n)),{...o,payload:{type:l,signature:c.signature,authorization:{from:r,to:i,value:s,validAfter:c.validAfter,validBefore:c.validBefore,nonce:c.nonce,version:c.version}}}}async function W8e(t,e,n){let r=n;n.resource||(r.resource=`402 signature ${Date.now()}`),n.scheme||(r.scheme=\"exact\");const i=await K8e(t,e,r);return Zte(i)}const Mx=[{name:\"transfer\",type:\"function\",inputs:[{name:\"to\",type:\"address\"},{name:\"value\",type:\"uint256\"}],outputs:[{name:\"success\",type:\"bool\"}],stateMutability:\"nonpayable\"},{type:\"function\",name:\"approve\",inputs:[{name:\"spender\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{name:\"success\",type:\"bool\"}],stateMutability:\"nonpayable\"},{type:\"function\",name:\"allowance\",inputs:[{name:\"owner\",type:\"address\"},{name:\"spender\",type:\"address\"}],outputs:[{name:\"remaining\",type:\"uint256\"}],stateMutability:\"view\"}];async function Qte(t,{from:e,to:n,value:r},{tokenAddress:i,networkId:s,estimatedProcessingTime:o}){var a,c,l;try{const d=Iee(),h=Math.floor(Date.now()/1e3),p=BigInt(h-60),m=BigInt(h+(o??600)),{domain:b}=await t.getEip712Domain({address:i==null?void 0:i.toLowerCase()}),y={types:{TransferWithAuthorization:[{name:\"from\",type:\"address\"},{name:\"to\",type:\"address\"},{name:\"value\",type:\"uint256\"},{name:\"validAfter\",type:\"uint256\"},{name:\"validBefore\",type:\"uint256\"},{name:\"nonce\",type:\"bytes32\"}]},domain:{name:b.name,version:b.version,chainId:parseInt(s),verifyingContract:i==null?void 0:i.toLowerCase()},primaryType:\"TransferWithAuthorization\",message:{from:e,to:n,value:r,validAfter:p,validBefore:m,nonce:d}};let E;if(console.log(\"Handle different wallet types for signing (EIP3009)\"),console.log(\"[DEBUG] client.account exists:\",!!t.account),console.log(\"[DEBUG] client.account.type:\",(a=t.account)==null?void 0:a.type),console.log(\"[DEBUG] client.account.signTypedData exists:\",!!((c=t.account)!=null&&c.signTypedData)),console.log(\"[DEBUG] client.account.signTypedData type:\",typeof((l=t.account)==null?void 0:l.signTypedData)),console.log(\"[DEBUG] client.account keys:\",t.account?Object.keys(t.account):\"no account\"),!t.account)throw new Error(\"No account available for signing\");console.log(\"[DEBUG] Signing TransferWithAuthorization\");try{if(t.account.signTypedData)E=await t.account.signTypedData(y);else throw new Error(\"signTypedData method not available on account\")}catch(v){console.error(\"[ERROR] Failed to sign with account.signTypedData:\",v);try{if(console.log(\"[DEBUG] Trying client.signTypedData as fallback\"),console.log(\"[DEBUG] client.signTypedData exists:\",!!t.signTypedData),console.log(\"[DEBUG] client.signTypedData type:\",typeof t.signTypedData),console.log(\"[DEBUG] client keys:\",Object.keys(t)),t.signTypedData)E=await t.signTypedData({...y,account:t.account});else throw new Error(\"client.signTypedData method not available\")}catch(_){throw console.error(\"[ERROR] Failed to sign with client.signTypedData:\",_),new Error(`Failed to sign typed data: ${v instanceof Error?v.message:String(v)}`)}}return console.log(\"[DEBUG] TransferWithAuthorization signature:\",E),{type:\"signature\",signature:E,nonce:d,version:\"1\",validAfter:p,validBefore:m}}catch(d){throw console.error(\"[ERROR] signAuthorizationEip3009 outer catch:\",d),new Error(`Failed to sign authorization: ${d instanceof Error?d.message:String(d)}`)}}async function ene(t,{from:e,to:n,value:r},{tokenAddress:i,networkId:s,estimatedProcessingTime:o}){var a,c,l;try{const d=\"0x555e3311a9893c9B17444C1Ff0d88192a57Ef13e\";try{console.log(\"Check current allowance\");const _=await t.readContract({address:i,abi:Mx,functionName:\"allowance\",args:[e,d]});console.log(\"Insufficient allowance, need to approve\");let C;if(t.account&&t.account.type===\"local\"){console.log(\"For local signers, we need to build and sign the transaction manually\");const A=jo({abi:Mx,functionName:\"approve\",args:[d,r]});console.log(\" Get gas price and nonce\");const[I,O]=await Promise.all([t.getGasPrice(),t.getTransactionCount({address:e})]);console.log(\" Estimate gas for approval\");const D=await t.estimateGas({account:e,to:i,data:A});console.log(\"Sign the approval transaction\");const N=await t.account.signTransaction({account:e,to:i,data:A,gas:D,gasPrice:I,nonce:O,chain:xx(s),chainId:xx(s).id});C=await t.sendRawTransaction({serializedTransaction:N}),console.log(\"Broadcast the signed transaction\")}else console.log(\"For external wallets like MetaMask\"),C=await t.sendTransaction({account:e,to:i,data:jo({abi:Mx,functionName:\"approve\",args:[d,r]}),chain:xx(s)}),console.log(\"For external wallets like MetaMask approveTxHash:\",C);if((await t.waitForTransactionReceipt({hash:C})).status!==\"success\")throw new Error(\"Token approval transaction failed\")}catch(_){throw console.error(\"[ERROR] Failed to handle token approval:\",_),new Error(`Failed to approve tokens: ${_ instanceof Error?_.message:String(_)}`)}const h=Iee(),p=Math.floor(Date.now()/1e3),m=BigInt(p-60),b=BigInt(p+(o??600)),E={types:{tokenTransferWithAuthorization:[{name:\"token\",type:\"address\"},{name:\"from\",type:\"address\"},{name:\"to\",type:\"address\"},{name:\"value\",type:\"uint256\"},{name:\"validAfter\",type:\"uint256\"},{name:\"validBefore\",type:\"uint256\"},{name:\"nonce\",type:\"bytes32\"},{name:\"needApprove\",type:\"bool\"}]},domain:{name:\"Facilitator\",version:\"1\",chainId:parseInt(s),verifyingContract:\"0x555e3311a9893c9B17444C1Ff0d88192a57Ef13e\"},primaryType:\"tokenTransferWithAuthorization\",message:{token:i==null?void 0:i.toLowerCase(),from:e.toLowerCase(),to:n.toLowerCase(),value:r,validAfter:m,validBefore:b,nonce:h,needApprove:!0}};let v;if(console.log(\"Handle different wallet types for signing\"),console.log(\"[DEBUG] client.account exists:\",!!t.account),console.log(\"[DEBUG] client.account.type:\",(a=t.account)==null?void 0:a.type),console.log(\"[DEBUG] client.account.signTypedData exists:\",!!((c=t.account)!=null&&c.signTypedData)),console.log(\"[DEBUG] client.account.signTypedData type:\",typeof((l=t.account)==null?void 0:l.signTypedData)),console.log(\"[DEBUG] client.account keys:\",t.account?Object.keys(t.account):\"no account\"),!t.account)throw new Error(\"No account available for signing\");console.log(\"[DEBUG] Signing tokenTransferWithAuthorization\");try{if(t.account.signTypedData)v=await t.account.signTypedData(E);else throw new Error(\"signTypedData method not available on account\")}catch(_){console.error(\"[ERROR] Failed to sign with account.signTypedData:\",_),console.log(\"[DEBUG] Entering fallback signing method\");try{if(console.log(\"[DEBUG] Trying client.signTypedData as fallback\"),console.log(\"[DEBUG] client.signTypedData exists:\",!!t.signTypedData),console.log(\"[DEBUG] client.signTypedData type:\",typeof t.signTypedData),console.log(\"[DEBUG] client keys:\",Object.keys(t)),t.signTypedData)console.log(\"[DEBUG] About to call client.signTypedData\"),v=await t.signTypedData({...E,account:t.account}),console.log(\"[DEBUG] client.signTypedData succeeded\");else throw console.log(\"[DEBUG] client.signTypedData not available, throwing error\"),new Error(\"client.signTypedData method not available\")}catch(C){throw console.error(\"[ERROR] Failed to sign with client.signTypedData:\",C),console.log(\"[DEBUG] Both signing methods failed, throwing final error\"),new Error(`Failed to sign typed data: ${_ instanceof Error?_.message:String(_)}`)}}return console.log(\"[DEBUG] tokenTransferWithAuthorization signature:\",v),{type:\"signature\",signature:v,nonce:h,version:\"1\",validAfter:m,validBefore:b}}catch(d){throw console.error(\"[ERROR] signAuthorization outer catch:\",d),new Error(`Failed to sign authorization: ${d instanceof Error?d.message:String(d)}`)}}async function G8e(t,e){return e.tokenAddress===yR?tne(t,e):await nne(t,e)}function tne(t,e){var r;const n=t.value??0n;return n<e.amountRequired?{isValid:!1,errorMessage:\"Insufficient transfer amount\"}:((r=t.to)==null?void 0:r.toLowerCase())!==e.payToAddress.toLowerCase()?{isValid:!1,errorMessage:\"Invalid recipient address\"}:{isValid:!0,transferDetails:{recipient:e.payToAddress,amount:n,isNativeTransfer:!0}}}async function nne(t,e){var r;if(((r=t.to)==null?void 0:r.toLowerCase())!==e.tokenAddress.toLowerCase())return{isValid:!1,errorMessage:\"Invalid token contract address\"};const n=t.input||t.data;if(!n)return{isValid:!1,errorMessage:\"No transaction data found\"};try{const i=ste({abi:[{name:\"transfer\",type:\"function\",inputs:[{name:\"to\",type:\"address\"},{name:\"value\",type:\"uint256\"}],outputs:[{name:\"success\",type:\"bool\"}],stateMutability:\"nonpayable\"}],data:n});if(i.functionName!==\"transfer\")return{isValid:!1,errorMessage:\"Not a transfer function call\"};const[s,o]=i.args;if(s.toLowerCase()!==e.payToAddress.toLowerCase())return{isValid:!1,errorMessage:\"Invalid transfer recipient\"};const a=await Gte(e);return o<a.amountRequired?{isValid:!1,errorMessage:\"Insufficient transfer amount\"}:{isValid:!0,transferDetails:{recipient:s,amount:o,isNativeTransfer:!1}}}catch(i){return{isValid:!1,errorMessage:\"Invalid transfer data: \"+(i instanceof Error?i.message:String(i))}}}function Z8e(t,e){const n=t.find(r=>r.address.toLowerCase()===e.tokenAddress.toLowerCase()&&r.topics[0]===pi(Np(\"Transfer(address,address,uint256)\")));if(!n)return{isValid:!1,errorMessage:\"No transfer event found\"};try{const r=O_({abi:[{name:\"Transfer\",type:\"event\",inputs:[{name:\"from\",type:\"address\",indexed:!0},{name:\"to\",type:\"address\",indexed:!0},{name:\"value\",type:\"uint256\",indexed:!1}]}],data:n.data,topics:n.topics});return r.args.to.toLowerCase()!==e.payToAddress.toLowerCase()||r.args.value<e.amountRequired?{isValid:!1,errorMessage:\"Transfer event data does not match requirements\"}:{isValid:!0,transferDetails:{recipient:r.args.to,amount:r.args.value,isNativeTransfer:!1}}}catch(r){return{isValid:!1,errorMessage:\"Failed to decode transfer event: \"+(r instanceof Error?r.message:String(r))}}}const Y8e=Object.freeze(Object.defineProperty({__proto__:null,contractUtils:V8e,createPayment:W8e,signAuthorization:ene,signAuthorizationEip3009:Qte,utils:H8e,validateERC20Transfer:nne,validateNativeTransfer:tne,validateTransferData:G8e,validateTransferEventLog:Z8e},Symbol.toStringTag,{value:\"Module\"})),J8e={evm:Y8e};async function X8e(t,e,n){var r;if(!n.namespace)throw new Error(\"Payment details namespace is required\");if(!t.evmClient)throw new Error(\"evmClient is required for EVM payments\");switch(n=await Gte(n,t.evmClient),n.namespace){case\"evm\":{if(!Object.keys(Tw).includes(n.networkId))throw new Error(`Unsupported EVM Network: ${n.networkId}`);if(!t.evmClient)throw new Error(\"evmClient is required for EVM payments\");if(((r=t.evmClient.chain)==null?void 0:r.id.toString())!==n.networkId)throw new Error(`EVM client chainId doesn't match payment networkId: ${n.networkId}`);switch(n.scheme){case\"exact\":return await J8e.evm.createPayment(t.evmClient,e,n);default:throw new Error(`Unsupported scheme: ${n.scheme}`)}}default:throw new Error(`Unsupported namespace: ${n.namespace}`)}}const Q8e=1;function e4e({paymentStatus:t,amount:e,errorMessage:n,onClick:r,disabled:i=!1,className:s=\"\",children:o}){const a=[\"connecting\",\"approving\",\"processing\",\"success\"].includes(t),c=()=>{switch(t){case\"connecting\":return\"Connecting Wallet...\";case\"approving\":return\"Approve in Wallet...\";case\"processing\":return\"Processing Payment...\";case\"success\":return\"Payment Sent! Please wait for confirmation...\";case\"facilitator_error\":return\"Service Unavailable\";case\"error\":return\"Payment Failed (Click again to retry)\";default:return`Pay - ${e}`}};return Ke.jsxs(\"div\",{className:\"flex flex-col w-full\",children:[Ke.jsx(\"button\",{className:`payment-button ${a?\"payment-button-processing\":\"\"} ${t===\"success\"?\"payment-button-success\":\"\"} ${s}`,onClick:r,disabled:i||a||t===\"success\",type:\"button\",children:Ke.jsxs(\"div\",{className:\"flex items-center justify-center\",children:[a&&Ke.jsxs(\"svg\",{className:\"payment-button-spinner\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 24 24\",width:\"24\",height:\"24\",children:[Ke.jsx(\"circle\",{className:\"opacity-25\",cx:\"12\",cy:\"12\",r:\"10\",stroke:\"currentColor\",strokeWidth:\"4\"}),Ke.jsx(\"path\",{className:\"opacity-75\",fill:\"currentColor\",d:\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"})]}),Ke.jsx(\"span\",{className:\"ml-2\",children:c()})]})}),t===\"error\"&&n&&Ke.jsx(\"div\",{className:\"mt-2 text-red-500 text-sm\",children:n}),o]})}const t4e=\"data:image/svg+xml,%3csvg%20enable-background='new%200%200%2050%2050'%20viewBox='0%200%2050%2050'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m11.3%2025-5.6%205.6-5.7-5.6%205.7-5.7zm13.7-13.7%209.7%209.7%205.7-5.7-15.4-15.3-15.3%2015.3%205.7%205.7zm19.3%208-5.6%205.7%205.7%205.7%205.6-5.7zm-19.3%2019.4-9.7-9.7-5.7%205.7%2015.4%2015.3%2015.3-15.3-5.6-5.7zm0-8.1%205.7-5.7-5.7-5.6-5.7%205.7z'%20fill='%23f0b90b'/%3e%3c/svg%3e\",n4e=\"data:image/svg+xml,%3csvg%20version='1.2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202496%202496'%20width='2496'%20height='2496'%3e%3ctitle%3ebnb%3c/title%3e%3cstyle%3e%20.s0%20{%20fill:%20%230000ff%20}%20%3c/style%3e%3cg%3e%3cpath%20fill-rule='evenodd'%20class='s0'%20d='m1248%200c689.3%200%201248%20558.7%201248%201248%200%20689.3-558.7%201248-1248%201248-689.3%200-1248-558.7-1248-1248%200-689.3%20558.7-1248%201248-1248z'/%3e%3c/g%3e%3c/svg%3e\",r4e=\"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20178%20161'%20style='enable-background:new%200%200%20178%20161;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%236C00F6;}%20%3c/style%3e%3cpath%20class='st0'%20d='M66.8,54.7l-16.7-9.7L0,74.1v58l50.1,29l50.1-29V41.9L128,25.8l27.8,16.1v32.2L128,90.2l-16.7-9.7v25.8%20l16.7,9.7l50.1-29V29L128,0L77.9,29v90.2l-27.8,16.1l-27.8-16.1V86.9l27.8-16.1l16.7,9.7V54.7z'/%3e%3c/svg%3e\",i4e=\"data:image/svg+xml,%3csvg%20width='534'%20height='535'%20viewBox='0%200%20534%20535'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M266.012%20534.324C345.239%20534.324%20416.418%20499.892%20465.377%20445.186C442.603%20425.407%20408.28%20424.206%20384.034%20443.755L379.402%20447.49C335.007%20483.284%20270.32%20477.998%20232.336%20435.472C211.619%20412.279%20176.14%20409.911%20152.52%20430.145L99.1133%20475.895C144.855%20512.46%20202.878%20534.324%20266.012%20534.324ZM352.701%20404.955C394.986%20370.862%20454.42%20372.084%20495.089%20405.013C519.397%20364.767%20533.383%20317.597%20533.383%20267.162C533.383%20211.12%20516.115%20159.11%20486.604%20116.151C467.58%20112.103%20446.96%20116.831%20431.307%20130.691L426.852%20134.636C384.158%20172.44%20319.295%20170.142%20279.388%20129.414C257.622%20107.201%20222.07%20106.471%20199.41%20127.773L137.261%20186.196L103.072%20149.884L165.222%2091.4612C207.669%2051.5576%20274.266%2052.924%20315.039%2094.535C336.343%20116.277%20370.969%20117.504%20393.76%2097.3227L398.215%2093.3779C412.05%2081.1279%20428.057%2072.8695%20444.815%2068.5261C397.446%2025.9257%20334.759%200%20266.012%200C130.284%200%2018.1773%20101.056%200.938963%20231.975C42.1649%20212.207%2093.0169%20219.814%20126.631%20254.209C147.852%20275.922%20182.02%20278.214%20205.955%20259.53L240.704%20232.404C284.374%20198.313%20346.109%20199.963%20387.893%20236.339L455.545%20295.234L422.769%20332.824L355.117%20273.929C331.358%20253.245%20296.254%20252.306%20271.421%20271.692L236.673%20298.817C192.698%20333.146%20129.921%20328.935%2090.9332%20289.041C68.262%20265.843%2031.183%20265.033%207.51958%20287.22L0%20294.27C5.62745%20350.071%2028.4393%20400.803%2063.0671%20441.104L120.044%20392.295C164.29%20354.392%20230.753%20358.827%20269.561%20402.275C289.838%20424.976%20324.37%20427.798%20348.069%20408.69L352.701%20404.955Z'%20fill='%239E1F19'/%3e%3c/svg%3e\",s4e=\"data:image/svg+xml,%3csvg%20enable-background='new%200%200%2050%2050'%20viewBox='0%200%2050%2050'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m11.3%2025-5.6%205.6-5.7-5.6%205.7-5.7zm13.7-13.7%209.7%209.7%205.7-5.7-15.4-15.3-15.3%2015.3%205.7%205.7zm19.3%208-5.6%205.7%205.7%205.7%205.6-5.7zm-19.3%2019.4-9.7-9.7-5.7%205.7%2015.4%2015.3%2015.3-15.3-5.6-5.7zm0-8.1%205.7-5.7-5.7-5.6-5.7%205.7z'%20fill='%23f0b90b'/%3e%3c/svg%3e\",o4e=\"data:image/svg+xml,%3csvg%20data-name='86977684-12db-4850-8f30-233a7c267d11'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202000%202000'%3e%3cpath%20d='M1000%202000c554.17%200%201000-445.83%201000-1000S1554.17%200%201000%200%200%20445.83%200%201000s445.83%201000%201000%201000z'%20fill='%232775ca'/%3e%3cpath%20d='M1275%201158.33c0-145.83-87.5-195.83-262.5-216.66-125-16.67-150-50-150-108.34s41.67-95.83%20125-95.83c75%200%20116.67%2025%20137.5%2087.5%204.17%2012.5%2016.67%2020.83%2029.17%2020.83h66.66c16.67%200%2029.17-12.5%2029.17-29.16v-4.17c-16.67-91.67-91.67-162.5-187.5-170.83v-100c0-16.67-12.5-29.17-33.33-33.34h-62.5c-16.67%200-29.17%2012.5-33.34%2033.34v95.83c-125%2016.67-204.16%20100-204.16%20204.17%200%20137.5%2083.33%20191.66%20258.33%20212.5%20116.67%2020.83%20154.17%2045.83%20154.17%20112.5s-58.34%20112.5-137.5%20112.5c-108.34%200-145.84-45.84-158.34-108.34-4.16-16.66-16.66-25-29.16-25h-70.84c-16.66%200-29.16%2012.5-29.16%2029.17v4.17c16.66%20104.16%2083.33%20179.16%20220.83%20200v100c0%2016.66%2012.5%2029.16%2033.33%2033.33h62.5c16.67%200%2029.17-12.5%2033.34-33.33v-100c125-20.84%20208.33-108.34%20208.33-220.84z'%20fill='%23fff'/%3e%3cpath%20d='M787.5%201595.83c-325-116.66-491.67-479.16-370.83-800%2062.5-175%20200-308.33%20370.83-370.83%2016.67-8.33%2025-20.83%2025-41.67V325c0-16.67-8.33-29.17-25-33.33-4.17%200-12.5%200-16.67%204.16-395.83%20125-612.5%20545.84-487.5%20941.67%2075%20233.33%20254.17%20412.5%20487.5%20487.5%2016.67%208.33%2033.34%200%2037.5-16.67%204.17-4.16%204.17-8.33%204.17-16.66v-58.34c0-12.5-12.5-29.16-25-37.5zM1229.17%20295.83c-16.67-8.33-33.34%200-37.5%2016.67-4.17%204.17-4.17%208.33-4.17%2016.67v58.33c0%2016.67%2012.5%2033.33%2025%2041.67%20325%20116.66%20491.67%20479.16%20370.83%20800-62.5%20175-200%20308.33-370.83%20370.83-16.67%208.33-25%2020.83-25%2041.67V1700c0%2016.67%208.33%2029.17%2025%2033.33%204.17%200%2012.5%200%2016.67-4.16%20395.83-125%20612.5-545.84%20487.5-941.67-75-237.5-258.34-416.67-487.5-491.67z'%20fill='%23fff'/%3e%3c/svg%3e\",Nz=\"data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='16'%20cy='16'%20r='16'%20fill='%2326A17B'/%3e%3cpath%20d='M17.922%2017.383v-.002c-.11.008-.677.042-1.942.042-1.01%200-1.721-.03-1.971-.042v.003c-3.888-.171-6.79-.848-6.79-1.658%200-.809%202.902-1.486%206.79-1.66v2.644c.254.018.982.053%201.988.053%201.207%200%201.812-.05%201.925-.053v-2.643c3.88.173%206.775.85%206.775%201.658%200%20.81-2.895%201.485-6.775%201.658m0-3.59v-2.366h5.414V7.819H8.595v3.608h5.414v2.365c-4.4.202-7.709%201.074-7.709%202.118%200%201.044%203.309%201.915%207.709%202.118v7.582h3.913v-7.584c4.393-.202%207.694-1.073%207.694-2.116%200-1.043-3.301-1.914-7.694-2.117'%20fill='white'/%3e%3c/svg%3e\",a4e=\"data:image/svg+xml,%3csvg%20version='1.2'%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%202496%202496'%20width='2496'%20height='2496'%3e%3ctitle%3ebnb%3c/title%3e%3cdefs%3e%3cimage%20width='1303'%20height='1303'%20id='img1'%20href='data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPCEtLSBDcmVhdG9yOiBDb3JlbERSQVcgMjAxOSAoNjQtQml0KSAtLT4KPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbDpzcGFjZT0icHJlc2VydmUiIHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIHZlcnNpb249IjEuMSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIHRleHQtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iIGltYWdlLXJlbmRlcmluZz0ib3B0aW1pemVRdWFsaXR5IiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIKdmlld0JveD0iMCAwIDc4NC4zNyAxMjc3LjM5IgogeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiCiB4bWxuczp4b2RtPSJodHRwOi8vd3d3LmNvcmVsLmNvbS9jb3JlbGRyYXcvb2RtLzIwMDMiPgogPGcgaWQ9IkxheWVyX3gwMDIwXzEiPgogIDxtZXRhZGF0YSBpZD0iQ29yZWxDb3JwSURfMENvcmVsLUxheWVyIi8+CiAgPGcgaWQ9Il8xNDIxMzk0MzQyNDAwIj4KICAgPGc+CiAgICA8cG9seWdvbiBmaWxsPSIjMzQzNDM0IiBmaWxsLXJ1bGU9Im5vbnplcm8iIHBvaW50cz0iMzkyLjA3LDAgMzgzLjUsMjkuMTEgMzgzLjUsODczLjc0IDM5Mi4wNyw4ODIuMjkgNzg0LjEzLDY1MC41NCAiLz4KICAgIDxwb2x5Z29uIGZpbGw9IiM4QzhDOEMiIGZpbGwtcnVsZT0ibm9uemVybyIgcG9pbnRzPSIzOTIuMDcsMCAtMCw2NTAuNTQgMzkyLjA3LDg4Mi4yOSAzOTIuMDcsNDcyLjMzICIvPgogICAgPHBvbHlnb24gZmlsbD0iIzNDM0MzQiIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjM5Mi4wNyw5NTYuNTIgMzg3LjI0LDk2Mi40MSAzODcuMjQsMTI2My4yOCAzOTIuMDcsMTI3Ny4zOCA3ODQuMzcsNzI0Ljg5ICIvPgogICAgPHBvbHlnb24gZmlsbD0iIzhDOEM4QyIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjM5Mi4wNywxMjc3LjM4IDM5Mi4wNyw5NTYuNTIgLTAsNzI0Ljg5ICIvPgogICAgPHBvbHlnb24gZmlsbD0iIzE0MTQxNCIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjM5Mi4wNyw4ODIuMjkgNzg0LjEzLDY1MC41NCAzOTIuMDcsNDcyLjMzICIvPgogICAgPHBvbHlnb24gZmlsbD0iIzM5MzkzOSIgZmlsbC1ydWxlPSJub256ZXJvIiBwb2ludHM9IjAsNjUwLjU0IDM5Mi4wNyw4ODIuMjkgMzkyLjA3LDQ3Mi4zMyAiLz4KICAgPC9nPgogIDwvZz4KIDwvZz4KPC9zdmc+Cg=='/%3e%3c/defs%3e%3cstyle%3e%20.s0%20{%20fill:%20%23ffffff%20}%20%3c/style%3e%3cg%3e%3cpath%20fill-rule='evenodd'%20class='s0'%20d='m1248%200c689.3%200%201248%20558.7%201248%201248%200%20689.3-558.7%201248-1248%201248-689.3%200-1248-558.7-1248-1248%200-689.3%20558.7-1248%201248-1248z'/%3e%3cuse%20id='eth'%20href='%23img1'%20transform='matrix(1.324,0,0,1.324,385.008,385.008)'/%3e%3c/g%3e%3c/svg%3e\",c4e=\"data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Generator:%20Adobe%20Illustrator%2024.0.0,%20SVG%20Export%20Plug-In%20.%20SVG%20Version:%206.00%20Build%200)%20--%3e%3csvg%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20x='0px'%20y='0px'%20viewBox='0%200%20178%20161'%20style='enable-background:new%200%200%20178%20161;'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.st0{fill:%236C00F6;}%20%3c/style%3e%3cpath%20class='st0'%20d='M66.8,54.7l-16.7-9.7L0,74.1v58l50.1,29l50.1-29V41.9L128,25.8l27.8,16.1v32.2L128,90.2l-16.7-9.7v25.8%20l16.7,9.7l50.1-29V29L128,0L77.9,29v90.2l-27.8,16.1l-27.8-16.1V86.9l27.8-16.1l16.7,9.7V54.7z'/%3e%3c/svg%3e\",l4e=\"data:image/svg+xml,%3csvg%20width='534'%20height='535'%20viewBox='0%200%20534%20535'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M266.012%20534.324C345.239%20534.324%20416.418%20499.892%20465.377%20445.186C442.603%20425.407%20408.28%20424.206%20384.034%20443.755L379.402%20447.49C335.007%20483.284%20270.32%20477.998%20232.336%20435.472C211.619%20412.279%20176.14%20409.911%20152.52%20430.145L99.1133%20475.895C144.855%20512.46%20202.878%20534.324%20266.012%20534.324ZM352.701%20404.955C394.986%20370.862%20454.42%20372.084%20495.089%20405.013C519.397%20364.767%20533.383%20317.597%20533.383%20267.162C533.383%20211.12%20516.115%20159.11%20486.604%20116.151C467.58%20112.103%20446.96%20116.831%20431.307%20130.691L426.852%20134.636C384.158%20172.44%20319.295%20170.142%20279.388%20129.414C257.622%20107.201%20222.07%20106.471%20199.41%20127.773L137.261%20186.196L103.072%20149.884L165.222%2091.4612C207.669%2051.5576%20274.266%2052.924%20315.039%2094.535C336.343%20116.277%20370.969%20117.504%20393.76%2097.3227L398.215%2093.3779C412.05%2081.1279%20428.057%2072.8695%20444.815%2068.5261C397.446%2025.9257%20334.759%200%20266.012%200C130.284%200%2018.1773%20101.056%200.938963%20231.975C42.1649%20212.207%2093.0169%20219.814%20126.631%20254.209C147.852%20275.922%20182.02%20278.214%20205.955%20259.53L240.704%20232.404C284.374%20198.313%20346.109%20199.963%20387.893%20236.339L455.545%20295.234L422.769%20332.824L355.117%20273.929C331.358%20253.245%20296.254%20252.306%20271.421%20271.692L236.673%20298.817C192.698%20333.146%20129.921%20328.935%2090.9332%20289.041C68.262%20265.843%2031.183%20265.033%207.51958%20287.22L0%20294.27C5.62745%20350.071%2028.4393%20400.803%2063.0671%20441.104L120.044%20392.295C164.29%20354.392%20230.753%20358.827%20269.561%20402.275C289.838%20424.976%20324.37%20427.798%20348.069%20408.69L352.701%20404.955Z'%20fill='%239E1F19'/%3e%3c/svg%3e\",u4e=\"data:image/svg+xml,%3csvg%20fill='none'%20viewBox='0%200%2027%2026'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='.269643'%3e%3cpath%20d='m25.2148.942841-10.1123%207.639879%201.8805-4.50244z'%20fill='%23e17726'%20stroke='%23e17726'/%3e%3cg%20fill='%23e27625'%20stroke='%23e27625'%3e%3cpath%20d='m1.88965.942841%2010.02225%207.711179-1.7904-4.57374z'/%3e%3cpath%20d='m21.5739%2018.6572-2.6906%204.1968%205.7613%201.6197%201.6503-5.7249z'/%3e%3cpath%20d='m.819336%2018.7488%201.640364%205.7249%205.75127-1.6197-2.68059-4.1968z'/%3e%3cpath%20d='m7.90089%2011.5674-1.60035%202.4651%205.70126.2649-.19-6.26475z'/%3e%3cpath%20d='m19.2034%2011.5674-3.9708-3.60607-.1301%206.33597%205.7013-.2648z'/%3e%3cpath%20d='m8.21094%2022.854%203.45076-1.7011-2.97066-2.3633z'/%3e%3cpath%20d='m15.4426%2021.1529%203.4408%201.7011-.4701-4.0644z'/%3e%3c/g%3e%3cpath%20d='m18.8834%2022.8541-3.4408-1.7012.2801%202.2818-.03.9677z'%20fill='%23d5bfb2'%20stroke='%23d5bfb2'/%3e%3cpath%20d='m8.21094%2022.8541%203.20066%201.5483-.02-.9677.2701-2.2818z'%20fill='%23d5bfb2'%20stroke='%23d5bfb2'/%3e%3cpath%20d='m11.4717%2017.282-2.86062-.8557%202.02042-.9473z'%20fill='%23233447'%20stroke='%23233447'/%3e%3cpath%20d='m15.6326%2017.282.8402-1.803%202.0304.9473z'%20fill='%23233447'%20stroke='%23233447'/%3e%3cpath%20d='m8.21111%2022.854.50011-4.1968-3.1807.0916z'%20fill='%23cc6228'%20stroke='%23cc6228'/%3e%3cpath%20d='m18.3933%2018.6572.4901%204.1968%202.6906-4.1052z'%20fill='%23cc6228'%20stroke='%23cc6228'/%3e%3cpath%20d='m20.8038%2014.0325-5.7013.2649.5302%202.9846.8401-1.803%202.0305.9474z'%20fill='%23cc6228'%20stroke='%23cc6228'/%3e%3cpath%20d='m8.61117%2016.4264%202.02043-.9474.8402%201.803.5301-2.9846-5.70124-.2649z'%20fill='%23cc6228'%20stroke='%23cc6228'/%3e%3cpath%20d='m6.30066%2014.0325%202.39053%204.7571-.08002-2.3632z'%20fill='%23e27525'%20stroke='%23e27525'/%3e%3cpath%20d='m18.5035%2016.4264-.09%202.3632%202.3905-4.7571z'%20fill='%23e27525'%20stroke='%23e27525'/%3e%3cpath%20d='m12.0019%2014.2974-.5301%202.9846.6701%203.5246.1501-4.6451z'%20fill='%23e27525'%20stroke='%23e27525'/%3e%3cpath%20d='m15.1027%2014.2974-.2801%201.8539.1401%204.6553.6701-3.5246z'%20fill='%23e27525'%20stroke='%23e27525'/%3e%3cpath%20d='m15.6327%2017.282-.6702%203.5245.4801.3464%202.9707-2.3633.09-2.3633z'%20fill='%23f5841f'%20stroke='%23f5841f'/%3e%3cpath%20d='m8.61108%2016.4263.08002%202.3633%202.9707%202.3633.4801-.3464-.6702-3.5245z'%20fill='%23f5841f'%20stroke='%23f5841f'/%3e%3cpath%20d='m15.6926%2024.4024.03-.9678-.2601-.2241h-3.8208l-.2501.2241.02.9678-3.20066-1.5484%201.12024.9372%202.27052%201.5992h3.8908l2.2805-1.5992%201.1103-.9372z'%20fill='%23c0ac9d'%20stroke='%23c0ac9d'/%3e%3cpath%20d='m15.4426%2021.1529-.4801-.3464h-2.8206l-.4801.3464-.2701%202.2818.2501-.2241h3.8208l.2601.2241z'%20fill='%23161616'%20stroke='%23161616'/%3e%3cpath%20d='m25.6449%209.08186.8502-4.21722-1.2803-3.921799-9.7722%207.385219%203.7609%203.23934%205.3111%201.5789%201.1703-1.3956-.5101-.3769.8102-.7538-.6202-.4889.8102-.6316z'%20fill='%23763e1a'%20stroke='%23763e1a'/%3e%3cpath%20d='m.609375%204.86464.860195%204.21722-.550127.41764.820177.6316-.62013.4889.81018.7538-.51012.3769%201.17026%201.3956%205.31118-1.5789%203.76081-3.23934-9.77214-7.385219z'%20fill='%23763e1a'%20stroke='%23763e1a'/%3e%3cpath%20d='m24.5147%2013.1463-5.3112-1.5789%201.6004%202.4651-2.3906%204.7571%203.1607-.0408h4.7211z'%20fill='%23f5841f'%20stroke='%23f5841f'/%3e%3cpath%20d='m7.9009%2011.5674-5.31117%201.5789-1.770394%205.6025h4.711044l3.16069.0408-2.39052-4.7571z'%20fill='%23f5841f'%20stroke='%23f5841f'/%3e%3cpath%20d='m15.1024%2014.2974.3401-5.96934%201.5404-4.24777h-6.8616l1.5404%204.24777.3401%205.96934.13%201.8743.01%204.6348h2.8206l.01-4.6348z'%20fill='%23f5841f'%20stroke='%23f5841f'/%3e%3c/g%3e%3c/svg%3e\",d4e=\"data:image/svg+xml,%3csvg%20width='128'%20height='128'%20viewBox='0%200%20128%20128'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='128'%20height='128'%20rx='64'%20fill='%23AB9FF2'/%3e%3cpath%20d='M110.584%2064.9142H99.142C99.142%2041.7651%2080.173%2023%2056.7724%2023C33.6612%2023%2014.8253%2041.3057%2014.405%2064.0583C13.9529%2088.0358%2033.0478%20108%2057.3585%20108H63.0021C83.6101%20108%20104.218%2093.2057%20110.584%2074.2971C112.109%2069.8743%20110.584%2064.9142%20110.584%2064.9142ZM39.7319%2065.5654C39.7319%2069.2623%2036.6828%2072.2789%2032.9449%2072.2789C29.207%2072.2789%2026.1579%2069.2623%2026.1579%2065.5654V56.8402C26.1579%2053.1432%2029.207%2050.1267%2032.9449%2050.1267C36.6828%2050.1267%2039.7319%2053.1432%2039.7319%2056.8402V65.5654ZM57.3585%2065.5654C57.3585%2069.2623%2054.3094%2072.2789%2050.5715%2072.2789C46.8336%2072.2789%2043.7845%2069.2623%2043.7845%2065.5654V56.8402C43.7845%2053.1432%2046.8336%2050.1267%2050.5715%2050.1267C54.3094%2050.1267%2057.3585%2053.1432%2057.3585%2056.8402V65.5654Z'%20fill='white'/%3e%3c/svg%3e\",f4e=\"data:image/svg+xml,%3csvg%20fill='none'%20viewBox='0%200%20480%20332'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m126.613%2093.9842c62.622-61.3123%20164.152-61.3123%20226.775%200l7.536%207.3788c3.131%203.066%203.131%208.036%200%2011.102l-25.781%2025.242c-1.566%201.533-4.104%201.533-5.67%200l-10.371-10.154c-43.687-42.7734-114.517-42.7734-158.204%200l-11.107%2010.874c-1.565%201.533-4.103%201.533-5.669%200l-25.781-25.242c-3.132-3.066-3.132-8.036%200-11.102zm280.093%2052.2038%2022.946%2022.465c3.131%203.066%203.131%208.036%200%2011.102l-103.463%20101.301c-3.131%203.065-8.208%203.065-11.339%200l-73.432-71.896c-.783-.767-2.052-.767-2.835%200l-73.43%2071.896c-3.131%203.065-8.208%203.065-11.339%200l-103.4657-101.302c-3.1311-3.066-3.1311-8.036%200-11.102l22.9456-22.466c3.1311-3.065%208.2077-3.065%2011.3388%200l73.4333%2071.897c.782.767%202.051.767%202.834%200l73.429-71.897c3.131-3.065%208.208-3.065%2011.339%200l73.433%2071.897c.783.767%202.052.767%202.835%200l73.431-71.895c3.132-3.066%208.208-3.066%2011.339%200z'%20fill='%233396ff'/%3e%3c/svg%3e\";function h4e(t){switch(t){case\"BNB\":return s4e;case\"USDC\":return o4e;case\"USDT\":return Nz;case\"ETH\":return a4e;case\"POL\":return c4e;case\"SEI\":return l4e;case\"TESTU\":return Nz;default:return\"\"}}function Dx(t){switch(t){case\"metamask\":return u4e;case\"phantom\":return d4e;case\"walletconnect\":return f4e;default:return\"\"}}function d3(t){const e=t.tokenSymbol||\"Missing token metadata\";return console.log(\"[Jeronasand] createCoinFromRequirement called with:\",t,\"Token Symbol:\",e),{id:t.tokenAddress||\"\",name:e,icon:h4e(e),paymentMethod:t}}function p4e(t){return t?Array.isArray(t)?t:[t]:[]}function g4e(t,e){return t.length?t.filter(r=>{const i=rc(\"bsc\"),s=rc(\"base\"),o=rc(\"polygon\"),a=rc(\"sei\");return e===\"bsc\"?r.networkId===i:e===\"base\"?r.networkId===s:e===\"polygon\"?r.networkId===o:e===\"sei\"?r.networkId===a:!1}):[]}function m4e(t){console.log(\"[DEBUG] generateAvailableNetworks called with:\",t);const e={};t.forEach(h=>{const p=h.namespace||\"\";e[p]||(e[p]=[]),e[p].push(h)});const n=[];let r=!1,i=!1,s=!1,o=!1;const a=rc(\"bsc\"),c=rc(\"base\"),l=rc(\"polygon\"),d=rc(\"sei\");if(e.evm&&e.evm.length>0){if(e.evm.forEach(h=>{r===!1&&h.networkId===a&&(r=!0),i===!1&&h.networkId===c&&(i=!0),s===!1&&h.networkId===l&&(s=!0),o===!1&&h.networkId===d&&(o=!0)}),r){const h=e.evm.filter(m=>m.networkId===a);console.log(\"[DEBUG] BSC requirements found:\",h);const p=h.map(d3);console.log(\"[DEBUG] BSC coins generated:\",p),n.push({id:\"bsc\",name:\"Binance Smart Chain\",icon:t4e,coins:p})}if(i){const h=e.evm.filter(p=>p.networkId===c).map(d3);n.push({id:\"base\",name:\"Base\",icon:n4e,coins:h})}if(s){const h=e.evm.filter(p=>p.networkId===l).map(d3);n.push({id:\"polygon\",name:\"Polygon\",icon:r4e,coins:h})}if(o){const h=e.evm.filter(p=>p.networkId===d).map(d3);n.push({id:\"sei\",name:\"Sei\",icon:i4e,coins:h})}}return n}function y4e({chainId:t,onWalletSelect:e,selectedWallet:n,disabled:r=!1,isDarkMode:i}){const[s,o]=gt.useState([]);gt.useEffect(()=>{typeof window<\"u\"&&(()=>{var h,p;const l=[];(h=window.ethereum)!=null&&h.isMetaMask&&!((p=window.ethereum)!=null&&p.isPhantom)&&l.push({id:\"metamask\",name:\"MetaMask\",icon:Dx(\"metamask\"),type:\"evm\"}),window.phantom&&t!==\"solana\"&&l.push({id:\"phantom\",name:\"Phantom\",icon:Dx(\"phantom\"),type:\"evm\"}),l.push({id:\"walletconnect\",name:\"WalletConnect\",icon:Dx(\"walletconnect\"),type:\"evm\"});const d=l.filter(m=>{var E;return((E={metamask:[\"bsc\",\"base\",\"polygon\",\"sei\"],phantom:[\"base\",\"polygon\"],walletconnect:[\"bsc\",\"base\",\"polygon\",\"sei\"]}[m.id])==null?void 0:E.includes(t))||!1});o(d)})()},[t]);const a=c=>{r||e(c)};return s.length===0?Ke.jsx(\"div\",{className:\"p-4 bg-red-50 border border-red-200 rounded-lg\",children:Ke.jsxs(\"p\",{className:\"text-red-700 text-sm\",children:[\"No supported EVM wallets found for \",t.toUpperCase(),\" chain.\"]})}):Ke.jsxs(\"div\",{className:\"mb-8\",children:[Ke.jsx(\"div\",{className:\"flex items-center justify-between\",children:Ke.jsx(\"div\",{className:`block text-sm font-medium mb-2 ${i?\"text-gray-300\":\"text-gray-700\"}`,children:\"Select EVM wallet\"})}),Ke.jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 gap-3\",children:s.map(c=>Ke.jsxs(\"div\",{className:`\n              relative flex border items-center p-3 rounded-lg cursor-pointer transition-all duration-200\n              ${n===c.id?`border-blue-500 ring-2 ring-blue-500 ${i?\"bg-gray-900\":\"bg-blue-50\"}`:`${i?\"!border-gray-600 hover:bg-gray-700\":\"!border-gray-200 hover:bg-gray-50\"}`}\n              ${r?\"opacity-50 cursor-not-allowed\":\"\"}\n            `,onClick:()=>a(c.id),children:[Ke.jsx(\"input\",{type:\"radio\",id:c.id,name:\"evm-wallet-selection\",value:c.id||\"\",checked:n===c.id,onChange:()=>a(c.id),disabled:r,className:\"sr-only\"}),Ke.jsx(\"div\",{className:\"w-6 h-6 mr-3 flex-shrink-0\",children:Ke.jsx(\"img\",{src:c.icon,alt:c.name,className:\"w-6 h-6 object-contain\"})}),Ke.jsx(\"div\",{className:`text-sm font-medium ${i?\"text-white\":\"text-gray-900\"} truncate`,children:c.name}),n===c.id&&Ke.jsx(\"div\",{className:\"absolute -top-2 -right-2 w-5 h-5 bg-blue-500 rounded-full flex items-center justify-center\",children:Ke.jsx(\"div\",{className:\"w-2.5 h-2.5 bg-white rounded-full\"})})]},c.id))})]})}function b4e({amount:t,paymentRequirements:e,onSuccess:n,onError:r,paymentStatus:i,setPaymentStatus:s,className:o=\"\",networkId:a=\"bsc\"}){const[c,l]=gt.useState(null),[d,h]=gt.useState(a),{isDarkMode:p}=RO(),{walletClient:m,connectedAddress:b,connectWallet:y,disconnectWallet:E}=ine(),[v,_]=gt.useState(null),C=gt.useRef({attemptInProgress:!1});gt.useEffect(()=>{d!==a&&b?(E(),_(null),h(a)):d!==a&&h(a)},[a,d,b,E]);const S=async()=>{if(console.log(\"[DEBUG] Button clicked\",{hasWallet:!!m,connectedAddress:b==null?void 0:b.slice(0,8),currentStatus:i}),!b){await A();return}s(\"approving\")},A=async(F=v??\"metamask\")=>{l(null),s(\"connecting\");try{await y(F,a),s(\"approving\")}catch(H){console.error(\"[DEBUG] EVM wallet connection error:\",H),s(\"error\");const V=H instanceof Error?H.message:String(H);l(V),r==null||r(H instanceof Error?H:new Error(V))}},I=F=>{s(\"idle\"),_(F)},O=gt.useCallback(F=>{console.log(\"[DEBUG] Payment sent and signed\"),console.log(\"[DEBUG] Payment header:\",F),n&&n(F)},[n]),D=gt.useCallback(F=>{const H=F instanceof Error?F.message:String(F);console.log(\"[DEBUG] Payment error\",{errMsg:H}),H.includes(\"cancelled by user\")||H.includes(\"User rejected\")?(console.log(\"[DEBUG] User cancelled payment\"),s(\"error\"),l(\"Transaction cancelled by user\")):(s(\"error\"),l(H)),C.current.attemptInProgress=!1,r&&r(F instanceof Error?F:new Error(H))},[r,s]),N=gt.useCallback(()=>{console.log(\"[DEBUG] Payment processing started\"),s(\"processing\"),C.current.attemptInProgress=!0},[s]),U=[\"connecting\",\"processing\",\"success\"].includes(i)||!v;return Ke.jsxs(\"div\",{className:\"flex flex-col w-full space-y-4\",children:[Ke.jsx(y4e,{chainId:a,onWalletSelect:I,selectedWallet:v,disabled:[\"approving\",\"connecting\",\"processing\"].includes(i),isDarkMode:p}),b&&m&&i===\"approving\"&&!C.current.attemptInProgress&&Ke.jsx(w4e,{walletClient:m,connectedAddress:b,paymentRequirements:e,onSuccess:O,onError:D,onProcessing:N,paymentAttemptRef:C,networkId:a}),Ke.jsx(e4e,{paymentStatus:i,amount:t,errorMessage:c,onClick:S,disabled:U,className:o})]})}const rc=t=>{switch(t){case\"bsc\":return\"56\";case\"base\":return\"8453\";case\"polygon\":return\"137\";case\"sei\":return\"1329\";default:return\"56\"}};function w4e({walletClient:t,connectedAddress:e,paymentRequirements:n,onSuccess:r,onError:i,onProcessing:s,paymentAttemptRef:o,networkId:a=\"bsc\"}){const c=gt.useRef(!1);return gt.useEffect(()=>{var d;if(console.log(\"[DEBUG] EvmPaymentProcessor mounted\",{connectedAddress:e==null?void 0:e.slice(0,8),hasAttempted:c.current,attemptInProgress:(d=o.current)==null?void 0:d.attemptInProgress}),c.current||o.current&&o.current.attemptInProgress){console.log(\"[DEBUG] Payment already in progress or attempted, skipping\");return}c.current=!0,s(),(async()=>{try{if(!t)throw new Error(\"EVM wallet client not available\");const h=await t.getChainId(),p=parseInt(rc(a));if(h!==p)throw new Error(`Wallet is on wrong network. Please switch to ${a.toUpperCase()} network and try again.`);const m={...n,namespace:\"evm\",networkId:rc(a),scheme:\"exact\",resource:n.resource||\"payment\"};console.log(\"[DEBUG] Final EVM payment details:\",{namespace:m.namespace,networkId:m.networkId,scheme:m.scheme,tokenAddress:m.tokenAddress,amountRequired:m.amountRequired});const b={evmClient:t};console.log(\"[DEBUG] Calling createPayment for EVM\");const y=await X8e(b,Q8e,m);console.log(\"[DEBUG] createPayment succeeded\"),r(y)}catch(h){console.error(\"[DEBUG] Payment error:\",h);const p=h instanceof Error?h.message:String(h);console.log(\"[DEBUG] Error message:\",p);const m=p.includes(\"User rejected the request\");console.log(\"[DEBUG] Is user rejection:\",m),m?(console.log(\"[DEBUG] Transaction was rejected by user, handling gracefully\"),i(new Error(\"Transaction cancelled by user\"))):i(h instanceof Error?h:new Error(String(h)))}})()},[e,t,n,r,i,s,o]),null}async function v4e(t,e){await t.switchChain({id:e.id}),await new Promise(n=>setTimeout(n,1e3))}async function E4e(t){var e;await window.ethereum.request({method:\"wallet_addEthereumChain\",params:[{chainId:`0x${t.id.toString(16)}`,chainName:t.name,nativeCurrency:t.nativeCurrency,rpcUrls:t.rpcUrls.default.http,blockExplorerUrls:(e=t.blockExplorers)!=null&&e.default?[t.blockExplorers.default.url]:[]}]}),await new Promise(n=>setTimeout(n,1e3)),await window.ethereum.request({method:\"wallet_switchEthereumChain\",params:[{chainId:`0x${t.id.toString(16)}`}]}),await new Promise(n=>setTimeout(n,1500))}async function Rz(t,e){return await t.getChainId()===e.id}async function _4e({initialClient:t,targetChain:e,networkName:n,config:r,account:i,connector:s,result:o}){if(await t.getChainId()===e.id)return o;try{await v4e(t,e);const c=await y8(r,{account:i,chainId:e.id}),l=c==null?void 0:c.extend(g8);if(l&&await Rz(l,e))return{...o,chainId:e.id};throw new Error(\"Chain switch verification failed\")}catch{try{await E4e(e);const l=await y8(r,{account:i,chainId:e.id}),d=l==null?void 0:l.extend(g8);return d&&await Rz(d,e)?{...o,chainId:e.id}:await CQ(r,{connector:s,chainId:e.id})}catch(l){throw console.error(\"Direct chain switch failed:\",l),l&&typeof l==\"object\"&&\"code\"in l&&l.code===4001?new Error(`You need to approve the network switch to ${n} in your wallet to continue.`):new Error(`Unable to automatically switch to ${n}. Please manually switch to ${n} in your wallet and try again.`)}}}function C4e(t){switch(t){case\"base\":return{targetChain:b8,networkName:\"Base\"};case\"polygon\":return{targetChain:RI,networkName:\"Polygon\"};case\"sei\":return{targetChain:kI,networkName:\"Sei\"};default:return{targetChain:NI,networkName:\"Binance Smart Chain (BSC)\"}}}const rne=gt.createContext({walletClient:null,connectedAddress:\"\",statusMessage:\"\",setStatusMessage:()=>{},connectWallet:async()=>{},disconnectWallet:async()=>{}}),ine=()=>gt.useContext(rne);function S4e({children:t}){const[e,n]=gt.useState(null),[r,i]=gt.useState(\"\"),[s,o]=gt.useState(\"\"),a=gt.useCallback(async(d,h=\"bsc\")=>{var b,y;const{targetChain:p,networkName:m}=C4e(h);try{if(o(\"Connecting wallet...\"),typeof window>\"u\"||!window.ethereum)throw new Error(\"No Ethereum wallet detected. Please install MetaMask or another wallet extension.\");let E;if(d===\"metamask\")E=g_();else if(d===\"phantom\")E=x0({shimDisconnect:!0,target:\"phantom\"});else if(d===\"walletconnect\"){const O=((b=window.ethereum)==null?void 0:b.isWalletConnect)||localStorage.getItem(\"walletconnect\")||document.querySelector('[data-testid*=\"walletconnect\"]');typeof window<\"u\"&&window.indexedDB&&window.indexedDB.deleteDatabase(\"WALLET_CONNECT_V2_INDEXED_DB\"),O&&(E=x0({shimDisconnect:!0})),E=m_({projectId:\"\"})}else E=x0({shimDisconnect:!0});const v=Number(rc(h));console.log(\"[DEBUG] Connecting wallet\",zg);const _=await CQ(zg,{connector:E,chainId:d===\"walletconnect\"?v:void 0});if(console.log(\"[DEBUG] Connected wallet\",{result:_}),!((y=_.accounts)!=null&&y[0]))throw new Error(\"Please select an account in your wallet\");if(d!==\"walletconnect\")try{const O=await y8(zg,{account:_.accounts[0]});if(O){const D=O.extend(g8);if(await D.getChainId()!==v){o(`Please switch to ${h.toUpperCase()} network in your wallet...`);try{await _4e({initialClient:D,targetChain:p,networkName:m,config:zg,account:_.accounts[0],connector:E,result:_}),console.log(`Chain switched successfully to ${h.toUpperCase()}`)}catch(U){throw console.error(\"Failed to switch chain:\",U),new Error(`Please manually switch to ${h.toUpperCase()} in your wallet and try again.`)}}}}catch(O){throw console.error(\"Error checking/switching chain:\",O),new Error(`Please switch to ${h.toUpperCase()} network in your wallet...`)}const C=await y8(zg,{account:_.accounts[0],chainId:v});if(!C)throw new Error(\"Failed to get wallet client\");const S=C.extend(g8),[A]=await S.getAddresses();if(!A)throw new Error(\"Cannot access wallet account\");if(await S.getChainId()!==v)throw new Error(`Please switch to ${h.toUpperCase()} network`);n(S),i(A),o(\"Wallet connected!\")}catch(E){console.error(\"EvmWalletContext - Connection error:\",E);let v=\"Failed to connect wallet\";throw E instanceof Error&&(E.message.includes(\"Unsupported chain\")?v=`This wallet doesn't support ${h.toUpperCase()}. Please use MetaMask or another ${d.toUpperCase()}-compatible wallet.`:E.message.includes(\"User rejected\")?v=\"Connection rejected. Please try again.\":E.message.includes(\"already pending\")?v=\"Connection already pending. Check your wallet.\":E.message.includes(\"No Ethereum provider\")?v=\"No Ethereum provider found. Please install a wallet extension.\":(E.message.includes(\"chain of the connector\")||E.message.includes(\"chain mismatch\"))&&(v=`Please switch to ${h.toUpperCase()} in your wallet and try again.`)),o(v),new Error(v)}},[]),c=gt.useCallback(async()=>{try{if(Fbe(zg).catch(d=>{console.warn(\"Disconnect from wagmi failed:\",d)}),n(null),i(\"\"),o(\"Wallet disconnected\"),typeof window<\"u\"){const d=[];for(let h=0;h<localStorage.length;h++){const p=localStorage.key(h);p&&(p.includes(\"wagmi\")||p.includes(\"wallet\"))&&d.push(p)}d.forEach(h=>{localStorage.removeItem(h)})}}catch(d){console.error(\"EvmWalletContext - Disconnect error:\",d),n(null),i(\"\"),o(\"Wallet disconnected (with errors)\")}},[]),l={walletClient:e,connectedAddress:r,statusMessage:s,setStatusMessage:o,connectWallet:a,disconnectWallet:c};return Ke.jsx(rne.Provider,{value:l,children:t})}const kz=({type:t,items:e,selected:n,onSelect:r,isOpen:i,toggleDropdown:s,isDarkMode:o})=>{const a=gt.useRef(null);return gt.useEffect(()=>{if(!i)return;const c=l=>{a.current&&!a.current.contains(l.target)&&s()};return document.addEventListener(\"mousedown\",c),()=>document.removeEventListener(\"mousedown\",c)},[i,s]),n.id?Ke.jsxs(\"div\",{className:\"mb-4\",children:[Ke.jsx(\"label\",{className:`block text-sm font-medium mb-2 ${o?\"text-gray-300\":\"text-gray-700\"}`,children:t===\"network\"?\"Network\":\"Coin\"}),Ke.jsxs(\"div\",{className:\"relative\",ref:a,children:[Ke.jsxs(\"button\",{className:`w-full flex items-center justify-between border rounded-lg px-4 py-2.5 text-left focus:outline-none focus:ring-2 focus:ring-blue-500 ${o?\"bg-gray-700 border-gray-600 text-gray-200\":\"bg-white border-gray-300 text-gray-800\"}`,onClick:s,type:\"button\",children:[Ke.jsxs(\"div\",{className:\"flex items-center\",children:[Ke.jsx(\"div\",{className:\"w-6 h-6 mr-2 flex-shrink-0\",children:Ke.jsx(\"img\",{src:n.icon,alt:n.name,className:\"object-contain\",width:24,height:24})}),Ke.jsx(\"span\",{children:n.name})]}),Ke.jsx(\"svg\",{className:\"w-5 h-5 text-gray-400\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",xmlns:\"http://www.w3.org/2000/svg\",children:Ke.jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:\"2\",d:\"M19 9l-7 7-7-7\"})})]}),i&&Ke.jsx(\"div\",{className:`absolute z-10 w-full mt-1 border rounded-lg shadow-lg ${o?\"bg-gray-700 border-gray-600\":\"bg-white border-gray-300\"}`,children:e.map(c=>Ke.jsxs(\"button\",{className:`w-full flex items-center px-4 py-2.5 text-left ${o?\"hover:bg-gray-600 text-gray-200\":\"hover:bg-gray-100 text-gray-800\"}`,onClick:()=>r(c),children:[Ke.jsx(\"div\",{className:\"w-6 h-6 mr-2 flex-shrink-0\",children:Ke.jsx(\"img\",{src:c.icon,alt:c.name,className:\"object-contain\",width:24,height:24})}),Ke.jsx(\"span\",{children:c.name})]},c.id))})]})]}):null},Mz=({message:t,isDarkMode:e})=>Ke.jsx(\"div\",{className:`text-yellow-500 text-center p-4 border rounded-lg ${e?\"bg-yellow-900/20 border-yellow-900/50\":\"bg-yellow-50 border-yellow-200\"}`,children:t}),x4e=({isDarkMode:t})=>Ke.jsx(\"div\",{className:`text-center p-4 border rounded-lg ${t?\"bg-gray-700 border-gray-600 text-gray-300\":\"bg-gray-50 border-gray-200 text-gray-700\"}`,children:Ke.jsx(\"p\",{children:\"No payment options available for this resource.\"})});function A4e(t){const[e,n]=gt.useState(!1);return gt.useEffect(()=>{if(typeof window>\"u\")return;(()=>{var c;const i=!!window.isPhantomInstalled||!!window.phantom,s=!!window.ethereum,o=s&&((c=window.ethereum)==null?void 0:c.providers)&&Array.isArray(window.ethereum.providers);let a=!1;o?a=window.ethereum.providers.some(l=>l.isMetaMask&&!l.isPhantom):s&&(window.ethereum.isPhantom?a=!1:a=window.ethereum.isMetaMask===!0),n(a),console.log({hasPhantom:i,hasEthereumProvider:s,hasProvidersArray:o,hasTrueEvmProvider:a,evmAddress:t||\"Not connected\"})})()},[t]),{isTrueEvmProvider:e}}function $4e(t,e,n){const[r,i]=gt.useState(null);return gt.useEffect(()=>{i((()=>{const o=t.id===\"solana\"?[\"phantom\",\"solflare\"]:t.id===\"base\"||t.id===\"polygon\"?[\"metamask\",\"wallet\",\"phantom\"]:[\"metamask\",\"wallet\"];return t.id===\"bsc\"&&!n?(console.log(\"No true EVM provider detected.\"),null):t.id===\"solana\"?e.find(a=>a.chains.some(c=>c.startsWith(\"solana:\"))&&o.some(c=>a.name.toLowerCase().includes(c)))||e.find(a=>a.chains.some(c=>c.startsWith(\"solana:\"))):t.id===\"bsc\"||t.id===\"base\"||t.id===\"polygon\"||t.id===\"sei\"?e.find(a=>a.chains.some(c=>c.startsWith(\"evm:\"))&&o.some(c=>a.name.toLowerCase().includes(c)))||e.find(a=>a.chains.some(c=>c.startsWith(\"evm:\"))):null})())},[t,e,n]),{selectedWallet:r}}function I4e({amount:t,format:e,symbol:n,decimals:r}){let i=0;return e===\"smallestUnit\"?i=Number(t)/Math.pow(10,r):i=Number(t),`${i.toFixed(r).replace(/(\\.\\d*?)0+$/,\"$1\").replace(/\\.$/,\"\")} ${n}`}function T4e({paymentRequirements:t}){const e=Zfe(),{connectedAddress:n}=ine(),{isDarkMode:r}=RO(),{isTrueEvmProvider:i}=A4e(n),[s,o]=gt.useState(\"idle\"),[a,c]=gt.useState(null),l=gt.useMemo(()=>p4e(t),[t]),d=gt.useMemo(()=>m4e(l),[l]),[h,p]=gt.useState({id:\"\",name:\"\",icon:\"\",coins:[]}),[m,b]=gt.useState({id:\"\",name:\"\",icon:\"\"}),[y,E]=gt.useState({network:!1,coin:!1}),[v,_]=gt.useState(0);$4e(h,e,i),gt.useEffect(()=>{_(0),d.length>0&&(d.some(N=>N.id===h.id)||(p(d[0]),b(d[0].coins[0])))},[h.id,d]),gt.useEffect(()=>{const N=g4e(l,h.id);if(N.length===0){console.log(\"[DEBUG-PAYMENT-FLOW] No compatible payment methods found\"),c(null);return}console.log(\"[DEBUG-PAYMENT-FLOW] Selected coin:\",m),console.log(\"[DEBUG-PAYMENT-FLOW] Compatible methods:\",N);const U=N.find(F=>F.tokenSymbol===m.name);if(console.log(\"[DEBUG-PAYMENT-FLOW] Matching payment method:\",U),U){console.log(\"[DEBUG-PAYMENT-FLOW] Found matching payment method for coin:\",JSON.stringify(U,null,2)),c(U);return}console.log(\"[DEBUG-PAYMENT-FLOW] No exact match found, using first compatible method:\",N[0]),c(N[0])},[l,v,h.id,m]);const C=async N=>{o(\"success\"),console.log(\"Completing payment flow...\");try{const U=window.location.pathname+window.location.search;console.log(\"Making request with X-PAYMENT header to\",U);const F=await fetch(U,{method:\"GET\",headers:{\"X-PAYMENT\":N}});if(!F.ok)throw new Error(`Request failed: ${F.status}`);const H=await F.text();document.open(),document.write(H),document.close(),console.log(\"Successfully completed the payment flow\")}catch(U){console.error(\"Error completing payment flow:\",U),o(\"error\")}},S=N=>{console.error(\"Payment failed:\",N)},A=N=>{E(U=>({network:!1,coin:!1,[N]:!U[N]}))},I=N=>{p(N),b(N.coins[0]),o(\"idle\"),A(\"network\")},O=N=>{b(N),o(\"idle\"),A(\"coin\")},D=()=>{var U;if(!a)return null;const N=a.namespace===\"evm\";return h.id===\"bsc\"&&!i?Ke.jsx(Mz,{message:\"No compatible EVM wallet found. Please install a supported wallet.\",isDarkMode:r}):N?h.id===\"bsc\"||h.id===\"base\"||h.id===\"polygon\"||h.id===\"sei\"?Ke.jsx(b4e,{amount:I4e({amount:((U=a.amountRequired)==null?void 0:U.toString())??0,format:a.amountRequiredFormat??\"smallestUnit\",symbol:m.name,decimals:a.tokenDecimals}),paymentRequirements:a,onSuccess:C,onError:S,setPaymentStatus:o,paymentStatus:s,networkId:h.id}):null:Ke.jsx(Mz,{message:\"Please select a valid payment method.\",isDarkMode:r})};return Ke.jsxs(\"div\",{className:`border rounded-lg p-6 shadow-sm ${r?\"border-gray-700 bg-gray-800\":\"border-gray-200 bg-white\"}`,children:[Ke.jsx(\"h2\",{className:\"text-xl font-semibold mb-6\",children:\"Pay from your Wallet\"}),d.length===0?Ke.jsx(x4e,{isDarkMode:r}):Ke.jsxs(Ke.Fragment,{children:[d.length>1&&Ke.jsx(kz,{type:\"network\",items:d,selected:h,onSelect:I,isOpen:y.network,toggleDropdown:()=>A(\"network\"),isDarkMode:r}),h.coins.length>0&&Ke.jsx(kz,{type:\"coin\",items:h.coins,selected:m,onSelect:N=>O(N),isOpen:y.coin,toggleDropdown:()=>A(\"coin\"),isDarkMode:r}),D()]})]})}const P4e={TESTU_BSC:\"0x6e3BCf81d331fa7Bd79Ac2642486c70BEAE2600E\"},O4e={namespace:\"evm\",tokenAddress:\"0x55d398326f99059ff775485246999027b3197955\",amountRequired:.01,amountRequiredFormat:\"humanReadable\",payToAddress:\"0xc60d20FB910794df939eA1B758B367d7114733ae\",networkId:\"56\",description:\"Access to generated images (EVM)\",resource:\"https://example.com/resource\",scheme:\"exact\",mimeType:\"application/json\",outputSchema:null,estimatedProcessingTime:30,extra:null,maxAmountRequired:void 0,requiredDeadlineSeconds:void 0},N4e={namespace:\"evm\",tokenAddress:\"0x0000000000000000000000000000000000000000\",amountRequired:1e-4,amountRequiredFormat:\"humanReadable\",payToAddress:\"0xc60d20FB910794df939eA1B758B367d7114733ae\",networkId:\"56\",description:\"Access to generated images with BNB\",resource:\"https://example.com/resource\",scheme:\"exact\",mimeType:\"application/json\",outputSchema:null,estimatedProcessingTime:30,extra:null,maxAmountRequired:void 0,requiredDeadlineSeconds:void 0},R4e={namespace:\"evm\",tokenAddress:P4e.TESTU_BSC,amountRequired:.01,amountRequiredFormat:\"humanReadable\",payToAddress:\"0xc60d20FB910794df939eA1B758B367d7114733ae\",networkId:\"56\",description:\"Premium content access with TESTU\",resource:\"https://example.com/resource\",scheme:\"exact\",mimeType:\"application/json\",outputSchema:null,estimatedProcessingTime:30,extra:null,maxAmountRequired:void 0,requiredDeadlineSeconds:void 0,tokenDecimals:18,tokenSymbol:\"TESTU\"},k4e=[O4e,N4e,R4e];function M4e(){const[t,e]=gt.useState([]),{isDarkMode:n}=RO();return gt.useEffect(()=>{var s;(o=>{document.querySelectorAll('link[rel=\"icon\"], link[rel=\"shortcut icon\"]').forEach(d=>d.remove());const c=document.createElement(\"link\");c.rel=\"icon\",c.type=\"image/png\",c.href=o,document.head.appendChild(c);const l=document.createElement(\"link\");l.rel=\"shortcut icon\",l.type=\"image/png\",l.href=o,document.head.appendChild(l)})(\"https://card-pulic-new.oss-cn-hongkong.aliyuncs.com/logo/20251031-153633.png\");const i=((s=window.x402)==null?void 0:s.paymentRequirements)??k4e;console.log(\"[DEBUG] Payment requirements loaded:\",i),console.log(\"[DEBUG] Number of payment options:\",i.length),i.forEach((o,a)=>{console.log(`[DEBUG] Payment option ${a}:`,{tokenSymbol:o.tokenSymbol,tokenAddress:o.tokenAddress,networkId:o.networkId,namespace:o.namespace})}),e(i)},[]),!t||t.length===0?Ke.jsx(vU,{message:\"Loading Payment Options\"}):Ke.jsx(S4e,{children:Ke.jsxs(\"div\",{className:`w-dvw h-dvh text-black dark:text-white font-geist-sans antialiased ${n?\"bg-gray-900\":\"bg-white\"}`,children:[Ke.jsxs(\"header\",{className:\"flex justify-between items-center -mb-20 mr-2 px-4 pt-4\",children:[Ke.jsx(\"div\",{className:\"text-2xl font-bold text-white\"}),Ke.jsx(\"div\",{className:\"flex gap-4 items-center\",children:Ke.jsx(\"a\",{href:\"https://github.com/AEON-Project/x402\",className:\"bg-[#2E74FF] hover:bg-[#2361DB] dark:bg-blue-600 dark:hover:bg-blue-700 text-white px-4 py-2 rounded-full font-medium\",target:\"_blank\",rel:\"noopener noreferrer\",children:\"View on GitHub\"})})]}),Ke.jsx(\"main\",{className:\"min-h-screen flex items-center justify-center\",children:Ke.jsxs(\"div\",{className:\"w-full max-w-[800px] mx-auto p-8\",children:[Ke.jsx(\"h1\",{className:\"text-2xl font-semibold mb-2\",children:\"AKEDO X402 Payment Example\"}),Ke.jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400 text-base mb-8\",children:\"Connect your wallet and pay to access the resource\"}),Ke.jsx(gt.Suspense,{fallback:Ke.jsx(vU,{}),children:Ke.jsx(T4e,{paymentRequirements:t})})]})})]})})}Tfe.createRoot(document.getElementById(\"root\")).render(Ke.jsx(gt.StrictMode,{children:Ke.jsx(Xfe,{defaultTheme:\"light\",children:Ke.jsx(M4e,{})})}));var f3={exports:{}},Dz;function D4e(){if(Dz)return f3.exports;Dz=1;var t=typeof Reflect==\"object\"?Reflect:null,e=t&&typeof t.apply==\"function\"?t.apply:function(A,I,O){return Function.prototype.apply.call(A,I,O)},n;t&&typeof t.ownKeys==\"function\"?n=t.ownKeys:Object.getOwnPropertySymbols?n=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:n=function(A){return Object.getOwnPropertyNames(A)};function r(S){console&&console.warn&&console.warn(S)}var i=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}f3.exports=s,f3.exports.once=v,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(S){if(typeof S!=\"function\")throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(s,\"defaultMaxListeners\",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!=\"number\"||S<0||i(S))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+S+\".\");o=S}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!=\"number\"||A<0||i(A))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+A+\".\");return this._maxListeners=A,this};function c(S){return S._maxListeners===void 0?s.defaultMaxListeners:S._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(A){for(var I=[],O=1;O<arguments.length;O++)I.push(arguments[O]);var D=A===\"error\",N=this._events;if(N!==void 0)D=D&&N.error===void 0;else if(!D)return!1;if(D){var U;if(I.length>0&&(U=I[0]),U instanceof Error)throw U;var F=new Error(\"Unhandled error.\"+(U?\" (\"+U.message+\")\":\"\"));throw F.context=U,F}var H=N[A];if(H===void 0)return!1;if(typeof H==\"function\")e(H,this,I);else for(var V=H.length,M=b(H,V),O=0;O<V;++O)e(M[O],this,I);return!0};function l(S,A,I,O){var D,N,U;if(a(I),N=S._events,N===void 0?(N=S._events=Object.create(null),S._eventsCount=0):(N.newListener!==void 0&&(S.emit(\"newListener\",A,I.listener?I.listener:I),N=S._events),U=N[A]),U===void 0)U=N[A]=I,++S._eventsCount;else if(typeof U==\"function\"?U=N[A]=O?[I,U]:[U,I]:O?U.unshift(I):U.push(I),D=c(S),D>0&&U.length>D&&!U.warned){U.warned=!0;var F=new Error(\"Possible EventEmitter memory leak detected. \"+U.length+\" \"+String(A)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");F.name=\"MaxListenersExceededWarning\",F.emitter=S,F.type=A,F.count=U.length,r(F)}return S}s.prototype.addListener=function(A,I){return l(this,A,I,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,I){return l(this,A,I,!0)};function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(S,A,I){var O={fired:!1,wrapFn:void 0,target:S,type:A,listener:I},D=d.bind(O);return D.listener=I,O.wrapFn=D,D}s.prototype.once=function(A,I){return a(I),this.on(A,h(this,A,I)),this},s.prototype.prependOnceListener=function(A,I){return a(I),this.prependListener(A,h(this,A,I)),this},s.prototype.removeListener=function(A,I){var O,D,N,U,F;if(a(I),D=this._events,D===void 0)return this;if(O=D[A],O===void 0)return this;if(O===I||O.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete D[A],D.removeListener&&this.emit(\"removeListener\",A,O.listener||I));else if(typeof O!=\"function\"){for(N=-1,U=O.length-1;U>=0;U--)if(O[U]===I||O[U].listener===I){F=O[U].listener,N=U;break}if(N<0)return this;N===0?O.shift():y(O,N),O.length===1&&(D[A]=O[0]),D.removeListener!==void 0&&this.emit(\"removeListener\",A,F||I)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var I,O,D;if(O=this._events,O===void 0)return this;if(O.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):O[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete O[A]),this;if(arguments.length===0){var N=Object.keys(O),U;for(D=0;D<N.length;++D)U=N[D],U!==\"removeListener\"&&this.removeAllListeners(U);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(I=O[A],typeof I==\"function\")this.removeListener(A,I);else if(I!==void 0)for(D=I.length-1;D>=0;D--)this.removeListener(A,I[D]);return this};function p(S,A,I){var O=S._events;if(O===void 0)return[];var D=O[A];return D===void 0?[]:typeof D==\"function\"?I?[D.listener||D]:[D]:I?E(D):b(D,D.length)}s.prototype.listeners=function(A){return p(this,A,!0)},s.prototype.rawListeners=function(A){return p(this,A,!1)},s.listenerCount=function(S,A){return typeof S.listenerCount==\"function\"?S.listenerCount(A):m.call(S,A)},s.prototype.listenerCount=m;function m(S){var A=this._events;if(A!==void 0){var I=A[S];if(typeof I==\"function\")return 1;if(I!==void 0)return I.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function b(S,A){for(var I=new Array(A),O=0;O<A;++O)I[O]=S[O];return I}function y(S,A){for(;A+1<S.length;A++)S[A]=S[A+1];S.pop()}function E(S){for(var A=new Array(S.length),I=0;I<A.length;++I)A[I]=S[I].listener||S[I];return A}function v(S,A){return new Promise(function(I,O){function D(U){S.removeListener(A,N),O(U)}function N(){typeof S.removeListener==\"function\"&&S.removeListener(\"error\",D),I([].slice.call(arguments))}C(S,A,N,{once:!0}),A!==\"error\"&&_(S,D,{once:!0})})}function _(S,A,I){typeof S.on==\"function\"&&C(S,\"error\",A,I)}function C(S,A,I,O){if(typeof S.on==\"function\")O.once?S.once(A,I):S.on(A,I);else if(typeof S.addEventListener==\"function\")S.addEventListener(A,function D(N){O.once&&S.removeEventListener(A,D),I(N)});else throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof S)}return f3.exports}var h3={exports:{}},Bz;function B4e(){return Bz||(Bz=1,(function(t,e){var n=typeof globalThis<\"u\"&&globalThis||typeof self<\"u\"&&self||typeof Gs<\"u\"&&Gs,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<\"u\"&&s||typeof self<\"u\"&&self||typeof Gs<\"u\"&&Gs||{},c={searchParams:\"URLSearchParams\"in a,iterable:\"Symbol\"in a&&\"iterator\"in Symbol,blob:\"FileReader\"in a&&\"Blob\"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:\"FormData\"in a,arrayBuffer:\"ArrayBuffer\"in a};function l($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var d=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],h=ArrayBuffer.isView||function($){return $&&d.indexOf(Object.prototype.toString.call($))>-1};function p($){if(typeof $!=\"string\"&&($=String($)),/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test($)||$===\"\")throw new TypeError('Invalid character in header field name: \"'+$+'\"');return $.toLowerCase()}function m($){return typeof $!=\"string\"&&($=String($)),$}function b($){var P={next:function(){var q=$.shift();return{done:q===void 0,value:q}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function y($){this.map={},$ instanceof y?$.forEach(function(P,q){this.append(q,P)},this):Array.isArray($)?$.forEach(function(P){if(P.length!=2)throw new TypeError(\"Headers constructor: expected name/value pair to be length 2, found\"+P.length);this.append(P[0],P[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(P){this.append(P,$[P])},this)}y.prototype.append=function($,P){$=p($),P=m(P);var q=this.map[$];this.map[$]=q?q+\", \"+P:P},y.prototype.delete=function($){delete this.map[p($)]},y.prototype.get=function($){return $=p($),this.has($)?this.map[$]:null},y.prototype.has=function($){return this.map.hasOwnProperty(p($))},y.prototype.set=function($,P){this.map[p($)]=m(P)},y.prototype.forEach=function($,P){for(var q in this.map)this.map.hasOwnProperty(q)&&$.call(P,this.map[q],q,this)},y.prototype.keys=function(){var $=[];return this.forEach(function(P,q){$.push(q)}),b($)},y.prototype.values=function(){var $=[];return this.forEach(function(P){$.push(P)}),b($)},y.prototype.entries=function(){var $=[];return this.forEach(function(P,q){$.push([q,P])}),b($)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function E($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));$.bodyUsed=!0}}function v($){return new Promise(function(P,q){$.onload=function(){P($.result)},$.onerror=function(){q($.error)}})}function _($){var P=new FileReader,q=v(P);return P.readAsArrayBuffer($),q}function C($){var P=new FileReader,q=v(P),T=/charset=([A-Za-z0-9_-]+)/.exec($.type),k=T?T[1]:\"utf-8\";return P.readAsText($,k),q}function S($){for(var P=new Uint8Array($),q=new Array(P.length),T=0;T<P.length;T++)q[T]=String.fromCharCode(P[T]);return q.join(\"\")}function A($){if($.slice)return $.slice(0);var P=new Uint8Array($.byteLength);return P.set(new Uint8Array($)),P.buffer}function I(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $==\"string\"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&l($)?(this._bodyArrayBuffer=A($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||h($))?this._bodyArrayBuffer=A($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=\"\"),this.headers.get(\"content-type\")||(typeof $==\"string\"?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},c.blob&&(this.blob=function(){var $=E(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=E(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error(\"could not read as ArrayBuffer\")}},this.text=function(){var $=E(this);if($)return $;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=[\"CONNECT\",\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"PATCH\",\"POST\",\"PUT\",\"TRACE\"];function D($){var P=$.toUpperCase();return O.indexOf(P)>-1?P:$}function N($,P){if(!(this instanceof N))throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.');P=P||{};var q=P.body;if($ instanceof N){if($.bodyUsed)throw new TypeError(\"Already read\");this.url=$.url,this.credentials=$.credentials,P.headers||(this.headers=new y($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!q&&$._bodyInit!=null&&(q=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=P.credentials||this.credentials||\"same-origin\",(P.headers||!this.headers)&&(this.headers=new y(P.headers)),this.method=D(P.method||this.method||\"GET\"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||(function(){if(\"AbortController\"in a){var z=new AbortController;return z.signal}})(),this.referrer=null,(this.method===\"GET\"||this.method===\"HEAD\")&&q)throw new TypeError(\"Body not allowed for GET or HEAD requests\");if(this._initBody(q),(this.method===\"GET\"||this.method===\"HEAD\")&&(P.cache===\"no-store\"||P.cache===\"no-cache\")){var T=/([?&])_=[^&]*/;if(T.test(this.url))this.url=this.url.replace(T,\"$1_=\"+new Date().getTime());else{var k=/\\?/;this.url+=(k.test(this.url)?\"&\":\"?\")+\"_=\"+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function U($){var P=new FormData;return $.trim().split(\"&\").forEach(function(q){if(q){var T=q.split(\"=\"),k=T.shift().replace(/\\+/g,\" \"),z=T.join(\"=\").replace(/\\+/g,\" \");P.append(decodeURIComponent(k),decodeURIComponent(z))}}),P}function F($){var P=new y,q=$.replace(/\\r?\\n[\\t ]+/g,\" \");return q.split(\"\\r\").map(function(T){return T.indexOf(`\n`)===0?T.substr(1,T.length):T}).forEach(function(T){var k=T.split(\":\"),z=k.shift().trim();if(z){var L=k.join(\":\").trim();try{P.append(z,L)}catch(B){console.warn(\"Response \"+B.message)}}}),P}I.call(N.prototype);function H($,P){if(!(this instanceof H))throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type=\"default\",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?\"\":\"\"+P.statusText,this.headers=new y(P.headers),this.url=P.url||\"\",this._initBody($)}I.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},H.error=function(){var $=new H(null,{status:200,statusText:\"\"});return $.ok=!1,$.status=0,$.type=\"error\",$};var V=[301,302,303,307,308];H.redirect=function($,P){if(V.indexOf(P)===-1)throw new RangeError(\"Invalid status code\");return new H(null,{status:P,headers:{location:$}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(P,q){this.message=P,this.name=q;var T=Error(P);this.stack=T.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function M($,P){return new Promise(function(q,T){var k=new N($,P);if(k.signal&&k.signal.aborted)return T(new o.DOMException(\"Aborted\",\"AbortError\"));var z=new XMLHttpRequest;function L(){z.abort()}z.onload=function(){var K={statusText:z.statusText,headers:F(z.getAllResponseHeaders()||\"\")};k.url.indexOf(\"file://\")===0&&(z.status<200||z.status>599)?K.status=200:K.status=z.status,K.url=\"responseURL\"in z?z.responseURL:K.headers.get(\"X-Request-URL\");var G=\"response\"in z?z.response:z.responseText;setTimeout(function(){q(new H(G,K))},0)},z.onerror=function(){setTimeout(function(){T(new TypeError(\"Network request failed\"))},0)},z.ontimeout=function(){setTimeout(function(){T(new TypeError(\"Network request timed out\"))},0)},z.onabort=function(){setTimeout(function(){T(new o.DOMException(\"Aborted\",\"AbortError\"))},0)};function B(K){try{return K===\"\"&&a.location.href?a.location.href:K}catch{return K}}if(z.open(k.method,B(k.url),!0),k.credentials===\"include\"?z.withCredentials=!0:k.credentials===\"omit\"&&(z.withCredentials=!1),\"responseType\"in z&&(c.blob?z.responseType=\"blob\":c.arrayBuffer&&(z.responseType=\"arraybuffer\")),P&&typeof P.headers==\"object\"&&!(P.headers instanceof y||a.Headers&&P.headers instanceof a.Headers)){var j=[];Object.getOwnPropertyNames(P.headers).forEach(function(K){j.push(p(K)),z.setRequestHeader(K,m(P.headers[K]))}),k.headers.forEach(function(K,G){j.indexOf(G)===-1&&z.setRequestHeader(G,K)})}else k.headers.forEach(function(K,G){z.setRequestHeader(G,K)});k.signal&&(k.signal.addEventListener(\"abort\",L),z.onreadystatechange=function(){z.readyState===4&&k.signal.removeEventListener(\"abort\",L)}),z.send(typeof k._bodyInit>\"u\"?null:k._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=y,a.Request=N,a.Response=H),o.Headers=y,o.Request=N,o.Response=H,o.fetch=M,o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(h3,h3.exports)),h3.exports}var L4e=B4e();const sne=ah(L4e);var p3={exports:{}},Bx,Lz;function U4e(){if(Lz)return Bx;Lz=1;var t=1e3,e=t*60,n=e*60,r=n*24,i=r*7,s=r*365.25;Bx=function(d,h){h=h||{};var p=typeof d;if(p===\"string\"&&d.length>0)return o(d);if(p===\"number\"&&isFinite(d))return h.long?c(d):a(d);throw new Error(\"val is not a non-empty string or a valid number. val=\"+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var p=parseFloat(h[1]),m=(h[2]||\"ms\").toLowerCase();switch(m){case\"years\":case\"year\":case\"yrs\":case\"yr\":case\"y\":return p*s;case\"weeks\":case\"week\":case\"w\":return p*i;case\"days\":case\"day\":case\"d\":return p*r;case\"hours\":case\"hour\":case\"hrs\":case\"hr\":case\"h\":return p*n;case\"minutes\":case\"minute\":case\"mins\":case\"min\":case\"m\":return p*e;case\"seconds\":case\"second\":case\"secs\":case\"sec\":case\"s\":return p*t;case\"milliseconds\":case\"millisecond\":case\"msecs\":case\"msec\":case\"ms\":return p;default:return}}}}function a(d){var h=Math.abs(d);return h>=r?Math.round(d/r)+\"d\":h>=n?Math.round(d/n)+\"h\":h>=e?Math.round(d/e)+\"m\":h>=t?Math.round(d/t)+\"s\":d+\"ms\"}function c(d){var h=Math.abs(d);return h>=r?l(d,h,r,\"day\"):h>=n?l(d,h,n,\"hour\"):h>=e?l(d,h,e,\"minute\"):h>=t?l(d,h,t,\"second\"):d+\" ms\"}function l(d,h,p,m){var b=h>=p*1.5;return Math.round(d/p)+\" \"+m+(b?\"s\":\"\")}return Bx}var Lx,Uz;function j4e(){if(Uz)return Lx;Uz=1;function t(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=s,r.enabled=a,r.humanize=U4e(),r.destroy=d,Object.keys(e).forEach(h=>{r[h]=e[h]}),r.names=[],r.skips=[],r.formatters={};function n(h){let p=0;for(let m=0;m<h.length;m++)p=(p<<5)-p+h.charCodeAt(m),p|=0;return r.colors[Math.abs(p)%r.colors.length]}r.selectColor=n;function r(h){let p,m=null,b,y;function E(...v){if(!E.enabled)return;const _=E,C=Number(new Date),S=C-(p||C);_.diff=S,_.prev=p,_.curr=C,p=C,v[0]=r.coerce(v[0]),typeof v[0]!=\"string\"&&v.unshift(\"%O\");let A=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(O,D)=>{if(O===\"%%\")return\"%\";A++;const N=r.formatters[D];if(typeof N==\"function\"){const U=v[A];O=N.call(_,U),v.splice(A,1),A--}return O}),r.formatArgs.call(_,v),(_.log||r.log).apply(_,v)}return E.namespace=h,E.useColors=r.useColors(),E.color=r.selectColor(h),E.extend=i,E.destroy=r.destroy,Object.defineProperty(E,\"enabled\",{enumerable:!0,configurable:!1,get:()=>m!==null?m:(b!==r.namespaces&&(b=r.namespaces,y=r.enabled(h)),y),set:v=>{m=v}}),typeof r.init==\"function\"&&r.init(E),E}function i(h,p){const m=r(this.namespace+(typeof p>\"u\"?\":\":p)+h);return m.log=this.log,m}function s(h){r.save(h),r.namespaces=h,r.names=[],r.skips=[];let p;const m=(typeof h==\"string\"?h:\"\").split(/[\\s,]+/),b=m.length;for(p=0;p<b;p++)m[p]&&(h=m[p].replace(/\\*/g,\".*?\"),h[0]===\"-\"?r.skips.push(new RegExp(\"^\"+h.slice(1)+\"$\")):r.names.push(new RegExp(\"^\"+h+\"$\")))}function o(){const h=[...r.names.map(c),...r.skips.map(c).map(p=>\"-\"+p)].join(\",\");return r.enable(\"\"),h}function a(h){if(h[h.length-1]===\"*\")return!0;let p,m;for(p=0,m=r.skips.length;p<m;p++)if(r.skips[p].test(h))return!1;for(p=0,m=r.names.length;p<m;p++)if(r.names[p].test(h))return!0;return!1}function c(h){return h.toString().substring(2,h.toString().length-2).replace(/\\.\\*\\?$/,\"*\")}function l(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\")}return r.enable(r.load()),r}return Lx=t,Lx}var jz;function z4e(){return jz||(jz=1,(function(t,e){var n={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=r,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn(\"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.\"))}})(),e.colors=[\"#0000CC\",\"#0000FF\",\"#0033CC\",\"#0033FF\",\"#0066CC\",\"#0066FF\",\"#0099CC\",\"#0099FF\",\"#00CC00\",\"#00CC33\",\"#00CC66\",\"#00CC99\",\"#00CCCC\",\"#00CCFF\",\"#3300CC\",\"#3300FF\",\"#3333CC\",\"#3333FF\",\"#3366CC\",\"#3366FF\",\"#3399CC\",\"#3399FF\",\"#33CC00\",\"#33CC33\",\"#33CC66\",\"#33CC99\",\"#33CCCC\",\"#33CCFF\",\"#6600CC\",\"#6600FF\",\"#6633CC\",\"#6633FF\",\"#66CC00\",\"#66CC33\",\"#9900CC\",\"#9900FF\",\"#9933CC\",\"#9933FF\",\"#99CC00\",\"#99CC33\",\"#CC0000\",\"#CC0033\",\"#CC0066\",\"#CC0099\",\"#CC00CC\",\"#CC00FF\",\"#CC3300\",\"#CC3333\",\"#CC3366\",\"#CC3399\",\"#CC33CC\",\"#CC33FF\",\"#CC6600\",\"#CC6633\",\"#CC9900\",\"#CC9933\",\"#CCCC00\",\"#CCCC33\",\"#FF0000\",\"#FF0033\",\"#FF0066\",\"#FF0099\",\"#FF00CC\",\"#FF00FF\",\"#FF3300\",\"#FF3333\",\"#FF3366\",\"#FF3399\",\"#FF33CC\",\"#FF33FF\",\"#FF6600\",\"#FF6633\",\"#FF9900\",\"#FF9933\",\"#FFCC00\",\"#FFCC33\"];function r(){return typeof window<\"u\"&&window.process&&(window.process.type===\"renderer\"||window.process.__nwjs)?!0:typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)?!1:typeof document<\"u\"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<\"u\"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<\"u\"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/)}function i(l){if(l[0]=(this.useColors?\"%c\":\"\")+this.namespace+(this.useColors?\" %c\":\" \")+l[0]+(this.useColors?\"%c \":\" \")+\"+\"+t.exports.humanize(this.diff),!this.useColors)return;const d=\"color: \"+this.color;l.splice(1,0,d,\"color: inherit\");let h=0,p=0;l[0].replace(/%[a-zA-Z%]/g,m=>{m!==\"%%\"&&(h++,m===\"%c\"&&(p=h))}),l.splice(p,0,d)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem(\"debug\",l):e.storage.removeItem(\"debug\")}catch{}}function o(){let l;try{l=e.storage.getItem(\"debug\")}catch{}return!l&&typeof process<\"u\"&&\"env\"in process&&(l=n.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=j4e()(e);const{formatters:c}=t.exports;c.j=function(l){try{return JSON.stringify(l)}catch(d){return\"[UnexpectedJSONParseError]: \"+d.message}}})(p3,p3.exports)),p3.exports}var F4e=z4e();const ps=ah(F4e);var Ux,zz;function q4e(){if(zz)return Ux;zz=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,i=(N,U)=>{for(var F in U)t(N,F,{get:U[F],enumerable:!0})},s=(N,U,F,H)=>{if(U&&typeof U==\"object\"||typeof U==\"function\")for(let V of n(U))!r.call(N,V)&&V!==F&&t(N,V,{get:()=>U[V],enumerable:!(H=e(U,V))||H.enumerable});return N},o=N=>s(t({},\"__esModule\",{value:!0}),N),a={};i(a,{createFinalURL:()=>I,createPathBasedClient:()=>y,createQuerySerializer:()=>C,default:()=>h,defaultBodySerializer:()=>A,defaultPathSerializer:()=>S,mergeHeaders:()=>O,randomID:()=>d,removeTrailingSlash:()=>D,serializeArrayParam:()=>_,serializeObjectParam:()=>v,serializePrimitiveParam:()=>E,wrapAsPathBasedClient:()=>b}),Ux=o(a);var c=/\\{[^{}]+\\}/g,l=()=>{var N,U;return typeof process==\"object\"&&Number.parseInt((U=(N=process==null?void 0:process.versions)==null?void 0:N.node)==null?void 0:U.substring(0,2))>=18&&process.versions.undici};function d(){return Math.random().toString(36).slice(2,11)}function h(N){let{baseUrl:U=\"\",Request:F=globalThis.Request,fetch:H=globalThis.fetch,querySerializer:V,bodySerializer:M,headers:$,requestInitExt:P=void 0,...q}={...N};P=l()?P:void 0,U=D(U);const T=[];async function k(z,L){const{baseUrl:B,fetch:j=H,Request:K=F,headers:G,params:Z={},parseAs:Y=\"json\",querySerializer:X,bodySerializer:Q=M??A,body:re,...oe}=L||{};let ue=U;B&&(ue=D(B)??U);let ye=typeof V==\"function\"?V:C(V);X&&(ye=typeof X==\"function\"?X:C({...typeof V==\"object\"?V:{},...X}));const xe=re===void 0?void 0:Q(re,O($,G,Z.header)),Be=O(xe===void 0||xe instanceof FormData?{}:{\"Content-Type\":\"application/json\"},$,G,Z.header),ke={redirect:\"follow\",...q,...oe,body:xe,headers:Be};let Ve,Xe,We=new F(I(z,{baseUrl:ue,params:Z,querySerializer:ye}),ke),st;for(const Je in oe)Je in We||(We[Je]=oe[Je]);if(T.length){Ve=d(),Xe=Object.freeze({baseUrl:ue,fetch:j,parseAs:Y,querySerializer:ye,bodySerializer:Q});for(const Je of T)if(Je&&typeof Je==\"object\"&&typeof Je.onRequest==\"function\"){const lt=await Je.onRequest({request:We,schemaPath:z,params:Z,options:Xe,id:Ve});if(lt)if(lt instanceof F)We=lt;else if(lt instanceof Response){st=lt;break}else throw new Error(\"onRequest: must return new Request() or Response() when modifying the request\")}}if(!st){try{st=await j(We,P)}catch(Je){let lt=Je;if(T.length)for(let dt=T.length-1;dt>=0;dt--){const An=T[dt];if(An&&typeof An==\"object\"&&typeof An.onError==\"function\"){const Jn=await An.onError({request:We,error:lt,schemaPath:z,params:Z,options:Xe,id:Ve});if(Jn){if(Jn instanceof Response){lt=void 0,st=Jn;break}if(Jn instanceof Error){lt=Jn;continue}throw new Error(\"onError: must return new Response() or instance of Error\")}}}if(lt)throw lt}if(T.length)for(let Je=T.length-1;Je>=0;Je--){const lt=T[Je];if(lt&&typeof lt==\"object\"&&typeof lt.onResponse==\"function\"){const dt=await lt.onResponse({request:We,response:st,schemaPath:z,params:Z,options:Xe,id:Ve});if(dt){if(!(dt instanceof Response))throw new Error(\"onResponse: must return new Response() when modifying the response\");st=dt}}}}if(st.status===204||We.method===\"HEAD\"||st.headers.get(\"Content-Length\")===\"0\")return st.ok?{data:void 0,response:st}:{error:void 0,response:st};if(st.ok)return Y===\"stream\"?{data:st.body,response:st}:{data:await st[Y](),response:st};let xt=await st.text();try{xt=JSON.parse(xt)}catch{}return{error:xt,response:st}}return{request(z,L,B){return k(L,{...B,method:z.toUpperCase()})},GET(z,L){return k(z,{...L,method:\"GET\"})},PUT(z,L){return k(z,{...L,method:\"PUT\"})},POST(z,L){return k(z,{...L,method:\"POST\"})},DELETE(z,L){return k(z,{...L,method:\"DELETE\"})},OPTIONS(z,L){return k(z,{...L,method:\"OPTIONS\"})},HEAD(z,L){return k(z,{...L,method:\"HEAD\"})},PATCH(z,L){return k(z,{...L,method:\"PATCH\"})},TRACE(z,L){return k(z,{...L,method:\"TRACE\"})},use(...z){for(const L of z)if(L){if(typeof L!=\"object\"||!(\"onRequest\"in L||\"onResponse\"in L||\"onError\"in L))throw new Error(\"Middleware must be an object with one of `onRequest()`, `onResponse() or `onError()`\");T.push(L)}},eject(...z){for(const L of z){const B=T.indexOf(L);B!==-1&&T.splice(B,1)}}}}var p=class{constructor(N,U){Ql(this,\"GET\",N=>this.client.GET(this.url,N));Ql(this,\"PUT\",N=>this.client.PUT(this.url,N));Ql(this,\"POST\",N=>this.client.POST(this.url,N));Ql(this,\"DELETE\",N=>this.client.DELETE(this.url,N));Ql(this,\"OPTIONS\",N=>this.client.OPTIONS(this.url,N));Ql(this,\"HEAD\",N=>this.client.HEAD(this.url,N));Ql(this,\"PATCH\",N=>this.client.PATCH(this.url,N));Ql(this,\"TRACE\",N=>this.client.TRACE(this.url,N));this.client=N,this.url=U}},m=class{constructor(){this.client=null}get(N,U){const F=new p(N,U);return this.client[U]=F,F}};function b(N){const U=new m,F=new Proxy(N,U);function H(){}H.prototype=F;const V=new H;return U.client=V,V}function y(N){return b(h(N))}function E(N,U,F){if(U==null)return\"\";if(typeof U==\"object\")throw new Error(\"Deeply-nested arrays/objects arent supported. Provide your own `querySerializer()` to handle these.\");return`${N}=${(F==null?void 0:F.allowReserved)===!0?U:encodeURIComponent(U)}`}function v(N,U,F){if(!U||typeof U!=\"object\")return\"\";const H=[],V={simple:\",\",label:\".\",matrix:\";\"}[F.style]||\"&\";if(F.style!==\"deepObject\"&&F.explode===!1){for(const P in U)H.push(P,F.allowReserved===!0?U[P]:encodeURIComponent(U[P]));const $=H.join(\",\");switch(F.style){case\"form\":return`${N}=${$}`;case\"label\":return`.${$}`;case\"matrix\":return`;${N}=${$}`;default:return $}}for(const $ in U){const P=F.style===\"deepObject\"?`${N}[${$}]`:$;H.push(E(P,U[$],F))}const M=H.join(V);return F.style===\"label\"||F.style===\"matrix\"?`${V}${M}`:M}function _(N,U,F){if(!Array.isArray(U))return\"\";if(F.explode===!1){const M={form:\",\",spaceDelimited:\"%20\",pipeDelimited:\"|\"}[F.style]||\",\",$=(F.allowReserved===!0?U:U.map(P=>encodeURIComponent(P))).join(M);switch(F.style){case\"simple\":return $;case\"label\":return`.${$}`;case\"matrix\":return`;${N}=${$}`;default:return`${N}=${$}`}}const H={simple:\",\",label:\".\",matrix:\";\"}[F.style]||\"&\",V=[];for(const M of U)F.style===\"simple\"||F.style===\"label\"?V.push(F.allowReserved===!0?M:encodeURIComponent(M)):V.push(E(N,M,F));return F.style===\"label\"||F.style===\"matrix\"?`${H}${V.join(H)}`:V.join(H)}function C(N){return function(F){const H=[];if(F&&typeof F==\"object\")for(const V in F){const M=F[V];if(M!=null){if(Array.isArray(M)){if(M.length===0)continue;H.push(_(V,M,{style:\"form\",explode:!0,...N==null?void 0:N.array,allowReserved:(N==null?void 0:N.allowReserved)||!1}));continue}if(typeof M==\"object\"){H.push(v(V,M,{style:\"deepObject\",explode:!0,...N==null?void 0:N.object,allowReserved:(N==null?void 0:N.allowReserved)||!1}));continue}H.push(E(V,M,N))}}return H.join(\"&\")}}function S(N,U){let F=N;for(const H of N.match(c)??[]){let V=H.substring(1,H.length-1),M=!1,$=\"simple\";if(V.endsWith(\"*\")&&(M=!0,V=V.substring(0,V.length-1)),V.startsWith(\".\")?($=\"label\",V=V.substring(1)):V.startsWith(\";\")&&($=\"matrix\",V=V.substring(1)),!U||U[V]===void 0||U[V]===null)continue;const P=U[V];if(Array.isArray(P)){F=F.replace(H,_(V,P,{style:$,explode:M}));continue}if(typeof P==\"object\"){F=F.replace(H,v(V,P,{style:$,explode:M}));continue}if($===\"matrix\"){F=F.replace(H,`;${E(V,P)}`);continue}F=F.replace(H,$===\"label\"?`.${encodeURIComponent(P)}`:encodeURIComponent(P))}return F}function A(N,U){return N instanceof FormData?N:U&&(U.get instanceof Function?U.get(\"Content-Type\")??U.get(\"content-type\"):U[\"Content-Type\"]??U[\"content-type\"])===\"application/x-www-form-urlencoded\"?new URLSearchParams(N).toString():JSON.stringify(N)}function I(N,U){var V;let F=`${U.baseUrl}${N}`;(V=U.params)!=null&&V.path&&(F=S(F,U.params.path));let H=U.querySerializer(U.params.query??{});return H.startsWith(\"?\")&&(H=H.substring(1)),H&&(F+=`?${H}`),F}function O(...N){const U=new Headers;for(const F of N){if(!F||typeof F!=\"object\")continue;const H=F instanceof Headers?F.entries():Object.entries(F);for(const[V,M]of H)if(M===null)U.delete(V);else if(Array.isArray(M))for(const $ of M)U.append(V,$);else M!==void 0&&U.set(V,M)}return U}function D(N){return N.endsWith(\"/\")?N.substring(0,N.length-1):N}return Ux}var jx,Fz;function H4e(){if(Fz)return jx;Fz=1;var t={},e=Object.create,n=Object.defineProperty,r=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,s=Object.getPrototypeOf,o=Object.prototype.hasOwnProperty,a=(I,O)=>{for(var D in O)n(I,D,{get:O[D],enumerable:!0})},c=(I,O,D,N)=>{if(O&&typeof O==\"object\"||typeof O==\"function\")for(let U of i(O))!o.call(I,U)&&U!==D&&n(I,U,{get:()=>O[U],enumerable:!(N=r(O,U))||N.enumerable});return I},l=(I,O,D)=>(D=I!=null?e(s(I)):{},c(!I||!I.__esModule?n(D,\"default\",{value:I,enumerable:!0}):D,I)),d=I=>c(n({},\"__esModule\",{value:!0}),I),h={};a(h,{analytics:()=>A}),jx=d(h);var p=l(q4e()),m=class{constructor(I){this.batch=[],this.maxTimeoutMs=3e4,this.timeoutId=null,this.isSending=!1,this.batchSize=I.batchSize,this.baseTimeoutMs=I.baseTimeoutMs,this.currentTimeoutMs=I.baseTimeoutMs,this.sendFn=I.sendFn}enqueue(I){this.batch.push(I),this.schedule()}schedule(){this.batch.length>0&&!this.timeoutId&&(this.timeoutId=setTimeout(()=>{this.timeoutId=null,this.flush()},this.currentTimeoutMs))}async flush(){if(this.isSending||this.batch.length===0)return;this.isSending=!0;const I=[...this.batch.slice(0,this.batchSize)];this.batch=this.batch.slice(this.batchSize);try{await this.sendFn(I),this.currentTimeoutMs=this.baseTimeoutMs}catch(O){console.error(\"Sender: Failed to send batch\",O),this.batch=[...I,...this.batch],this.currentTimeoutMs=Math.min(this.currentTimeoutMs*2,this.maxTimeoutMs)}finally{this.isSending=!1,this.schedule()}}},b=m,y=class{constructor(I){this.enabled=!1,this.properties={};const O=(0,p.default)({baseUrl:I}),D=async N=>{const U=await O.POST(\"/v1/events\",{body:N});if(U.response.status!==200)throw new Error(U.error)};this.sender=new b({batchSize:100,baseTimeoutMs:200,sendFn:D})}enable(){this.enabled=!0}setGlobalProperty(I,O){this.properties[I]=O}track(I,O){if(!this.enabled)return;const D={name:I,...this.properties,...O};this.sender.enqueue(D)}},E=y,v,_;typeof process<\"u\"&&t&&(v=(_=t.METAMASK_ANALYTICS_ENDPOINT)!=null?_:t.NEXT_PUBLIC_METAMASK_ANALYTICS_ENDPOINT);var C=v??\"https://mm-sdk-analytics.api.cx.metamask.io/\",S=new E(C),A=S;return jx}var gr=H4e(),zx={exports:{}};/*!\n * EventEmitter2\n * https://github.com/hij1nx/EventEmitter2\n *\n * Copyright (c) 2013 hij1nx\n * Licensed under the MIT license.\n */var qz;function V4e(){return qz||(qz=1,(function(t,e){(function(n){var r=Object.hasOwnProperty,i=Array.isArray?Array.isArray:function(k){return Object.prototype.toString.call(k)===\"[object Array]\"},s=10,o=typeof process==\"object\"&&typeof process.nextTick==\"function\",a=typeof Symbol==\"function\",c=typeof Reflect==\"object\",l=typeof setImmediate==\"function\",d=l?setImmediate:setTimeout,h=a?c&&typeof Reflect.ownKeys==\"function\"?Reflect.ownKeys:function(T){var k=Object.getOwnPropertyNames(T);return k.push.apply(k,Object.getOwnPropertySymbols(T)),k}:Object.keys;function p(){this._events={},this._conf&&m.call(this,this._conf)}function m(T){T&&(this._conf=T,T.delimiter&&(this.delimiter=T.delimiter),T.maxListeners!==n&&(this._maxListeners=T.maxListeners),T.wildcard&&(this.wildcard=T.wildcard),T.newListener&&(this._newListener=T.newListener),T.removeListener&&(this._removeListener=T.removeListener),T.verboseMemoryLeak&&(this.verboseMemoryLeak=T.verboseMemoryLeak),T.ignoreErrors&&(this.ignoreErrors=T.ignoreErrors),this.wildcard&&(this.listenerTree={}))}function b(T,k){var z=\"(node) warning: possible EventEmitter memory leak detected. \"+T+\" listeners added. Use emitter.setMaxListeners() to increase limit.\";if(this.verboseMemoryLeak&&(z+=\" Event name: \"+k+\".\"),typeof process<\"u\"&&process.emitWarning){var L=new Error(z);L.name=\"MaxListenersExceededWarning\",L.emitter=this,L.count=T,process.emitWarning(L)}else console.error(z),console.trace&&console.trace()}var y=function(T,k,z){var L=arguments.length;switch(L){case 0:return[];case 1:return[T];case 2:return[T,k];case 3:return[T,k,z];default:for(var B=new Array(L);L--;)B[L]=arguments[L];return B}};function E(T,k){for(var z={},L,B=T.length,j=0,K=0;K<B;K++)L=T[K],z[L]=K<j?k[K]:n;return z}function v(T,k,z){this._emitter=T,this._target=k,this._listeners={},this._listenersCount=0;var L,B;if((z.on||z.off)&&(L=z.on,B=z.off),k.addEventListener?(L=k.addEventListener,B=k.removeEventListener):k.addListener?(L=k.addListener,B=k.removeListener):k.on&&(L=k.on,B=k.off),!L&&!B)throw Error(\"target does not implement any known event API\");if(typeof L!=\"function\")throw TypeError(\"on method must be a function\");if(typeof B!=\"function\")throw TypeError(\"off method must be a function\");this._on=L,this._off=B;var j=T._observers;j?j.push(this):T._observers=[this]}Object.assign(v.prototype,{subscribe:function(T,k,z){var L=this,B=this._target,j=this._emitter,K=this._listeners,G=function(){var Z=y.apply(null,arguments),Y={data:Z,name:k,original:T};if(z){var X=z.call(B,Y);X!==!1&&j.emit.apply(j,[Y.name].concat(Z));return}j.emit.apply(j,[k].concat(Z))};if(K[T])throw Error(\"Event '\"+T+\"' is already listening\");this._listenersCount++,j._newListener&&j._removeListener&&!L._onNewListener?(this._onNewListener=function(Z){Z===k&&K[T]===null&&(K[T]=G,L._on.call(B,T,G))},j.on(\"newListener\",this._onNewListener),this._onRemoveListener=function(Z){Z===k&&!j.hasListeners(Z)&&K[T]&&(K[T]=null,L._off.call(B,T,G))},K[T]=null,j.on(\"removeListener\",this._onRemoveListener)):(K[T]=G,L._on.call(B,T,G))},unsubscribe:function(T){var k=this,z=this._listeners,L=this._emitter,B,j,K=this._off,G=this._target,Z;if(T&&typeof T!=\"string\")throw TypeError(\"event must be a string\");function Y(){k._onNewListener&&(L.off(\"newListener\",k._onNewListener),L.off(\"removeListener\",k._onRemoveListener),k._onNewListener=null,k._onRemoveListener=null);var X=D.call(L,k);L._observers.splice(X,1)}if(T){if(B=z[T],!B)return;K.call(G,T,B),delete z[T],--this._listenersCount||Y()}else{for(j=h(z),Z=j.length;Z-- >0;)T=j[Z],K.call(G,T,z[T]);this._listeners={},this._listenersCount=0,Y()}}});function _(T,k,z,L){var B=Object.assign({},k);if(!T)return B;if(typeof T!=\"object\")throw TypeError(\"options must be an object\");var j=Object.keys(T),K=j.length,G,Z,Y;function X(re){throw Error('Invalid \"'+G+'\" option value'+(re?\". Reason: \"+re:\"\"))}for(var Q=0;Q<K;Q++){if(G=j[Q],!r.call(k,G))throw Error('Unknown \"'+G+'\" option');Z=T[G],Z!==n&&(Y=z[G],B[G]=Y?Y(Z,X):Z)}return B}function C(T,k){return(typeof T!=\"function\"||!T.hasOwnProperty(\"prototype\"))&&k(\"value must be a constructor\"),T}function S(T){var k=\"value must be type of \"+T.join(\"|\"),z=T.length,L=T[0],B=T[1];return z===1?function(j,K){if(typeof j===L)return j;K(k)}:z===2?function(j,K){var G=typeof j;if(G===L||G===B)return j;K(k)}:function(j,K){for(var G=typeof j,Z=z;Z-- >0;)if(G===T[Z])return j;K(k)}}var A=S([\"function\"]),I=S([\"object\",\"function\"]);function O(T,k,z){var L,B,j=0,K,G=new T(function(Z,Y,X){z=_(z,{timeout:0,overload:!1},{timeout:function(ue,ye){return ue*=1,(typeof ue!=\"number\"||ue<0||!Number.isFinite(ue))&&ye(\"timeout must be a positive number\"),ue}}),L=!z.overload&&typeof T.prototype.cancel==\"function\"&&typeof X==\"function\";function Q(){B&&(B=null),j&&(clearTimeout(j),j=0)}var re=function(ue){Q(),Z(ue)},oe=function(ue){Q(),Y(ue)};L?k(re,oe,X):(B=[function(ue){oe(ue||Error(\"canceled\"))}],k(re,oe,function(ue){if(K)throw Error(\"Unable to subscribe on cancel event asynchronously\");if(typeof ue!=\"function\")throw TypeError(\"onCancel callback must be a function\");B.push(ue)}),K=!0),z.timeout>0&&(j=setTimeout(function(){var ue=Error(\"timeout\");ue.code=\"ETIMEDOUT\",j=0,G.cancel(ue),Y(ue)},z.timeout))});return L||(G.cancel=function(Z){if(B){for(var Y=B.length,X=1;X<Y;X++)B[X](Z);B[0](Z),B=null}}),G}function D(T){var k=this._observers;if(!k)return-1;for(var z=k.length,L=0;L<z;L++)if(k[L]._target===T)return L;return-1}function N(T,k,z,L,B){if(!z)return null;if(L===0){var j=typeof k;if(j===\"string\"){var K,G,Z=0,Y=0,X=this.delimiter,Q=X.length;if((G=k.indexOf(X))!==-1){K=new Array(5);do K[Z++]=k.slice(Y,G),Y=G+Q;while((G=k.indexOf(X,Y))!==-1);K[Z++]=k.slice(Y),k=K,B=Z}else k=[k],B=1}else j===\"object\"?B=k.length:(k=[k],B=1)}var re=null,oe,ue,ye,xe,Be,ke=k[L],Ve=k[L+1],Xe,We;if(L===B)z._listeners&&(typeof z._listeners==\"function\"?(T&&T.push(z._listeners),re=[z]):(T&&T.push.apply(T,z._listeners),re=[z]));else if(ke===\"*\"){for(Xe=h(z),G=Xe.length;G-- >0;)oe=Xe[G],oe!==\"_listeners\"&&(We=N(T,k,z[oe],L+1,B),We&&(re?re.push.apply(re,We):re=We));return re}else if(ke===\"**\"){for(Be=L+1===B||L+2===B&&Ve===\"*\",Be&&z._listeners&&(re=N(T,k,z,B,B)),Xe=h(z),G=Xe.length;G-- >0;)oe=Xe[G],oe!==\"_listeners\"&&(oe===\"*\"||oe===\"**\"?(z[oe]._listeners&&!Be&&(We=N(T,k,z[oe],B,B),We&&(re?re.push.apply(re,We):re=We)),We=N(T,k,z[oe],L,B)):oe===Ve?We=N(T,k,z[oe],L+2,B):We=N(T,k,z[oe],L,B),We&&(re?re.push.apply(re,We):re=We));return re}else z[ke]&&(re=N(T,k,z[ke],L+1,B));if(ue=z[\"*\"],ue&&N(T,k,ue,L+1,B),ye=z[\"**\"],ye)if(L<B)for(ye._listeners&&N(T,k,ye,B,B),Xe=h(ye),G=Xe.length;G-- >0;)oe=Xe[G],oe!==\"_listeners\"&&(oe===Ve?N(T,k,ye[oe],L+2,B):oe===ke?N(T,k,ye[oe],L+1,B):(xe={},xe[oe]=ye[oe],N(T,k,{\"**\":xe},L+1,B)));else ye._listeners?N(T,k,ye,B,B):ye[\"*\"]&&ye[\"*\"]._listeners&&N(T,k,ye[\"*\"],B,B);return re}function U(T,k,z){var L=0,B=0,j,K=this.delimiter,G=K.length,Z;if(typeof T==\"string\")if((j=T.indexOf(K))!==-1){Z=new Array(5);do Z[L++]=T.slice(B,j),B=j+G;while((j=T.indexOf(K,B))!==-1);Z[L++]=T.slice(B)}else Z=[T],L=1;else Z=T,L=T.length;if(L>1){for(j=0;j+1<L;j++)if(Z[j]===\"**\"&&Z[j+1]===\"**\")return}var Y=this.listenerTree,X;for(j=0;j<L;j++)if(X=Z[j],Y=Y[X]||(Y[X]={}),j===L-1)return Y._listeners?(typeof Y._listeners==\"function\"&&(Y._listeners=[Y._listeners]),z?Y._listeners.unshift(k):Y._listeners.push(k),!Y._listeners.warned&&this._maxListeners>0&&Y._listeners.length>this._maxListeners&&(Y._listeners.warned=!0,b.call(this,Y._listeners.length,X))):Y._listeners=k,!0;return!0}function F(T,k,z,L){for(var B=h(T),j=B.length,K,G,Z,Y=T._listeners,X;j-- >0;)G=B[j],K=T[G],G===\"_listeners\"?Z=z:Z=z?z.concat(G):[G],X=L||typeof G==\"symbol\",Y&&k.push(X?Z:Z.join(this.delimiter)),typeof K==\"object\"&&F.call(this,K,k,Z,X);return k}function H(T){for(var k=h(T),z=k.length,L,B,j;z-- >0;)B=k[z],L=T[B],L&&(j=!0,B!==\"_listeners\"&&!H(L)&&delete T[B]);return j}function V(T,k,z){this.emitter=T,this.event=k,this.listener=z}V.prototype.off=function(){return this.emitter.off(this.event,this.listener),this};function M(T,k,z){if(z===!0)B=!0;else if(z===!1)L=!0;else{if(!z||typeof z!=\"object\")throw TypeError(\"options should be an object or true\");var L=z.async,B=z.promisify,j=z.nextTick,K=z.objectify}if(L||j||B){var G=k,Z=k._origin||k;if(j&&!o)throw Error(\"process.nextTick is not supported\");B===n&&(B=k.constructor.name===\"AsyncFunction\"),k=function(){var Y=arguments,X=this,Q=this.event;return B?j?Promise.resolve():new Promise(function(re){d(re)}).then(function(){return X.event=Q,G.apply(X,Y)}):(j?process.nextTick:d)(function(){X.event=Q,G.apply(X,Y)})},k._async=!0,k._origin=Z}return[k,K?new V(this,T,k):this]}function $(T){this._events={},this._newListener=!1,this._removeListener=!1,this.verboseMemoryLeak=!1,m.call(this,T)}$.EventEmitter2=$,$.prototype.listenTo=function(T,k,z){if(typeof T!=\"object\")throw TypeError(\"target musts be an object\");var L=this;z=_(z,{on:n,off:n,reducers:n},{on:A,off:A,reducers:I});function B(j){if(typeof j!=\"object\")throw TypeError(\"events must be an object\");var K=z.reducers,G=D.call(L,T),Z;G===-1?Z=new v(L,T,z):Z=L._observers[G];for(var Y=h(j),X=Y.length,Q,re=typeof K==\"function\",oe=0;oe<X;oe++)Q=Y[oe],Z.subscribe(Q,j[Q]||Q,re?K:K&&K[Q])}return i(k)?B(E(k)):B(typeof k==\"string\"?E(k.split(/\\s+/)):k),this},$.prototype.stopListeningTo=function(T,k){var z=this._observers;if(!z)return!1;var L=z.length,B,j=!1;if(T&&typeof T!=\"object\")throw TypeError(\"target should be an object\");for(;L-- >0;)B=z[L],(!T||B._target===T)&&(B.unsubscribe(k),j=!0);return j},$.prototype.delimiter=\".\",$.prototype.setMaxListeners=function(T){T!==n&&(this._maxListeners=T,this._conf||(this._conf={}),this._conf.maxListeners=T)},$.prototype.getMaxListeners=function(){return this._maxListeners},$.prototype.event=\"\",$.prototype.once=function(T,k,z){return this._once(T,k,!1,z)},$.prototype.prependOnceListener=function(T,k,z){return this._once(T,k,!0,z)},$.prototype._once=function(T,k,z,L){return this._many(T,1,k,z,L)},$.prototype.many=function(T,k,z,L){return this._many(T,k,z,!1,L)},$.prototype.prependMany=function(T,k,z,L){return this._many(T,k,z,!0,L)},$.prototype._many=function(T,k,z,L,B){var j=this;if(typeof z!=\"function\")throw new Error(\"many only accepts instances of Function\");function K(){return--k===0&&j.off(T,K),z.apply(this,arguments)}return K._origin=z,this._on(T,K,L,B)},$.prototype.emit=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var T=arguments[0],k,z=this.wildcard,L,B,j,K,G;if(T===\"newListener\"&&!this._newListener&&!this._events.newListener)return!1;if(z&&(k=T,T!==\"newListener\"&&T!==\"removeListener\"&&typeof T==\"object\")){if(B=T.length,a){for(j=0;j<B;j++)if(typeof T[j]==\"symbol\"){G=!0;break}}G||(T=T.join(this.delimiter))}var Z=arguments.length,Y;if(this._all&&this._all.length)for(Y=this._all.slice(),j=0,B=Y.length;j<B;j++)switch(this.event=T,Z){case 1:Y[j].call(this,T);break;case 2:Y[j].call(this,T,arguments[1]);break;case 3:Y[j].call(this,T,arguments[1],arguments[2]);break;default:Y[j].apply(this,arguments)}if(z)Y=[],N.call(this,Y,k,this.listenerTree,0,B);else if(Y=this._events[T],typeof Y==\"function\"){switch(this.event=T,Z){case 1:Y.call(this);break;case 2:Y.call(this,arguments[1]);break;case 3:Y.call(this,arguments[1],arguments[2]);break;default:for(L=new Array(Z-1),K=1;K<Z;K++)L[K-1]=arguments[K];Y.apply(this,L)}return!0}else Y&&(Y=Y.slice());if(Y&&Y.length){if(Z>3)for(L=new Array(Z-1),K=1;K<Z;K++)L[K-1]=arguments[K];for(j=0,B=Y.length;j<B;j++)switch(this.event=T,Z){case 1:Y[j].call(this);break;case 2:Y[j].call(this,arguments[1]);break;case 3:Y[j].call(this,arguments[1],arguments[2]);break;default:Y[j].apply(this,L)}return!0}else if(!this.ignoreErrors&&!this._all&&T===\"error\")throw arguments[1]instanceof Error?arguments[1]:new Error(\"Uncaught, unspecified 'error' event.\");return!!this._all},$.prototype.emitAsync=function(){if(!this._events&&!this._all)return!1;this._events||p.call(this);var T=arguments[0],k=this.wildcard,z,L,B,j,K,G;if(T===\"newListener\"&&!this._newListener&&!this._events.newListener)return Promise.resolve([!1]);if(k&&(z=T,T!==\"newListener\"&&T!==\"removeListener\"&&typeof T==\"object\")){if(j=T.length,a){for(K=0;K<j;K++)if(typeof T[K]==\"symbol\"){L=!0;break}}L||(T=T.join(this.delimiter))}var Z=[],Y=arguments.length,X;if(this._all)for(K=0,j=this._all.length;K<j;K++)switch(this.event=T,Y){case 1:Z.push(this._all[K].call(this,T));break;case 2:Z.push(this._all[K].call(this,T,arguments[1]));break;case 3:Z.push(this._all[K].call(this,T,arguments[1],arguments[2]));break;default:Z.push(this._all[K].apply(this,arguments))}if(k?(X=[],N.call(this,X,z,this.listenerTree,0)):X=this._events[T],typeof X==\"function\")switch(this.event=T,Y){case 1:Z.push(X.call(this));break;case 2:Z.push(X.call(this,arguments[1]));break;case 3:Z.push(X.call(this,arguments[1],arguments[2]));break;default:for(B=new Array(Y-1),G=1;G<Y;G++)B[G-1]=arguments[G];Z.push(X.apply(this,B))}else if(X&&X.length){if(X=X.slice(),Y>3)for(B=new Array(Y-1),G=1;G<Y;G++)B[G-1]=arguments[G];for(K=0,j=X.length;K<j;K++)switch(this.event=T,Y){case 1:Z.push(X[K].call(this));break;case 2:Z.push(X[K].call(this,arguments[1]));break;case 3:Z.push(X[K].call(this,arguments[1],arguments[2]));break;default:Z.push(X[K].apply(this,B))}}else if(!this.ignoreErrors&&!this._all&&T===\"error\")return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject(\"Uncaught, unspecified 'error' event.\");return Promise.all(Z)},$.prototype.on=function(T,k,z){return this._on(T,k,!1,z)},$.prototype.prependListener=function(T,k,z){return this._on(T,k,!0,z)},$.prototype.onAny=function(T){return this._onAny(T,!1)},$.prototype.prependAny=function(T){return this._onAny(T,!0)},$.prototype.addListener=$.prototype.on,$.prototype._onAny=function(T,k){if(typeof T!=\"function\")throw new Error(\"onAny only accepts instances of Function\");return this._all||(this._all=[]),k?this._all.unshift(T):this._all.push(T),this},$.prototype._on=function(T,k,z,L){if(typeof T==\"function\")return this._onAny(T,k),this;if(typeof k!=\"function\")throw new Error(\"on only accepts instances of Function\");this._events||p.call(this);var B=this,j;return L!==n&&(j=M.call(this,T,k,L),k=j[0],B=j[1]),this._newListener&&this.emit(\"newListener\",T,k),this.wildcard?(U.call(this,T,k,z),B):(this._events[T]?(typeof this._events[T]==\"function\"&&(this._events[T]=[this._events[T]]),z?this._events[T].unshift(k):this._events[T].push(k),!this._events[T].warned&&this._maxListeners>0&&this._events[T].length>this._maxListeners&&(this._events[T].warned=!0,b.call(this,this._events[T].length,T))):this._events[T]=k,B)},$.prototype.off=function(T,k){if(typeof k!=\"function\")throw new Error(\"removeListener only takes instances of Function\");var z,L=[];if(this.wildcard){var B=typeof T==\"string\"?T.split(this.delimiter):T.slice();if(L=N.call(this,null,B,this.listenerTree,0),!L)return this}else{if(!this._events[T])return this;z=this._events[T],L.push({_listeners:z})}for(var j=0;j<L.length;j++){var K=L[j];if(z=K._listeners,i(z)){for(var G=-1,Z=0,Y=z.length;Z<Y;Z++)if(z[Z]===k||z[Z].listener&&z[Z].listener===k||z[Z]._origin&&z[Z]._origin===k){G=Z;break}if(G<0)continue;return this.wildcard?K._listeners.splice(G,1):this._events[T].splice(G,1),z.length===0&&(this.wildcard?delete K._listeners:delete this._events[T]),this._removeListener&&this.emit(\"removeListener\",T,k),this}else(z===k||z.listener&&z.listener===k||z._origin&&z._origin===k)&&(this.wildcard?delete K._listeners:delete this._events[T],this._removeListener&&this.emit(\"removeListener\",T,k))}return this.listenerTree&&H(this.listenerTree),this},$.prototype.offAny=function(T){var k=0,z=0,L;if(T&&this._all&&this._all.length>0){for(L=this._all,k=0,z=L.length;k<z;k++)if(T===L[k])return L.splice(k,1),this._removeListener&&this.emit(\"removeListenerAny\",T),this}else{if(L=this._all,this._removeListener)for(k=0,z=L.length;k<z;k++)this.emit(\"removeListenerAny\",L[k]);this._all=[]}return this},$.prototype.removeListener=$.prototype.off,$.prototype.removeAllListeners=function(T){if(T===n)return!this._events||p.call(this),this;if(this.wildcard){var k=N.call(this,null,T,this.listenerTree,0),z,L;if(!k)return this;for(L=0;L<k.length;L++)z=k[L],z._listeners=null;this.listenerTree&&H(this.listenerTree)}else this._events&&(this._events[T]=null);return this},$.prototype.listeners=function(T){var k=this._events,z,L,B,j,K;if(T===n){if(this.wildcard)throw Error(\"event name required for wildcard emitter\");if(!k)return[];for(z=h(k),j=z.length,B=[];j-- >0;)L=k[z[j]],typeof L==\"function\"?B.push(L):B.push.apply(B,L);return B}else{if(this.wildcard){if(K=this.listenerTree,!K)return[];var G=[],Z=typeof T==\"string\"?T.split(this.delimiter):T.slice();return N.call(this,G,Z,K,0),G}return k?(L=k[T],L?typeof L==\"function\"?[L]:L:[]):[]}},$.prototype.eventNames=function(T){var k=this._events;return this.wildcard?F.call(this,this.listenerTree,[],null,T):k?h(k):[]},$.prototype.listenerCount=function(T){return this.listeners(T).length},$.prototype.hasListeners=function(T){if(this.wildcard){var k=[],z=typeof T==\"string\"?T.split(this.delimiter):T.slice();return N.call(this,k,z,this.listenerTree,0),k.length>0}var L=this._events,B=this._all;return!!(B&&B.length||L&&(T===n?h(L).length:L[T]))},$.prototype.listenersAny=function(){return this._all?this._all:[]},$.prototype.waitFor=function(T,k){var z=this,L=typeof k;return L===\"number\"?k={timeout:k}:L===\"function\"&&(k={filter:k}),k=_(k,{timeout:0,filter:n,handleError:!1,Promise,overload:!1},{filter:A,Promise:C}),O(k.Promise,function(B,j,K){function G(){var Z=k.filter;if(!(Z&&!Z.apply(z,arguments)))if(z.off(T,G),k.handleError){var Y=arguments[0];Y?j(Y):B(y.apply(null,arguments).slice(1))}else B(y.apply(null,arguments))}K(function(){z.off(T,G)}),z._on(T,G,!1)},{timeout:k.timeout,overload:k.overload})};function P(T,k,z){z=_(z,{Promise,timeout:0,overload:!1},{Promise:C});var L=z.Promise;return O(L,function(B,j,K){var G;if(typeof T.addEventListener==\"function\"){G=function(){B(y.apply(null,arguments))},K(function(){T.removeEventListener(k,G)}),T.addEventListener(k,G,{once:!0});return}var Z=function(){Y&&T.removeListener(\"error\",Y),B(y.apply(null,arguments))},Y;k!==\"error\"&&(Y=function(X){T.removeListener(k,Z),j(X)},T.once(\"error\",Y)),K(function(){Y&&T.removeListener(\"error\",Y),T.removeListener(k,Z)}),T.once(k,Z)},{timeout:z.timeout,overload:z.overload})}var q=$.prototype;Object.defineProperties($,{defaultMaxListeners:{get:function(){return q._maxListeners},set:function(T){if(typeof T!=\"number\"||T<0||Number.isNaN(T))throw TypeError(\"n must be a non-negative number\");q._maxListeners=T},enumerable:!0},once:{value:P,writable:!0,configurable:!0}}),Object.defineProperties(q,{_maxListeners:{value:s,writable:!0,configurable:!0},_observers:{value:null,writable:!0,configurable:!0}}),t.exports=$})()})(zx)),zx.exports}var L_=V4e();const K4e=ah(L_);var g3,W4e=new Uint8Array(16);function G4e(){if(!g3&&(g3=typeof crypto<\"u\"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<\"u\"&&typeof msCrypto.getRandomValues==\"function\"&&msCrypto.getRandomValues.bind(msCrypto),!g3))throw new Error(\"crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported\");return g3(W4e)}const Z4e=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function wT(t){return typeof t==\"string\"&&Z4e.test(t)}var Ri=[];for(var Fx=0;Fx<256;++Fx)Ri.push((Fx+256).toString(16).substr(1));function Y4e(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Ri[t[e+0]]+Ri[t[e+1]]+Ri[t[e+2]]+Ri[t[e+3]]+\"-\"+Ri[t[e+4]]+Ri[t[e+5]]+\"-\"+Ri[t[e+6]]+Ri[t[e+7]]+\"-\"+Ri[t[e+8]]+Ri[t[e+9]]+\"-\"+Ri[t[e+10]]+Ri[t[e+11]]+Ri[t[e+12]]+Ri[t[e+13]]+Ri[t[e+14]]+Ri[t[e+15]]).toLowerCase();if(!wT(n))throw TypeError(\"Stringified UUID is invalid\");return n}function Cf(t,e,n){t=t||{};var r=t.random||(t.rng||G4e)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Y4e(r)}const Sl=Object.create(null);Sl.open=\"0\";Sl.close=\"1\";Sl.ping=\"2\";Sl.pong=\"3\";Sl.message=\"4\";Sl.upgrade=\"5\";Sl.noop=\"6\";const CE=Object.create(null);Object.keys(Sl).forEach(t=>{CE[Sl[t]]=t});const vT={type:\"error\",data:\"parser error\"},one=typeof Blob==\"function\"||typeof Blob<\"u\"&&Object.prototype.toString.call(Blob)===\"[object BlobConstructor]\",ane=typeof ArrayBuffer==\"function\",cne=t=>typeof ArrayBuffer.isView==\"function\"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,vR=({type:t,data:e},n,r)=>one&&e instanceof Blob?n?r(e):Hz(e,r):ane&&(e instanceof ArrayBuffer||cne(e))?n?r(e):Hz(new Blob([e]),r):r(Sl[t]+(e||\"\")),Hz=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(\",\")[1];e(\"b\"+(r||\"\"))},n.readAsDataURL(t)};function Vz(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let qx;function J4e(t,e){if(one&&t.data instanceof Blob)return t.data.arrayBuffer().then(Vz).then(e);if(ane&&(t.data instanceof ArrayBuffer||cne(t.data)))return e(Vz(t.data));vR(t,!1,n=>{qx||(qx=new TextEncoder),e(qx.encode(n))})}const Kz=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",gw=typeof Uint8Array>\"u\"?[]:new Uint8Array(256);for(let t=0;t<Kz.length;t++)gw[Kz.charCodeAt(t)]=t;const X4e=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,c;t[t.length-1]===\"=\"&&(e--,t[t.length-2]===\"=\"&&e--);const l=new ArrayBuffer(e),d=new Uint8Array(l);for(r=0;r<n;r+=4)s=gw[t.charCodeAt(r)],o=gw[t.charCodeAt(r+1)],a=gw[t.charCodeAt(r+2)],c=gw[t.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|c&63;return l},Q4e=typeof ArrayBuffer==\"function\",ER=(t,e)=>{if(typeof t!=\"string\")return{type:\"message\",data:lne(t,e)};const n=t.charAt(0);return n===\"b\"?{type:\"message\",data:e_e(t.substring(1),e)}:CE[n]?t.length>1?{type:CE[n],data:t.substring(1)}:{type:CE[n]}:vT},e_e=(t,e)=>{if(Q4e){const n=X4e(t);return lne(n,e)}else return{base64:!0,data:t}},lne=(t,e)=>{switch(e){case\"blob\":return t instanceof Blob?t:new Blob([t]);case\"arraybuffer\":default:return t instanceof ArrayBuffer?t:t.buffer}},une=\"\",t_e=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{vR(s,!1,a=>{r[o]=a,++i===n&&e(r.join(une))})})},n_e=(t,e)=>{const n=t.split(une),r=[];for(let i=0;i<n.length;i++){const s=ER(n[i],e);if(r.push(s),s.type===\"error\")break}return r};function r_e(){return new TransformStream({transform(t,e){J4e(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!=\"string\"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let Hx;function m3(t){return t.reduce((e,n)=>e+n.length,0)}function y3(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function i_e(t,e){Hx||(Hx=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(m3(n)<1)break;const c=y3(n,1);s=(c[0]&128)===128,i=c[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(m3(n)<2)break;const c=y3(n,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),r=3}else if(r===2){if(m3(n)<8)break;const c=y3(n,8),l=new DataView(c.buffer,c.byteOffset,c.length),d=l.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(vT);break}i=d*Math.pow(2,32)+l.getUint32(4),r=3}else{if(m3(n)<i)break;const c=y3(n,i);a.enqueue(ER(s?c:Hx.decode(c),e)),r=0}if(i===0||i>t){a.enqueue(vT);break}}}})}const dne=4;function Rr(t){if(t)return s_e(t)}function s_e(t){for(var e in Rr.prototype)t[e]=Rr.prototype[e];return t}Rr.prototype.on=Rr.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[\"$\"+t]=this._callbacks[\"$\"+t]||[]).push(e),this};Rr.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};Rr.prototype.off=Rr.prototype.removeListener=Rr.prototype.removeAllListeners=Rr.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks[\"$\"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks[\"$\"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks[\"$\"+t],this};Rr.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks[\"$\"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};Rr.prototype.emitReserved=Rr.prototype.emit;Rr.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[\"$\"+t]||[]};Rr.prototype.hasListeners=function(t){return!!this.listeners(t).length};const U_=typeof Promise==\"function\"&&typeof Promise.resolve==\"function\"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Ia=typeof self<\"u\"?self:typeof window<\"u\"?window:Function(\"return this\")(),o_e=\"arraybuffer\";function fne(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const a_e=Ia.setTimeout,c_e=Ia.clearTimeout;function j_(t,e){e.useNativeTimers?(t.setTimeoutFn=a_e.bind(Ia),t.clearTimeoutFn=c_e.bind(Ia)):(t.setTimeoutFn=Ia.setTimeout.bind(Ia),t.clearTimeoutFn=Ia.clearTimeout.bind(Ia))}const l_e=1.33;function u_e(t){return typeof t==\"string\"?d_e(t):Math.ceil((t.byteLength||t.size)*l_e)}function d_e(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function hne(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function f_e(t){let e=\"\";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+=\"&\"),e+=encodeURIComponent(n)+\"=\"+encodeURIComponent(t[n]));return e}function h_e(t){let e={},n=t.split(\"&\");for(let r=0,i=n.length;r<i;r++){let s=n[r].split(\"=\");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class p_e extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type=\"TransportError\"}}class _R extends Rr{constructor(e){super(),this.writable=!1,j_(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved(\"error\",new p_e(e,n,r)),this}open(){return this.readyState=\"opening\",this.doOpen(),this}close(){return(this.readyState===\"opening\"||this.readyState===\"open\")&&(this.doClose(),this.onClose()),this}send(e){this.readyState===\"open\"&&this.write(e)}onOpen(){this.readyState=\"open\",this.writable=!0,super.emitReserved(\"open\")}onData(e){const n=ER(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved(\"packet\",e)}onClose(e){this.readyState=\"closed\",super.emitReserved(\"close\",e)}pause(e){}createUri(e,n={}){return e+\"://\"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(\":\")===-1?e:\"[\"+e+\"]\"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?\":\"+this.opts.port:\"\"}_query(e){const n=f_e(e);return n.length?\"?\"+n:\"\"}}class g_e extends _R{constructor(){super(...arguments),this._polling=!1}get name(){return\"polling\"}doOpen(){this._poll()}pause(e){this.readyState=\"pausing\";const n=()=>{this.readyState=\"paused\",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once(\"pollComplete\",function(){--r||n()})),this.writable||(r++,this.once(\"drain\",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved(\"poll\")}onData(e){const n=r=>{if(this.readyState===\"opening\"&&r.type===\"open\"&&this.onOpen(),r.type===\"close\")return this.onClose({description:\"transport closed by the server\"}),!1;this.onPacket(r)};n_e(e,this.socket.binaryType).forEach(n),this.readyState!==\"closed\"&&(this._polling=!1,this.emitReserved(\"pollComplete\"),this.readyState===\"open\"&&this._poll())}doClose(){const e=()=>{this.write([{type:\"close\"}])};this.readyState===\"open\"?e():this.once(\"open\",e)}write(e){this.writable=!1,t_e(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved(\"drain\")})})}uri(){const e=this.opts.secure?\"https\":\"http\",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=hne()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let pne=!1;try{pne=typeof XMLHttpRequest<\"u\"&&\"withCredentials\"in new XMLHttpRequest}catch{}const m_e=pne;function y_e(){}class b_e extends g_e{constructor(e){if(super(e),typeof location<\"u\"){const n=location.protocol===\"https:\";let r=location.port;r||(r=n?\"443\":\"80\"),this.xd=typeof location<\"u\"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:\"POST\",data:e});r.on(\"success\",n),r.on(\"error\",(i,s)=>{this.onError(\"xhr post error\",i,s)})}doPoll(){const e=this.request();e.on(\"data\",this.onData.bind(this)),e.on(\"error\",(n,r)=>{this.onError(\"xhr poll error\",n,r)}),this.pollXhr=e}}let fm=class SE extends Rr{constructor(e,n,r){super(),this.createRequest=e,j_(this,r),this._opts=r,this._method=r.method||\"GET\",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=fne(this._opts,\"agent\",\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"autoUnref\");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method===\"POST\")try{r.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\")}catch{}try{r.setRequestHeader(\"Accept\",\"*/*\")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),\"withCredentials\"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader(\"set-cookie\"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status==\"number\"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<\"u\"&&(this._index=SE.requestsCount++,SE.requests[this._index]=this)}_onError(e){this.emitReserved(\"error\",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>\"u\"||this._xhr===null)){if(this._xhr.onreadystatechange=y_e,e)try{this._xhr.abort()}catch{}typeof document<\"u\"&&delete SE.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved(\"data\",e),this.emitReserved(\"success\"),this._cleanup())}abort(){this._cleanup()}};fm.requestsCount=0;fm.requests={};if(typeof document<\"u\"){if(typeof attachEvent==\"function\")attachEvent(\"onunload\",Wz);else if(typeof addEventListener==\"function\"){const t=\"onpagehide\"in Ia?\"pagehide\":\"unload\";addEventListener(t,Wz,!1)}}function Wz(){for(let t in fm.requests)fm.requests.hasOwnProperty(t)&&fm.requests[t].abort()}const w_e=(function(){const t=gne({xdomain:!1});return t&&t.responseType!==null})();class v_e extends b_e{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=w_e&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new fm(gne,this.uri(),e)}}function gne(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<\"u\"&&(!e||m_e))return new XMLHttpRequest}catch{}if(!e)try{return new Ia[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\")}catch{}}const mne=typeof navigator<\"u\"&&typeof navigator.product==\"string\"&&navigator.product.toLowerCase()===\"reactnative\";class E_e extends _R{get name(){return\"websocket\"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=mne?{}:fne(this.opts,\"agent\",\"perMessageDeflate\",\"pfx\",\"key\",\"passphrase\",\"cert\",\"ca\",\"ciphers\",\"rejectUnauthorized\",\"localAddress\",\"protocolVersion\",\"origin\",\"maxPayload\",\"family\",\"checkServerIdentity\");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved(\"error\",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:\"websocket connection closed\",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError(\"websocket error\",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;vR(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&U_(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){typeof this.ws<\"u\"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?\"wss\":\"ws\",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=hne()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const Vx=Ia.WebSocket||Ia.MozWebSocket;class __e extends E_e{createSocket(e,n,r){return mne?new Vx(e,n,r):n?new Vx(e,n):new Vx(e)}doWrite(e,n){this.ws.send(n)}}class C_e extends _R{get name(){return\"webtransport\"}doOpen(){try{this._transport=new WebTransport(this.createUri(\"https\"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved(\"error\",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError(\"webtransport error\",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=i_e(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=r_e();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();const o={type:\"open\"};this.query.sid&&(o.data=`{\"sid\":\"${this.query.sid}\"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&U_(()=>{this.writable=!0,this.emitReserved(\"drain\")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const S_e={websocket:__e,webtransport:C_e,polling:v_e},x_e=/^(?:(?![^:@\\/?#]+:[^:@\\/]*@)(http|https|ws|wss):\\/\\/)?((?:(([^:@\\/?#]*)(?::([^:@\\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,A_e=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];function ET(t){if(t.length>8e3)throw\"URI too long\";const e=t,n=t.indexOf(\"[\"),r=t.indexOf(\"]\");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,\";\")+t.substring(r,t.length));let i=x_e.exec(t||\"\"),s={},o=14;for(;o--;)s[A_e[o]]=i[o]||\"\";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,\":\"),s.authority=s.authority.replace(\"[\",\"\").replace(\"]\",\"\").replace(/;/g,\":\"),s.ipv6uri=!0),s.pathNames=$_e(s,s.path),s.queryKey=I_e(s,s.query),s}function $_e(t,e){const n=/\\/{2,9}/g,r=e.replace(n,\"/\").split(\"/\");return(e.slice(0,1)==\"/\"||e.length===0)&&r.splice(0,1),e.slice(-1)==\"/\"&&r.splice(r.length-1,1),r}function I_e(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const _T=typeof addEventListener==\"function\"&&typeof removeEventListener==\"function\",xE=[];_T&&addEventListener(\"offline\",()=>{xE.forEach(t=>t())},!1);class Uf extends Rr{constructor(e,n){if(super(),this.binaryType=o_e,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e==\"object\"&&(n=e,e=null),e){const r=ET(e);n.hostname=r.host,n.secure=r.protocol===\"https\"||r.protocol===\"wss\",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=ET(n.host).host);j_(this,n),this.secure=n.secure!=null?n.secure:typeof location<\"u\"&&location.protocol===\"https:\",n.hostname&&!n.port&&(n.port=this.secure?\"443\":\"80\"),this.hostname=n.hostname||(typeof location<\"u\"?location.hostname:\"localhost\"),this.port=n.port||(typeof location<\"u\"&&location.port?location.port:this.secure?\"443\":\"80\"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:\"/engine.io\",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:\"t\",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\\/$/,\"\")+(this.opts.addTrailingSlash?\"/\":\"\"),typeof this.opts.query==\"string\"&&(this.opts.query=h_e(this.opts.query)),_T&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener(\"beforeunload\",this._beforeunloadEventListener,!1)),this.hostname!==\"localhost\"&&(this._offlineEventListener=()=>{this._onClose(\"transport close\",{description:\"network connection lost\"})},xE.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=dne,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved(\"error\",\"No transports available\")},0);return}const e=this.opts.rememberUpgrade&&Uf.priorWebsocketSuccess&&this.transports.indexOf(\"websocket\")!==-1?\"websocket\":this.transports[0];this.readyState=\"opening\";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on(\"drain\",this._onDrain.bind(this)).on(\"packet\",this._onPacket.bind(this)).on(\"error\",this._onError.bind(this)).on(\"close\",n=>this._onClose(\"transport close\",n))}onOpen(){this.readyState=\"open\",Uf.priorWebsocketSuccess=this.transport.name===\"websocket\",this.emitReserved(\"open\"),this.flush()}_onPacket(e){if(this.readyState===\"opening\"||this.readyState===\"open\"||this.readyState===\"closing\")switch(this.emitReserved(\"packet\",e),this.emitReserved(\"heartbeat\"),e.type){case\"open\":this.onHandshake(JSON.parse(e.data));break;case\"ping\":this._sendPacket(\"pong\"),this.emitReserved(\"ping\"),this.emitReserved(\"pong\"),this._resetPingTimeout();break;case\"error\":const n=new Error(\"server error\");n.code=e.data,this._onError(n);break;case\"message\":this.emitReserved(\"data\",e.data),this.emitReserved(\"message\",e.data);break}}onHandshake(e){this.emitReserved(\"handshake\",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!==\"closed\"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose(\"ping timeout\")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved(\"drain\"):this.flush()}flush(){if(this.readyState!==\"closed\"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved(\"flush\")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name===\"polling\"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=u_e(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,U_(()=>{this._onClose(\"ping timeout\")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket(\"message\",e,n,r),this}send(e,n,r){return this._sendPacket(\"message\",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n==\"function\"&&(i=n,n=void 0),typeof r==\"function\"&&(i=r,r=null),this.readyState===\"closing\"||this.readyState===\"closed\")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved(\"packetCreate\",s),this.writeBuffer.push(s),i&&this.once(\"flush\",i),this.flush()}close(){const e=()=>{this._onClose(\"forced close\"),this.transport.close()},n=()=>{this.off(\"upgrade\",n),this.off(\"upgradeError\",n),e()},r=()=>{this.once(\"upgrade\",n),this.once(\"upgradeError\",n)};return(this.readyState===\"opening\"||this.readyState===\"open\")&&(this.readyState=\"closing\",this.writeBuffer.length?this.once(\"drain\",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Uf.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState===\"opening\")return this.transports.shift(),this._open();this.emitReserved(\"error\",e),this._onClose(\"transport error\",e)}_onClose(e,n){if(this.readyState===\"opening\"||this.readyState===\"open\"||this.readyState===\"closing\"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners(\"close\"),this.transport.close(),this.transport.removeAllListeners(),_T&&(this._beforeunloadEventListener&&removeEventListener(\"beforeunload\",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=xE.indexOf(this._offlineEventListener);r!==-1&&xE.splice(r,1)}this.readyState=\"closed\",this.id=null,this.emitReserved(\"close\",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Uf.protocol=dne;class T_e extends Uf{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState===\"open\"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Uf.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:\"ping\",data:\"probe\"}]),n.once(\"packet\",h=>{if(!r)if(h.type===\"pong\"&&h.data===\"probe\"){if(this.upgrading=!0,this.emitReserved(\"upgrading\",n),!n)return;Uf.priorWebsocketSuccess=n.name===\"websocket\",this.transport.pause(()=>{r||this.readyState!==\"closed\"&&(d(),this.setTransport(n),n.send([{type:\"upgrade\"}]),this.emitReserved(\"upgrade\",n),n=null,this.upgrading=!1,this.flush())})}else{const p=new Error(\"probe error\");p.transport=n.name,this.emitReserved(\"upgradeError\",p)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const p=new Error(\"probe error: \"+h);p.transport=n.name,s(),this.emitReserved(\"upgradeError\",p)};function a(){o(\"transport closed\")}function c(){o(\"socket closed\")}function l(h){n&&h.name!==n.name&&s()}const d=()=>{n.removeListener(\"open\",i),n.removeListener(\"error\",o),n.removeListener(\"close\",a),this.off(\"close\",c),this.off(\"upgrading\",l)};n.once(\"open\",i),n.once(\"error\",o),n.once(\"close\",a),this.once(\"close\",c),this.once(\"upgrading\",l),this._upgrades.indexOf(\"webtransport\")!==-1&&e!==\"webtransport\"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let P_e=class extends T_e{constructor(e,n={}){const r=typeof e==\"object\"?e:n;(!r.transports||r.transports&&typeof r.transports[0]==\"string\")&&(r.transports=(r.transports||[\"polling\",\"websocket\",\"webtransport\"]).map(i=>S_e[i]).filter(i=>!!i)),super(e,r)}};function O_e(t,e=\"\",n){let r=t;n=n||typeof location<\"u\"&&location,t==null&&(t=n.protocol+\"//\"+n.host),typeof t==\"string\"&&(t.charAt(0)===\"/\"&&(t.charAt(1)===\"/\"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\\/\\//.test(t)||(typeof n<\"u\"?t=n.protocol+\"//\"+t:t=\"https://\"+t),r=ET(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port=\"80\":/^(http|ws)s$/.test(r.protocol)&&(r.port=\"443\")),r.path=r.path||\"/\";const s=r.host.indexOf(\":\")!==-1?\"[\"+r.host+\"]\":r.host;return r.id=r.protocol+\"://\"+s+\":\"+r.port+e,r.href=r.protocol+\"://\"+s+(n&&n.port===r.port?\"\":\":\"+r.port),r}const N_e=typeof ArrayBuffer==\"function\",R_e=t=>typeof ArrayBuffer.isView==\"function\"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,yne=Object.prototype.toString,k_e=typeof Blob==\"function\"||typeof Blob<\"u\"&&yne.call(Blob)===\"[object BlobConstructor]\",M_e=typeof File==\"function\"||typeof File<\"u\"&&yne.call(File)===\"[object FileConstructor]\";function CR(t){return N_e&&(t instanceof ArrayBuffer||R_e(t))||k_e&&t instanceof Blob||M_e&&t instanceof File}function AE(t,e){if(!t||typeof t!=\"object\")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(AE(t[n]))return!0;return!1}if(CR(t))return!0;if(t.toJSON&&typeof t.toJSON==\"function\"&&arguments.length===1)return AE(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&AE(t[n]))return!0;return!1}function D_e(t){const e=[],n=t.data,r=t;return r.data=CT(n,e),r.attachments=e.length,{packet:r,buffers:e}}function CT(t,e){if(!t)return t;if(CR(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=CT(t[r],e);return n}else if(typeof t==\"object\"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=CT(t[r],e));return n}return t}function B_e(t,e){return t.data=ST(t.data,e),delete t.attachments,t}function ST(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num==\"number\"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error(\"illegal attachments\")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=ST(t[n],e);else if(typeof t==\"object\")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=ST(t[n],e));return t}const L_e=[\"connect\",\"connect_error\",\"disconnect\",\"disconnecting\",\"newListener\",\"removeListener\"],U_e=5;var Kt;(function(t){t[t.CONNECT=0]=\"CONNECT\",t[t.DISCONNECT=1]=\"DISCONNECT\",t[t.EVENT=2]=\"EVENT\",t[t.ACK=3]=\"ACK\",t[t.CONNECT_ERROR=4]=\"CONNECT_ERROR\",t[t.BINARY_EVENT=5]=\"BINARY_EVENT\",t[t.BINARY_ACK=6]=\"BINARY_ACK\"})(Kt||(Kt={}));let j_e=class{constructor(e){this.replacer=e}encode(e){return(e.type===Kt.EVENT||e.type===Kt.ACK)&&AE(e)?this.encodeAsBinary({type:e.type===Kt.EVENT?Kt.BINARY_EVENT:Kt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=\"\"+e.type;return(e.type===Kt.BINARY_EVENT||e.type===Kt.BINARY_ACK)&&(n+=e.attachments+\"-\"),e.nsp&&e.nsp!==\"/\"&&(n+=e.nsp+\",\"),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=D_e(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}};function Gz(t){return Object.prototype.toString.call(t)===\"[object Object]\"}let z_e=class bne extends Rr{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e==\"string\"){if(this.reconstructor)throw new Error(\"got plaintext data when reconstructing a packet\");n=this.decodeString(e);const r=n.type===Kt.BINARY_EVENT;r||n.type===Kt.BINARY_ACK?(n.type=r?Kt.EVENT:Kt.ACK,this.reconstructor=new F_e(n),n.attachments===0&&super.emitReserved(\"decoded\",n)):super.emitReserved(\"decoded\",n)}else if(CR(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved(\"decoded\",n));else throw new Error(\"got binary data when not reconstructing a packet\");else throw new Error(\"Unknown type: \"+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Kt[r.type]===void 0)throw new Error(\"unknown packet type \"+r.type);if(r.type===Kt.BINARY_EVENT||r.type===Kt.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!==\"-\"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!==\"-\")throw new Error(\"Illegal attachments\");r.attachments=Number(o)}if(e.charAt(n+1)===\"/\"){const s=n+1;for(;++n&&!(e.charAt(n)===\",\"||n===e.length););r.nsp=e.substring(s,n)}else r.nsp=\"/\";const i=e.charAt(n+1);if(i!==\"\"&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(bne.isPayloadValid(r.type,s))r.data=s;else throw new Error(\"invalid payload\")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Kt.CONNECT:return Gz(n);case Kt.DISCONNECT:return n===void 0;case Kt.CONNECT_ERROR:return typeof n==\"string\"||Gz(n);case Kt.EVENT:case Kt.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]==\"number\"||typeof n[0]==\"string\"&&L_e.indexOf(n[0])===-1);case Kt.ACK:case Kt.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class F_e{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=B_e(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const q_e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:z_e,Encoder:j_e,get PacketType(){return Kt},protocol:U_e},Symbol.toStringTag,{value:\"Module\"}));function Qa(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const H_e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class wne extends Rr{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Qa(e,\"open\",this.onopen.bind(this)),Qa(e,\"packet\",this.onpacket.bind(this)),Qa(e,\"error\",this.onerror.bind(this)),Qa(e,\"close\",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState===\"open\"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift(\"message\"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(H_e.hasOwnProperty(e))throw new Error('\"'+e.toString()+'\" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Kt.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]==\"function\"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error(\"operation has timed out\"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]==\"function\"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth==\"function\"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Kt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved(\"connect_error\",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved(\"disconnect\",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error(\"socket has been disconnected\"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Kt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved(\"connect_error\",new Error(\"It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)\"));break;case Kt.EVENT:case Kt.BINARY_EVENT:this.onevent(e);break;case Kt.ACK:case Kt.BINARY_ACK:this.onack(e);break;case Kt.DISCONNECT:this.ondisconnect();break;case Kt.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved(\"connect_error\",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]==\"string\"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Kt.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n==\"function\"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved(\"connect\"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose(\"io server disconnect\")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Kt.DISCONNECT}),this.destroy(),this.connected&&this.onclose(\"io client disconnect\"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function by(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}by.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-n:t+n}return Math.min(t,this.max)|0};by.prototype.reset=function(){this.attempts=0};by.prototype.setMin=function(t){this.ms=t};by.prototype.setMax=function(t){this.max=t};by.prototype.setJitter=function(t){this.jitter=t};class xT extends Rr{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e==\"object\"&&(n=e,e=void 0),n=n||{},n.path=n.path||\"/socket.io\",this.opts=n,j_(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new by({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState=\"closed\",this.uri=e;const i=n.parser||q_e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf(\"open\"))return this;this.engine=new P_e(this.uri,this.opts);const n=this.engine,r=this;this._readyState=\"opening\",this.skipReconnect=!1;const i=Qa(n,\"open\",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState=\"closed\",this.emitReserved(\"error\",a),e?e(a):this.maybeReconnectOnOpen()},o=Qa(n,\"error\",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error(\"timeout\")),n.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState=\"open\",this.emitReserved(\"open\");const e=this.engine;this.subs.push(Qa(e,\"ping\",this.onping.bind(this)),Qa(e,\"data\",this.ondata.bind(this)),Qa(e,\"error\",this.onerror.bind(this)),Qa(e,\"close\",this.onclose.bind(this)),Qa(this.decoder,\"decoded\",this.ondecoded.bind(this)))}onping(){this.emitReserved(\"ping\")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose(\"parse error\",n)}}ondecoded(e){U_(()=>{this.emitReserved(\"packet\",e)},this.setTimeoutFn)}onerror(e){this.emitReserved(\"error\",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new wne(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose(\"forced close\")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState=\"closed\",this.emitReserved(\"close\",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved(\"reconnect_failed\"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved(\"reconnect_attempt\",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved(\"reconnect_error\",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved(\"reconnect\",e)}}const Lb={};function $E(t,e){typeof t==\"object\"&&(e=t,t=void 0),e=e||{};const n=O_e(t,e.path||\"/socket.io\"),r=n.source,i=n.id,s=n.path,o=Lb[i]&&s in Lb[i].nsps,a=e.forceNew||e[\"force new connection\"]||e.multiplex===!1||o;let c;return a?c=new xT(r,e):(Lb[i]||(Lb[i]=new xT(r,e)),c=Lb[i]),n.query&&!e.query&&(e.query=n.queryKey),c.socket(n.path,e)}Object.assign($E,{Manager:xT,Socket:wne,io:$E,connect:$E});function we(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(l){try{c(r.next(l))}catch(d){s(d)}}function a(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){var d;l.done?i(l.value):(d=l.value,d instanceof n?d:new n((function(h){h(d)}))).then(o,a)}c((r=r.apply(t,e||[])).next())}))}var bs=typeof global<\"u\"?global:typeof self<\"u\"?self:typeof window<\"u\"?window:{},il=[],xa=[],V_e=typeof Uint8Array<\"u\"?Uint8Array:Array,SR=!1;function vne(){SR=!0;for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",e=0;e<64;++e)il[e]=t[e],xa[t.charCodeAt(e)]=e;xa[45]=62,xa[95]=63}function K_e(t,e,n){for(var r,i,s=[],o=e;o<n;o+=3)r=(t[o]<<16)+(t[o+1]<<8)+t[o+2],s.push(il[(i=r)>>18&63]+il[i>>12&63]+il[i>>6&63]+il[63&i]);return s.join(\"\")}function Zz(t){var e;SR||vne();for(var n=t.length,r=n%3,i=\"\",s=[],o=16383,a=0,c=n-r;a<c;a+=o)s.push(K_e(t,a,a+o>c?c:a+o));return r===1?(e=t[n-1],i+=il[e>>2],i+=il[e<<4&63],i+=\"==\"):r===2&&(e=(t[n-2]<<8)+t[n-1],i+=il[e>>10],i+=il[e>>4&63],i+=il[e<<2&63],i+=\"=\"),s.push(i),s.join(\"\")}function b3(t,e,n,r,i){var s,o,a=8*i-r-1,c=(1<<a)-1,l=c>>1,d=-7,h=n?i-1:0,p=n?-1:1,m=t[e+h];for(h+=p,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=256*s+t[e+h],h+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=r;d>0;o=256*o+t[e+h],h+=p,d-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,r),s-=l}return(m?-1:1)*o*Math.pow(2,s-r)}function Ene(t,e,n,r,i,s){var o,a,c,l=8*s-i-1,d=(1<<l)-1,h=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=r?0:s-1,b=r?1:-1,y=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),(e+=o+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(o++,c/=2),o+h>=d?(a=0,o=d):o+h>=1?(a=(e*c-1)*Math.pow(2,i),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[n+m]=255&a,m+=b,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[n+m]=255&o,m+=b,o/=256,l-=8);t[n+m-b]|=128*y}var W_e={}.toString,_ne=Array.isArray||function(t){return W_e.call(t)==\"[object Array]\"};ve.TYPED_ARRAY_SUPPORT=bs.TYPED_ARRAY_SUPPORT===void 0||bs.TYPED_ARRAY_SUPPORT;var G_e=N8();function N8(){return ve.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Du(t,e){if(N8()<e)throw new RangeError(\"Invalid typed array length\");return ve.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=ve.prototype:(t===null&&(t=new ve(e)),t.length=e),t}function ve(t,e,n){if(!(ve.TYPED_ARRAY_SUPPORT||this instanceof ve))return new ve(t,e,n);if(typeof t==\"number\"){if(typeof e==\"string\")throw new Error(\"If encoding is specified then the first argument must be a string\");return AT(this,t)}return Cne(this,t,e,n)}function Cne(t,e,n,r){if(typeof e==\"number\")throw new TypeError('\"value\" argument must not be a number');return typeof ArrayBuffer<\"u\"&&e instanceof ArrayBuffer?(function(i,s,o,a){if(s.byteLength,o<0||s.byteLength<o)throw new RangeError(\"'offset' is out of bounds\");if(s.byteLength<o+(a||0))throw new RangeError(\"'length' is out of bounds\");return s=o===void 0&&a===void 0?new Uint8Array(s):a===void 0?new Uint8Array(s,o):new Uint8Array(s,o,a),ve.TYPED_ARRAY_SUPPORT?(i=s).__proto__=ve.prototype:i=Kx(i,s),i})(t,e,n,r):typeof e==\"string\"?(function(i,s,o){if(typeof o==\"string\"&&o!==\"\"||(o=\"utf8\"),!ve.isEncoding(o))throw new TypeError('\"encoding\" must be a valid string encoding');var a=0|xne(s,o);i=Du(i,a);var c=i.write(s,o);return c!==a&&(i=i.slice(0,c)),i})(t,e,n):(function(i,s){if(sl(s)){var o=0|xR(s.length);return(i=Du(i,o)).length===0||s.copy(i,0,0,o),i}if(s){if(typeof ArrayBuffer<\"u\"&&s.buffer instanceof ArrayBuffer||\"length\"in s)return typeof s.length!=\"number\"||(a=s.length)!=a?Du(i,0):Kx(i,s);if(s.type===\"Buffer\"&&_ne(s.data))return Kx(i,s.data)}var a;throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")})(t,e)}function Sne(t){if(typeof t!=\"number\")throw new TypeError('\"size\" argument must be a number');if(t<0)throw new RangeError('\"size\" argument must not be negative')}function AT(t,e){if(Sne(e),t=Du(t,e<0?0:0|xR(e)),!ve.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function Kx(t,e){var n=e.length<0?0:0|xR(e.length);t=Du(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function xR(t){if(t>=N8())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+N8().toString(16)+\" bytes\");return 0|t}function sl(t){return!(t==null||!t._isBuffer)}function xne(t,e){if(sl(t))return t.length;if(typeof ArrayBuffer<\"u\"&&typeof ArrayBuffer.isView==\"function\"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;typeof t!=\"string\"&&(t=\"\"+t);var n=t.length;if(n===0)return 0;for(var r=!1;;)switch(e){case\"ascii\":case\"latin1\":case\"binary\":return n;case\"utf8\":case\"utf-8\":case void 0:return R8(t).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*n;case\"hex\":return n>>>1;case\"base64\":return Tne(t).length;default:if(r)return R8(t).length;e=(\"\"+e).toLowerCase(),r=!0}}function Z_e(t,e,n){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((n===void 0||n>this.length)&&(n=this.length),n<=0)||(n>>>=0)<=(e>>>=0))return\"\";for(t||(t=\"utf8\");;)switch(t){case\"hex\":return i9e(this,e,n);case\"utf8\":case\"utf-8\":return $ne(this,e,n);case\"ascii\":return n9e(this,e,n);case\"latin1\":case\"binary\":return r9e(this,e,n);case\"base64\":return t9e(this,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return s9e(this,e,n);default:if(r)throw new TypeError(\"Unknown encoding: \"+t);t=(t+\"\").toLowerCase(),r=!0}}function jh(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function Yz(t,e,n,r,i){if(t.length===0)return-1;if(typeof n==\"string\"?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if(typeof e==\"string\"&&(e=ve.from(e,r)),sl(e))return e.length===0?-1:Jz(t,e,n,r,i);if(typeof e==\"number\")return e&=255,ve.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==\"function\"?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):Jz(t,[e],n,r,i);throw new TypeError(\"val must be string, number or Buffer\")}function Jz(t,e,n,r,i){var s,o=1,a=t.length,c=e.length;if(r!==void 0&&((r=String(r).toLowerCase())===\"ucs2\"||r===\"ucs-2\"||r===\"utf16le\"||r===\"utf-16le\")){if(t.length<2||e.length<2)return-1;o=2,a/=2,c/=2,n/=2}function l(m,b){return o===1?m[b]:m.readUInt16BE(b*o)}if(i){var d=-1;for(s=n;s<a;s++)if(l(t,s)===l(e,d===-1?0:s-d)){if(d===-1&&(d=s),s-d+1===c)return d*o}else d!==-1&&(s-=s-d),d=-1}else for(n+c>a&&(n=a-c),s=n;s>=0;s--){for(var h=!0,p=0;p<c;p++)if(l(t,s+p)!==l(e,p)){h=!1;break}if(h)return s}return-1}function Y_e(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var s=e.length;if(s%2!=0)throw new TypeError(\"Invalid hex string\");r>s/2&&(r=s/2);for(var o=0;o<r;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[n+o]=a}return o}function J_e(t,e,n,r){return z_(R8(e,t.length-n),t,n,r)}function Ane(t,e,n,r){return z_((function(i){for(var s=[],o=0;o<i.length;++o)s.push(255&i.charCodeAt(o));return s})(e),t,n,r)}function X_e(t,e,n,r){return Ane(t,e,n,r)}function Q_e(t,e,n,r){return z_(Tne(e),t,n,r)}function e9e(t,e,n,r){return z_((function(i,s){for(var o,a,c,l=[],d=0;d<i.length&&!((s-=2)<0);++d)a=(o=i.charCodeAt(d))>>8,c=o%256,l.push(c),l.push(a);return l})(e,t.length-n),t,n,r)}function t9e(t,e,n){return e===0&&n===t.length?Zz(t):Zz(t.slice(e,n))}function $ne(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var s,o,a,c,l=t[i],d=null,h=l>239?4:l>223?3:l>191?2:1;if(i+h<=n)switch(h){case 1:l<128&&(d=l);break;case 2:(192&(s=t[i+1]))==128&&(c=(31&l)<<6|63&s)>127&&(d=c);break;case 3:s=t[i+1],o=t[i+2],(192&s)==128&&(192&o)==128&&(c=(15&l)<<12|(63&s)<<6|63&o)>2047&&(c<55296||c>57343)&&(d=c);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(c=(15&l)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&c<1114112&&(d=c)}d===null?(d=65533,h=1):d>65535&&(d-=65536,r.push(d>>>10&1023|55296),d=56320|1023&d),r.push(d),i+=h}return(function(p){var m=p.length;if(m<=Xz)return String.fromCharCode.apply(String,p);for(var b=\"\",y=0;y<m;)b+=String.fromCharCode.apply(String,p.slice(y,y+=Xz));return b})(r)}ve.poolSize=8192,ve._augment=function(t){return t.__proto__=ve.prototype,t},ve.from=function(t,e,n){return Cne(null,t,e,n)},ve.TYPED_ARRAY_SUPPORT&&(ve.prototype.__proto__=Uint8Array.prototype,ve.__proto__=Uint8Array,typeof Symbol<\"u\"&&Symbol.species&&ve[Symbol.species]),ve.alloc=function(t,e,n){return(function(r,i,s,o){return Sne(i),i<=0?Du(r,i):s!==void 0?typeof o==\"string\"?Du(r,i).fill(s,o):Du(r,i).fill(s):Du(r,i)})(null,t,e,n)},ve.allocUnsafe=function(t){return AT(null,t)},ve.allocUnsafeSlow=function(t){return AT(null,t)},ve.isBuffer=Pne,ve.compare=function(t,e){if(!sl(t)||!sl(e))throw new TypeError(\"Arguments must be Buffers\");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,s=Math.min(n,r);i<s;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},ve.isEncoding=function(t){switch(String(t).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},ve.concat=function(t,e){if(!_ne(t))throw new TypeError('\"list\" argument must be an Array of Buffers');if(t.length===0)return ve.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=ve.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!sl(s))throw new TypeError('\"list\" argument must be an Array of Buffers');s.copy(r,i),i+=s.length}return r},ve.byteLength=xne,ve.prototype._isBuffer=!0,ve.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var e=0;e<t;e+=2)jh(this,e,e+1);return this},ve.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var e=0;e<t;e+=4)jh(this,e,e+3),jh(this,e+1,e+2);return this},ve.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var e=0;e<t;e+=8)jh(this,e,e+7),jh(this,e+1,e+6),jh(this,e+2,e+5),jh(this,e+3,e+4);return this},ve.prototype.toString=function(){var t=0|this.length;return t===0?\"\":arguments.length===0?$ne(this,0,t):Z_e.apply(this,arguments)},ve.prototype.equals=function(t){if(!sl(t))throw new TypeError(\"Argument must be a Buffer\");return this===t||ve.compare(this,t)===0},ve.prototype.inspect=function(){var t=\"\";return this.length>0&&(t=this.toString(\"hex\",0,50).match(/.{2}/g).join(\" \"),this.length>50&&(t+=\" ... \")),\"<Buffer \"+t+\">\"},ve.prototype.compare=function(t,e,n,r,i){if(!sl(t))throw new TypeError(\"Argument must be a Buffer\");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError(\"out of range index\");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(r>>>=0),o=(n>>>=0)-(e>>>=0),a=Math.min(s,o),c=this.slice(r,i),l=t.slice(e,n),d=0;d<a;++d)if(c[d]!==l[d]){s=c[d],o=l[d];break}return s<o?-1:o<s?1:0},ve.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1},ve.prototype.indexOf=function(t,e,n){return Yz(this,t,e,n,!0)},ve.prototype.lastIndexOf=function(t,e,n){return Yz(this,t,e,n,!1)},ve.prototype.write=function(t,e,n,r){if(e===void 0)r=\"utf8\",n=this.length,e=0;else if(n===void 0&&typeof e==\"string\")r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");e|=0,isFinite(n)?(n|=0,r===void 0&&(r=\"utf8\")):(r=n,n=void 0)}var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");r||(r=\"utf8\");for(var s=!1;;)switch(r){case\"hex\":return Y_e(this,t,e,n);case\"utf8\":case\"utf-8\":return J_e(this,t,e,n);case\"ascii\":return Ane(this,t,e,n);case\"latin1\":case\"binary\":return X_e(this,t,e,n);case\"base64\":return Q_e(this,t,e,n);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return e9e(this,t,e,n);default:if(s)throw new TypeError(\"Unknown encoding: \"+r);r=(\"\"+r).toLowerCase(),s=!0}},ve.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var Xz=4096;function n9e(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function r9e(t,e,n){var r=\"\";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function i9e(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i=\"\",s=e;s<n;++s)i+=a9e(t[s]);return i}function s9e(t,e,n){for(var r=t.slice(e,n),i=\"\",s=0;s<r.length;s+=2)i+=String.fromCharCode(r[s]+256*r[s+1]);return i}function Zr(t,e,n){if(t%1!=0||t<0)throw new RangeError(\"offset is not uint\");if(t+e>n)throw new RangeError(\"Trying to access beyond buffer length\")}function Os(t,e,n,r,i,s){if(!sl(t))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('\"value\" argument is out of bounds');if(n+r>t.length)throw new RangeError(\"Index out of range\")}function w3(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,s=Math.min(t.length-n,2);i<s;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function v3(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,s=Math.min(t.length-n,4);i<s;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function Ine(t,e,n,r,i,s){if(n+r>t.length)throw new RangeError(\"Index out of range\");if(n<0)throw new RangeError(\"Index out of range\")}function Qz(t,e,n,r,i){return i||Ine(t,0,n,4),Ene(t,e,n,r,23,4),n+4}function eF(t,e,n,r,i){return i||Ine(t,0,n,8),Ene(t,e,n,r,52,8),n+8}ve.prototype.slice=function(t,e){var n,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),ve.TYPED_ARRAY_SUPPORT)(n=this.subarray(t,e)).__proto__=ve.prototype;else{var i=e-t;n=new ve(i,void 0);for(var s=0;s<i;++s)n[s]=this[s+t]}return n},ve.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||Zr(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r},ve.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||Zr(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},ve.prototype.readUInt8=function(t,e){return e||Zr(t,1,this.length),this[t]},ve.prototype.readUInt16LE=function(t,e){return e||Zr(t,2,this.length),this[t]|this[t+1]<<8},ve.prototype.readUInt16BE=function(t,e){return e||Zr(t,2,this.length),this[t]<<8|this[t+1]},ve.prototype.readUInt32LE=function(t,e){return e||Zr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},ve.prototype.readUInt32BE=function(t,e){return e||Zr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},ve.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||Zr(t,e,this.length);for(var r=this[t],i=1,s=0;++s<e&&(i*=256);)r+=this[t+s]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},ve.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||Zr(t,e,this.length);for(var r=e,i=1,s=this[t+--r];r>0&&(i*=256);)s+=this[t+--r]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},ve.prototype.readInt8=function(t,e){return e||Zr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},ve.prototype.readInt16LE=function(t,e){e||Zr(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},ve.prototype.readInt16BE=function(t,e){e||Zr(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},ve.prototype.readInt32LE=function(t,e){return e||Zr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},ve.prototype.readInt32BE=function(t,e){return e||Zr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},ve.prototype.readFloatLE=function(t,e){return e||Zr(t,4,this.length),b3(this,t,!0,23,4)},ve.prototype.readFloatBE=function(t,e){return e||Zr(t,4,this.length),b3(this,t,!1,23,4)},ve.prototype.readDoubleLE=function(t,e){return e||Zr(t,8,this.length),b3(this,t,!0,52,8)},ve.prototype.readDoubleBE=function(t,e){return e||Zr(t,8,this.length),b3(this,t,!1,52,8)},ve.prototype.writeUIntLE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Os(this,t,e,n,Math.pow(2,8*n)-1,0);var i=1,s=0;for(this[e]=255&t;++s<n&&(i*=256);)this[e+s]=t/i&255;return e+n},ve.prototype.writeUIntBE=function(t,e,n,r){t=+t,e|=0,n|=0,r||Os(this,t,e,n,Math.pow(2,8*n)-1,0);var i=n-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+n},ve.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,1,255,0),ve.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},ve.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,2,65535,0),ve.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):w3(this,t,e,!0),e+2},ve.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,2,65535,0),ve.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):w3(this,t,e,!1),e+2},ve.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,4,4294967295,0),ve.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):v3(this,t,e,!0),e+4},ve.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,4,4294967295,0),ve.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):v3(this,t,e,!1),e+4},ve.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Os(this,t,e,n,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<n&&(o*=256);)t<0&&a===0&&this[e+s-1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},ve.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);Os(this,t,e,n,i-1,-i)}var s=n-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&a===0&&this[e+s+1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+n},ve.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,1,127,-128),ve.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},ve.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,2,32767,-32768),ve.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):w3(this,t,e,!0),e+2},ve.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,2,32767,-32768),ve.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):w3(this,t,e,!1),e+2},ve.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,4,2147483647,-2147483648),ve.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):v3(this,t,e,!0),e+4},ve.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||Os(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),ve.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):v3(this,t,e,!1),e+4},ve.prototype.writeFloatLE=function(t,e,n){return Qz(this,t,e,!0,n)},ve.prototype.writeFloatBE=function(t,e,n){return Qz(this,t,e,!1,n)},ve.prototype.writeDoubleLE=function(t,e,n){return eF(this,t,e,!0,n)},ve.prototype.writeDoubleBE=function(t,e,n){return eF(this,t,e,!1,n)},ve.prototype.copy=function(t,e,n,r){if(n||(n=0),r||r===0||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError(\"targetStart out of bounds\");if(n<0||n>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(r<0)throw new RangeError(\"sourceEnd out of bounds\");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,s=r-n;if(this===t&&n<e&&e<r)for(i=s-1;i>=0;--i)t[i+e]=this[i+n];else if(s<1e3||!ve.TYPED_ARRAY_SUPPORT)for(i=0;i<s;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+s),e);return s},ve.prototype.fill=function(t,e,n,r){if(typeof t==\"string\"){if(typeof e==\"string\"?(r=e,e=0,n=this.length):typeof n==\"string\"&&(r=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(r!==void 0&&typeof r!=\"string\")throw new TypeError(\"encoding must be a string\");if(typeof r==\"string\"&&!ve.isEncoding(r))throw new TypeError(\"Unknown encoding: \"+r)}else typeof t==\"number\"&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError(\"Out of range index\");if(n<=e)return this;var s;if(e>>>=0,n=n===void 0?this.length:n>>>0,t||(t=0),typeof t==\"number\")for(s=e;s<n;++s)this[s]=t;else{var o=sl(t)?t:R8(new ve(t,r).toString()),a=o.length;for(s=0;s<n-e;++s)this[s+e]=o[s%a]}return this};var o9e=/[^+\\/0-9A-Za-z-_]/g;function a9e(t){return t<16?\"0\"+t.toString(16):t.toString(16)}function R8(t,e){var n;e=e||1/0;for(var r=t.length,i=null,s=[],o=0;o<r;++o){if((n=t.charCodeAt(o))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&s.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&s.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;s.push(n)}else if(n<2048){if((e-=2)<0)break;s.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;s.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error(\"Invalid code point\");if((e-=4)<0)break;s.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return s}function Tne(t){return(function(e){var n,r,i,s,o,a;SR||vne();var c=e.length;if(c%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");o=e[c-2]===\"=\"?2:e[c-1]===\"=\"?1:0,a=new V_e(3*c/4-o),i=o>0?c-4:c;var l=0;for(n=0,r=0;n<i;n+=4,r+=3)s=xa[e.charCodeAt(n)]<<18|xa[e.charCodeAt(n+1)]<<12|xa[e.charCodeAt(n+2)]<<6|xa[e.charCodeAt(n+3)],a[l++]=s>>16&255,a[l++]=s>>8&255,a[l++]=255&s;return o===2?(s=xa[e.charCodeAt(n)]<<2|xa[e.charCodeAt(n+1)]>>4,a[l++]=255&s):o===1&&(s=xa[e.charCodeAt(n)]<<10|xa[e.charCodeAt(n+1)]<<4|xa[e.charCodeAt(n+2)]>>2,a[l++]=s>>8&255,a[l++]=255&s),a})((function(e){if((e=(function(n){return n.trim?n.trim():n.replace(/^\\s+|\\s+$/g,\"\")})(e).replace(o9e,\"\")).length<2)return\"\";for(;e.length%4!=0;)e+=\"=\";return e})(t))}function z_(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Pne(t){return t!=null&&(!!t._isBuffer||tF(t)||(function(e){return typeof e.readFloatLE==\"function\"&&typeof e.slice==\"function\"&&tF(e.slice(0,0))})(t))}function tF(t){return!!t.constructor&&typeof t.constructor.isBuffer==\"function\"&&t.constructor.isBuffer(t)}var c9e=Object.freeze({__proto__:null,Buffer:ve,INSPECT_MAX_BYTES:50,SlowBuffer:function(t){return+t!=t&&(t=0),ve.alloc(+t)},isBuffer:Pne,kMaxLength:G_e}),Ta=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{};function F_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,\"default\")?t.default:t}function Q2(t){if(t.__esModule)return t;var e=t.default;if(typeof e==\"function\"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,\"__esModule\",{value:!0}),Object.keys(t).forEach((function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})})),n}var N1={},Zo={},Qi={};function k8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function One(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function Nne(t){return t instanceof Uint8Array||t!=null&&typeof t==\"object\"&&t.constructor.name===\"Uint8Array\"}function AR(t,...e){if(!Nne(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function Rne(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"hash must be wrapped by utils.wrapConstructor\");k8(t.outputLen),k8(t.blockLen)}function kne(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Mne(t,e){AR(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(Qi,\"__esModule\",{value:!0}),Qi.isBytes=Nne,Qi.number=k8,Qi.bool=One,Qi.bytes=AR,Qi.hash=Rne,Qi.exists=kne,Qi.output=Mne;const l9e={number:k8,bool:One,bytes:AR,hash:Rne,exists:kne,output:Mne};Qi.default=l9e,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.wrapCipher=t.Hash=t.nextTick=t.isLE=t.createView=t.u32=t.u16=t.u8=void 0,t.bytesToHex=r,t.hexToBytes=o,t.hexToNumber=a,t.bytesToNumberBE=function(h){return a(r(h))},t.numberToBytesBE=function(h,p){return o(h.toString(16).padStart(2*p,\"0\"))},t.asyncLoop=async function(h,p,m){let b=Date.now();for(let y=0;y<h;y++){m(y);const E=Date.now()-b;E>=0&&E<p||(await(0,t.nextTick)(),b+=E)}},t.utf8ToBytes=c,t.bytesToUtf8=function(h){return new TextDecoder().decode(h)},t.toBytes=function(h){if(typeof h==\"string\")h=c(h);else{if(!(0,e.isBytes)(h))throw new Error(\"Uint8Array expected, got \"+typeof h);h=d(h)}return h},t.concatBytes=function(...h){let p=0;for(let b=0;b<h.length;b++){const y=h[b];(0,e.bytes)(y),p+=y.length}const m=new Uint8Array(p);for(let b=0,y=0;b<h.length;b++){const E=h[b];m.set(E,y),y+=E.length}return m},t.checkOpts=function(h,p){if(p==null||typeof p!=\"object\")throw new Error(\"options must be defined\");return Object.assign(h,p)},t.equalBytes=function(h,p){if(h.length!==p.length)return!1;let m=0;for(let b=0;b<h.length;b++)m|=h[b]^p[b];return m===0},t.setBigUint64=l,t.u64Lengths=function(h,p){const m=new Uint8Array(16),b=(0,t.createView)(m);return l(b,0,BigInt(p?p.length:0),!0),l(b,8,BigInt(h.length),!0),m},t.isAligned32=function(h){return h.byteOffset%4==0},t.copyBytes=d,t.clean=function(...h){for(let p=0;p<h.length;p++)h[p].fill(0)};const e=Qi;if(t.u8=h=>new Uint8Array(h.buffer,h.byteOffset,h.byteLength),t.u16=h=>new Uint16Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/2)),t.u32=h=>new Uint32Array(h.buffer,h.byteOffset,Math.floor(h.byteLength/4)),t.createView=h=>new DataView(h.buffer,h.byteOffset,h.byteLength),t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error(\"Non little-endian hardware is not supported\");const n=Array.from({length:256},((h,p)=>p.toString(16).padStart(2,\"0\")));function r(h){(0,e.bytes)(h);let p=\"\";for(let m=0;m<h.length;m++)p+=n[h[m]];return p}const i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function s(h){return h>=i._0&&h<=i._9?h-i._0:h>=i._A&&h<=i._F?h-(i._A-10):h>=i._a&&h<=i._f?h-(i._a-10):void 0}function o(h){if(typeof h!=\"string\")throw new Error(\"hex string expected, got \"+typeof h);const p=h.length,m=p/2;if(p%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+p);const b=new Uint8Array(m);for(let y=0,E=0;y<m;y++,E+=2){const v=s(h.charCodeAt(E)),_=s(h.charCodeAt(E+1));if(v===void 0||_===void 0){const C=h[E]+h[E+1];throw new Error('hex string expected, got non-hex character \"'+C+'\" at index '+E)}b[y]=16*v+_}return b}function a(h){if(typeof h!=\"string\")throw new Error(\"hex string expected, got \"+typeof h);return BigInt(h===\"\"?\"0\":`0x${h}`)}function c(h){if(typeof h!=\"string\")throw new Error(\"string expected, got \"+typeof h);return new Uint8Array(new TextEncoder().encode(h))}t.nextTick=async()=>{},t.Hash=class{};function l(h,p,m,b){if(typeof h.setBigUint64==\"function\")return h.setBigUint64(p,m,b);const y=BigInt(32),E=BigInt(4294967295),v=Number(m>>y&E),_=Number(m&E),C=b?4:0,S=b?0:4;h.setUint32(p+C,v,b),h.setUint32(p+S,_,b)}function d(h){return Uint8Array.from(h)}t.wrapCipher=(h,p)=>(Object.assign(p,h),p)})(Zo);var Mv={},ti={};Object.defineProperty(ti,\"__esModule\",{value:!0}),ti.AEAD_TAG_LENGTH=ti.XCHACHA20_NONCE_LENGTH=ti.CURVE25519_PUBLIC_KEY_SIZE=ti.ETH_PUBLIC_KEY_SIZE=ti.UNCOMPRESSED_PUBLIC_KEY_SIZE=ti.COMPRESSED_PUBLIC_KEY_SIZE=ti.SECRET_KEY_LENGTH=void 0,ti.SECRET_KEY_LENGTH=32,ti.COMPRESSED_PUBLIC_KEY_SIZE=33,ti.UNCOMPRESSED_PUBLIC_KEY_SIZE=65,ti.ETH_PUBLIC_KEY_SIZE=64,ti.CURVE25519_PUBLIC_KEY_SIZE=32,ti.XCHACHA20_NONCE_LENGTH=24,ti.AEAD_TAG_LENGTH=16,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.ephemeralKeySize=t.symmetricNonceLength=t.symmetricAlgorithm=t.isHkdfKeyCompressed=t.isEphemeralKeyCompressed=t.ellipticCurve=t.ECIES_CONFIG=void 0;var e=ti,n=function(){this.ellipticCurve=\"secp256k1\",this.isEphemeralKeyCompressed=!1,this.isHkdfKeyCompressed=!1,this.symmetricAlgorithm=\"aes-256-gcm\",this.symmetricNonceLength=16};t.ECIES_CONFIG=new n,t.ellipticCurve=function(){return t.ECIES_CONFIG.ellipticCurve},t.isEphemeralKeyCompressed=function(){return t.ECIES_CONFIG.isEphemeralKeyCompressed},t.isHkdfKeyCompressed=function(){return t.ECIES_CONFIG.isHkdfKeyCompressed},t.symmetricAlgorithm=function(){return t.ECIES_CONFIG.symmetricAlgorithm},t.symmetricNonceLength=function(){return t.ECIES_CONFIG.symmetricNonceLength},t.ephemeralKeySize=function(){var r={secp256k1:t.ECIES_CONFIG.isEphemeralKeyCompressed?e.COMPRESSED_PUBLIC_KEY_SIZE:e.UNCOMPRESSED_PUBLIC_KEY_SIZE,x25519:e.CURVE25519_PUBLIC_KEY_SIZE,ed25519:e.CURVE25519_PUBLIC_KEY_SIZE};if(t.ECIES_CONFIG.ellipticCurve in r)return r[t.ECIES_CONFIG.ellipticCurve];throw new Error(\"Not implemented\")}})(Mv);var Wx={},M8={},q_={},Dne={},$R={},E3={};Object.defineProperty(E3,\"__esModule\",{value:!0}),E3.crypto=void 0,E3.crypto=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.gcm=t.ctr=t.cbc=t.utils=void 0,t.randomBytes=i,t.getWebcryptoSubtle=s,t.managedNonce=function(c){return(0,n.number)(c.nonceLength),(l,...d)=>({encrypt(h,...p){const{nonceLength:m}=c,b=i(m),y=c(l,b,...d).encrypt(h,...p),E=(0,r.concatBytes)(b,y);return y.fill(0),E},decrypt(h,...p){const{nonceLength:m}=c,b=h.subarray(0,m),y=h.subarray(m);return c(l,b,...d).decrypt(y,...p)}})};const e=E3,n=Qi,r=Zo;function i(c=32){if(e.crypto&&typeof e.crypto.getRandomValues==\"function\")return e.crypto.getRandomValues(new Uint8Array(c));if(e.crypto&&typeof e.crypto.randomBytes==\"function\")return e.crypto.randomBytes(c);throw new Error(\"crypto.getRandomValues must be defined\")}function s(){if(e.crypto&&typeof e.crypto.subtle==\"object\"&&e.crypto.subtle!=null)return e.crypto.subtle;throw new Error(\"crypto.subtle must be defined\")}t.utils={async encrypt(c,l,d,h){const p=s(),m=await p.importKey(\"raw\",c,l,!0,[\"encrypt\"]),b=await p.encrypt(d,m,h);return new Uint8Array(b)},async decrypt(c,l,d,h){const p=s(),m=await p.importKey(\"raw\",c,l,!0,[\"decrypt\"]),b=await p.decrypt(d,m,h);return new Uint8Array(b)}};const o={CBC:\"AES-CBC\",CTR:\"AES-CTR\",GCM:\"AES-GCM\"};function a(c){return(l,d,h)=>{(0,n.bytes)(l),(0,n.bytes)(d);const p={name:c,length:8*l.length},m=(function(b,y,E){if(b===o.CBC)return{name:o.CBC,iv:y};if(b===o.CTR)return{name:o.CTR,counter:y,length:64};if(b===o.GCM)return E?{name:o.GCM,iv:y,additionalData:E}:{name:o.GCM,iv:y};throw new Error(\"unknown aes block mode\")})(c,d,h);return{encrypt:b=>((0,n.bytes)(b),t.utils.encrypt(l,p,m,b)),decrypt:b=>((0,n.bytes)(b),t.utils.decrypt(l,p,m,b))}}}t.cbc=a(o.CBC),t.ctr=a(o.CTR),t.gcm=a(o.GCM)})($R);var Bne={},oi={},Bu={},xo={};function D8(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function Lne(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}function Une(t){return t instanceof Uint8Array||t!=null&&typeof t==\"object\"&&t.constructor.name===\"Uint8Array\"}function IR(t,...e){if(!Une(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function jne(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");D8(t.outputLen),D8(t.blockLen)}function zne(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Fne(t,e){IR(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Object.defineProperty(xo,\"__esModule\",{value:!0}),xo.isBytes=Une,xo.number=D8,xo.bool=Lne,xo.bytes=IR,xo.hash=jne,xo.exists=zne,xo.output=Fne;const u9e={number:D8,bool:Lne,bytes:IR,hash:jne,exists:zne,output:Fne};xo.default=u9e;var hd={},_3={};Object.defineProperty(_3,\"__esModule\",{value:!0}),_3.crypto=void 0,_3.crypto=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.Hash=t.nextTick=t.byteSwapIfBE=t.byteSwap=t.isLE=t.rotl=t.rotr=t.createView=t.u32=t.u8=void 0,t.isBytes=function(l){return l instanceof Uint8Array||l!=null&&typeof l==\"object\"&&l.constructor.name===\"Uint8Array\"},t.byteSwap32=function(l){for(let d=0;d<l.length;d++)l[d]=(0,t.byteSwap)(l[d])},t.bytesToHex=function(l){(0,n.bytes)(l);let d=\"\";for(let h=0;h<l.length;h++)d+=r[l[h]];return d},t.hexToBytes=function(l){if(typeof l!=\"string\")throw new Error(\"hex string expected, got \"+typeof l);const d=l.length,h=d/2;if(d%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+d);const p=new Uint8Array(h);for(let m=0,b=0;m<h;m++,b+=2){const y=s(l.charCodeAt(b)),E=s(l.charCodeAt(b+1));if(y===void 0||E===void 0){const v=l[b]+l[b+1];throw new Error('hex string expected, got non-hex character \"'+v+'\" at index '+b)}p[m]=16*y+E}return p},t.asyncLoop=async function(l,d,h){let p=Date.now();for(let m=0;m<l;m++){h(m);const b=Date.now()-p;b>=0&&b<d||(await(0,t.nextTick)(),p+=b)}},t.utf8ToBytes=o,t.toBytes=a,t.concatBytes=function(...l){let d=0;for(let p=0;p<l.length;p++){const m=l[p];(0,n.bytes)(m),d+=m.length}const h=new Uint8Array(d);for(let p=0,m=0;p<l.length;p++){const b=l[p];h.set(b,m),m+=b.length}return h},t.checkOpts=function(l,d){if(d!==void 0&&c.call(d)!==\"[object Object]\")throw new Error(\"Options should be object or undefined\");return Object.assign(l,d)},t.wrapConstructor=function(l){const d=p=>l().update(a(p)).digest(),h=l();return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=()=>l(),d},t.wrapConstructorWithOpts=function(l){const d=(p,m)=>l(m).update(a(p)).digest(),h=l({});return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=p=>l(p),d},t.wrapXOFConstructorWithOpts=function(l){const d=(p,m)=>l(m).update(a(p)).digest(),h=l({});return d.outputLen=h.outputLen,d.blockLen=h.blockLen,d.create=p=>l(p),d},t.randomBytes=function(l=32){if(e.crypto&&typeof e.crypto.getRandomValues==\"function\")return e.crypto.getRandomValues(new Uint8Array(l));if(e.crypto&&typeof e.crypto.randomBytes==\"function\")return e.crypto.randomBytes(l);throw new Error(\"crypto.getRandomValues must be defined\")};const e=_3,n=xo;t.u8=l=>new Uint8Array(l.buffer,l.byteOffset,l.byteLength),t.u32=l=>new Uint32Array(l.buffer,l.byteOffset,Math.floor(l.byteLength/4)),t.createView=l=>new DataView(l.buffer,l.byteOffset,l.byteLength),t.rotr=(l,d)=>l<<32-d|l>>>d,t.rotl=(l,d)=>l<<d|l>>>32-d>>>0,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,t.byteSwap=l=>l<<24&4278190080|l<<8&16711680|l>>>8&65280|l>>>24&255,t.byteSwapIfBE=t.isLE?l=>l:l=>(0,t.byteSwap)(l);const r=Array.from({length:256},((l,d)=>d.toString(16).padStart(2,\"0\"))),i={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function s(l){return l>=i._0&&l<=i._9?l-i._0:l>=i._A&&l<=i._F?l-(i._A-10):l>=i._a&&l<=i._f?l-(i._a-10):void 0}function o(l){if(typeof l!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof l);return new Uint8Array(new TextEncoder().encode(l))}function a(l){return typeof l==\"string\"&&(l=o(l)),(0,n.bytes)(l),l}t.nextTick=async()=>{},t.Hash=class{clone(){return this._cloneInto()}};const c={}.toString})(hd),Object.defineProperty(Bu,\"__esModule\",{value:!0}),Bu.HashMD=Bu.Maj=Bu.Chi=void 0;const Gx=xo,Ub=hd;Bu.Chi=(t,e,n)=>t&e^~t&n;Bu.Maj=(t,e,n)=>t&e^t&n^e&n;Bu.HashMD=class extends Ub.Hash{constructor(t,e,n,r){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=r,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=(0,Ub.createView)(this.buffer)}update(t){(0,Gx.exists)(this);const{view:e,buffer:n,blockLen:r}=this,i=(t=(0,Ub.toBytes)(t)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(t.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(e,0),this.pos=0);else{const a=(0,Ub.createView)(t);for(;r<=i-s;s+=r)this.process(a,s)}}return this.length+=t.length,this.roundClean(),this}digestInto(t){(0,Gx.exists)(this),(0,Gx.output)(t,this),this.finished=!0;const{buffer:e,view:n,blockLen:r,isLE:i}=this;let{pos:s}=this;e[s++]=128,this.buffer.subarray(s).fill(0),this.padOffset>r-s&&(this.process(n,0),s=0);for(let d=s;d<r;d++)e[d]=0;(function(d,h,p,m){if(typeof d.setBigUint64==\"function\")return d.setBigUint64(h,p,m);const b=BigInt(32),y=BigInt(4294967295),E=Number(p>>b&y),v=Number(p&y),_=m?4:0,C=m?0:4;d.setUint32(h+_,E,m),d.setUint32(h+C,v,m)})(n,r-8,BigInt(8*this.length),i),this.process(n,0);const o=(0,Ub.createView)(t),a=this.outputLen;if(a%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const c=a/4,l=this.get();if(c>l.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let d=0;d<c;d++)o.setUint32(4*d,l[d],i)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:e,buffer:n,length:r,finished:i,destroyed:s,pos:o}=this;return t.length=r,t.pos=o,t.finished=i,t.destroyed=s,r%e&&t.buffer.set(n),t}};var $t={};Object.defineProperty($t,\"__esModule\",{value:!0}),$t.add5L=$t.add5H=$t.add4H=$t.add4L=$t.add3H=$t.add3L=$t.rotlBL=$t.rotlBH=$t.rotlSL=$t.rotlSH=$t.rotr32L=$t.rotr32H=$t.rotrBL=$t.rotrBH=$t.rotrSL=$t.rotrSH=$t.shrSL=$t.shrSH=$t.toBig=void 0,$t.fromBig=TR,$t.split=qne,$t.add=rre;const C3=BigInt(2**32-1),$T=BigInt(32);function TR(t,e=!1){return e?{h:Number(t&C3),l:Number(t>>$T&C3)}:{h:0|Number(t>>$T&C3),l:0|Number(t&C3)}}function qne(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=TR(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const Hne=(t,e)=>BigInt(t>>>0)<<$T|BigInt(e>>>0);$t.toBig=Hne;const Vne=(t,e,n)=>t>>>n;$t.shrSH=Vne;const Kne=(t,e,n)=>t<<32-n|e>>>n;$t.shrSL=Kne;const Wne=(t,e,n)=>t>>>n|e<<32-n;$t.rotrSH=Wne;const Gne=(t,e,n)=>t<<32-n|e>>>n;$t.rotrSL=Gne;const Zne=(t,e,n)=>t<<64-n|e>>>n-32;$t.rotrBH=Zne;const Yne=(t,e,n)=>t>>>n-32|e<<64-n;$t.rotrBL=Yne;const Jne=(t,e)=>e;$t.rotr32H=Jne;const Xne=(t,e)=>t;$t.rotr32L=Xne;const Qne=(t,e,n)=>t<<n|e>>>32-n;$t.rotlSH=Qne;const ere=(t,e,n)=>e<<n|t>>>32-n;$t.rotlSL=ere;const tre=(t,e,n)=>e<<n-32|t>>>64-n;$t.rotlBH=tre;const nre=(t,e,n)=>t<<n-32|e>>>64-n;function rre(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:0|i}}$t.rotlBL=nre;const ire=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);$t.add3L=ire;const sre=(t,e,n,r)=>e+n+r+(t/2**32|0)|0;$t.add3H=sre;const ore=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0);$t.add4L=ore;const are=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0;$t.add4H=are;const cre=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0);$t.add5L=cre;const lre=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0;$t.add5H=lre;const d9e={fromBig:TR,split:qne,toBig:Hne,shrSH:Vne,shrSL:Kne,rotrSH:Wne,rotrSL:Gne,rotrBH:Zne,rotrBL:Yne,rotr32H:Jne,rotr32L:Xne,rotlSH:Qne,rotlSL:ere,rotlBH:tre,rotlBL:nre,add:rre,add3L:ire,add3H:sre,add4L:ore,add4H:are,add5H:lre,add5L:cre};$t.default=d9e,Object.defineProperty(oi,\"__esModule\",{value:!0}),oi.sha384=oi.sha512_256=oi.sha512_224=oi.sha512=oi.SHA384=oi.SHA512_256=oi.SHA512_224=oi.SHA512=void 0;const f9e=Bu,Nt=$t,S3=hd,[h9e,p9e]=Nt.default.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map((t=>BigInt(t)))),Vd=new Uint32Array(80),Kd=new Uint32Array(80);let e5=class extends f9e.HashMD{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:d,Fh:h,Fl:p,Gh:m,Gl:b,Hh:y,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,d,h,p,m,b,y,E]}set(e,n,r,i,s,o,a,c,l,d,h,p,m,b,y,E){this.Ah=0|e,this.Al=0|n,this.Bh=0|r,this.Bl=0|i,this.Ch=0|s,this.Cl=0|o,this.Dh=0|a,this.Dl=0|c,this.Eh=0|l,this.El=0|d,this.Fh=0|h,this.Fl=0|p,this.Gh=0|m,this.Gl=0|b,this.Hh=0|y,this.Hl=0|E}process(e,n){for(let C=0;C<16;C++,n+=4)Vd[C]=e.getUint32(n),Kd[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const S=0|Vd[C-15],A=0|Kd[C-15],I=Nt.default.rotrSH(S,A,1)^Nt.default.rotrSH(S,A,8)^Nt.default.shrSH(S,A,7),O=Nt.default.rotrSL(S,A,1)^Nt.default.rotrSL(S,A,8)^Nt.default.shrSL(S,A,7),D=0|Vd[C-2],N=0|Kd[C-2],U=Nt.default.rotrSH(D,N,19)^Nt.default.rotrBH(D,N,61)^Nt.default.shrSH(D,N,6),F=Nt.default.rotrSL(D,N,19)^Nt.default.rotrBL(D,N,61)^Nt.default.shrSL(D,N,6),H=Nt.default.add4L(O,F,Kd[C-7],Kd[C-16]),V=Nt.default.add4H(H,I,U,Vd[C-7],Vd[C-16]);Vd[C]=0|V,Kd[C]=0|H}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:d,Eh:h,El:p,Fh:m,Fl:b,Gh:y,Gl:E,Hh:v,Hl:_}=this;for(let C=0;C<80;C++){const S=Nt.default.rotrSH(h,p,14)^Nt.default.rotrSH(h,p,18)^Nt.default.rotrBH(h,p,41),A=Nt.default.rotrSL(h,p,14)^Nt.default.rotrSL(h,p,18)^Nt.default.rotrBL(h,p,41),I=h&m^~h&y,O=p&b^~p&E,D=Nt.default.add5L(_,A,O,p9e[C],Kd[C]),N=Nt.default.add5H(D,v,S,I,h9e[C],Vd[C]),U=0|D,F=Nt.default.rotrSH(r,i,28)^Nt.default.rotrBH(r,i,34)^Nt.default.rotrBH(r,i,39),H=Nt.default.rotrSL(r,i,28)^Nt.default.rotrBL(r,i,34)^Nt.default.rotrBL(r,i,39),V=r&s^r&a^s&a,M=i&o^i&c^o&c;v=0|y,_=0|E,y=0|m,E=0|b,m=0|h,b=0|p,{h,l:p}=Nt.default.add(0|l,0|d,0|N,0|U),l=0|a,d=0|c,a=0|s,c=0|o,s=0|r,o=0|i;const $=Nt.default.add3L(U,H,M);r=Nt.default.add3H($,N,F,V),i=0|$}({h:r,l:i}=Nt.default.add(0|this.Ah,0|this.Al,0|r,0|i)),{h:s,l:o}=Nt.default.add(0|this.Bh,0|this.Bl,0|s,0|o),{h:a,l:c}=Nt.default.add(0|this.Ch,0|this.Cl,0|a,0|c),{h:l,l:d}=Nt.default.add(0|this.Dh,0|this.Dl,0|l,0|d),{h,l:p}=Nt.default.add(0|this.Eh,0|this.El,0|h,0|p),{h:m,l:b}=Nt.default.add(0|this.Fh,0|this.Fl,0|m,0|b),{h:y,l:E}=Nt.default.add(0|this.Gh,0|this.Gl,0|y,0|E),{h:v,l:_}=Nt.default.add(0|this.Hh,0|this.Hl,0|v,0|_),this.set(r,i,s,o,a,c,l,d,h,p,m,b,y,E,v,_)}roundClean(){Vd.fill(0),Kd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};oi.SHA512=e5;let ure=class extends e5{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}};oi.SHA512_224=ure;let dre=class extends e5{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}};oi.SHA512_256=dre;let nF=class extends e5{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};oi.SHA384=nF,oi.sha512=(0,S3.wrapConstructor)((()=>new e5)),oi.sha512_224=(0,S3.wrapConstructor)((()=>new ure)),oi.sha512_256=(0,S3.wrapConstructor)((()=>new dre)),oi.sha384=(0,S3.wrapConstructor)((()=>new nF));var IT={},K1={},yn={},kt={};Object.defineProperty(kt,\"__esModule\",{value:!0}),kt.notImplemented=kt.bitMask=void 0,kt.isBytes=B8,kt.abytes=L8,kt.abool=function(t,e){if(typeof e!=\"boolean\")throw new Error(`${t} must be valid boolean, got \"${e}\".`)},kt.bytesToHex=Zx,kt.numberToHexUnpadded=rF,kt.hexToNumber=Yx,kt.hexToBytes=TE,kt.bytesToNumberBE=function(t){return Yx(Zx(t))},kt.bytesToNumberLE=function(t){return L8(t),Yx(Zx(Uint8Array.from(t).reverse()))},kt.numberToBytesBE=sF,kt.numberToBytesLE=function(t,e){return sF(t,e).reverse()},kt.numberToVarBytesBE=function(t){return TE(rF(t))},kt.ensureBytes=function(t,e,n){let r;if(typeof e==\"string\")try{r=TE(e)}catch(s){throw new Error(`${t} must be valid hex string, got \"${e}\". Cause: ${s}`)}else{if(!B8(e))throw new Error(`${t} must be hex string or Uint8Array`);r=Uint8Array.from(e)}const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r},kt.concatBytes=oF,kt.equalBytes=function(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0},kt.utf8ToBytes=function(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))},kt.inRange=aF,kt.aInRange=function(t,e,n,r){if(!aF(e,n,r))throw new Error(`expected valid ${t}: ${n} <= n < ${r}, got ${typeof e} ${e}`)},kt.bitLen=function(t){let e;for(e=0;t>TT;t>>=IE,e+=1);return e},kt.bitGet=function(t,e){return t>>BigInt(e)&IE},kt.bitSet=function(t,e,n){return t|(n?IE:TT)<<BigInt(e)},kt.createHmacDrbg=function(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=Xx(t),i=Xx(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=Xx())=>{i=a(cF([0]),d),r=a(),d.length!==0&&(i=a(cF([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return oF(...h)};return(d,h)=>{let p;for(o(),c(d);!(p=h(l()));)c();return o(),p}},kt.validateObject=function(t,e,n={}){const r=(i,s,o)=>{const a=y9e[s];if(typeof a!=\"function\")throw new Error(`Invalid validator \"${s}\", expected function`);const c=t[i];if(!(o&&c===void 0||a(c,t)))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t},kt.memoized=function(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}};const TT=BigInt(0),IE=BigInt(1),g9e=BigInt(2);function B8(t){return t instanceof Uint8Array||t!=null&&typeof t==\"object\"&&t.constructor.name===\"Uint8Array\"}function L8(t){if(!B8(t))throw new Error(\"Uint8Array expected\")}const m9e=Array.from({length:256},((t,e)=>e.toString(16).padStart(2,\"0\")));function Zx(t){L8(t);let e=\"\";for(let n=0;n<t.length;n++)e+=m9e[t[n]];return e}function rF(t){const e=t.toString(16);return 1&e.length?`0${e}`:e}function Yx(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return BigInt(t===\"\"?\"0\":`0x${t}`)}const su={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function iF(t){return t>=su._0&&t<=su._9?t-su._0:t>=su._A&&t<=su._F?t-(su._A-10):t>=su._a&&t<=su._f?t-(su._a-10):void 0}function TE(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"padded hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=iF(t.charCodeAt(s)),a=iF(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=16*o+a}return r}function sF(t,e){return TE(t.toString(16).padStart(2*e,\"0\"))}function oF(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];L8(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const Jx=t=>typeof t==\"bigint\"&&TT<=t;function aF(t,e,n){return Jx(t)&&Jx(e)&&Jx(n)&&e<=t&&t<n}kt.bitMask=t=>(g9e<<BigInt(t-1))-IE;const Xx=t=>new Uint8Array(t),cF=t=>Uint8Array.from(t),y9e={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||B8(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};kt.notImplemented=()=>{throw new Error(\"not implemented\")},Object.defineProperty(yn,\"__esModule\",{value:!0}),yn.isNegativeLE=void 0,yn.mod=Co,yn.pow=fre,yn.pow2=function(t,e,n){let r=t;for(;e-- >fi;)r*=r,r%=n;return r},yn.invert=x3,yn.tonelliShanks=hre,yn.FpSqrt=dF,yn.validateField=function(t){const e=w9e.reduce(((n,r)=>(n[r]=\"function\",n)),{ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"});return(0,go.validateObject)(t,e)},yn.FpPow=fF,yn.FpInvertBatch=hF,yn.FpDiv=function(t,e,n){return t.mul(e,typeof n==\"bigint\"?x3(n,t.ORDER):t.inv(n))},yn.FpLegendre=pF,yn.FpIsSquare=function(t){const e=pF(t.ORDER);return n=>{const r=e(t,n);return t.eql(r,t.ZERO)||t.eql(r,t.ONE)}},yn.nLength=Qx,yn.Field=function(t,e,n=!1,r={}){if(t<=fi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Qx(t,e);if(s>2048)throw new Error(\"Field lengths over 2048 bytes are not supported\");const o=dF(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:(0,go.bitMask)(i),ZERO:fi,ONE:Hn,create:c=>Co(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"Invalid field element: expected bigint, got \"+typeof c);return fi<=c&&c<t},is0:c=>c===fi,isOdd:c=>(c&Hn)===Hn,neg:c=>Co(-c,t),eql:(c,l)=>c===l,sqr:c=>Co(c*c,t),add:(c,l)=>Co(c+l,t),sub:(c,l)=>Co(c-l,t),mul:(c,l)=>Co(c*l,t),pow:(c,l)=>fF(a,c,l),div:(c,l)=>Co(c*x3(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>x3(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>hF(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?(0,go.numberToBytesLE)(c,s):(0,go.numberToBytesBE)(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?(0,go.bytesToNumberLE)(c):(0,go.bytesToNumberBE)(c)}});return Object.freeze(a)},yn.FpSqrtOdd=function(t,e){if(!t.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=t.sqrt(e);return t.isOdd(n)?n:t.neg(n)},yn.FpSqrtEven=function(t,e){if(!t.isOdd)throw new Error(\"Field doesn't have isOdd\");const n=t.sqrt(e);return t.isOdd(n)?t.neg(n):n},yn.hashToPrivateScalar=function(t,e,n=!1){t=(0,go.ensureBytes)(\"privateHash\",t);const r=t.length,i=Qx(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?(0,go.bytesToNumberLE)(t):(0,go.bytesToNumberBE)(t);return Co(s,e-Hn)+Hn},yn.getFieldBytesLength=OT,yn.getMinHashLength=gF,yn.mapHashToField=function(t,e,n=!1){const r=t.length,i=OT(e),s=gF(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=Co(n?(0,go.bytesToNumberBE)(t):(0,go.bytesToNumberLE)(t),e-Hn)+Hn;return n?(0,go.numberToBytesLE)(o,i):(0,go.numberToBytesBE)(o,i)};const go=kt,fi=BigInt(0),Hn=BigInt(1),Sf=BigInt(2),b9e=BigInt(3),PT=BigInt(4),lF=BigInt(5),uF=BigInt(8);function Co(t,e){const n=t%e;return n>=fi?n:e+n}function fre(t,e,n){if(n<=fi||e<fi)throw new Error(\"Expected power/modulo > 0\");if(n===Hn)return fi;let r=Hn;for(;e>fi;)e&Hn&&(r=r*t%n),t=t*t%n,e>>=Hn;return r}function x3(t,e){if(t===fi||e<=fi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Co(t,e),r=e,i=fi,s=Hn;for(;n!==fi;){const o=r%n,a=i-s*(r/n);r=n,n=o,i=s,s=a}if(r!==Hn)throw new Error(\"invert: does not exist\");return Co(i,e)}function hre(t){const e=(t-Hn)/Sf;let n,r,i;for(n=t-Hn,r=0;n%Sf===fi;n/=Sf,r++);for(i=Sf;i<t&&fre(i,e,t)!==t-Hn;i++);if(r===1){const o=(t+Hn)/PT;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error(\"Cannot find square root\");return l}}const s=(n+Hn)/Sf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error(\"Cannot find square root\");let c=r,l=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let b=o.sqr(h);p<c&&!o.eql(b,o.ONE);p++)b=o.sqr(b);const m=o.pow(l,Hn<<BigInt(c-p-1));l=o.sqr(m),d=o.mul(d,m),h=o.mul(h,l),c=p}return d}}function dF(t){if(t%PT===b9e){const e=(t+Hn)/PT;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error(\"Cannot find square root\");return i}}if(t%uF===lF){const e=(t-lF)/uF;return function(n,r){const i=n.mul(r,Sf),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,Sf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error(\"Cannot find square root\");return c}}return hre(t)}BigInt(9),BigInt(16);yn.isNegativeLE=(t,e)=>(Co(t,e)&Hn)===Hn;const w9e=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function fF(t,e,n){if(n<fi)throw new Error(\"Expected power > 0\");if(n===fi)return t.ONE;if(n===Hn)return e;let r=t.ONE,i=e;for(;n>fi;)n&Hn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Hn;return r}function hF(t,e){const n=new Array(e.length),r=e.reduce(((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o))),t.ONE),i=t.inv(r);return e.reduceRight(((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o))),i),n}function pF(t){const e=(t-Hn)/Sf;return(n,r)=>n.pow(r,e)}function Qx(t,e){const n=e!==void 0?e:t.toString(2).length;return{nBitLength:n,nByteLength:Math.ceil(n/8)}}function OT(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function gF(t){const e=OT(t);return e+Math.ceil(e/2)}Object.defineProperty(K1,\"__esModule\",{value:!0}),K1.wNAF=function(t,e){const n=(s,o)=>{const a=o.negate();return s?a:o},r=s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},i=s=>(r(s),{windows:Math.ceil(e/s)+1,windowSize:2**(s-1)});return{constTimeNegate:n,unsafeLadder(s,o){let a=t.ZERO,c=s;for(;o>v9e;)o&e7&&(a=a.add(c)),c=c.double(),o>>=e7;return a},precomputeWindow(s,o){const{windows:a,windowSize:c}=i(o),l=[];let d=s,h=d;for(let p=0;p<a;p++){h=d,l.push(h);for(let m=1;m<c;m++)h=h.add(d),l.push(h);d=h.double()}return l},wNAF(s,o,a){const{windows:c,windowSize:l}=i(s);let d=t.ZERO,h=t.BASE;const p=BigInt(2**s-1),m=2**s,b=BigInt(s);for(let y=0;y<c;y++){const E=y*l;let v=Number(a&p);a>>=b,v>l&&(v-=m,a+=e7);const _=E,C=E+Math.abs(v)-1,S=y%2!=0,A=v<0;v===0?h=h.add(n(S,o[_])):d=d.add(n(A,o[C]))}return{p:d,f:h}},wNAFCached(s,o,a){const c=bF.get(s)||1;let l=t7.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&t7.set(s,a(l))),this.wNAF(c,l,o)},setWindowSize(s,o){r(o),bF.set(s,o),t7.delete(s)}}},K1.pippenger=function(t,e,n,r){if(!Array.isArray(n)||!Array.isArray(r)||r.length!==n.length)throw new Error(\"arrays of points and scalars must have equal length\");r.forEach(((d,h)=>{if(!e.isValid(d))throw new Error(`wrong scalar at index ${h}`)})),n.forEach(((d,h)=>{if(!(d instanceof t))throw new Error(`wrong point at index ${h}`)}));const i=(0,yF.bitLen)(BigInt(n.length)),s=i>12?i-3:i>4?i-2:i?2:1,o=(1<<s)-1,a=new Array(o+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/s)*s;let l=t.ZERO;for(let d=c;d>=0;d-=s){a.fill(t.ZERO);for(let p=0;p<r.length;p++){const m=r[p],b=Number(m>>BigInt(d)&BigInt(o));a[b]=a[b].add(n[p])}let h=t.ZERO;for(let p=a.length-1,m=t.ZERO;p>0;p--)m=m.add(a[p]),h=h.add(m);if(l=l.add(h),d!==0)for(let p=0;p<s;p++)l=l.double()}return l},K1.validateBasic=function(t){return(0,mF.validateField)(t.Fp),(0,yF.validateObject)(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...(0,mF.nLength)(t.n,t.nBitLength),...t,p:t.Fp.ORDER})};const mF=yn,yF=kt,v9e=BigInt(0),e7=BigInt(1),t7=new WeakMap,bF=new WeakMap;Object.defineProperty(IT,\"__esModule\",{value:!0}),IT.twistedEdwards=function(t){const e=(function(V){const M=(0,n7.validateBasic)(V);return Ns.validateObject(V,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...M})})(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=A3<<BigInt(8*a)-Rs,d=n.create,h=(0,wF.Field)(e.n,e.nBitLength),p=e.uvRatio||((V,M)=>{try{return{isValid:!0,value:n.sqrt(V*n.inv(M))}}catch{return{isValid:!1,value:ja}}}),m=e.adjustScalarBytes||(V=>V),b=e.domain||((V,M,$)=>{if((0,mo.abool)(\"phflag\",$),M.length||$)throw new Error(\"Contexts/pre-hash are not supported\");return V});function y(V,M){Ns.aInRange(\"coordinate \"+V,M,ja,l)}function E(V){if(!(V instanceof C))throw new Error(\"ExtendedPoint expected\")}const v=(0,mo.memoized)(((V,M)=>{const{ex:$,ey:P,ez:q}=V,T=V.is0();M==null&&(M=T?E9e:n.inv(q));const k=d($*M),z=d(P*M),L=d(q*M);if(T)return{x:ja,y:Rs};if(L!==Rs)throw new Error(\"invZ was invalid\");return{x:k,y:z}})),_=(0,mo.memoized)((V=>{const{a:M,d:$}=e;if(V.is0())throw new Error(\"bad point: ZERO\");const{ex:P,ey:q,ez:T,et:k}=V,z=d(P*P),L=d(q*q),B=d(T*T),j=d(B*B),K=d(z*M);if(d(B*d(K+L))!==d(j+d($*d(z*L))))throw new Error(\"bad point: equation left != right (1)\");if(d(P*q)!==d(T*k))throw new Error(\"bad point: equation left != right (2)\");return!0}));class C{constructor(M,$,P,q){this.ex=M,this.ey=$,this.ez=P,this.et=q,y(\"x\",M),y(\"y\",$),y(\"z\",P),y(\"t\",q),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(M){if(M instanceof C)throw new Error(\"extended point not allowed\");const{x:$,y:P}=M||{};return y(\"x\",$),y(\"y\",P),new C($,P,Rs,d($*P))}static normalizeZ(M){const $=n.invertBatch(M.map((P=>P.ez)));return M.map(((P,q)=>P.toAffine($[q]))).map(C.fromAffine)}static msm(M,$){return(0,n7.pippenger)(C,h,M,$)}_setWindowSize(M){I.setWindowSize(this,M)}assertValidity(){_(this)}equals(M){E(M);const{ex:$,ey:P,ez:q}=this,{ex:T,ey:k,ez:z}=M,L=d($*z),B=d(T*q),j=d(P*z),K=d(k*q);return L===B&&j===K}is0(){return this.equals(C.ZERO)}negate(){return new C(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:M}=e,{ex:$,ey:P,ez:q}=this,T=d($*$),k=d(P*P),z=d(A3*d(q*q)),L=d(M*T),B=$+P,j=d(d(B*B)-T-k),K=L+k,G=K-z,Z=L-k,Y=d(j*G),X=d(K*Z),Q=d(j*Z),re=d(G*K);return new C(Y,X,re,Q)}add(M){E(M);const{a:$,d:P}=e,{ex:q,ey:T,ez:k,et:z}=this,{ex:L,ey:B,ez:j,et:K}=M;if($===BigInt(-1)){const Ve=d((T-q)*(B+L)),Xe=d((T+q)*(B-L)),We=d(Xe-Ve);if(We===ja)return this.double();const st=d(k*A3*K),xt=d(z*A3*j),Je=xt+st,lt=Xe+Ve,dt=xt-st,An=d(Je*We),Jn=d(lt*dt),bd=d(Je*dt),Nc=d(We*lt);return new C(An,Jn,Nc,bd)}const G=d(q*L),Z=d(T*B),Y=d(z*P*K),X=d(k*j),Q=d((q+T)*(L+B)-G-Z),re=X-Y,oe=X+Y,ue=d(Z-$*G),ye=d(Q*re),xe=d(oe*ue),Be=d(Q*ue),ke=d(re*oe);return new C(ye,xe,ke,Be)}subtract(M){return this.add(M.negate())}wNAF(M){return I.wNAFCached(this,M,C.normalizeZ)}multiply(M){const $=M;Ns.aInRange(\"scalar\",$,Rs,r);const{p:P,f:q}=this.wNAF($);return C.normalizeZ([P,q])[0]}multiplyUnsafe(M){const $=M;return Ns.aInRange(\"scalar\",$,ja,r),$===ja?A:this.equals(A)||$===Rs?this:this.equals(S)?this.wNAF($).p:I.unsafeLadder(this,$)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(M){return v(this,M)}clearCofactor(){const{h:M}=e;return M===Rs?this:this.multiplyUnsafe(M)}static fromHex(M,$=!1){const{d:P,a:q}=e,T=n.BYTES;M=(0,mo.ensureBytes)(\"pointHex\",M,T),(0,mo.abool)(\"zip215\",$);const k=M.slice(),z=M[T-1];k[T-1]=-129&z;const L=Ns.bytesToNumberLE(k),B=$?l:n.ORDER;Ns.aInRange(\"pointHex.y\",L,ja,B);const j=d(L*L),K=d(j-Rs),G=d(P*j-q);let{isValid:Z,value:Y}=p(K,G);if(!Z)throw new Error(\"Point.fromHex: invalid y coordinate\");const X=(Y&Rs)===Rs,Q=(128&z)!=0;if(!$&&Y===ja&&Q)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return Q!==X&&(Y=d(-Y)),C.fromAffine({x:Y,y:L})}static fromPrivateKey(M){return N(M).point}toRawBytes(){const{x:M,y:$}=this.toAffine(),P=Ns.numberToBytesLE($,n.BYTES);return P[P.length-1]|=M&Rs?128:0,P}toHex(){return Ns.bytesToHex(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,Rs,d(e.Gx*e.Gy)),C.ZERO=new C(ja,Rs,Rs,ja);const{BASE:S,ZERO:A}=C,I=(0,n7.wNAF)(C,8*a);function O(V){return(0,wF.mod)(V,r)}function D(V){return O(Ns.bytesToNumberLE(V))}function N(V){const M=a;V=(0,mo.ensureBytes)(\"private key\",V,M);const $=(0,mo.ensureBytes)(\"hashed private key\",s(V),2*M),P=m($.slice(0,M)),q=$.slice(M,2*M),T=D(P),k=S.multiply(T),z=k.toRawBytes();return{head:P,prefix:q,scalar:T,point:k,pointBytes:z}}function U(V=new Uint8Array,...M){const $=Ns.concatBytes(...M);return D(s(b($,(0,mo.ensureBytes)(\"context\",V),!!i)))}const F=_9e;return S._setWindowSize(8),{CURVE:e,getPublicKey:function(V){return N(V).pointBytes},sign:function(V,M,$={}){V=(0,mo.ensureBytes)(\"message\",V),i&&(V=i(V));const{prefix:P,scalar:q,pointBytes:T}=N(M),k=U($.context,P,V),z=S.multiply(k).toRawBytes(),L=O(k+U($.context,z,T,V)*q);Ns.aInRange(\"signature.s\",L,ja,r);const B=Ns.concatBytes(z,Ns.numberToBytesLE(L,n.BYTES));return(0,mo.ensureBytes)(\"result\",B,2*a)},verify:function(V,M,$,P=F){const{context:q,zip215:T}=P,k=n.BYTES;V=(0,mo.ensureBytes)(\"signature\",V,2*k),M=(0,mo.ensureBytes)(\"message\",M),T!==void 0&&(0,mo.abool)(\"zip215\",T),i&&(M=i(M));const z=Ns.bytesToNumberLE(V.slice(k,2*k));let L,B,j;try{L=C.fromHex($,T),B=C.fromHex(V.slice(0,k),T),j=S.multiplyUnsafe(z)}catch{return!1}if(!T&&L.isSmallOrder())return!1;const K=U(q,B.toRawBytes(),L.toRawBytes(),M);return B.add(L.multiplyUnsafe(K)).subtract(j).clearCofactor().equals(C.ZERO)},ExtendedPoint:C,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(n.BYTES),precompute:(V=8,M=C.BASE)=>(M._setWindowSize(V),M.multiply(BigInt(3)),M)}}};const n7=K1,wF=yn,Ns=kt,mo=kt,ja=BigInt(0),Rs=BigInt(1),A3=BigInt(2),E9e=BigInt(8),_9e={zip215:!0};var gf={};Object.defineProperty(gf,\"__esModule\",{value:!0}),gf.expand_message_xmd=pre,gf.expand_message_xof=gre,gf.hash_to_field=r7,gf.isogenyMap=function(t,e){const n=e.map((r=>Array.from(r).reverse()));return(r,i)=>{const[s,o,a,c]=n.map((l=>l.reduce(((d,h)=>t.add(t.mul(d,r),h)))));return r=t.div(s,o),i=t.mul(i,t.div(a,c)),{x:r,y:i}}},gf.createHasher=function(t,e,n){if(typeof e!=\"function\")throw new Error(\"mapToCurve() must be defined\");return{hashToCurve(r,i){const s=r7(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const s=r7(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o},mapToCurve(r){if(!Array.isArray(r))throw new Error(\"mapToCurve: expected array of bigints\");for(const s of r)if(typeof s!=\"bigint\")throw new Error(`mapToCurve: expected array of bigints, got ${s} in array`);const i=t.fromAffine(e(r)).clearCofactor();return i.assertValidity(),i}}};const C9e=yn,Xi=kt,S9e=Xi.bytesToNumberBE;function mf(t,e){if(Dv(t),Dv(e),t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=255&t,t>>>=8;return new Uint8Array(n)}function x9e(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Dv(t){if(!Number.isSafeInteger(t))throw new Error(\"number expected\")}function pre(t,e,n,r){(0,Xi.abytes)(t),(0,Xi.abytes)(e),Dv(n),e.length>255&&(e=r((0,Xi.concatBytes)((0,Xi.utf8ToBytes)(\"H2C-OVERSIZE-DST-\"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(n>65535||o>255)throw new Error(\"expand_message_xmd: invalid lenInBytes\");const a=(0,Xi.concatBytes)(e,mf(e.length,1)),c=mf(0,s),l=mf(n,2),d=new Array(o),h=r((0,Xi.concatBytes)(c,t,l,mf(0,1),a));d[0]=r((0,Xi.concatBytes)(h,mf(1,1),a));for(let p=1;p<=o;p++){const m=[x9e(h,d[p-1]),mf(p+1,1),a];d[p]=r((0,Xi.concatBytes)(...m))}return(0,Xi.concatBytes)(...d).slice(0,n)}function gre(t,e,n,r,i){if((0,Xi.abytes)(t),(0,Xi.abytes)(e),Dv(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update((0,Xi.utf8ToBytes)(\"H2C-OVERSIZE-DST-\")).update(e).digest()}if(n>65535||e.length>255)throw new Error(\"expand_message_xof: invalid lenInBytes\");return i.create({dkLen:n}).update(t).update(mf(n,2)).update(e).update(mf(e.length,1)).digest()}function r7(t,e,n){(0,Xi.validateObject)(n,{DST:\"stringOrUint8Array\",p:\"bigint\",m:\"isSafeInteger\",k:\"isSafeInteger\",hash:\"hash\"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;(0,Xi.abytes)(t),Dv(e);const l=typeof c==\"string\"?(0,Xi.utf8ToBytes)(c):c,d=r.toString(2).length,h=Math.ceil((d+i)/8),p=e*s*h;let m;if(a===\"xmd\")m=pre(t,l,p,o);else if(a===\"xof\")m=gre(t,l,p,i,o);else{if(a!==\"_internal_pass\")throw new Error('expand must be \"xmd\" or \"xof\"');m=t}const b=new Array(e);for(let y=0;y<e;y++){const E=new Array(s);for(let v=0;v<s;v++){const _=h*(v+y*s),C=m.subarray(_,_+h);E[v]=(0,C9e.mod)(S9e(C),r)}b[y]=E}return b}var NT={};Object.defineProperty(NT,\"__esModule\",{value:!0}),NT.montgomery=function(t){const e=(function(y){return(0,Wd.validateObject)(y,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...y})})(t),{P:n}=e,r=y=>(0,vF.mod)(y,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(y=>y),c=e.powPminus2||(y=>(0,vF.pow)(y,n-BigInt(2),n));function l(y,E,v){const _=r(y*(E-v));return[E=r(E-_),v=r(v+_)]}const d=(e.a-BigInt(2))/BigInt(4);function h(y){return(0,Wd.numberToBytesLE)(r(y),s)}function p(y,E){const v=(function(S){const A=(0,Wd.ensureBytes)(\"u coordinate\",S,s);return o===32&&(A[31]&=127),(0,Wd.bytesToNumberLE)(A)})(E),_=(function(S){const A=(0,Wd.ensureBytes)(\"scalar\",S),I=A.length;if(I!==s&&I!==o)throw new Error(`Expected ${s} or ${o} bytes, got ${I}`);return(0,Wd.bytesToNumberLE)(a(A))})(y),C=(function(S,A){(0,Wd.aInRange)(\"u\",S,qg,n),(0,Wd.aInRange)(\"scalar\",A,qg,n);const I=A,O=S;let D,N=i7,U=qg,F=S,H=i7,V=qg;for(let $=BigInt(i-1);$>=qg;$--){const P=I>>$&i7;V^=P,D=l(V,N,F),N=D[0],F=D[1],D=l(V,U,H),U=D[0],H=D[1],V=P;const q=N+U,T=r(q*q),k=N-U,z=r(k*k),L=T-z,B=F+H,j=r((F-H)*q),K=r(B*k),G=j+K,Z=j-K;F=r(G*G),H=r(O*r(Z*Z)),N=r(T*z),U=r(L*(T+r(d*L)))}D=l(V,N,F),N=D[0],F=D[1],D=l(V,U,H),U=D[0],H=D[1];const M=c(U);return r(N*M)})(v,_);if(C===qg)throw new Error(\"Invalid private or public key received\");return h(C)}const m=h(e.Gu);function b(y){return p(y,m)}return{scalarMult:p,scalarMultBase:b,getSharedSecret:(y,E)=>p(y,E),getPublicKey:y=>b(y),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:m}};const vF=yn,Wd=kt,qg=BigInt(0),i7=BigInt(1);(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.hash_to_ristretto255=t.hashToRistretto255=t.RistrettoPoint=t.encodeToCurve=t.hashToCurve=t.edwardsToMontgomery=t.x25519=t.ed25519ph=t.ed25519ctx=t.ed25519=t.ED25519_TORSION_SUBGROUP=void 0,t.edwardsToMontgomeryPub=I,t.edwardsToMontgomeryPriv=function(K){const G=S.hash(K.subarray(0,32));return S.adjustScalarBytes(G).subarray(0,32)};const e=oi,n=hd,r=IT,i=gf,s=yn,o=NT,a=kt,c=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),l=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\"),d=BigInt(0),h=BigInt(1),p=BigInt(2),m=BigInt(3),b=BigInt(5),y=BigInt(8);function E(K){const G=BigInt(10),Z=BigInt(20),Y=BigInt(40),X=BigInt(80),Q=c,re=K*K%Q*K%Q,oe=(0,s.pow2)(re,p,Q)*re%Q,ue=(0,s.pow2)(oe,h,Q)*K%Q,ye=(0,s.pow2)(ue,b,Q)*ue%Q,xe=(0,s.pow2)(ye,G,Q)*ye%Q,Be=(0,s.pow2)(xe,Z,Q)*xe%Q,ke=(0,s.pow2)(Be,Y,Q)*Be%Q,Ve=(0,s.pow2)(ke,X,Q)*ke%Q,Xe=(0,s.pow2)(Ve,X,Q)*ke%Q,We=(0,s.pow2)(Xe,G,Q)*ye%Q;return{pow_p_5_8:(0,s.pow2)(We,p,Q)*K%Q,b2:re}}function v(K){return K[0]&=248,K[31]&=127,K[31]|=64,K}function _(K,G){const Z=c,Y=(0,s.mod)(G*G*G,Z),X=E(K*(0,s.mod)(Y*Y*G,Z)).pow_p_5_8;let Q=(0,s.mod)(K*Y*X,Z);const re=(0,s.mod)(G*Q*Q,Z),oe=Q,ue=(0,s.mod)(Q*l,Z),ye=re===K,xe=re===(0,s.mod)(-K,Z),Be=re===(0,s.mod)(-K*l,Z);return ye&&(Q=oe),(xe||Be)&&(Q=ue),(0,s.isNegativeLE)(Q,Z)&&(Q=(0,s.mod)(-Q,Z)),{isValid:ye||xe,value:Q}}t.ED25519_TORSION_SUBGROUP=[\"0100000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a\",\"0000000000000000000000000000000000000000000000000000000000000080\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05\",\"ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f\",\"26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85\",\"0000000000000000000000000000000000000000000000000000000000000000\",\"c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa\"];const C=(0,s.Field)(c,void 0,!0),S={a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:C,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:y,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:e.sha512,randomBytes:n.randomBytes,adjustScalarBytes:v,uvRatio:_};function A(K,G,Z){if(G.length>255)throw new Error(\"Context is too big\");return(0,n.concatBytes)((0,n.utf8ToBytes)(\"SigEd25519 no Ed25519 collisions\"),new Uint8Array([Z?1:0,G.length]),G,K)}function I(K){const{y:G}=t.ed25519.ExtendedPoint.fromHex(K),Z=BigInt(1);return C.toBytes(C.create((Z+G)*C.inv(Z-G)))}t.ed25519=(0,r.twistedEdwards)(S),t.ed25519ctx=(0,r.twistedEdwards)({...S,domain:A}),t.ed25519ph=(0,r.twistedEdwards)(Object.assign({},S,{domain:A,prehash:e.sha512})),t.x25519=(0,o.montgomery)({P:c,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:K=>{const G=c,{pow_p_5_8:Z,b2:Y}=E(K);return(0,s.mod)((0,s.pow2)(Z,m,G)*Y,G)},adjustScalarBytes:v,randomBytes:n.randomBytes}),t.edwardsToMontgomery=I;const O=(C.ORDER+m)/y,D=C.pow(p,O),N=C.sqrt(C.neg(C.ONE)),U=(0,s.FpSqrtEven)(C,C.neg(BigInt(486664)));function F(K){const{xMn:G,xMd:Z,yMn:Y,yMd:X}=(function(ke){const Ve=(C.ORDER-b)/y,Xe=BigInt(486662);let We=C.sqr(ke);We=C.mul(We,p);let st=C.add(We,C.ONE),xt=C.neg(Xe),Je=C.sqr(st),lt=C.mul(Je,st),dt=C.mul(We,Xe);dt=C.mul(dt,xt),dt=C.add(dt,Je),dt=C.mul(dt,xt);let An=C.sqr(lt);Je=C.sqr(An),An=C.mul(An,lt),An=C.mul(An,dt),Je=C.mul(Je,An);let Jn=C.pow(Je,Ve);Jn=C.mul(Jn,An);let bd=C.mul(Jn,N);Je=C.sqr(Jn),Je=C.mul(Je,lt);let Nc=C.eql(Je,dt),Qp=C.cmov(bd,Jn,Nc),eg=C.mul(xt,We),wh=C.mul(Jn,ke);wh=C.mul(wh,D);let P9=C.mul(wh,N),vh=C.mul(dt,We);Je=C.sqr(wh),Je=C.mul(Je,lt);let is=C.eql(Je,vh),Rc=C.cmov(P9,wh,is);Je=C.sqr(Qp),Je=C.mul(Je,lt);let vi=C.eql(Je,dt),O9=C.cmov(eg,xt,vi),Eh=C.cmov(Rc,Qp,vi),N9=C.isOdd(Eh);return Eh=C.cmov(Eh,C.neg(Eh),vi!==N9),{xMn:O9,xMd:st,yMn:Eh,yMd:h}})(K);let Q=C.mul(G,X);Q=C.mul(Q,U);let re=C.mul(Z,Y),oe=C.sub(G,Z),ue=C.add(G,Z),ye=C.mul(re,ue),xe=C.eql(ye,C.ZERO);Q=C.cmov(Q,C.ZERO,xe),re=C.cmov(re,C.ONE,xe),oe=C.cmov(oe,C.ONE,xe),ue=C.cmov(ue,C.ONE,xe);const Be=C.invertBatch([re,ue]);return{x:C.mul(Q,Be[0]),y:C.mul(oe,Be[1])}}const H=(0,i.createHasher)(t.ed25519.ExtendedPoint,(K=>F(K[0])),{DST:\"edwards25519_XMD:SHA-512_ELL2_RO_\",encodeDST:\"edwards25519_XMD:SHA-512_ELL2_NU_\",p:C.ORDER,m:1,k:128,expand:\"xmd\",hash:e.sha512});function V(K){if(!(K instanceof j))throw new Error(\"RistrettoPoint expected\")}t.hashToCurve=H.hashToCurve,t.encodeToCurve=H.encodeToCurve;const M=l,$=BigInt(\"25063068953384623474111414158702152701244531502492656460079210482610430750235\"),P=BigInt(\"54469307008909316920995813868745141605393597292927456921205312896311721017578\"),q=BigInt(\"1159843021668779879193775521855586647937357759715417654439879720876111806838\"),T=BigInt(\"40440834346308536858101042469323190826248399146238708352240133220865137265952\"),k=K=>_(h,K),z=BigInt(\"0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff\"),L=K=>t.ed25519.CURVE.Fp.create((0,a.bytesToNumberLE)(K)&z);function B(K){const{d:G}=t.ed25519.CURVE,Z=t.ed25519.CURVE.Fp.ORDER,Y=t.ed25519.CURVE.Fp.create,X=Y(M*K*K),Q=Y((X+h)*q);let re=BigInt(-1);const oe=Y((re-G*X)*Y(X+G));let{isValid:ue,value:ye}=_(Q,oe),xe=Y(ye*K);(0,s.isNegativeLE)(xe,Z)||(xe=Y(-xe)),ue||(ye=xe),ue||(re=X);const Be=Y(re*(X-h)*T-oe),ke=ye*ye,Ve=Y((ye+ye)*oe),Xe=Y(Be*$),We=Y(h-ke),st=Y(h+ke);return new t.ed25519.ExtendedPoint(Y(Ve*st),Y(We*Xe),Y(Xe*st),Y(Ve*We))}class j{constructor(G){this.ep=G}static fromAffine(G){return new j(t.ed25519.ExtendedPoint.fromAffine(G))}static hashToCurve(G){G=(0,a.ensureBytes)(\"ristrettoHash\",G,64);const Z=B(L(G.slice(0,32))),Y=B(L(G.slice(32,64)));return new j(Z.add(Y))}static fromHex(G){G=(0,a.ensureBytes)(\"ristrettoHex\",G,32);const{a:Z,d:Y}=t.ed25519.CURVE,X=t.ed25519.CURVE.Fp.ORDER,Q=t.ed25519.CURVE.Fp.create,re=\"RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint\",oe=L(G);if(!(0,a.equalBytes)((0,a.numberToBytesLE)(oe,32),G)||(0,s.isNegativeLE)(oe,X))throw new Error(re);const ue=Q(oe*oe),ye=Q(h+Z*ue),xe=Q(h-Z*ue),Be=Q(ye*ye),ke=Q(xe*xe),Ve=Q(Z*Y*Be-ke),{isValid:Xe,value:We}=k(Q(Ve*ke)),st=Q(We*xe),xt=Q(We*st*Ve);let Je=Q((oe+oe)*st);(0,s.isNegativeLE)(Je,X)&&(Je=Q(-Je));const lt=Q(ye*xt),dt=Q(Je*lt);if(!Xe||(0,s.isNegativeLE)(dt,X)||lt===d)throw new Error(re);return new j(new t.ed25519.ExtendedPoint(Je,lt,h,dt))}toRawBytes(){let{ex:G,ey:Z,ez:Y,et:X}=this.ep;const Q=t.ed25519.CURVE.Fp.ORDER,re=t.ed25519.CURVE.Fp.create,oe=re(re(Y+Z)*re(Y-Z)),ue=re(G*Z),ye=re(ue*ue),{value:xe}=k(re(oe*ye)),Be=re(xe*oe),ke=re(xe*ue),Ve=re(Be*ke*X);let Xe;if((0,s.isNegativeLE)(X*Ve,Q)){let st=re(Z*M),xt=re(G*M);G=st,Z=xt,Xe=re(Be*P)}else Xe=ke;(0,s.isNegativeLE)(G*Ve,Q)&&(Z=re(-Z));let We=re((Y-Z)*Xe);return(0,s.isNegativeLE)(We,Q)&&(We=re(-We)),(0,a.numberToBytesLE)(We,32)}toHex(){return(0,a.bytesToHex)(this.toRawBytes())}toString(){return this.toHex()}equals(G){V(G);const{ex:Z,ey:Y}=this.ep,{ex:X,ey:Q}=G.ep,re=t.ed25519.CURVE.Fp.create,oe=re(Z*Q)===re(Y*X),ue=re(Y*Q)===re(Z*X);return oe||ue}add(G){return V(G),new j(this.ep.add(G.ep))}subtract(G){return V(G),new j(this.ep.subtract(G.ep))}multiply(G){return new j(this.ep.multiply(G))}multiplyUnsafe(G){return new j(this.ep.multiplyUnsafe(G))}double(){return new j(this.ep.double())}negate(){return new j(this.ep.negate())}}t.RistrettoPoint=(j.BASE||(j.BASE=new j(t.ed25519.ExtendedPoint.BASE)),j.ZERO||(j.ZERO=new j(t.ed25519.ExtendedPoint.ZERO)),j),t.hashToRistretto255=(K,G)=>{const Z=G.DST,Y=typeof Z==\"string\"?(0,n.utf8ToBytes)(Z):Z,X=(0,i.expand_message_xmd)(K,Y,64,e.sha512);return j.hashToCurve(X)},t.hash_to_ristretto255=t.hashToRistretto255})(Bne);var mre={},Lu={};Object.defineProperty(Lu,\"__esModule\",{value:!0}),Lu.sha224=Lu.sha256=Lu.SHA256=void 0;const s7=Bu,va=hd,A9e=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Gd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zd=new Uint32Array(64);let PR=class extends s7.HashMD{constructor(){super(64,32,8,!1),this.A=0|Gd[0],this.B=0|Gd[1],this.C=0|Gd[2],this.D=0|Gd[3],this.E=0|Gd[4],this.F=0|Gd[5],this.G=0|Gd[6],this.H=0|Gd[7]}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=0|e,this.B=0|n,this.C=0|r,this.D=0|i,this.E=0|s,this.F=0|o,this.G=0|a,this.H=0|c}process(e,n){for(let h=0;h<16;h++,n+=4)Zd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Zd[h-15],m=Zd[h-2],b=(0,va.rotr)(p,7)^(0,va.rotr)(p,18)^p>>>3,y=(0,va.rotr)(m,17)^(0,va.rotr)(m,19)^m>>>10;Zd[h]=y+Zd[h-7]+b+Zd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const p=d+((0,va.rotr)(a,6)^(0,va.rotr)(a,11)^(0,va.rotr)(a,25))+(0,s7.Chi)(a,c,l)+A9e[h]+Zd[h]|0,m=((0,va.rotr)(r,2)^(0,va.rotr)(r,13)^(0,va.rotr)(r,22))+(0,s7.Maj)(r,i,s)|0;d=l,l=c,c=a,a=o+p|0,o=s,s=i,i=r,r=p+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){Zd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};Lu.SHA256=PR;let $9e=class extends PR{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Lu.sha256=(0,va.wrapConstructor)((()=>new PR)),Lu.sha224=(0,va.wrapConstructor)((()=>new $9e));var PE={},OR={};(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.hmac=t.HMAC=void 0;const e=xo,n=hd;class r extends n.Hash{constructor(s,o){super(),this.finished=!1,this.destroyed=!1,(0,e.hash)(s);const a=(0,n.toBytes)(o);if(this.iHash=s.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const c=this.blockLen,l=new Uint8Array(c);l.set(a.length>c?s.create().update(a).digest():a);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=s.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(s){return(0,e.exists)(this),this.iHash.update(s),this}digestInto(s){(0,e.exists)(this),(0,e.bytes)(s,this.outputLen),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){const s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));const{oHash:o,iHash:a,finished:c,destroyed:l,blockLen:d,outputLen:h}=this;return s.finished=c,s.destroyed=l,s.blockLen=d,s.outputLen=h,s.oHash=o._cloneInto(s.oHash),s.iHash=a._cloneInto(s.iHash),s}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}t.HMAC=r,t.hmac=(i,s,o)=>new r(i,s).update(o).digest(),t.hmac.create=(i,s)=>new r(i,s)})(OR);var NR={};(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.DER=void 0,t.weierstrassPoints=m,t.weierstrass=function(y){const E=(function(K){const G=(0,e.validateBasic)(K);return r.validateObject(G,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...G})})(y),{Fp:v,n:_}=E,C=v.BYTES+1,S=2*v.BYTES+1;function A(K){return n.mod(K,_)}function I(K){return n.invert(K,_)}const{ProjectivePoint:O,normPrivateKeyToScalar:D,weierstrassEquation:N,isWithinCurveOrder:U}=m({...E,toBytes(K,G,Z){const Y=G.toAffine(),X=v.toBytes(Y.x),Q=r.concatBytes;return(0,i.abool)(\"isCompressed\",Z),Z?Q(Uint8Array.from([G.hasEvenY()?2:3]),X):Q(Uint8Array.from([4]),X,v.toBytes(Y.y))},fromBytes(K){const G=K.length,Z=K[0],Y=K.subarray(1);if(G!==C||Z!==2&&Z!==3){if(G===S&&Z===4)return{x:v.fromBytes(Y.subarray(0,v.BYTES)),y:v.fromBytes(Y.subarray(v.BYTES,2*v.BYTES))};throw new Error(`Point of length ${G} was invalid. Expected ${C} compressed bytes or ${S} uncompressed bytes`)}{const X=r.bytesToNumberBE(Y);if(!r.inRange(X,l,v.ORDER))throw new Error(\"Point is not on curve\");const Q=N(X);let re;try{re=v.sqrt(Q)}catch(oe){const ue=oe instanceof Error?\": \"+oe.message:\"\";throw new Error(\"Point is not on curve\"+ue)}return(1&Z)==1!=((re&l)===l)&&(re=v.neg(re)),{x:X,y:re}}}}),F=K=>r.bytesToHex(r.numberToBytesBE(K,E.nByteLength));function H(K){return K>_>>l}const V=(K,G,Z)=>r.bytesToNumberBE(K.slice(G,Z));class M{constructor(G,Z,Y){this.r=G,this.s=Z,this.recovery=Y,this.assertValidity()}static fromCompact(G){const Z=E.nByteLength;return G=(0,i.ensureBytes)(\"compactSignature\",G,2*Z),new M(V(G,0,Z),V(G,Z,2*Z))}static fromDER(G){const{r:Z,s:Y}=t.DER.toSig((0,i.ensureBytes)(\"DER\",G));return new M(Z,Y)}assertValidity(){r.aInRange(\"r\",this.r,l,_),r.aInRange(\"s\",this.s,l,_)}addRecoveryBit(G){return new M(this.r,this.s,G)}recoverPublicKey(G){const{r:Z,s:Y,recovery:X}=this,Q=T((0,i.ensureBytes)(\"msgHash\",G));if(X==null||![0,1,2,3].includes(X))throw new Error(\"recovery id invalid\");const re=X===2||X===3?Z+E.n:Z;if(re>=v.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const oe=(1&X)==0?\"02\":\"03\",ue=O.fromHex(oe+F(re)),ye=I(re),xe=A(-Q*ye),Be=A(Y*ye),ke=O.BASE.multiplyAndAddUnsafe(ue,xe,Be);if(!ke)throw new Error(\"point at infinify\");return ke.assertValidity(),ke}hasHighS(){return H(this.s)}normalizeS(){return this.hasHighS()?new M(this.r,A(-this.s),this.recovery):this}toDERRawBytes(){return r.hexToBytes(this.toDERHex())}toDERHex(){return t.DER.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return r.hexToBytes(this.toCompactHex())}toCompactHex(){return F(this.r)+F(this.s)}}const $={isValidPrivateKey(K){try{return D(K),!0}catch{return!1}},normPrivateKeyToScalar:D,randomPrivateKey:()=>{const K=n.getMinHashLength(E.n);return n.mapHashToField(E.randomBytes(K),E.n)},precompute:(K=8,G=O.BASE)=>(G._setWindowSize(K),G.multiply(BigInt(3)),G)};function P(K){const G=r.isBytes(K),Z=typeof K==\"string\",Y=(G||Z)&&K.length;return G?Y===C||Y===S:Z?Y===2*C||Y===2*S:K instanceof O}const q=E.bits2int||function(K){const G=r.bytesToNumberBE(K),Z=8*K.length-E.nBitLength;return Z>0?G>>BigInt(Z):G},T=E.bits2int_modN||function(K){return A(q(K))},k=r.bitMask(E.nBitLength);function z(K){return r.aInRange(`num < 2^${E.nBitLength}`,K,c,k),r.numberToBytesBE(K,E.nByteLength)}function L(K,G,Z=B){if([\"recovered\",\"canonical\"].some((Ve=>Ve in Z)))throw new Error(\"sign() legacy options not supported\");const{hash:Y,randomBytes:X}=E;let{lowS:Q,prehash:re,extraEntropy:oe}=Z;Q==null&&(Q=!0),K=(0,i.ensureBytes)(\"msgHash\",K),s(Z),re&&(K=(0,i.ensureBytes)(\"prehashed msgHash\",Y(K)));const ue=T(K),ye=D(G),xe=[z(ye),z(ue)];if(oe!=null&&oe!==!1){const Ve=oe===!0?X(v.BYTES):oe;xe.push((0,i.ensureBytes)(\"extraEntropy\",Ve))}const Be=r.concatBytes(...xe),ke=ue;return{seed:Be,k2sig:function(Ve){const Xe=q(Ve);if(!U(Xe))return;const We=I(Xe),st=O.BASE.multiply(Xe).toAffine(),xt=A(st.x);if(xt===c)return;const Je=A(We*A(ke+xt*ye));if(Je===c)return;let lt=(st.x===xt?0:2)|Number(st.y&l),dt=Je;return Q&&H(Je)&&(dt=(function(An){return H(An)?A(-An):An})(Je),lt^=1),new M(xt,dt,lt)}}}const B={lowS:E.lowS,prehash:!1},j={lowS:E.lowS,prehash:!1};return O.BASE._setWindowSize(8),{CURVE:E,getPublicKey:function(K,G=!0){return O.fromPrivateKey(K).toRawBytes(G)},getSharedSecret:function(K,G,Z=!0){if(P(K))throw new Error(\"first arg must be private key\");if(!P(G))throw new Error(\"second arg must be public key\");return O.fromHex(G).multiply(D(K)).toRawBytes(Z)},sign:function(K,G,Z=B){const{seed:Y,k2sig:X}=L(K,G,Z),Q=E;return r.createHmacDrbg(Q.hash.outputLen,Q.nByteLength,Q.hmac)(Y,X)},verify:function(K,G,Z,Y=j){var xt;const X=K;if(G=(0,i.ensureBytes)(\"msgHash\",G),Z=(0,i.ensureBytes)(\"publicKey\",Z),\"strict\"in Y)throw new Error(\"options.strict was renamed to lowS\");s(Y);const{lowS:Q,prehash:re}=Y;let oe,ue;try{if(typeof X==\"string\"||r.isBytes(X))try{oe=M.fromDER(X)}catch(Je){if(!(Je instanceof t.DER.Err))throw Je;oe=M.fromCompact(X)}else{if(typeof X!=\"object\"||typeof X.r!=\"bigint\"||typeof X.s!=\"bigint\")throw new Error(\"PARSE\");{const{r:Je,s:lt}=X;oe=new M(Je,lt)}}ue=O.fromHex(Z)}catch(Je){if(Je.message===\"PARSE\")throw new Error(\"signature must be Signature instance, Uint8Array or hex string\");return!1}if(Q&&oe.hasHighS())return!1;re&&(G=E.hash(G));const{r:ye,s:xe}=oe,Be=T(G),ke=I(xe),Ve=A(Be*ke),Xe=A(ye*ke),We=(xt=O.BASE.multiplyAndAddUnsafe(ue,Ve,Xe))==null?void 0:xt.toAffine();return We?A(We.x)===ye:!1},ProjectivePoint:O,Signature:M,utils:$}},t.SWUFpSqrtRatio=b,t.mapToCurveSimpleSWU=function(y,E){if(n.validateField(y),!y.isValid(E.A)||!y.isValid(E.B)||!y.isValid(E.Z))throw new Error(\"mapToCurveSimpleSWU: invalid opts\");const v=b(y,E.Z);if(!y.isOdd)throw new Error(\"Fp.isOdd is not implemented!\");return _=>{let C,S,A,I,O,D,N,U;C=y.sqr(_),C=y.mul(C,E.Z),S=y.sqr(C),S=y.add(S,C),A=y.add(S,y.ONE),A=y.mul(A,E.B),I=y.cmov(E.Z,y.neg(S),!y.eql(S,y.ZERO)),I=y.mul(I,E.A),S=y.sqr(A),D=y.sqr(I),O=y.mul(D,E.A),S=y.add(S,O),S=y.mul(S,A),D=y.mul(D,I),O=y.mul(D,E.B),S=y.add(S,O),N=y.mul(C,A);const{isValid:F,value:H}=v(S,D);U=y.mul(C,_),U=y.mul(U,H),N=y.cmov(N,A,F),U=y.cmov(U,H,F);const V=y.isOdd(_)===y.isOdd(U);return U=y.cmov(y.neg(U),U,V),N=y.div(N,I),{x:N,y:U}}};const e=K1,n=yn,r=kt,i=kt;function s(y){y.lowS!==void 0&&(0,i.abool)(\"lowS\",y.lowS),y.prehash!==void 0&&(0,i.abool)(\"prehash\",y.prehash)}const{bytesToNumberBE:o,hexToBytes:a}=r;t.DER={Err:class extends Error{constructor(y=\"\"){super(y)}},_tlv:{encode:(y,E)=>{const{Err:v}=t.DER;if(y<0||y>256)throw new v(\"tlv.encode: wrong tag\");if(1&E.length)throw new v(\"tlv.encode: unpadded data\");const _=E.length/2,C=r.numberToHexUnpadded(_);if(C.length/2&128)throw new v(\"tlv.encode: long form length too big\");const S=_>127?r.numberToHexUnpadded(C.length/2|128):\"\";return`${r.numberToHexUnpadded(y)}${S}${C}${E}`},decode(y,E){const{Err:v}=t.DER;let _=0;if(y<0||y>256)throw new v(\"tlv.encode: wrong tag\");if(E.length<2||E[_++]!==y)throw new v(\"tlv.decode: wrong tlv\");const C=E[_++];let S=0;if(128&C){const I=127&C;if(!I)throw new v(\"tlv.decode(long): indefinite length not supported\");if(I>4)throw new v(\"tlv.decode(long): byte length is too big\");const O=E.subarray(_,_+I);if(O.length!==I)throw new v(\"tlv.decode: length bytes not complete\");if(O[0]===0)throw new v(\"tlv.decode(long): zero leftmost byte\");for(const D of O)S=S<<8|D;if(_+=I,S<128)throw new v(\"tlv.decode(long): not minimal encoding\")}else S=C;const A=E.subarray(_,_+S);if(A.length!==S)throw new v(\"tlv.decode: wrong value length\");return{v:A,l:E.subarray(_+S)}}},_int:{encode(y){const{Err:E}=t.DER;if(y<c)throw new E(\"integer: negative integers are not allowed\");let v=r.numberToHexUnpadded(y);if(8&Number.parseInt(v[0],16)&&(v=\"00\"+v),1&v.length)throw new E(\"unexpected assertion\");return v},decode(y){const{Err:E}=t.DER;if(128&y[0])throw new E(\"Invalid signature integer: negative\");if(y[0]===0&&!(128&y[1]))throw new E(\"Invalid signature integer: unnecessary leading zero\");return o(y)}},toSig(y){const{Err:E,_int:v,_tlv:_}=t.DER,C=typeof y==\"string\"?a(y):y;r.abytes(C);const{v:S,l:A}=_.decode(48,C);if(A.length)throw new E(\"Invalid signature: left bytes after parsing\");const{v:I,l:O}=_.decode(2,S),{v:D,l:N}=_.decode(2,O);if(N.length)throw new E(\"Invalid signature: left bytes after parsing\");return{r:v.decode(I),s:v.decode(D)}},hexFromSig(y){const{_tlv:E,_int:v}=t.DER,_=`${E.encode(2,v.encode(y.r))}${E.encode(2,v.encode(y.s))}`;return E.encode(48,_)}};const c=BigInt(0),l=BigInt(1),d=BigInt(2),h=BigInt(3),p=BigInt(4);function m(y){const E=(function(V){const M=(0,e.validateBasic)(V);r.validateObject(M,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:$,Fp:P,a:q}=M;if($){if(!P.eql(q,P.ZERO))throw new Error(\"Endomorphism can only be defined for Koblitz curves that have a=0\");if(typeof $!=\"object\"||typeof $.beta!=\"bigint\"||typeof $.splitScalar!=\"function\")throw new Error(\"Expected endomorphism with beta: bigint and splitScalar: function\")}return Object.freeze({...M})})(y),{Fp:v}=E,_=n.Field(E.n,E.nBitLength),C=E.toBytes||((V,M,$)=>{const P=M.toAffine();return r.concatBytes(Uint8Array.from([4]),v.toBytes(P.x),v.toBytes(P.y))}),S=E.fromBytes||(V=>{const M=V.subarray(1);return{x:v.fromBytes(M.subarray(0,v.BYTES)),y:v.fromBytes(M.subarray(v.BYTES,2*v.BYTES))}});function A(V){const{a:M,b:$}=E,P=v.sqr(V),q=v.mul(P,V);return v.add(v.add(q,v.mul(V,M)),$)}if(!v.eql(v.sqr(E.Gy),A(E.Gx)))throw new Error(\"bad generator point: equation left != right\");function I(V){const{allowedPrivateKeyLengths:M,nByteLength:$,wrapPrivateKey:P,n:q}=E;if(M&&typeof V!=\"bigint\"){if(r.isBytes(V)&&(V=r.bytesToHex(V)),typeof V!=\"string\"||!M.includes(V.length))throw new Error(\"Invalid key\");V=V.padStart(2*$,\"0\")}let T;try{T=typeof V==\"bigint\"?V:r.bytesToNumberBE((0,i.ensureBytes)(\"private key\",V,$))}catch{throw new Error(`private key must be ${$} bytes, hex or bigint, not ${typeof V}`)}return P&&(T=n.mod(T,q)),r.aInRange(\"private key\",T,l,q),T}function O(V){if(!(V instanceof U))throw new Error(\"ProjectivePoint expected\")}const D=(0,i.memoized)(((V,M)=>{const{px:$,py:P,pz:q}=V;if(v.eql(q,v.ONE))return{x:$,y:P};const T=V.is0();M==null&&(M=T?v.ONE:v.inv(q));const k=v.mul($,M),z=v.mul(P,M),L=v.mul(q,M);if(T)return{x:v.ZERO,y:v.ZERO};if(!v.eql(L,v.ONE))throw new Error(\"invZ was invalid\");return{x:k,y:z}})),N=(0,i.memoized)((V=>{if(V.is0()){if(E.allowInfinityPoint&&!v.is0(V.py))return;throw new Error(\"bad point: ZERO\")}const{x:M,y:$}=V.toAffine();if(!v.isValid(M)||!v.isValid($))throw new Error(\"bad point: x or y not FE\");const P=v.sqr($),q=A(M);if(!v.eql(P,q))throw new Error(\"bad point: equation left != right\");if(!V.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0}));class U{constructor(M,$,P){if(this.px=M,this.py=$,this.pz=P,M==null||!v.isValid(M))throw new Error(\"x required\");if($==null||!v.isValid($))throw new Error(\"y required\");if(P==null||!v.isValid(P))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(M){const{x:$,y:P}=M||{};if(!M||!v.isValid($)||!v.isValid(P))throw new Error(\"invalid affine point\");if(M instanceof U)throw new Error(\"projective point not allowed\");const q=T=>v.eql(T,v.ZERO);return q($)&&q(P)?U.ZERO:new U($,P,v.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(M){const $=v.invertBatch(M.map((P=>P.pz)));return M.map(((P,q)=>P.toAffine($[q]))).map(U.fromAffine)}static fromHex(M){const $=U.fromAffine(S((0,i.ensureBytes)(\"pointHex\",M)));return $.assertValidity(),$}static fromPrivateKey(M){return U.BASE.multiply(I(M))}static msm(M,$){return(0,e.pippenger)(U,_,M,$)}_setWindowSize(M){H.setWindowSize(this,M)}assertValidity(){N(this)}hasEvenY(){const{y:M}=this.toAffine();if(v.isOdd)return!v.isOdd(M);throw new Error(\"Field doesn't support isOdd\")}equals(M){O(M);const{px:$,py:P,pz:q}=this,{px:T,py:k,pz:z}=M,L=v.eql(v.mul($,z),v.mul(T,q)),B=v.eql(v.mul(P,z),v.mul(k,q));return L&&B}negate(){return new U(this.px,v.neg(this.py),this.pz)}double(){const{a:M,b:$}=E,P=v.mul($,h),{px:q,py:T,pz:k}=this;let z=v.ZERO,L=v.ZERO,B=v.ZERO,j=v.mul(q,q),K=v.mul(T,T),G=v.mul(k,k),Z=v.mul(q,T);return Z=v.add(Z,Z),B=v.mul(q,k),B=v.add(B,B),z=v.mul(M,B),L=v.mul(P,G),L=v.add(z,L),z=v.sub(K,L),L=v.add(K,L),L=v.mul(z,L),z=v.mul(Z,z),B=v.mul(P,B),G=v.mul(M,G),Z=v.sub(j,G),Z=v.mul(M,Z),Z=v.add(Z,B),B=v.add(j,j),j=v.add(B,j),j=v.add(j,G),j=v.mul(j,Z),L=v.add(L,j),G=v.mul(T,k),G=v.add(G,G),j=v.mul(G,Z),z=v.sub(z,j),B=v.mul(G,K),B=v.add(B,B),B=v.add(B,B),new U(z,L,B)}add(M){O(M);const{px:$,py:P,pz:q}=this,{px:T,py:k,pz:z}=M;let L=v.ZERO,B=v.ZERO,j=v.ZERO;const K=E.a,G=v.mul(E.b,h);let Z=v.mul($,T),Y=v.mul(P,k),X=v.mul(q,z),Q=v.add($,P),re=v.add(T,k);Q=v.mul(Q,re),re=v.add(Z,Y),Q=v.sub(Q,re),re=v.add($,q);let oe=v.add(T,z);return re=v.mul(re,oe),oe=v.add(Z,X),re=v.sub(re,oe),oe=v.add(P,q),L=v.add(k,z),oe=v.mul(oe,L),L=v.add(Y,X),oe=v.sub(oe,L),j=v.mul(K,re),L=v.mul(G,X),j=v.add(L,j),L=v.sub(Y,j),j=v.add(Y,j),B=v.mul(L,j),Y=v.add(Z,Z),Y=v.add(Y,Z),X=v.mul(K,X),re=v.mul(G,re),Y=v.add(Y,X),X=v.sub(Z,X),X=v.mul(K,X),re=v.add(re,X),Z=v.mul(Y,re),B=v.add(B,Z),Z=v.mul(oe,re),L=v.mul(Q,L),L=v.sub(L,Z),Z=v.mul(Q,Y),j=v.mul(oe,j),j=v.add(j,Z),new U(L,B,j)}subtract(M){return this.add(M.negate())}is0(){return this.equals(U.ZERO)}wNAF(M){return H.wNAFCached(this,M,U.normalizeZ)}multiplyUnsafe(M){r.aInRange(\"scalar\",M,c,E.n);const $=U.ZERO;if(M===c)return $;if(M===l)return this;const{endo:P}=E;if(!P)return H.unsafeLadder(this,M);let{k1neg:q,k1:T,k2neg:k,k2:z}=P.splitScalar(M),L=$,B=$,j=this;for(;T>c||z>c;)T&l&&(L=L.add(j)),z&l&&(B=B.add(j)),j=j.double(),T>>=l,z>>=l;return q&&(L=L.negate()),k&&(B=B.negate()),B=new U(v.mul(B.px,P.beta),B.py,B.pz),L.add(B)}multiply(M){const{endo:$,n:P}=E;let q,T;if(r.aInRange(\"scalar\",M,l,P),$){const{k1neg:k,k1:z,k2neg:L,k2:B}=$.splitScalar(M);let{p:j,f:K}=this.wNAF(z),{p:G,f:Z}=this.wNAF(B);j=H.constTimeNegate(k,j),G=H.constTimeNegate(L,G),G=new U(v.mul(G.px,$.beta),G.py,G.pz),q=j.add(G),T=K.add(Z)}else{const{p:k,f:z}=this.wNAF(M);q=k,T=z}return U.normalizeZ([q,T])[0]}multiplyAndAddUnsafe(M,$,P){const q=U.BASE,T=(z,L)=>L!==c&&L!==l&&z.equals(q)?z.multiply(L):z.multiplyUnsafe(L),k=T(this,$).add(T(M,P));return k.is0()?void 0:k}toAffine(M){return D(this,M)}isTorsionFree(){const{h:M,isTorsionFree:$}=E;if(M===l)return!0;if($)return $(U,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:M,clearCofactor:$}=E;return M===l?this:$?$(U,this):this.multiplyUnsafe(E.h)}toRawBytes(M=!0){return(0,i.abool)(\"isCompressed\",M),this.assertValidity(),C(U,this,M)}toHex(M=!0){return(0,i.abool)(\"isCompressed\",M),r.bytesToHex(this.toRawBytes(M))}}U.BASE=new U(E.Gx,E.Gy,v.ONE),U.ZERO=new U(v.ZERO,v.ONE,v.ZERO);const F=E.nBitLength,H=(0,e.wNAF)(U,E.endo?Math.ceil(F/2):F);return{CURVE:E,ProjectivePoint:U,normPrivateKeyToScalar:I,weierstrassEquation:A,isWithinCurveOrder:function(V){return r.inRange(V,l,E.n)}}}function b(y,E){const v=y.ORDER;let _=c;for(let V=v-l;V%d===c;V/=d)_+=l;const C=_,S=d<<C-l-l,A=S*d,I=(v-l)/A,O=(I-l)/d,D=A-l,N=S,U=y.pow(E,I),F=y.pow(E,(I+l)/d);let H=(V,M)=>{let $=U,P=y.pow(M,D),q=y.sqr(P);q=y.mul(q,M);let T=y.mul(V,q);T=y.pow(T,O),T=y.mul(T,P),P=y.mul(T,M),q=y.mul(T,V);let k=y.mul(q,P);T=y.pow(k,N);let z=y.eql(T,y.ONE);P=y.mul(q,F),T=y.mul(k,$),q=y.cmov(P,q,z),k=y.cmov(T,k,z);for(let L=C;L>l;L--){let B=L-d;B=d<<B-l;let j=y.pow(k,B);const K=y.eql(j,y.ONE);P=y.mul(q,$),$=y.mul($,$),j=y.mul(k,$),q=y.cmov(P,q,K),k=y.cmov(j,k,K)}return{isValid:z,value:q}};if(y.ORDER%p===h){const V=(y.ORDER-h)/p,M=y.sqrt(y.neg(E));H=($,P)=>{let q=y.sqr(P);const T=y.mul($,P);q=y.mul(q,T);let k=y.pow(q,V);k=y.mul(k,T);const z=y.mul(k,M),L=y.mul(y.sqr(k),P),B=y.eql(L,$);return{isValid:B,value:y.cmov(z,k,B)}}}return H}})(NR),Object.defineProperty(PE,\"__esModule\",{value:!0}),PE.getHash=_F,PE.createCurve=function(t,e){const n=r=>(0,T9e.weierstrass)({...t,..._F(r)});return Object.freeze({...n(e),create:n})};const I9e=OR,EF=hd,T9e=NR;function _F(t){return{hash:t,hmac:(e,...n)=>(0,I9e.hmac)(t,e,(0,EF.concatBytes)(...n)),randomBytes:EF.randomBytes}}(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.encodeToCurve=t.hashToCurve=t.schnorr=t.secp256k1=void 0;const e=Lu,n=hd,r=PE,i=gf,s=yn,o=kt,a=NR,c=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),l=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),d=BigInt(1),h=BigInt(2),p=(T,k)=>(T+k/h)/k;function m(T){const k=c,z=BigInt(3),L=BigInt(6),B=BigInt(11),j=BigInt(22),K=BigInt(23),G=BigInt(44),Z=BigInt(88),Y=T*T*T%k,X=Y*Y*T%k,Q=(0,s.pow2)(X,z,k)*X%k,re=(0,s.pow2)(Q,z,k)*X%k,oe=(0,s.pow2)(re,h,k)*Y%k,ue=(0,s.pow2)(oe,B,k)*oe%k,ye=(0,s.pow2)(ue,j,k)*ue%k,xe=(0,s.pow2)(ye,G,k)*ye%k,Be=(0,s.pow2)(xe,Z,k)*xe%k,ke=(0,s.pow2)(Be,G,k)*ye%k,Ve=(0,s.pow2)(ke,z,k)*X%k,Xe=(0,s.pow2)(Ve,K,k)*ue%k,We=(0,s.pow2)(Xe,L,k)*Y%k,st=(0,s.pow2)(We,h,k);if(!b.eql(b.sqr(st),T))throw new Error(\"Cannot find square root\");return st}const b=(0,s.Field)(c,void 0,void 0,{sqrt:m});t.secp256k1=(0,r.createCurve)({a:BigInt(0),b:BigInt(7),Fp:b,n:l,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:T=>{const k=l,z=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),L=-d*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),B=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),j=z,K=BigInt(\"0x100000000000000000000000000000000\"),G=p(j*T,k),Z=p(-L*T,k);let Y=(0,s.mod)(T-G*z-Z*B,k),X=(0,s.mod)(-G*L-Z*j,k);const Q=Y>K,re=X>K;if(Q&&(Y=k-Y),re&&(X=k-X),Y>K||X>K)throw new Error(\"splitScalar: Endomorphism failed, k=\"+T);return{k1neg:Q,k1:Y,k2neg:re,k2:X}}}},e.sha256);const y=BigInt(0),E={};function v(T,...k){let z=E[T];if(z===void 0){const L=(0,e.sha256)(Uint8Array.from(T,(B=>B.charCodeAt(0))));z=(0,o.concatBytes)(L,L),E[T]=z}return(0,e.sha256)((0,o.concatBytes)(z,...k))}const _=T=>T.toRawBytes(!0).slice(1),C=T=>(0,o.numberToBytesBE)(T,32),S=T=>(0,s.mod)(T,c),A=T=>(0,s.mod)(T,l),I=t.secp256k1.ProjectivePoint,O=(T,k,z)=>I.BASE.multiplyAndAddUnsafe(T,k,z);function D(T){let k=t.secp256k1.utils.normPrivateKeyToScalar(T),z=I.fromPrivateKey(k);return{scalar:z.hasEvenY()?k:A(-k),bytes:_(z)}}function N(T){(0,o.aInRange)(\"x\",T,d,c);const k=S(T*T);let z=m(S(k*T+BigInt(7)));z%h!==y&&(z=S(-z));const L=new I(T,z,d);return L.assertValidity(),L}const U=o.bytesToNumberBE;function F(...T){return A(U(v(\"BIP0340/challenge\",...T)))}function H(T){return D(T).bytes}function V(T,k,z=(0,n.randomBytes)(32)){const L=(0,o.ensureBytes)(\"message\",T),{bytes:B,scalar:j}=D(k),K=(0,o.ensureBytes)(\"auxRand\",z,32),G=C(j^U(v(\"BIP0340/aux\",K))),Z=v(\"BIP0340/nonce\",G,B,L),Y=A(U(Z));if(Y===y)throw new Error(\"sign failed: k is zero\");const{bytes:X,scalar:Q}=D(Y),re=F(X,B,L),oe=new Uint8Array(64);if(oe.set(X,0),oe.set(C(A(Q+re*j)),32),!M(oe,L,B))throw new Error(\"sign: Invalid signature produced\");return oe}function M(T,k,z){const L=(0,o.ensureBytes)(\"signature\",T,64),B=(0,o.ensureBytes)(\"message\",k),j=(0,o.ensureBytes)(\"publicKey\",z,32);try{const K=N(U(j)),G=U(L.subarray(0,32));if(!(0,o.inRange)(G,d,c))return!1;const Z=U(L.subarray(32,64));if(!(0,o.inRange)(Z,d,l))return!1;const Y=F(C(G),_(K),B),X=O(K,Z,A(-Y));return!(!X||!X.hasEvenY()||X.toAffine().x!==G)}catch{return!1}}t.schnorr={getPublicKey:H,sign:V,verify:M,utils:{randomPrivateKey:t.secp256k1.utils.randomPrivateKey,lift_x:N,pointToBytes:_,numberToBytesBE:o.numberToBytesBE,bytesToNumberBE:o.bytesToNumberBE,taggedHash:v,mod:s.mod}};const $=(0,i.isogenyMap)(b,[[\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7\",\"0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581\",\"0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262\",\"0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c\"],[\"0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b\",\"0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"],[\"0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c\",\"0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3\",\"0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931\",\"0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84\"],[\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b\",\"0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573\",\"0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f\",\"0x0000000000000000000000000000000000000000000000000000000000000001\"]].map((T=>T.map((k=>BigInt(k)))))),P=(0,a.mapToCurveSimpleSWU)(b,{A:BigInt(\"0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533\"),B:BigInt(\"1771\"),Z:b.create(BigInt(\"-11\"))}),q=(0,i.createHasher)(t.secp256k1.ProjectivePoint,(T=>{const{x:k,y:z}=P(b.create(T[0]));return $(k,z)}),{DST:\"secp256k1_XMD:SHA-256_SSWU_RO_\",encodeDST:\"secp256k1_XMD:SHA-256_SSWU_NU_\",p:b.ORDER,m:1,k:128,expand:\"xmd\",hash:e.sha256});t.hashToCurve=q.hashToCurve,t.encodeToCurve=q.encodeToCurve})(mre);var RT={};(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.decodeHex=t.remove0x=void 0;var e=Zo;t.remove0x=function(n){return n.startsWith(\"0x\")||n.startsWith(\"0X\")?n.slice(2):n},t.decodeHex=function(n){return(0,e.hexToBytes)((0,t.remove0x)(n))}})(RT),(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.hexToPublicKey=t.convertPublicKeyFormat=t.getSharedPoint=t.getPublicKey=t.isValidPrivateKey=t.getValidSecret=void 0;var e=$R,n=Bne,r=mre,i=Mv,s=ti,o=RT;t.getValidSecret=function(){var d;do d=(0,e.randomBytes)(s.SECRET_KEY_LENGTH);while(!(0,t.isValidPrivateKey)(d));return d},t.isValidPrivateKey=function(d){return a((0,i.ellipticCurve)(),(function(h){return h.utils.isValidPrivateKey(d)}),(function(){return!0}),(function(){return!0}))},t.getPublicKey=function(d){return a((0,i.ellipticCurve)(),(function(h){return h.getPublicKey(d)}),(function(h){return h.getPublicKey(d)}),(function(h){return h.getPublicKey(d)}))},t.getSharedPoint=function(d,h,p){return a((0,i.ellipticCurve)(),(function(m){return m.getSharedSecret(d,h,p)}),(function(m){return m.getSharedSecret(d,h)}),(function(m){return l(m,d,h)}))},t.convertPublicKeyFormat=function(d,h){return a((0,i.ellipticCurve)(),(function(p){return p.getSharedSecret(BigInt(1),d,h)}),(function(){return d}),(function(){return d}))};function a(d,h,p,m){if(d===\"secp256k1\")return h(r.secp256k1);if(d===\"x25519\")return p(n.x25519);if(d===\"ed25519\")return m(n.ed25519);throw new Error(\"Not implemented\")}t.hexToPublicKey=function(d){var h=(0,o.decodeHex)(d);return a((0,i.ellipticCurve)(),(function(){return c(h)}),(function(){return h}),(function(){return h}))};var c=function(d){if(d.length===s.ETH_PUBLIC_KEY_SIZE){var h=new Uint8Array(1+d.length);return h.set([4]),h.set(d,1),h}return d},l=function(d,h,p){var m=d.utils.getExtendedPublicKey(h).scalar;return d.ExtendedPoint.fromHex(p).multiply(m).toRawBytes()}})(Dne);var yre={},W1={};Object.defineProperty(W1,\"__esModule\",{value:!0}),W1.hkdf=void 0,W1.extract=wre,W1.expand=vre;const kT=xo,CF=hd,bre=OR;function wre(t,e,n){return(0,kT.hash)(t),n===void 0&&(n=new Uint8Array(t.outputLen)),(0,bre.hmac)(t,(0,CF.toBytes)(n),(0,CF.toBytes)(e))}const o7=new Uint8Array([0]),SF=new Uint8Array;function vre(t,e,n,r=32){if((0,kT.hash)(t),(0,kT.number)(r),r>255*t.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=SF);const s=new Uint8Array(i*t.outputLen),o=bre.hmac.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)o7[0]=l+1,a.update(l===0?SF:c).update(n).update(o7).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),o7.fill(0),s.slice(0,r)}W1.hkdf=(t,e,n,r,i)=>vre(t,wre(t,e,n),r,i),(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.getSharedKey=t.deriveKey=void 0;var e=Zo,n=W1,r=Lu;t.deriveKey=function(i,s,o){return(0,n.hkdf)(r.sha256,i,s,o,32)},t.getSharedKey=function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return(0,t.deriveKey)(e.concatBytes.apply(void 0,i))}})(yre);var xF={},hm={},lr={},p0={};Object.defineProperty(p0,\"__esModule\",{value:!0}),p0.polyval=p0.ghash=void 0,p0._toGHASHKey=Ere;const g0=Qi,ls=Zo,Cu=16,RR=new Uint8Array(16),ol=(0,ls.u32)(RR),Aa=t=>(t>>>0&255)<<24|(t>>>8&255)<<16|(t>>>16&255)<<8|t>>>24&255|0;function Ere(t){t.reverse();const e=1&t[15];let n=0;for(let r=0;r<t.length;r++){const i=t[r];t[r]=i>>>1|n,n=(1&i)<<7}return t[0]^=225&-e,t}let _re=class{constructor(e,n){this.blockLen=Cu,this.outputLen=Cu,this.s0=0,this.s1=0,this.s2=0,this.s3=0,this.finished=!1,e=(0,ls.toBytes)(e),(0,g0.bytes)(e,16);const r=(0,ls.createView)(e);let i=r.getUint32(0,!1),s=r.getUint32(4,!1),o=r.getUint32(8,!1),a=r.getUint32(12,!1);const c=[];for(let v=0;v<128;v++)c.push({s0:Aa(i),s1:Aa(s),s2:Aa(o),s3:Aa(a)}),{s0:i,s1:s,s2:o,s3:a}={s3:(h=o)<<31|(p=a)>>>1,s2:(d=s)<<31|h>>>1,s1:(l=i)<<31|d>>>1,s0:l>>>1^225<<24&-(1&p)};var l,d,h,p;const m=(v=>v>65536?8:v>1024?4:2)(n||1024);if(![1,2,4,8].includes(m))throw new Error(`ghash: wrong window size=${m}, should be 2, 4 or 8`);this.W=m;const b=128/m,y=this.windowSize=2**m,E=[];for(let v=0;v<b;v++)for(let _=0;_<y;_++){let C=0,S=0,A=0,I=0;for(let O=0;O<m;O++){if(!(_>>>m-O-1&1))continue;const{s0:D,s1:N,s2:U,s3:F}=c[m*v+O];C^=D,S^=N,A^=U,I^=F}E.push({s0:C,s1:S,s2:A,s3:I})}this.t=E}_updateBlock(e,n,r,i){e^=this.s0,n^=this.s1,r^=this.s2,i^=this.s3;const{W:s,t:o,windowSize:a}=this;let c=0,l=0,d=0,h=0;const p=(1<<s)-1;let m=0;for(const b of[e,n,r,i])for(let y=0;y<4;y++){const E=b>>>8*y&255;for(let v=8/s-1;v>=0;v--){const _=E>>>s*v&p,{s0:C,s1:S,s2:A,s3:I}=o[m*a+_];c^=C,l^=S,d^=A,h^=I,m+=1}}this.s0=c,this.s1=l,this.s2=d,this.s3=h}update(e){e=(0,ls.toBytes)(e),(0,g0.exists)(this);const n=(0,ls.u32)(e),r=Math.floor(e.length/Cu),i=e.length%Cu;for(let s=0;s<r;s++)this._updateBlock(n[4*s+0],n[4*s+1],n[4*s+2],n[4*s+3]);return i&&(RR.set(e.subarray(r*Cu)),this._updateBlock(ol[0],ol[1],ol[2],ol[3]),(0,ls.clean)(ol)),this}destroy(){const{t:e}=this;for(const n of e)n.s0=0,n.s1=0,n.s2=0,n.s3=0}digestInto(e){(0,g0.exists)(this),(0,g0.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=(0,ls.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,e}digest(){const e=new Uint8Array(Cu);return this.digestInto(e),this.destroy(),e}},P9e=class extends _re{constructor(e,n){e=(0,ls.toBytes)(e);const r=Ere((0,ls.copyBytes)(e));super(r,n),(0,ls.clean)(r)}update(e){e=(0,ls.toBytes)(e),(0,g0.exists)(this);const n=(0,ls.u32)(e),r=e.length%Cu,i=Math.floor(e.length/Cu);for(let s=0;s<i;s++)this._updateBlock(Aa(n[4*s+3]),Aa(n[4*s+2]),Aa(n[4*s+1]),Aa(n[4*s+0]));return r&&(RR.set(e.subarray(i*Cu)),this._updateBlock(Aa(ol[3]),Aa(ol[2]),Aa(ol[1]),Aa(ol[0])),(0,ls.clean)(ol)),this}digestInto(e){(0,g0.exists)(this),(0,g0.output)(e,this),this.finished=!0;const{s0:n,s1:r,s2:i,s3:s}=this,o=(0,ls.u32)(e);return o[0]=n,o[1]=r,o[2]=i,o[3]=s,e.reverse()}};function AF(t){const e=(r,i)=>t(i,r.length).update((0,ls.toBytes)(r)).digest(),n=t(new Uint8Array(16),0);return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=(r,i)=>t(r,i),e}p0.ghash=AF(((t,e)=>new _re(t,e))),p0.polyval=AF(((t,e)=>new P9e(t,e))),Object.defineProperty(lr,\"__esModule\",{value:!0}),lr.unsafe=lr.aeskwp=lr.aeskw=lr.siv=lr.gcm=lr.cfb=lr.cbc=lr.ecb=lr.ctr=void 0,lr.expandKeyLE=tc,lr.expandKeyDecLE=Bv;const Zt=Qi,MT=p0,$e=Zo,Qs=16,$3=new Uint8Array(Qs),O9e=283;function kR(t){return t<<1^O9e&-(t>>7)}function G1(t,e){let n=0;for(;e>0;e>>=1)n^=t&-(1&e),t=kR(t);return n}const DT=(()=>{const t=new Uint8Array(256);for(let n=0,r=1;n<256;n++,r^=kR(r))t[n]=r;const e=new Uint8Array(256);e[0]=99;for(let n=0;n<255;n++){let r=t[255-n];r|=r<<8,e[t[n]]=255&(r^r>>4^r>>5^r>>6^r>>7^99)}return(0,$e.clean)(t),e})(),N9e=DT.map(((t,e)=>DT.indexOf(e))),R9e=t=>t<<24|t>>>8,a7=t=>t<<8|t>>>24,U8=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function Cre(t,e){if(t.length!==256)throw new Error(\"Wrong sbox length\");const n=new Uint32Array(256).map(((l,d)=>e(t[d]))),r=n.map(a7),i=r.map(a7),s=i.map(a7),o=new Uint32Array(65536),a=new Uint32Array(65536),c=new Uint16Array(65536);for(let l=0;l<256;l++)for(let d=0;d<256;d++){const h=256*l+d;o[h]=n[l]^r[d],a[h]=i[l]^s[d],c[h]=t[l]<<8|t[d]}return{sbox:t,sbox2:c,T0:n,T1:r,T2:i,T3:s,T01:o,T23:a}}const MR=Cre(DT,(t=>G1(t,3)<<24|t<<16|t<<8|G1(t,2))),Sre=Cre(N9e,(t=>G1(t,11)<<24|G1(t,13)<<16|G1(t,9)<<8|G1(t,14))),k9e=(()=>{const t=new Uint8Array(16);for(let e=0,n=1;e<16;e++,n=kR(n))t[e]=n;return t})();function tc(t){(0,Zt.bytes)(t);const e=t.length;if(![16,24,32].includes(e))throw new Error(`aes: wrong key size: should be 16, 24 or 32, got: ${e}`);const{sbox2:n}=MR,r=[];(0,$e.isAligned32)(t)||r.push(t=(0,$e.copyBytes)(t));const i=(0,$e.u32)(t),s=i.length,o=c=>ul(n,c,c,c,c),a=new Uint32Array(e+28);a.set(i);for(let c=s;c<a.length;c++){let l=a[c-1];c%s==0?l=o(R9e(l))^k9e[c/s-1]:s>6&&c%s==4&&(l=o(l)),a[c]=a[c-s]^l}return(0,$e.clean)(...r),a}function Bv(t){const e=tc(t),n=e.slice(),r=e.length,{sbox2:i}=MR,{T0:s,T1:o,T2:a,T3:c}=Sre;for(let l=0;l<r;l+=4)for(let d=0;d<4;d++)n[l+d]=e[r-l-4+d];(0,$e.clean)(e);for(let l=4;l<r-4;l++){const d=n[l],h=ul(i,d,d,d,d);n[l]=s[255&h]^o[h>>>8&255]^a[h>>>16&255]^c[h>>>24]}return n}function Tf(t,e,n,r,i,s){return t[n<<8&65280|r>>>8&255]^e[i>>>8&65280|s>>>24&255]}function ul(t,e,n,r,i){return t[255&e|65280&n]|t[r>>>16&255|i>>>16&65280]<<16}function fs(t,e,n,r,i){const{sbox2:s,T01:o,T23:a}=MR;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let d=0;d<l;d++){const h=t[c++]^Tf(o,a,e,n,r,i),p=t[c++]^Tf(o,a,n,r,i,e),m=t[c++]^Tf(o,a,r,i,e,n),b=t[c++]^Tf(o,a,i,e,n,r);e=h,n=p,r=m,i=b}return{s0:t[c++]^ul(s,e,n,r,i),s1:t[c++]^ul(s,n,r,i,e),s2:t[c++]^ul(s,r,i,e,n),s3:t[c++]^ul(s,i,e,n,r)}}function Lv(t,e,n,r,i){const{sbox2:s,T01:o,T23:a}=Sre;let c=0;e^=t[c++],n^=t[c++],r^=t[c++],i^=t[c++];const l=t.length/4-2;for(let d=0;d<l;d++){const h=t[c++]^Tf(o,a,e,i,r,n),p=t[c++]^Tf(o,a,n,e,i,r),m=t[c++]^Tf(o,a,r,n,e,i),b=t[c++]^Tf(o,a,i,r,n,e);e=h,n=p,r=m,i=b}return{s0:t[c++]^ul(s,e,i,r,n),s1:t[c++]^ul(s,n,e,i,r),s2:t[c++]^ul(s,r,n,e,i),s3:t[c++]^ul(s,i,r,n,e)}}function pm(t,e){if(e===void 0)return new Uint8Array(t);if((0,Zt.bytes)(e),e.length<t)throw new Error(`aes: wrong destination length, expected at least ${t}, got: ${e.length}`);if(!(0,$e.isAligned32)(e))throw new Error(\"unaligned dst\");return e}function xre(t,e,n,r){(0,Zt.bytes)(e,Qs),(0,Zt.bytes)(n);const i=n.length;r=pm(i,r);const s=e,o=(0,$e.u32)(s);let{s0:a,s1:c,s2:l,s3:d}=fs(t,o[0],o[1],o[2],o[3]);const h=(0,$e.u32)(n),p=(0,$e.u32)(r);for(let b=0;b+4<=h.length;b+=4){p[b+0]=h[b+0]^a,p[b+1]=h[b+1]^c,p[b+2]=h[b+2]^l,p[b+3]=h[b+3]^d;let y=1;for(let E=s.length-1;E>=0;E--)y=y+(255&s[E])|0,s[E]=255&y,y>>>=8;({s0:a,s1:c,s2:l,s3:d}=fs(t,o[0],o[1],o[2],o[3]))}const m=Qs*Math.floor(h.length/4);if(m<i){const b=new Uint32Array([a,c,l,d]),y=(0,$e.u8)(b);for(let E=m,v=0;E<i;E++,v++)r[E]=n[E]^y[v];(0,$e.clean)(b)}return r}function Z1(t,e,n,r,i){(0,Zt.bytes)(n,Qs),(0,Zt.bytes)(r),i=pm(r.length,i);const s=n,o=(0,$e.u32)(s),a=(0,$e.createView)(s),c=(0,$e.u32)(r),l=(0,$e.u32)(i),d=e?0:12,h=r.length;let p=a.getUint32(d,e),{s0:m,s1:b,s2:y,s3:E}=fs(t,o[0],o[1],o[2],o[3]);for(let _=0;_+4<=c.length;_+=4)l[_+0]=c[_+0]^m,l[_+1]=c[_+1]^b,l[_+2]=c[_+2]^y,l[_+3]=c[_+3]^E,p=p+1>>>0,a.setUint32(d,p,e),{s0:m,s1:b,s2:y,s3:E}=fs(t,o[0],o[1],o[2],o[3]);const v=Qs*Math.floor(c.length/4);if(v<h){const _=new Uint32Array([m,b,y,E]),C=(0,$e.u8)(_);for(let S=v,A=0;S<h;S++,A++)i[S]=r[S]^C[A];(0,$e.clean)(_)}return i}function $F(t){if((0,Zt.bytes)(t),t.length%Qs!=0)throw new Error(\"aes/(cbc-ecb).decrypt ciphertext should consist of blocks with size 16\")}function IF(t,e,n){(0,Zt.bytes)(t);let r=t.length;const i=r%Qs;if(!e&&i!==0)throw new Error(\"aec/(cbc-ecb): unpadded plaintext with disabled padding\");(0,$e.isAligned32)(t)||(t=(0,$e.copyBytes)(t));const s=(0,$e.u32)(t);if(e){let a=Qs-i;a||(a=Qs),r+=a}const o=pm(r,n);return{b:s,o:(0,$e.u32)(o),out:o}}function TF(t,e){if(!e)return t;const n=t.length;if(!n)throw new Error(\"aes/pcks5: empty ciphertext not allowed\");const r=t[n-1];if(r<=0||r>16)throw new Error(\"aes/pcks5: wrong padding\");const i=t.subarray(0,-r);for(let s=0;s<r;s++)if(t[n-s-1]!==r)throw new Error(\"aes/pcks5: wrong padding\");return i}function PF(t){const e=new Uint8Array(16),n=(0,$e.u32)(e);e.set(t);const r=Qs-t.length;for(let i=Qs-r;i<Qs;i++)e[i]=r;return n}function Are(t,e,n,r,i){const s=i==null?0:i.length,o=t.create(n,r.length+s);i&&o.update(i),o.update(r);const a=new Uint8Array(16),c=(0,$e.createView)(a);i&&(0,$e.setBigUint64)(c,0,BigInt(8*s),e),(0,$e.setBigUint64)(c,8,BigInt(8*r.length),e),o.update(a);const l=o.digest();return(0,$e.clean)(a),l}lr.ctr=(0,$e.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function n(r,i){if((0,Zt.bytes)(r),i!==void 0&&((0,Zt.bytes)(i),!(0,$e.isAligned32)(i)))throw new Error(\"unaligned destination\");const s=tc(t),o=(0,$e.copyBytes)(e),a=[s,o];(0,$e.isAligned32)(r)||a.push(r=(0,$e.copyBytes)(r));const c=xre(s,o,r,i);return(0,$e.clean)(...a),c}return(0,Zt.bytes)(t),(0,Zt.bytes)(e,Qs),{encrypt:(r,i)=>n(r,i),decrypt:(r,i)=>n(r,i)}})),lr.ecb=(0,$e.wrapCipher)({blockSize:16},(function(t,e={}){(0,Zt.bytes)(t);const n=!e.disablePadding;return{encrypt(r,i){const{b:s,o,out:a}=IF(r,n,i),c=tc(t);let l=0;for(;l+4<=s.length;){const{s0:d,s1:h,s2:p,s3:m}=fs(c,s[l+0],s[l+1],s[l+2],s[l+3]);o[l++]=d,o[l++]=h,o[l++]=p,o[l++]=m}if(n){const d=PF(r.subarray(4*l)),{s0:h,s1:p,s2:m,s3:b}=fs(c,d[0],d[1],d[2],d[3]);o[l++]=h,o[l++]=p,o[l++]=m,o[l++]=b}return(0,$e.clean)(c),a},decrypt(r,i){$F(r);const s=Bv(t),o=pm(r.length,i),a=[s];(0,$e.isAligned32)(r)||a.push(r=(0,$e.copyBytes)(r));const c=(0,$e.u32)(r),l=(0,$e.u32)(o);for(let d=0;d+4<=c.length;){const{s0:h,s1:p,s2:m,s3:b}=Lv(s,c[d+0],c[d+1],c[d+2],c[d+3]);l[d++]=h,l[d++]=p,l[d++]=m,l[d++]=b}return(0,$e.clean)(...a),TF(o,n)}}})),lr.cbc=(0,$e.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e,n={}){(0,Zt.bytes)(t),(0,Zt.bytes)(e,16);const r=!n.disablePadding;return{encrypt(i,s){const o=tc(t),{b:a,o:c,out:l}=IF(i,r,s);let d=e;const h=[o];(0,$e.isAligned32)(d)||h.push(d=(0,$e.copyBytes)(d));const p=(0,$e.u32)(d);let m=p[0],b=p[1],y=p[2],E=p[3],v=0;for(;v+4<=a.length;)m^=a[v+0],b^=a[v+1],y^=a[v+2],E^=a[v+3],{s0:m,s1:b,s2:y,s3:E}=fs(o,m,b,y,E),c[v++]=m,c[v++]=b,c[v++]=y,c[v++]=E;if(r){const _=PF(i.subarray(4*v));m^=_[0],b^=_[1],y^=_[2],E^=_[3],{s0:m,s1:b,s2:y,s3:E}=fs(o,m,b,y,E),c[v++]=m,c[v++]=b,c[v++]=y,c[v++]=E}return(0,$e.clean)(...h),l},decrypt(i,s){$F(i);const o=Bv(t);let a=e;const c=[o];(0,$e.isAligned32)(a)||c.push(a=(0,$e.copyBytes)(a));const l=(0,$e.u32)(a),d=pm(i.length,s);(0,$e.isAligned32)(i)||c.push(i=(0,$e.copyBytes)(i));const h=(0,$e.u32)(i),p=(0,$e.u32)(d);let m=l[0],b=l[1],y=l[2],E=l[3];for(let v=0;v+4<=h.length;){const _=m,C=b,S=y,A=E;m=h[v+0],b=h[v+1],y=h[v+2],E=h[v+3];const{s0:I,s1:O,s2:D,s3:N}=Lv(o,m,b,y,E);p[v++]=I^_,p[v++]=O^C,p[v++]=D^S,p[v++]=N^A}return(0,$e.clean)(...c),TF(d,r)}}})),lr.cfb=(0,$e.wrapCipher)({blockSize:16,nonceLength:16},(function(t,e){function n(r,i,s){(0,Zt.bytes)(r);const o=r.length;s=pm(o,s);const a=tc(t);let c=e;const l=[a];(0,$e.isAligned32)(c)||l.push(c=(0,$e.copyBytes)(c)),(0,$e.isAligned32)(r)||l.push(r=(0,$e.copyBytes)(r));const d=(0,$e.u32)(r),h=(0,$e.u32)(s),p=i?h:d,m=(0,$e.u32)(c);let b=m[0],y=m[1],E=m[2],v=m[3];for(let C=0;C+4<=d.length;){const{s0:S,s1:A,s2:I,s3:O}=fs(a,b,y,E,v);h[C+0]=d[C+0]^S,h[C+1]=d[C+1]^A,h[C+2]=d[C+2]^I,h[C+3]=d[C+3]^O,b=p[C++],y=p[C++],E=p[C++],v=p[C++]}const _=Qs*Math.floor(d.length/4);if(_<o){({s0:b,s1:y,s2:E,s3:v}=fs(a,b,y,E,v));const C=(0,$e.u8)(new Uint32Array([b,y,E,v]));for(let S=_,A=0;S<o;S++,A++)s[S]=r[S]^C[A];(0,$e.clean)(C)}return(0,$e.clean)(...l),s}return(0,Zt.bytes)(t),(0,Zt.bytes)(e,16),{encrypt:(r,i)=>n(r,!0,i),decrypt:(r,i)=>n(r,!1,i)}})),lr.gcm=(0,$e.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,n){if((0,Zt.bytes)(t),(0,Zt.bytes)(e),n!==void 0&&(0,Zt.bytes)(n),e.length<8)throw new Error(\"aes/gcm: invalid nonce length\");const r=16;function i(o,a,c){const l=Are(MT.ghash,!1,o,c,n);for(let d=0;d<a.length;d++)l[d]^=a[d];return l}function s(){const o=tc(t),a=$3.slice(),c=$3.slice();if(Z1(o,!1,c,c,a),e.length===12)c.set(e);else{const l=$3.slice(),d=(0,$e.createView)(l);(0,$e.setBigUint64)(d,8,BigInt(8*e.length),!1);const h=MT.ghash.create(a).update(e).update(l);h.digestInto(c),h.destroy()}return{xk:o,authKey:a,counter:c,tagMask:Z1(o,!1,c,$3)}}return{encrypt(o){(0,Zt.bytes)(o);const{xk:a,authKey:c,counter:l,tagMask:d}=s(),h=new Uint8Array(o.length+r),p=[a,c,l,d];(0,$e.isAligned32)(o)||p.push(o=(0,$e.copyBytes)(o)),Z1(a,!1,l,o,h);const m=i(c,d,h.subarray(0,h.length-r));return p.push(m),h.set(m,o.length),(0,$e.clean)(...p),h},decrypt(o){if((0,Zt.bytes)(o),o.length<r)throw new Error(\"aes/gcm: ciphertext less than tagLen (16)\");const{xk:a,authKey:c,counter:l,tagMask:d}=s(),h=[a,c,d,l];(0,$e.isAligned32)(o)||h.push(o=(0,$e.copyBytes)(o));const p=o.subarray(0,-16),m=o.subarray(-16),b=i(c,d,p);if(h.push(b),!(0,$e.equalBytes)(b,m))throw new Error(\"aes/gcm: invalid ghash tag\");const y=Z1(a,!1,l,p);return(0,$e.clean)(...h),y}}}));const I3=(t,e,n)=>r=>{if(!Number.isSafeInteger(r)||e>r||r>n)throw new Error(`${t}: invalid value=${r}, must be [${e}..${n}]`)};function $re(t){return t!=null&&typeof t==\"object\"&&(t instanceof Uint32Array||t.constructor.name===\"Uint32Array\")}function Ire(t,e){if((0,Zt.bytes)(e,16),!$re(t))throw new Error(\"_encryptBlock accepts result of expandKeyLE\");const n=(0,$e.u32)(e);let{s0:r,s1:i,s2:s,s3:o}=fs(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=s,n[3]=o,e}function Tre(t,e){if((0,Zt.bytes)(e,16),!$re(t))throw new Error(\"_decryptBlock accepts result of expandKeyLE\");const n=(0,$e.u32)(e);let{s0:r,s1:i,s2:s,s3:o}=Lv(t,n[0],n[1],n[2],n[3]);return n[0]=r,n[1]=i,n[2]=s,n[3]=o,e}lr.siv=(0,$e.wrapCipher)({blockSize:16,nonceLength:12,tagLength:16},(function(t,e,n){const r=I3(\"AAD\",0,68719476736),i=I3(\"plaintext\",0,2**36),s=I3(\"nonce\",12,12),o=I3(\"ciphertext\",16,2**36+16);function a(){const d=tc(t),h=new Uint8Array(t.length),p=new Uint8Array(16),m=[d,h];let b=e;(0,$e.isAligned32)(b)||m.push(b=(0,$e.copyBytes)(b));const y=(0,$e.u32)(b);let E=0,v=y[0],_=y[1],C=y[2],S=0;for(const I of[p,h].map($e.u32)){const O=(0,$e.u32)(I);for(let D=0;D<O.length;D+=2){const{s0:N,s1:U}=fs(d,E,v,_,C);O[D+0]=N,O[D+1]=U,E=++S}}const A={authKey:p,encKey:tc(h)};return(0,$e.clean)(...m),A}function c(d,h,p){const m=Are(MT.polyval,!0,h,p,n);for(let C=0;C<12;C++)m[C]^=e[C];m[15]&=127;const b=(0,$e.u32)(m);let y=b[0],E=b[1],v=b[2],_=b[3];return{s0:y,s1:E,s2:v,s3:_}=fs(d,y,E,v,_),b[0]=y,b[1]=E,b[2]=v,b[3]=_,m}function l(d,h,p){let m=(0,$e.copyBytes)(h);m[15]|=128;const b=Z1(d,!0,m,p);return(0,$e.clean)(m),b}return(0,Zt.bytes)(t,16,24,32),(0,Zt.bytes)(e),s(e.length),n!==void 0&&((0,Zt.bytes)(n),r(n.length)),{encrypt(d){(0,Zt.bytes)(d),i(d.length);const{encKey:h,authKey:p}=a(),m=c(h,p,d),b=[h,p,m];(0,$e.isAligned32)(d)||b.push(d=(0,$e.copyBytes)(d));const y=new Uint8Array(d.length+16);return y.set(m,d.length),y.set(l(h,m,d)),(0,$e.clean)(...b),y},decrypt(d){(0,Zt.bytes)(d),o(d.length);const h=d.subarray(-16),{encKey:p,authKey:m}=a(),b=[p,m];(0,$e.isAligned32)(d)||b.push(d=(0,$e.copyBytes)(d));const y=l(p,h,d.subarray(0,-16)),E=c(p,m,y);if(b.push(E),!(0,$e.equalBytes)(h,E))throw(0,$e.clean)(...b),new Error(\"invalid polyval tag\");return(0,$e.clean)(...b),y}}}));const j8={encrypt(t,e){if(e.length>=2**32)throw new Error(\"plaintext should be less than 4gb\");const n=tc(t);if(e.length===16)Ire(n,e);else{const r=(0,$e.u32)(e);let i=r[0],s=r[1];for(let o=0,a=1;o<6;o++)for(let c=2;c<r.length;c+=2,a++){const{s0:l,s1:d,s2:h,s3:p}=fs(n,i,s,r[c],r[c+1]);i=l,s=d^U8(a),r[c]=h,r[c+1]=p}r[0]=i,r[1]=s}n.fill(0)},decrypt(t,e){if(e.length-8>=2**32)throw new Error(\"ciphertext should be less than 4gb\");const n=Bv(t),r=e.length/8-1;if(r===1)Tre(n,e);else{const i=(0,$e.u32)(e);let s=i[0],o=i[1];for(let a=0,c=6*r;a<6;a++)for(let l=2*r;l>=1;l-=2,c--){o^=U8(c);const{s0:d,s1:h,s2:p,s3:m}=Lv(n,s,o,i[l],i[l+1]);s=d,o=h,i[l]=p,i[l+1]=m}i[0]=s,i[1]=o}n.fill(0)}},OF=new Uint8Array(8).fill(166);lr.aeskw=(0,$e.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,Zt.bytes)(e),!e.length||e.length%8!=0)throw new Error(\"invalid plaintext length\");if(e.length===8)throw new Error(\"8-byte keys not allowed in AESKW, use AESKWP instead\");const n=(0,$e.concatBytes)(OF,e);return j8.encrypt(t,n),n},decrypt(e){if((0,Zt.bytes)(e),e.length%8!=0||e.length<24)throw new Error(\"invalid ciphertext length\");const n=(0,$e.copyBytes)(e);if(j8.decrypt(t,n),!(0,$e.equalBytes)(n.subarray(0,8),OF))throw new Error(\"integrity check failed\");return n.subarray(0,8).fill(0),n.subarray(8)}})));const NF=2790873510;lr.aeskwp=(0,$e.wrapCipher)({blockSize:8},(t=>({encrypt(e){if((0,Zt.bytes)(e),!e.length)throw new Error(\"invalid plaintext length\");const n=8*Math.ceil(e.length/8),r=new Uint8Array(8+n);r.set(e,8);const i=(0,$e.u32)(r);return i[0]=NF,i[1]=U8(e.length),j8.encrypt(t,r),r},decrypt(e){if((0,Zt.bytes)(e),e.length<16)throw new Error(\"invalid ciphertext length\");const n=(0,$e.copyBytes)(e),r=(0,$e.u32)(n);j8.decrypt(t,n);const i=U8(r[1])>>>0,s=8*Math.ceil(i/8);if(r[0]!==NF||n.length-8!==s)throw new Error(\"integrity check failed\");for(let o=i;o<s;o++)if(n[8+o]!==0)throw new Error(\"integrity check failed\");return n.subarray(0,8).fill(0),n.subarray(8,8+i)}}))),lr.unsafe={expandKeyLE:tc,expandKeyDecLE:Bv,encrypt:fs,decrypt:Lv,encryptBlock:Ire,decryptBlock:Tre,ctrCounter:xre,ctr32:Z1},Object.defineProperty(hm,\"__esModule\",{value:!0}),hm.aes256cbc=hm.aes256gcm=void 0;var Pre=lr;hm.aes256gcm=function(t,e,n){return(0,Pre.gcm)(t,e,n)};hm.aes256cbc=function(t,e,n){return(0,Pre.cbc)(t,e)};var z8={},Ore={},Y1={};Object.defineProperty(Y1,\"__esModule\",{value:!0}),Y1.sigma=void 0,Y1.rotl=function(t,e){return t<<e|t>>>32-e},Y1.createCipher=function(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=(0,Ea.checkOpts)({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return(0,ou.number)(i),(0,ou.number)(o),(0,ou.bool)(s),(0,ou.bool)(n),(a,c,l,d,h=0)=>{(0,ou.bytes)(a),(0,ou.bytes)(c),(0,ou.bytes)(l);const p=l.length;if(d===void 0&&(d=new Uint8Array(p)),(0,ou.bytes)(d),(0,ou.number)(h),h<0||h>=RF)throw new Error(\"arx: counter overflow\");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let b,y,E=a.length;if(E===32)m.push(b=(0,Ea.copyBytes)(a)),y=Rre;else{if(E!==16||!n)throw new Error(`arx: invalid 32-byte key, got length=${E}`);b=new Uint8Array(32),b.set(a),b.set(a,16),y=B9e,m.push(b)}c7(c)||m.push(c=(0,Ea.copyBytes)(c));const v=(0,Ea.u32)(b);if(r){if(c.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(y,v,(0,Ea.u32)(c.subarray(0,16)),v),c=c.subarray(16)}const _=16-i;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const S=new Uint8Array(12);S.set(c,s?0:12-c.length),c=S,m.push(c)}const C=(0,Ea.u32)(c);return(function(S,A,I,O,D,N,U,F){const H=D.length,V=new Uint8Array(T3),M=(0,Ea.u32)(V),$=c7(D)&&c7(N),P=$?(0,Ea.u32)(D):kF,q=$?(0,Ea.u32)(N):kF;for(let T=0;T<H;U++){if(S(A,I,O,M,U,F),U>=RF)throw new Error(\"arx: counter overflow\");const k=Math.min(T3,H-T);if($&&k===T3){const z=T/4;if(T%4!=0)throw new Error(\"arx: invalid block position\");for(let L,B=0;B<L9e;B++)L=z+B,q[L]=P[L]^M[B];T+=T3}else{for(let z,L=0;L<k;L++)z=T+L,N[z]=D[z]^V[L];T+=k}}})(t,y,v,C,l,d,h,o),(0,Ea.clean)(...m),d}};const ou=Qi,Ea=Zo,Nre=t=>Uint8Array.from(t.split(\"\").map((e=>e.charCodeAt(0)))),M9e=Nre(\"expand 16-byte k\"),D9e=Nre(\"expand 32-byte k\"),B9e=(0,Ea.u32)(M9e),Rre=(0,Ea.u32)(D9e);function c7(t){return t.byteOffset%4==0}Y1.sigma=Rre.slice();const T3=64,L9e=16,RF=2**32-1,kF=new Uint32Array;var Pw={};Object.defineProperty(Pw,\"__esModule\",{value:!0}),Pw.poly1305=void 0,Pw.wrapConstructorWithKey=kre;const P3=Qi,mw=Zo,Ai=(t,e)=>255&t[e++]|(255&t[e++])<<8;let U9e=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=(0,mw.toBytes)(e),(0,P3.bytes)(e,32);const n=Ai(e,0),r=Ai(e,2),i=Ai(e,4),s=Ai(e,6),o=Ai(e,8),a=Ai(e,10),c=Ai(e,12),l=Ai(e,14);this.r[0]=8191&n,this.r[1]=8191&(n>>>13|r<<3),this.r[2]=7939&(r>>>10|i<<6),this.r[3]=8191&(i>>>7|s<<9),this.r[4]=255&(s>>>4|o<<12),this.r[5]=o>>>1&8190,this.r[6]=8191&(o>>>14|a<<2),this.r[7]=8065&(a>>>11|c<<5),this.r[8]=8191&(c>>>8|l<<8),this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Ai(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],d=o[3],h=o[4],p=o[5],m=o[6],b=o[7],y=o[8],E=o[9],v=Ai(e,n+0),_=Ai(e,n+2),C=Ai(e,n+4),S=Ai(e,n+6),A=Ai(e,n+8),I=Ai(e,n+10),O=Ai(e,n+12),D=Ai(e,n+14);let N=s[0]+(8191&v),U=s[1]+(8191&(v>>>13|_<<3)),F=s[2]+(8191&(_>>>10|C<<6)),H=s[3]+(8191&(C>>>7|S<<9)),V=s[4]+(8191&(S>>>4|A<<12)),M=s[5]+(A>>>1&8191),$=s[6]+(8191&(A>>>14|I<<2)),P=s[7]+(8191&(I>>>11|O<<5)),q=s[8]+(8191&(O>>>8|D<<8)),T=s[9]+(D>>>5|i),k=0,z=k+N*a+U*(5*E)+F*(5*y)+H*(5*b)+V*(5*m);k=z>>>13,z&=8191,z+=M*(5*p)+$*(5*h)+P*(5*d)+q*(5*l)+T*(5*c),k+=z>>>13,z&=8191;let L=k+N*c+U*a+F*(5*E)+H*(5*y)+V*(5*b);k=L>>>13,L&=8191,L+=M*(5*m)+$*(5*p)+P*(5*h)+q*(5*d)+T*(5*l),k+=L>>>13,L&=8191;let B=k+N*l+U*c+F*a+H*(5*E)+V*(5*y);k=B>>>13,B&=8191,B+=M*(5*b)+$*(5*m)+P*(5*p)+q*(5*h)+T*(5*d),k+=B>>>13,B&=8191;let j=k+N*d+U*l+F*c+H*a+V*(5*E);k=j>>>13,j&=8191,j+=M*(5*y)+$*(5*b)+P*(5*m)+q*(5*p)+T*(5*h),k+=j>>>13,j&=8191;let K=k+N*h+U*d+F*l+H*c+V*a;k=K>>>13,K&=8191,K+=M*(5*E)+$*(5*y)+P*(5*b)+q*(5*m)+T*(5*p),k+=K>>>13,K&=8191;let G=k+N*p+U*h+F*d+H*l+V*c;k=G>>>13,G&=8191,G+=M*a+$*(5*E)+P*(5*y)+q*(5*b)+T*(5*m),k+=G>>>13,G&=8191;let Z=k+N*m+U*p+F*h+H*d+V*l;k=Z>>>13,Z&=8191,Z+=M*c+$*a+P*(5*E)+q*(5*y)+T*(5*b),k+=Z>>>13,Z&=8191;let Y=k+N*b+U*m+F*p+H*h+V*d;k=Y>>>13,Y&=8191,Y+=M*l+$*c+P*a+q*(5*E)+T*(5*y),k+=Y>>>13,Y&=8191;let X=k+N*y+U*b+F*m+H*p+V*h;k=X>>>13,X&=8191,X+=M*d+$*l+P*c+q*a+T*(5*E),k+=X>>>13,X&=8191;let Q=k+N*E+U*y+F*b+H*m+V*p;k=Q>>>13,Q&=8191,Q+=M*h+$*d+P*l+q*c+T*a,k+=Q>>>13,Q&=8191,k=(k<<2)+k|0,k=k+z|0,z=8191&k,k>>>=13,L+=k,s[0]=z,s[1]=L,s[2]=B,s[3]=j,s[4]=K,s[5]=G,s[6]=Z,s[7]=Y,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=5*i,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(1^i)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=65535&(e[0]|e[1]<<13),e[1]=65535&(e[1]>>>3|e[2]<<10),e[2]=65535&(e[2]>>>6|e[3]<<7),e[3]=65535&(e[3]>>>9|e[4]<<4),e[4]=65535&(e[4]>>>12|e[5]<<1|e[6]<<14),e[5]=65535&(e[6]>>>2|e[7]<<11),e[6]=65535&(e[7]>>>5|e[8]<<8),e[7]=65535&(e[8]>>>8|e[9]<<5);let o=e[0]+n[0];e[0]=65535&o;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=65535&o;(0,mw.clean)(r)}update(e){(0,P3.exists)(this);const{buffer:n,blockLen:r}=this,i=(e=(0,mw.toBytes)(e)).length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o!==r)n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0);else for(;r<=i-s;s+=r)this.process(e,s)}return this}destroy(){(0,mw.clean)(this.h,this.r,this.buffer,this.pad)}digestInto(e){(0,P3.exists)(this),(0,P3.output)(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function kre(t){const e=(r,i)=>t(i).update((0,mw.toBytes)(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}Pw.poly1305=kre((t=>new U9e(t))),(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.xchacha20poly1305=t.chacha20poly1305=t._poly1305_aead=t.chacha12=t.chacha8=t.xchacha20=t.chacha20=t.chacha20orig=void 0,t.hchacha=o;const e=Y1,n=Qi,r=Pw,i=Zo;function s(h,p,m,b,y,E=20){let v=h[0],_=h[1],C=h[2],S=h[3],A=p[0],I=p[1],O=p[2],D=p[3],N=p[4],U=p[5],F=p[6],H=p[7],V=y,M=m[0],$=m[1],P=m[2],q=v,T=_,k=C,z=S,L=A,B=I,j=O,K=D,G=N,Z=U,Y=F,X=H,Q=V,re=M,oe=$,ue=P;for(let xe=0;xe<E;xe+=2)q=q+L|0,Q=(0,e.rotl)(Q^q,16),G=G+Q|0,L=(0,e.rotl)(L^G,12),q=q+L|0,Q=(0,e.rotl)(Q^q,8),G=G+Q|0,L=(0,e.rotl)(L^G,7),T=T+B|0,re=(0,e.rotl)(re^T,16),Z=Z+re|0,B=(0,e.rotl)(B^Z,12),T=T+B|0,re=(0,e.rotl)(re^T,8),Z=Z+re|0,B=(0,e.rotl)(B^Z,7),k=k+j|0,oe=(0,e.rotl)(oe^k,16),Y=Y+oe|0,j=(0,e.rotl)(j^Y,12),k=k+j|0,oe=(0,e.rotl)(oe^k,8),Y=Y+oe|0,j=(0,e.rotl)(j^Y,7),z=z+K|0,ue=(0,e.rotl)(ue^z,16),X=X+ue|0,K=(0,e.rotl)(K^X,12),z=z+K|0,ue=(0,e.rotl)(ue^z,8),X=X+ue|0,K=(0,e.rotl)(K^X,7),q=q+B|0,ue=(0,e.rotl)(ue^q,16),Y=Y+ue|0,B=(0,e.rotl)(B^Y,12),q=q+B|0,ue=(0,e.rotl)(ue^q,8),Y=Y+ue|0,B=(0,e.rotl)(B^Y,7),T=T+j|0,Q=(0,e.rotl)(Q^T,16),X=X+Q|0,j=(0,e.rotl)(j^X,12),T=T+j|0,Q=(0,e.rotl)(Q^T,8),X=X+Q|0,j=(0,e.rotl)(j^X,7),k=k+K|0,re=(0,e.rotl)(re^k,16),G=G+re|0,K=(0,e.rotl)(K^G,12),k=k+K|0,re=(0,e.rotl)(re^k,8),G=G+re|0,K=(0,e.rotl)(K^G,7),z=z+L|0,oe=(0,e.rotl)(oe^z,16),Z=Z+oe|0,L=(0,e.rotl)(L^Z,12),z=z+L|0,oe=(0,e.rotl)(oe^z,8),Z=Z+oe|0,L=(0,e.rotl)(L^Z,7);let ye=0;b[ye++]=v+q|0,b[ye++]=_+T|0,b[ye++]=C+k|0,b[ye++]=S+z|0,b[ye++]=A+L|0,b[ye++]=I+B|0,b[ye++]=O+j|0,b[ye++]=D+K|0,b[ye++]=N+G|0,b[ye++]=U+Z|0,b[ye++]=F+Y|0,b[ye++]=H+X|0,b[ye++]=V+Q|0,b[ye++]=M+re|0,b[ye++]=$+oe|0,b[ye++]=P+ue|0}function o(h,p,m,b){let y=h[0],E=h[1],v=h[2],_=h[3],C=p[0],S=p[1],A=p[2],I=p[3],O=p[4],D=p[5],N=p[6],U=p[7],F=m[0],H=m[1],V=m[2],M=m[3];for(let P=0;P<20;P+=2)y=y+C|0,F=(0,e.rotl)(F^y,16),O=O+F|0,C=(0,e.rotl)(C^O,12),y=y+C|0,F=(0,e.rotl)(F^y,8),O=O+F|0,C=(0,e.rotl)(C^O,7),E=E+S|0,H=(0,e.rotl)(H^E,16),D=D+H|0,S=(0,e.rotl)(S^D,12),E=E+S|0,H=(0,e.rotl)(H^E,8),D=D+H|0,S=(0,e.rotl)(S^D,7),v=v+A|0,V=(0,e.rotl)(V^v,16),N=N+V|0,A=(0,e.rotl)(A^N,12),v=v+A|0,V=(0,e.rotl)(V^v,8),N=N+V|0,A=(0,e.rotl)(A^N,7),_=_+I|0,M=(0,e.rotl)(M^_,16),U=U+M|0,I=(0,e.rotl)(I^U,12),_=_+I|0,M=(0,e.rotl)(M^_,8),U=U+M|0,I=(0,e.rotl)(I^U,7),y=y+S|0,M=(0,e.rotl)(M^y,16),N=N+M|0,S=(0,e.rotl)(S^N,12),y=y+S|0,M=(0,e.rotl)(M^y,8),N=N+M|0,S=(0,e.rotl)(S^N,7),E=E+A|0,F=(0,e.rotl)(F^E,16),U=U+F|0,A=(0,e.rotl)(A^U,12),E=E+A|0,F=(0,e.rotl)(F^E,8),U=U+F|0,A=(0,e.rotl)(A^U,7),v=v+I|0,H=(0,e.rotl)(H^v,16),O=O+H|0,I=(0,e.rotl)(I^O,12),v=v+I|0,H=(0,e.rotl)(H^v,8),O=O+H|0,I=(0,e.rotl)(I^O,7),_=_+C|0,V=(0,e.rotl)(V^_,16),D=D+V|0,C=(0,e.rotl)(C^D,12),_=_+C|0,V=(0,e.rotl)(V^_,8),D=D+V|0,C=(0,e.rotl)(C^D,7);let $=0;b[$++]=y,b[$++]=E,b[$++]=v,b[$++]=_,b[$++]=F,b[$++]=H,b[$++]=V,b[$++]=M}t.chacha20orig=(0,e.createCipher)(s,{counterRight:!1,counterLength:8,allowShortKeys:!0}),t.chacha20=(0,e.createCipher)(s,{counterRight:!1,counterLength:4,allowShortKeys:!1}),t.xchacha20=(0,e.createCipher)(s,{counterRight:!1,counterLength:8,extendNonceFn:o,allowShortKeys:!1}),t.chacha8=(0,e.createCipher)(s,{counterRight:!1,counterLength:4,rounds:8}),t.chacha12=(0,e.createCipher)(s,{counterRight:!1,counterLength:4,rounds:12});const a=new Uint8Array(16),c=(h,p)=>{h.update(p);const m=p.length%16;m&&h.update(a.subarray(m))},l=new Uint8Array(32);function d(h,p,m,b,y){const E=h(p,m,l),v=r.poly1305.create(E);y&&c(v,y),c(v,b);const _=new Uint8Array(16),C=(0,i.createView)(_);(0,i.setBigUint64)(C,0,BigInt(y?y.length:0),!0),(0,i.setBigUint64)(C,8,BigInt(b.length),!0),v.update(_);const S=v.digest();return(0,i.clean)(E,_),S}t._poly1305_aead=h=>(p,m,b)=>((0,n.bytes)(p,32),(0,n.bytes)(m),{encrypt(E,v){const _=E.length,C=_+16;v?(0,n.bytes)(v,C):v=new Uint8Array(C),h(p,m,E,v,1);const S=d(h,p,m,v.subarray(0,-16),b);return v.set(S,_),(0,i.clean)(S),v},decrypt(E,v){const _=E.length,C=_-16;if(_<16)throw new Error(\"encrypted data must be at least 16 bytes\");v?(0,n.bytes)(v,C):v=new Uint8Array(C);const S=E.subarray(0,-16),A=E.subarray(-16),I=d(h,p,m,S,b);if(!(0,i.equalBytes)(A,I))throw new Error(\"invalid tag\");return h(p,m,S,v,1),(0,i.clean)(I),v}}),t.chacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:12,tagLength:16},(0,t._poly1305_aead)(t.chacha20)),t.xchacha20poly1305=(0,i.wrapCipher)({blockSize:64,nonceLength:24,tagLength:16},(0,t._poly1305_aead)(t.xchacha20))})(Ore),Object.defineProperty(z8,\"__esModule\",{value:!0}),z8.xchacha20=void 0;var Hg,MF,jb,j9e=Ore;z8.xchacha20=function(t,e,n){return(0,j9e.xchacha20poly1305)(t,e,n)},(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.aesDecrypt=t.aesEncrypt=t.symDecrypt=t.symEncrypt=void 0;var e=Zo,n=$R,r=hm,i=z8,s=Mv,o=ti;t.symEncrypt=function(d,h,p){return a(c,d,h,p)};function a(d,h,p,m){var b=(0,s.symmetricAlgorithm)();if(b===\"aes-256-gcm\")return d(r.aes256gcm,h,p,(0,s.symmetricNonceLength)(),o.AEAD_TAG_LENGTH,m);if(b===\"xchacha20\")return d(i.xchacha20,h,p,o.XCHACHA20_NONCE_LENGTH,o.AEAD_TAG_LENGTH,m);if(b===\"aes-256-cbc\")return d(r.aes256cbc,h,p,16,0);throw new Error(\"Not implemented\")}function c(d,h,p,m,b,y){var E=(0,n.randomBytes)(m),v=d(h,E,y).encrypt(p);if(b===0)return(0,e.concatBytes)(E,v);var _=v.length-b,C=v.subarray(0,_),S=v.subarray(_);return(0,e.concatBytes)(E,S,C)}function l(d,h,p,m,b,y){var E=p.subarray(0,m),v=d(h,Uint8Array.from(E),y),_=p.subarray(m);if(b===0)return v.decrypt(_);var C=_.subarray(0,b),S=_.subarray(b);return v.decrypt((0,e.concatBytes)(S,C))}t.symDecrypt=function(d,h,p){return a(l,d,h,p)},t.aesEncrypt=t.symEncrypt,t.aesDecrypt=t.symDecrypt})(xF),Hg=q_,MF=Ta&&Ta.__createBinding||(Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);i&&!(\"get\"in i?!e.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}),jb=Ta&&Ta.__exportStar||function(t,e){for(var n in t)n===\"default\"||Object.prototype.hasOwnProperty.call(e,n)||MF(e,t,n)},Object.defineProperty(Hg,\"__esModule\",{value:!0}),jb(Dne,Hg),jb(yre,Hg),jb(RT,Hg),jb(xF,Hg);var Uv={};Object.defineProperty(Uv,\"__esModule\",{value:!0}),Uv.PublicKey=void 0;var DF=Zo,O3=q_,z9e=(function(){function t(e){this.data=(0,O3.convertPublicKeyFormat)(e,!0)}return t.fromHex=function(e){return new t((0,O3.hexToPublicKey)(e))},Object.defineProperty(t.prototype,\"uncompressed\",{get:function(){return ve.from((0,O3.convertPublicKeyFormat)(this.data,!1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"compressed\",{get:function(){return ve.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(e){return e===void 0&&(e=!0),(0,DF.bytesToHex)(e?this.data:this.uncompressed)},t.prototype.decapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.data:this.uncompressed,i=e.multiply(this,n);return(0,O3.getSharedKey)(r,i)},t.prototype.equals=function(e){return(0,DF.equalBytes)(this.data,e.data)},t})();Uv.PublicKey=z9e,Object.defineProperty(M8,\"__esModule\",{value:!0}),M8.PrivateKey=void 0;var BF=Zo,Vg=q_,F9e=Uv,q9e=(function(){function t(e){if(e===void 0)this.data=(0,Vg.getValidSecret)();else{if(!(0,Vg.isValidPrivateKey)(e))throw new Error(\"Invalid private key\");this.data=e}this.publicKey=new F9e.PublicKey((0,Vg.getPublicKey)(this.data))}return t.fromHex=function(e){return new t((0,Vg.decodeHex)(e))},Object.defineProperty(t.prototype,\"secret\",{get:function(){return ve.from(this.data)},enumerable:!1,configurable:!0}),t.prototype.toHex=function(){return(0,BF.bytesToHex)(this.data)},t.prototype.encapsulate=function(e,n){n===void 0&&(n=!1);var r=n?this.publicKey.compressed:this.publicKey.uncompressed,i=this.multiply(e,n);return(0,Vg.getSharedKey)(r,i)},t.prototype.multiply=function(e,n){return n===void 0&&(n=!1),(0,Vg.getSharedPoint)(this.data,e.compressed,n)},t.prototype.equals=function(e){return(0,BF.equalBytes)(this.data,e.data)},t})();M8.PrivateKey=q9e,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.PublicKey=t.PrivateKey=void 0;var e=M8;Object.defineProperty(t,\"PrivateKey\",{enumerable:!0,get:function(){return e.PrivateKey}});var n=Uv;Object.defineProperty(t,\"PublicKey\",{enumerable:!0,get:function(){return n.PublicKey}})})(Wx),(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.utils=t.PublicKey=t.PrivateKey=t.ECIES_CONFIG=void 0,t.encrypt=function(a,c){var l=new r.PrivateKey,d=a instanceof Uint8Array?new r.PublicKey(a):r.PublicKey.fromHex(a),h=l.encapsulate(d,(0,n.isHkdfKeyCompressed)()),p=(0,n.isEphemeralKeyCompressed)()?l.publicKey.compressed:l.publicKey.uncompressed,m=(0,i.symEncrypt)(h,c);return ve.from((0,e.concatBytes)(p,m))},t.decrypt=function(a,c){var l=a instanceof Uint8Array?new r.PrivateKey(a):r.PrivateKey.fromHex(a),d=(0,n.ephemeralKeySize)(),h=new r.PublicKey(c.subarray(0,d)),p=c.subarray(d),m=h.decapsulate(l,(0,n.isHkdfKeyCompressed)());return ve.from((0,i.symDecrypt)(m,p))};var e=Zo,n=Mv,r=Wx,i=q_,s=Mv;Object.defineProperty(t,\"ECIES_CONFIG\",{enumerable:!0,get:function(){return s.ECIES_CONFIG}});var o=Wx;Object.defineProperty(t,\"PrivateKey\",{enumerable:!0,get:function(){return o.PrivateKey}}),Object.defineProperty(t,\"PublicKey\",{enumerable:!0,get:function(){return o.PublicKey}}),t.utils={aesEncrypt:i.aesEncrypt,aesDecrypt:i.aesDecrypt,symEncrypt:i.symEncrypt,symDecrypt:i.symDecrypt,decodeHex:i.decodeHex,getValidSecret:i.getValidSecret,remove0x:i.remove0x}})(N1);const Mre=ps(\"KeyExchange:Layer\"),Dre=ps(\"SocketService:Layer\"),Bre=ps(\"Ecies:Layer\"),Lre=ps(\"RemoteCommunication:Layer\");Mre.color=\"##95c44e\",Dre.color=\"#f638d7\",Bre.color=\"#465b9c\",Lre.color=\"#47a2be\";const he={KeyExchange:Mre,SocketService:Dre,Ecies:Bre,RemoteCommunication:Lre};let zb,N3=[],l7=[];const sd=(t,e)=>we(void 0,void 0,void 0,(function*(){zb=e,l7.push(t),(function(n){return we(this,void 0,void 0,(function*(){if(!zb||!n)return;(function(){const o=l7;l7=N3,N3=o})();const r=zb.endsWith(\"/\")?`${zb}evt`:`${zb}/evt`,i=Object.assign({},n);if(delete i.params,n.params)for(const[o,a]of Object.entries(n.params))i[o]=a;const s=JSON.stringify(i);he.RemoteCommunication(`[sendBufferedEvents] Sending ${N3.length} analytics events to ${r}`);try{const o=yield sne(r,{method:\"POST\",headers:{Accept:\"application/json\",\"Content-Type\":\"application/json\"},body:s}),a=yield o.text();he.RemoteCommunication(`[sendBufferedEvents] Response: ${a}`),N3.length=0}catch{}}))})(t).catch((()=>{}))}));let u7=class{constructor(e){this.enabled=!0,e!=null&&e.debug&&ps.enable(\"Ecies:Layer\"),this.ecies=e!=null&&e.privateKey?N1.PrivateKey.fromHex(e.privateKey):new N1.PrivateKey,he.Ecies(\"[ECIES constructor()] initialized secret: \",this.ecies.toHex()),he.Ecies(\"[ECIES constructor()] initialized public: \",this.ecies.publicKey.toHex()),he.Ecies(\"[ECIES constructor()] init with\",this)}generateECIES(){this.ecies=new N1.PrivateKey}getPublicKey(){return this.ecies.publicKey.toHex()}encrypt(e,n){let r=e;if(this.enabled)try{he.Ecies(\"[ECIES: encrypt()] using otherPublicKey\",n);const i=ve.from(e),s=N1.encrypt(n,i);r=ve.from(s).toString(\"base64\")}catch(i){throw he.Ecies(\"[ECIES: encrypt()] error encrypt:\",i),he.Ecies(\"[ECIES: encrypt()] private: \",this.ecies.toHex()),he.Ecies(\"[ECIES: encrypt()] data: \",e),he.Ecies(\"[ECIES: encrypt()] otherkey: \",n),i}return r}decrypt(e){let n=e;if(this.enabled)try{he.Ecies(\"[ECIES: decrypt()] using privateKey\",this.ecies.toHex());const r=ve.from(e.toString(),\"base64\");n=N1.decrypt(this.ecies.toHex(),r).toString()}catch(r){throw he.Ecies(\"[ECIES: decrypt()] error decrypt\",r),he.Ecies(\"[ECIES: decrypt()] private: \",this.ecies.toHex()),he.Ecies(\"[ECIES: decrypt()] encryptedData: \",e),r}return n}getKeyInfo(){return{private:this.ecies.toHex(),public:this.ecies.publicKey.toHex()}}toString(){he.Ecies(\"[ECIES: toString()]\",this.getKeyInfo())}};var nh={version:\"0.33.1\"};const np=\"https://metamask-sdk.api.cx.metamask.io/\",H9e=[\"websocket\"],Pm=6048e5,V9e=3e3,Ji={METAMASK_CONNECTSIGN:\"metamask_connectSign\",METAMASK_CONNECTWITH:\"metamask_connectWith\",METAMASK_OPEN:\"metamask_open\",METAMASK_BATCH:\"metamask_batch\",PERSONAL_SIGN:\"personal_sign\",WALLET_REQUESTPERMISSIONS:\"wallet_requestPermissions\",WALLET_REVOKEPERMISSIONS:\"wallet_revokePermissions\",WALLET_WATCHASSET:\"wallet_watchAsset\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\",ETH_SENDTRANSACTION:\"eth_sendTransaction\",ETH_SIGNTYPEDDATA:\"eth_signTypedData\",ETH_SIGNTYPEDDATA_V3:\"eth_signTypedData_v3\",ETH_SIGNTYPEDDATA_V4:\"eth_signTypedData_v4\",ETH_SIGNTRANSACTION:\"eth_signTransaction\",ETH_SIGN:\"eth_sign\",PERSONAL_EC_RECOVER:\"personal_ecRecover\"},K9e=[Ji.METAMASK_CONNECTSIGN,Ji.METAMASK_CONNECTWITH,Ji.METAMASK_OPEN,Ji.METAMASK_BATCH,Ji.PERSONAL_SIGN,Ji.WALLET_REQUESTPERMISSIONS,Ji.WALLET_REVOKEPERMISSIONS,Ji.WALLET_WATCHASSET,Ji.ETH_SENDTRANSACTION,Ji.ETH_SIGNTYPEDDATA,Ji.ETH_SIGNTYPEDDATA_V3,Ji.ETH_SIGNTYPEDDATA_V4,Ji.ETH_SIGNTRANSACTION,Ji.ETH_SIGN,Ji.PERSONAL_EC_RECOVER];function t5(t){return K9e.includes(t)}function Ure(t){const{context:e}=t;he.RemoteCommunication(`[RemoteCommunication: clean()] context=${e}`),t.channelConfig=void 0,t.ready=!1,t.originatorConnectStarted=!1}var hi,Ie,F8,mn,Qn,Cr,Kg;(Kg=hi||(hi={})).DISCONNECTED=\"disconnected\",Kg.WAITING=\"waiting\",Kg.TIMEOUT=\"timeout\",Kg.LINKED=\"linked\",Kg.PAUSED=\"paused\",Kg.TERMINATED=\"terminated\",(function(t){t.KEY_INFO=\"key_info\",t.SERVICE_STATUS=\"service_status\",t.PROVIDER_UPDATE=\"provider_update\",t.RPC_UPDATE=\"rpc_update\",t.KEYS_EXCHANGED=\"keys_exchanged\",t.JOIN_CHANNEL=\"join_channel\",t.PUBLIC_KEY=\"public_key\",t.CHANNEL_CREATED=\"channel_created\",t.CLIENTS_CONNECTED=\"clients_connected\",t.CLIENTS_DISCONNECTED=\"clients_disconnected\",t.CLIENTS_WAITING=\"clients_waiting\",t.CLIENTS_READY=\"clients_ready\",t.REJECTED=\"rejected\",t.WALLET_INIT=\"wallet_init\",t.CHANNEL_PERSISTENCE=\"channel_persistence\",t.CONFIG=\"config\",t.MESSAGE_ACK=\"ack\",t.SOCKET_DISCONNECTED=\"socket_disconnected\",t.SOCKET_RECONNECT=\"socket_reconnect\",t.OTP=\"otp\",t.SDK_RPC_CALL=\"sdk_rpc_call\",t.AUTHORIZED=\"authorized\",t.CONNECTION_STATUS=\"connection_status\",t.MESSAGE=\"message\",t.TERMINATE=\"terminate\"})(Ie||(Ie={})),(F8||(F8={})).KEY_EXCHANGE=\"key_exchange\",(function(t){t.KEY_HANDSHAKE_START=\"key_handshake_start\",t.KEY_HANDSHAKE_CHECK=\"key_handshake_check\",t.KEY_HANDSHAKE_SYN=\"key_handshake_SYN\",t.KEY_HANDSHAKE_SYNACK=\"key_handshake_SYNACK\",t.KEY_HANDSHAKE_ACK=\"key_handshake_ACK\",t.KEY_HANDSHAKE_WALLET=\"key_handshake_wallet\",t.KEY_HANDSHAKE_NONE=\"none\"})(mn||(mn={}));let W9e=class extends L_.EventEmitter2{constructor({communicationLayer:e,otherPublicKey:n,context:r,ecies:i,logging:s}){super(),this.keysExchanged=!1,this.step=mn.KEY_HANDSHAKE_NONE,this.debug=!1,this.context=r,this.communicationLayer=e,i!=null&&i.privateKey&&n&&(he.KeyExchange(`[KeyExchange: constructor()] otherPubKey=${n} set keysExchanged to true!`,i),this.keysExchanged=!0),this.myECIES=new u7(Object.assign(Object.assign({},i),{debug:s==null?void 0:s.eciesLayer})),this.communicationLayer.state.eciesInstance=this.myECIES,this.myPublicKey=this.myECIES.getPublicKey(),this.debug=(s==null?void 0:s.keyExchangeLayer)===!0,n&&this.setOtherPublicKey(n),this.communicationLayer.on(F8.KEY_EXCHANGE,this.onKeyExchangeMessage.bind(this))}onKeyExchangeMessage(e){const{relayPersistence:n}=this.communicationLayer.remote.state;if(he.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} keysExchanged=${this.keysExchanged} relayPersistence=${n}`,e),n)return void he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Ignoring key exchange message because relay persistence is activated\");const{message:r}=e;this.keysExchanged&&he.KeyExchange(`[KeyExchange: onKeyExchangeMessage()] context=${this.context} received handshake while already exchanged. step=${this.step} otherPubKey=${this.otherPublicKey}`),this.emit(Ie.KEY_INFO,r.type),r.type===mn.KEY_HANDSHAKE_SYN?(this.checkStep([mn.KEY_HANDSHAKE_NONE,mn.KEY_HANDSHAKE_ACK]),he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYN\",r),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:mn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey}).catch((i=>{he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_SYNACK\",i)})),this.setStep(mn.KEY_HANDSHAKE_ACK)):r.type===mn.KEY_HANDSHAKE_SYNACK?(this.checkStep([mn.KEY_HANDSHAKE_SYNACK,mn.KEY_HANDSHAKE_ACK,mn.KEY_HANDSHAKE_NONE]),he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_SYNACK\"),r.pubkey&&this.setOtherPublicKey(r.pubkey),this.communicationLayer.sendMessage({type:mn.KEY_HANDSHAKE_ACK}).catch((i=>{he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] Error sending KEY_HANDSHAKE_ACK\",i)})),this.keysExchanged=!0,this.setStep(mn.KEY_HANDSHAKE_ACK),this.emit(Ie.KEYS_EXCHANGED)):r.type===mn.KEY_HANDSHAKE_ACK&&(he.KeyExchange(\"[KeyExchange: onKeyExchangeMessage()] KEY_HANDSHAKE_ACK set keysExchanged to true!\"),this.checkStep([mn.KEY_HANDSHAKE_ACK,mn.KEY_HANDSHAKE_NONE]),this.keysExchanged=!0,this.setStep(mn.KEY_HANDSHAKE_ACK),this.emit(Ie.KEYS_EXCHANGED))}resetKeys(e){this.clean(),this.myECIES=new u7(e)}clean(){he.KeyExchange(`[KeyExchange: clean()] context=${this.context} reset handshake state`),this.setStep(mn.KEY_HANDSHAKE_NONE),this.emit(Ie.KEY_INFO,this.step),this.keysExchanged=!1}start({isOriginator:e,force:n}){const{relayPersistence:r,protocolVersion:i}=this.communicationLayer.remote.state,s=i>=2;r?he.KeyExchange(\"[KeyExchange: start()] Ignoring key exchange message because relay persistence is activated\"):(he.KeyExchange(`[KeyExchange: start()] context=${this.context} protocolVersion=${i} isOriginator=${e} step=${this.step} force=${n} relayPersistence=${r} keysExchanged=${this.keysExchanged}`),e?!(this.keysExchanged||this.step!==mn.KEY_HANDSHAKE_NONE&&this.step!==mn.KEY_HANDSHAKE_SYNACK)||n?(he.KeyExchange(`[KeyExchange: start()] context=${this.context} -- start key exchange (force=${n}) -- step=${this.step}`,this.step),this.clean(),this.setStep(mn.KEY_HANDSHAKE_SYNACK),this.communicationLayer.sendMessage({type:mn.KEY_HANDSHAKE_SYN,pubkey:this.myPublicKey,v:2}).catch((o=>{he.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYN\",o)}))):he.KeyExchange(`[KeyExchange: start()] context=${this.context} -- key exchange already ${this.keysExchanged?\"done\":\"in progress\"} -- aborted.`,this.step):this.keysExchanged&&n!==!0?he.KeyExchange(\"[KeyExchange: start()] don't send KEY_HANDSHAKE_START -- exchange already done.\"):s?this.communicationLayer.sendMessage({type:mn.KEY_HANDSHAKE_SYNACK,pubkey:this.myPublicKey,v:2}).catch((o=>{he.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_SYNACK\",o)})):(this.communicationLayer.sendMessage({type:mn.KEY_HANDSHAKE_START}).catch((o=>{he.KeyExchange(\"[KeyExchange: start()] Error sending KEY_HANDSHAKE_START\",o)})),this.clean()))}setStep(e){this.step=e,this.emit(Ie.KEY_INFO,e)}checkStep(e){e.length>0&&e.indexOf(this.step.toString())}setRelayPersistence({localKey:e,otherKey:n}){this.otherPublicKey=n,this.myECIES=new u7({privateKey:e,debug:this.debug}),this.keysExchanged=!0}setKeysExchanged(e){this.keysExchanged=e}areKeysExchanged(){return this.keysExchanged}getMyPublicKey(){return this.myPublicKey}getOtherPublicKey(){return this.otherPublicKey}setOtherPublicKey(e){he.KeyExchange(\"[KeyExchange: setOtherPubKey()]\",e),this.otherPublicKey=e}encryptMessage(e){if(!this.otherPublicKey)throw new Error(\"encryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.encrypt(e,this.otherPublicKey)}decryptMessage(e){if(!this.otherPublicKey)throw new Error(\"decryptMessage: Keys not exchanged - missing otherPubKey\");return this.myECIES.decrypt(e)}getKeyInfo(){return{ecies:Object.assign(Object.assign({},this.myECIES.getKeyInfo()),{otherPubKey:this.otherPublicKey}),step:this.step,keysExchanged:this.areKeysExchanged()}}toString(){const e={keyInfo:this.getKeyInfo(),keysExchanged:this.keysExchanged,step:this.step};return JSON.stringify(e)}};(function(t){t.TERMINATE=\"terminate\",t.ANSWER=\"answer\",t.OFFER=\"offer\",t.CANDIDATE=\"candidate\",t.JSONRPC=\"jsonrpc\",t.WALLET_INFO=\"wallet_info\",t.WALLET_INIT=\"wallet_init\",t.ORIGINATOR_INFO=\"originator_info\",t.PAUSE=\"pause\",t.OTP=\"otp\",t.AUTHORIZED=\"authorized\",t.PING=\"ping\",t.READY=\"ready\"})(Qn||(Qn={})),(function(t){t.REQUEST=\"sdk_connect_request_started\",t.REQUEST_MOBILE=\"sdk_connect_request_started_mobile\",t.RECONNECT=\"sdk_reconnect_request_started\",t.CONNECTED=\"sdk_connection_established\",t.CONNECTED_MOBILE=\"sdk_connection_established_mobile\",t.AUTHORIZED=\"sdk_connection_authorized\",t.REJECTED=\"sdk_connection_rejected\",t.TERMINATED=\"sdk_connection_terminated\",t.DISCONNECTED=\"sdk_disconnected\",t.SDK_USE_EXTENSION=\"sdk_use_extension\",t.SDK_RPC_REQUEST=\"sdk_rpc_request\",t.SDK_RPC_REQUEST_RECEIVED=\"sdk_rpc_request_received\",t.SDK_RPC_REQUEST_DONE=\"sdk_rpc_request_done\",t.SDK_EXTENSION_UTILIZED=\"sdk_extension_utilized\",t.SDK_USE_INAPP_BROWSER=\"sdk_use_inapp_browser\"})(Cr||(Cr={}));const OE=(t,e,n)=>we(void 0,void 0,void 0,(function*(){var r,i,s,o,a,c;const{remote:l,state:d}=t,{channelId:h,isOriginator:p}=d;if(e===\"error_terminated\")return he.SocketService(`handleJoinChannelResults: Channel ${h} terminated`),void t.emit(Ie.TERMINATE);if(!n)return void he.SocketService(`handleJoinChannelResults: No result for channel ${h}`);const{persistence:m,walletKey:b,rejected:y}=n;if(he.SocketService(`handleJoinChannelResults: Channel ${h} persistence=${m} walletKey=${b} rejected=${y}`),y)return he.SocketService(`handleJoinChannelResults: Channel ${h} rejected`),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ie.REJECTED,{channelId:h}),void t.remote.emitServiceStatusEvent();if(b&&!(!((r=l.state.channelConfig)===null||r===void 0)&&r.otherKey)){t.getKeyExchange().setOtherPublicKey(b),(i=t.state.keyExchange)===null||i===void 0||i.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ie.AUTHORIZED);const{communicationLayer:E,storageManager:v}=l.state,_=Object.assign(Object.assign({},l.state.channelConfig),{channelId:(s=l.state.channelId)!==null&&s!==void 0?s:\"\",validUntil:Date.now()+Pm,localKey:E==null?void 0:E.getKeyInfo().ecies.private,otherKey:b});t.sendMessage({type:mn.KEY_HANDSHAKE_ACK}).catch((C=>{})),(o=t.state.socket)===null||o===void 0||o.emit(Qn.PING,{id:h,clientType:p?\"dapp\":\"wallet\",context:\"on_channel_reconnect\",message:\"\"}),yield v==null?void 0:v.persistChannelConfig(_),l.emitServiceStatusEvent(),l.setConnectionStatus(hi.LINKED)}m&&(t.emit(Ie.CHANNEL_PERSISTENCE),(a=t.state.keyExchange)===null||a===void 0||a.setKeysExchanged(!0),l.state.ready=!0,l.state.authorized=!0,l.emit(Ie.AUTHORIZED),sd(Object.assign(Object.assign({id:h??\"\",event:p?Cr.CONNECTED:Cr.CONNECTED_MOBILE},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:nh.version,walletVersion:(c=t.remote.state.walletInfo)===null||c===void 0?void 0:c.version}),d.communicationServerUrl).catch((E=>{})))})),gm=t=>new Promise((e=>{setTimeout(e,t)})),LF=(t,e,...n)=>we(void 0,[t,e,...n],void 0,(function*(r,i,s=200){let o;const a=Date.now();let c=!1;for(;!c;){if(c=Date.now()-a>3e5,o=i[r],o.elapsedTime!==void 0)return o;yield gm(s)}throw new Error(`RPC ${r} timed out`)})),BT=t=>we(void 0,void 0,void 0,(function*(){const{state:e}=t,{socket:n,channelId:r,context:i,isOriginator:s,isReconnecting:o}=e;if(o)return he.SocketService(\"[SocketService: reconnectSocket()] Reconnection already in progress, skipping\",t),!1;if(!n)return he.SocketService(\"[SocketService: reconnectSocket()] socket is not defined\",t),!1;if(!r)return!1;const{connected:a}=n;e.isReconnecting=!0,e.reconnectionAttempts=0,he.SocketService(`[SocketService: reconnectSocket()] connected=${a} trying to reconnect after socketio disconnection`,t);try{for(;3>e.reconnectionAttempts;){if(he.SocketService(`[SocketService: reconnectSocket()] Attempt ${e.reconnectionAttempts+1} of 3`,t),yield gm(200),n.connected)return he.SocketService(\"Socket already connected --- ping to retrieve messages\"),n.emit(Qn.PING,{id:r,clientType:s?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),!0;e.resumed=!0,n.connect(),t.emit(Ie.SOCKET_RECONNECT);try{if(yield new Promise(((c,l)=>{n.emit(Ie.JOIN_CHANNEL,{channelId:r,context:`${i}connect_again`,clientType:s?\"dapp\":\"wallet\"},((d,h)=>we(void 0,void 0,void 0,(function*(){try{yield OE(t,d,h),c()}catch(p){l(p)}}))))})),yield gm(100),n.connected)return he.SocketService(`Reconnection successful on attempt ${e.reconnectionAttempts+1}`),!0}catch(c){he.SocketService(`Error during reconnection attempt ${e.reconnectionAttempts+1}:`,c)}e.reconnectionAttempts+=1,3>e.reconnectionAttempts&&(yield gm(200))}return he.SocketService(\"Failed to reconnect after 3 attempts\"),!1}finally{e.isReconnecting=!1,e.reconnectionAttempts=0}}));function jre(t,e){return we(this,void 0,void 0,(function*(){var n;const r=(n=t.state.keyExchange)===null||n===void 0?void 0:n.encryptMessage(JSON.stringify(e)),i={id:t.state.channelId,context:t.state.context,clientType:t.state.isOriginator?\"dapp\":\"wallet\",message:r,plaintext:t.state.hasPlaintext?JSON.stringify(e):void 0};return he.SocketService(`[SocketService: encryptAndSendMessage()] context=${t.state.context}`,i),e.type===Qn.TERMINATE&&(t.state.manualDisconnect=!0),new Promise(((s,o)=>{var a;(a=t.state.socket)===null||a===void 0||a.emit(Ie.MESSAGE,i,((c,l)=>{var d;c&&(he.SocketService(`[SocketService: encryptAndSendMessage()] error=${c}`),o(c)),he.SocketService(\"[encryptAndSendMessage] response\",l),s((d=l==null?void 0:l.success)!==null&&d!==void 0&&d)}))}))}))}var J1;(function(t){t.RPC_CHECK=\"rpcCheck\",t.SKIPPED_RPC=\"skippedRpc\"})(J1||(J1={}));const zre=[\"eth_sendTransaction\",\"eth_signTypedData\",\"eth_signTransaction\",\"personal_sign\",\"wallet_requestPermissions\",\"wallet_switchEthereumChain\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"metamask_connectSign\",\"metamask_connectWith\",\"metamask_batch\"].map((t=>t.toLowerCase())),G9e=[{event:Ie.CLIENTS_CONNECTED,handler:function(t,e){return n=>we(this,void 0,void 0,(function*(){var r,i,s,o,a,c,l,d,h,p,m;const b=(i=(r=t.remote.state.channelConfig)===null||r===void 0?void 0:r.relayPersistence)!==null&&i!==void 0&&i;if(he.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected-${e}' relayPersistence=${b} resumed=${t.state.resumed}  clientsPaused=${t.state.clientsPaused} keysExchanged=${(s=t.state.keyExchange)===null||s===void 0?void 0:s.areKeysExchanged()} isOriginator=${t.state.isOriginator}`),t.emit(Ie.CLIENTS_CONNECTED,{isOriginator:t.state.isOriginator,keysExchanged:(o=t.state.keyExchange)===null||o===void 0?void 0:o.areKeysExchanged(),context:t.state.context}),t.state.resumed)t.state.isOriginator||(he.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} 'clients_connected' / keysExchanged=${(a=t.state.keyExchange)===null||a===void 0?void 0:a.areKeysExchanged()} -- backward compatibility`),(c=t.state.keyExchange)===null||c===void 0||c.start({isOriginator:(l=t.state.isOriginator)!==null&&l!==void 0&&l})),t.state.resumed=!1;else if(t.state.clientsPaused)he.SocketService(\"[SocketService: handleClientsConnected()] 'clients_connected' skip sending originatorInfo on pause\");else if(!t.state.isOriginator){const y=!b;he.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(d=t.state.keyExchange)===null||d===void 0?void 0:d.areKeysExchanged()} -- force=${y} -- backward compatibility`),he.SocketService(`[SocketService: handleClientsConnected()] context=${t.state.context} on 'clients_connected' / keysExchanged=${(h=t.state.keyExchange)===null||h===void 0?void 0:h.areKeysExchanged()} -- force=${y} -- backward compatibility`),(p=t.state.keyExchange)===null||p===void 0||p.start({isOriginator:(m=t.state.isOriginator)!==null&&m!==void 0&&m,force:y})}t.state.clientsConnected=!0,t.state.clientsPaused=!1}))}},{event:Ie.CHANNEL_CREATED,handler:function(t,e){return n=>{he.SocketService(`[SocketService: handleChannelCreated()] context=${t.state.context} on 'channel_created-${e}'`,n),t.emit(Ie.CHANNEL_CREATED,n)}}},{event:Ie.CLIENTS_DISCONNECTED,handler:function(t,e){return()=>{var n;t.state.clientsConnected=!1,he.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}'`),t.remote.state.relayPersistence?he.SocketService(`[SocketService: handlesClientsDisconnected()] context=${t.state.context} on 'clients_disconnected-${e}' - relayPersistence enabled, skipping key exchange cleanup.`):(t.state.isOriginator&&!t.state.clientsPaused&&((n=t.state.keyExchange)===null||n===void 0||n.clean()),t.emit(Ie.CLIENTS_DISCONNECTED,e))}}},{event:Ie.CONFIG,handler:function(t,e){return n=>we(this,void 0,void 0,(function*(){var r,i,s;he.SocketService(`[SocketService: handleChannelConfig()] update relayPersistence on 'config-${e}'`,n);const{persistence:o,walletKey:a}=n;t.state.isOriginator&&t.remote.state.channelConfig?(n.walletKey&&!t.remote.state.channelConfig.otherKey&&(he.SocketService(`Setting wallet key ${a}`),t.remote.state.channelConfig.otherKey=a,t.getKeyExchange().setOtherPublicKey(n.walletKey),(r=t.state.keyExchange)===null||r===void 0||r.setKeysExchanged(!0),yield t.remote.sendMessage({type:mn.KEY_HANDSHAKE_ACK}),yield t.remote.sendMessage({type:Qn.PING}),yield(i=t.remote.state.storageManager)===null||i===void 0?void 0:i.persistChannelConfig(t.remote.state.channelConfig)),o!==!0||t.remote.state.channelConfig.relayPersistence||(he.SocketService(`Setting relay persistence ${o}`),t.remote.state.channelConfig.relayPersistence=o,t.remote.state.relayPersistence=!0,t.remote.emit(Ie.CHANNEL_PERSISTENCE),t.remote.state.authorized=!0,t.remote.state.ready=!0,t.remote.emit(Ie.AUTHORIZED),yield(s=t.remote.state.storageManager)===null||s===void 0?void 0:s.persistChannelConfig(t.remote.state.channelConfig))):t.state.isOriginator||n.persistence&&(t.remote.state.relayPersistence=!0,t.remote.emit(Ie.CHANNEL_PERSISTENCE))}))}},{event:Ie.MESSAGE,handler:function(t,e){return n=>{var r,i,s,o,a,c,l,d,h,p,m,b,y,E,v,_,C,S;const{ackId:A,message:I,error:O}=n,D=(r=t.remote.state.relayPersistence)!==null&&r!==void 0&&r;if(he.SocketService(`[SocketService handleMessage()]  relayPersistence=${D}  context=${t.state.context} on 'message' ${e} keysExchanged=${(i=t.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,n),O)throw he.SocketService(`\n      [SocketService handleMessage()] context=${t.state.context}::on 'message' error=${O}`),new Error(O);const N=typeof I==\"string\";if(!N&&(I==null?void 0:I.type)===mn.KEY_HANDSHAKE_START)return D?void 0:(he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received HANDSHAKE_START isOriginator=${t.state.isOriginator}`,I),void((s=t.state.keyExchange)===null||s===void 0||s.start({isOriginator:(o=t.state.isOriginator)!==null&&o!==void 0&&o,force:!0})));if(!N&&(!((a=I==null?void 0:I.type)===null||a===void 0)&&a.startsWith(\"key_handshake\")))return D?void 0:(he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' emit KEY_EXCHANGE`,I),void t.emit(F8.KEY_EXCHANGE,{message:I,context:t.state.context}));if(N&&!(!((c=t.state.keyExchange)===null||c===void 0)&&c.areKeysExchanged())){let H=!1;try{he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' trying to decrypt message`),(l=t.state.keyExchange)===null||l===void 0||l.decryptMessage(I),H=!0}catch(V){he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' error`,V)}if(!H)return t.state.isOriginator?(h=t.state.keyExchange)===null||h===void 0||h.start({isOriginator:(p=t.state.isOriginator)!==null&&p!==void 0&&p}):t.sendMessage({type:mn.KEY_HANDSHAKE_START}).catch((V=>{})),void he.SocketService(`Message ignored because invalid key exchange status. step=${(m=t.state.keyExchange)===null||m===void 0?void 0:m.getKeyInfo().step}`,(b=t.state.keyExchange)===null||b===void 0?void 0:b.getKeyInfo(),I);he.SocketService(\"Invalid key exchange status detected --- updating it.\"),(d=t.state.keyExchange)===null||d===void 0||d.setKeysExchanged(!0)}else if(!N&&(I!=null&&I.type))return void t.emit(Ie.MESSAGE,I);if(!N)return void t.emit(Ie.MESSAGE,I);const U=(y=t.state.keyExchange)===null||y===void 0?void 0:y.decryptMessage(I),F=JSON.parse(U??\"{}\");if(A&&(A==null?void 0:A.length)>0&&(he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' ackid=${A} channelId=${e}`),(E=t.state.socket)===null||E===void 0||E.emit(Ie.MESSAGE_ACK,{ackId:A,channelId:e,clientType:t.state.isOriginator?\"dapp\":\"wallet\"})),t.state.clientsPaused=(F==null?void 0:F.type)===Qn.PAUSE,t.state.isOriginator&&F.data){const H=F.data,V=t.state.rpcMethodTracker[H.id];if(V){const M=Date.now()-V.timestamp;he.SocketService(`[SocketService handleMessage()] context=${t.state.context}::on 'message' received answer for id=${H.id} method=${V.method} responseTime=${M}`,F),t.remote.state.analytics&&zre.includes(V.method.toLowerCase())&&sd(Object.assign(Object.assign({id:(v=t.remote.state.channelId)!==null&&v!==void 0?v:\"\",event:Cr.SDK_RPC_REQUEST_DONE,sdkVersion:t.remote.state.sdkVersion,commLayerVersion:nh.version},t.remote.state.originatorInfo),{walletVersion:(_=t.remote.state.walletInfo)===null||_===void 0?void 0:_.version,params:{method:V.method,from:\"mobile\"}}),t.remote.state.communicationServerUrl).catch((P=>{})),t5(V.method)&&gr.analytics.track(H.error?H.error.code===4001?\"sdk_action_rejected\":\"sdk_action_failed\":\"sdk_action_succeeded\",{action:V.method});const $=Object.assign(Object.assign({},V),{result:H.result,error:H.error?{code:(C=H.error)===null||C===void 0?void 0:C.code,message:(S=H.error)===null||S===void 0?void 0:S.message}:void 0,elapsedTime:M});t.state.rpcMethodTracker[H.id]=$,t.emit(Ie.RPC_UPDATE,$)}}t.emit(Ie.MESSAGE,{message:F})}}},{event:Ie.REJECTED,handler:function(t,e){return n=>we(this,void 0,void 0,(function*(){var r;t.state.isOriginator&&!t.remote.state.ready?(he.SocketService(`[SocketService: handleChannelRejected()] context=${t.state.context} channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`,t.remote.state.originatorInfo),sd(Object.assign(Object.assign({id:e,event:Cr.REJECTED},t.remote.state.originatorInfo),{sdkVersion:t.remote.state.sdkVersion,commLayer:t.state.communicationLayerPreference,commLayerVersion:nh.version,walletVersion:(r=t.remote.state.walletInfo)===null||r===void 0?void 0:r.version}),t.remote.state.communicationServerUrl).catch((i=>{})),gr.analytics.track(\"sdk_connection_rejected\",{transport_type:\"websocket\"}),yield t.remote.disconnect({terminate:!0}),t.remote.emit(Ie.REJECTED,{channelId:e}),t.remote.setConnectionStatus(hi.DISCONNECTED)):he.SocketService(`[SocketService: handleChannelRejected()] SKIP -- channelId=${e} isOriginator=${t.state.isOriginator} ready=${t.remote.state.ready}`)}))}},{event:\"clients_waiting_to_join\",handler:function(t,e){return n=>{he.SocketService(`[SocketService: handleClientsWaitingToJoin()] context=${t.state.context} on 'clients_waiting_to_join-${e}'`,n),t.emit(Ie.CLIENTS_WAITING,n)}}}],Z9e=[{event:Ie.KEY_INFO,handler:function(t){return e=>{he.SocketService(\"[SocketService: handleKeyInfo()] on 'KEY_INFO'\",e),t.emit(Ie.KEY_INFO,e)}}},{event:Ie.KEYS_EXCHANGED,handler:function(t){return()=>{var e,n,r;he.SocketService(`[SocketService: handleKeysExchanged()] on 'keys_exchanged' keyschanged=${(e=t.state.keyExchange)===null||e===void 0?void 0:e.areKeysExchanged()}`);const{channelConfig:i}=t.remote.state;if(i){const o=t.getKeyExchange().getKeyInfo().ecies;i.localKey=o.private,i.otherKey=o.otherPubKey,t.remote.state.channelConfig=i,(n=t.remote.state.storageManager)===null||n===void 0||n.persistChannelConfig(i).catch((a=>{}))}t.emit(Ie.KEYS_EXCHANGED,{keysExchanged:(r=t.state.keyExchange)===null||r===void 0?void 0:r.areKeysExchanged(),isOriginator:t.state.isOriginator});const s={keyInfo:t.getKeyInfo()};t.emit(Ie.SERVICE_STATUS,s)}}}];function UF(t,e){he.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} setting socket listeners for channel ${e}...`);const{socket:n}=t.state,{keyExchange:r}=t.state;n&&t.state.isOriginator&&(t.state.debug&&(n==null||n.io.on(\"error\",(i=>{he.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=error`,i)})),n==null||n.io.on(\"reconnect\",(i=>{he.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect`,i),BT(t).catch((s=>{}))})),n==null||n.io.on(\"reconnect_error\",(i=>{he.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_error`,i)})),n==null||n.io.on(\"reconnect_failed\",(()=>{he.SocketService(`[SocketService: setupChannelListener()] context=${t.state.context} socket event=reconnect_failed`)}))),n==null||n.on(\"disconnect\",(i=>(he.SocketService(`[SocketService: setupChannelListener()] on 'disconnect' -- MetaMaskSDK socket disconnected '${i}' begin recovery...`),(function(s){return o=>{he.SocketService(`[SocketService: handleDisconnect()] on 'disconnect' manualDisconnect=${s.state.manualDisconnect}`,o),s.state.manualDisconnect||(s.emit(Ie.SOCKET_DISCONNECTED),BT(s).catch((a=>{})))}})(t)(i))))),G9e.forEach((({event:i,handler:s})=>{n==null||n.on(`${i}-${e}`,s(t,e))})),Z9e.forEach((({event:i,handler:s})=>{r==null||r.on(i,s(t))})),t.state.setupChannelListeners=!0}let Y9e=class extends L_.EventEmitter2{constructor(e){super(),this.state={clientsConnected:!1,clientsPaused:!1,manualDisconnect:!1,lastRpcId:void 0,rpcMethodTracker:{},hasPlaintext:!1,communicationServerUrl:\"\",focusListenerAdded:!1,removeFocusListener:void 0,isReconnecting:!1,reconnectionAttempts:0},this.options=e;const{reconnect:n,communicationLayerPreference:r,communicationServerUrl:i,context:s,remote:o,logging:a}=e;this.state.resumed=n,this.state.context=s,this.state.isOriginator=o.state.isOriginator,this.state.communicationLayerPreference=r,this.state.debug=(a==null?void 0:a.serviceLayer)===!0,this.remote=o,(a==null?void 0:a.serviceLayer)===!0&&ps.enable(\"SocketService:Layer\"),this.state.communicationServerUrl=i,this.state.hasPlaintext=this.state.communicationServerUrl!==np&&(a==null?void 0:a.plaintext)===!0,he.SocketService(`[SocketService: constructor()] Socket IO url: ${this.state.communicationServerUrl}`),this.initSocket()}initSocket(){var e;const{otherPublicKey:n,ecies:r,logging:i}=this.options,s={autoConnect:!1,transports:H9e,withCredentials:!0},o=this.state.communicationServerUrl;he.SocketService(`[SocketService: initSocket()] Socket IO url: ${o}`),this.state.socket=$E(o,s),(function(c){if(typeof window<\"u\"&&typeof document<\"u\"&&(he.SocketService(`[SocketService: setupSocketFocusListener()] hasFocus=${document.hasFocus()}`,c),!c.state.focusListenerAdded)){const l=()=>{he.SocketService(\"Document has focus --- reconnecting socket\"),BT(c).catch((d=>{}))};window.addEventListener(\"focus\",l),c.state.focusListenerAdded=!0,c.state.removeFocusListener=()=>{window.removeEventListener(\"focus\",l),c.state.focusListenerAdded=!1}}})(this);const a={communicationLayer:this,otherPublicKey:n,sendPublicKey:!1,context:(e=this.state.context)!==null&&e!==void 0?e:\"\",ecies:r,logging:i};this.state.keyExchange=new W9e(a)}resetKeys(){return he.SocketService(\"[SocketService: resetKeys()] Resetting keys.\"),void((e=this.state.keyExchange)===null||e===void 0||e.resetKeys());var e}createChannel(){return we(this,void 0,void 0,(function*(){return(function(e){return we(this,void 0,void 0,(function*(){var n,r,i;if(he.SocketService(`[SocketService: createChannel()] context=${e.state.context}`),e.state.socket||e.initSocket(),(n=e.state.socket)===null||n===void 0?void 0:n.connected)throw new Error(\"socket already connected\");(r=e.state.socket)===null||r===void 0||r.connect(),e.state.manualDisconnect=!1,e.state.isOriginator=!0;const s=Cf();e.state.channelId=s,UF(e,s),yield new Promise(((a,c)=>{var l;(l=e.state.socket)===null||l===void 0||l.emit(Ie.JOIN_CHANNEL,{channelId:s,context:`${e.state.context}createChannel`,clientType:\"dapp\"},((d,h)=>we(this,void 0,void 0,(function*(){try{yield OE(e,d,h),a()}catch(p){c(p)}}))))}));const o=(i=e.state.keyExchange)===null||i===void 0?void 0:i.getKeyInfo();return{channelId:s,pubKey:(o==null?void 0:o.ecies.public)||\"\",privKey:(o==null?void 0:o.ecies.private)||\"\"}}))})(this)}))}connectToChannel({channelId:e,withKeyExchange:n=!1,authorized:r}){return(function(i){return we(this,arguments,void 0,(function*({options:s,instance:o}){const{channelId:a,authorized:c,withKeyExchange:l}=s,{state:d,remote:h}=o,{isOriginator:p=!1,socket:m,keyExchange:b}=d,{channelConfig:y}=h.state;if(m!=null&&m.connected)throw new Error(\"socket already connected\");if(p&&(y!=null&&y.relayPersistence)){const{localKey:E,otherKey:v}=y;E&&v&&(b==null||b.setRelayPersistence({localKey:E,otherKey:v}))}return Object.assign(d,{manualDisconnect:!1,withKeyExchange:l,isOriginator:p,channelId:a}),m==null||m.connect(),UF(o,a),!p&&c&&(b==null||b.setKeysExchanged(!0),Object.assign(h.state,{ready:!0,authorized:!0})),new Promise((E=>{var v;const _=(v=b==null?void 0:b.getKeyInfo())===null||v===void 0?void 0:v.ecies.public;m==null||m.emit(Ie.JOIN_CHANNEL,{channelId:a,context:`${d.context}_connectToChannel`,clientType:p?\"dapp\":\"wallet\",publicKey:c&&!p?_:void 0},((C,S)=>we(this,void 0,void 0,(function*(){yield OE(o,C,S),E()}))))}))}))})({options:{channelId:e,withKeyExchange:n,authorized:r},instance:this})}getKeyInfo(){return this.state.keyExchange.getKeyInfo()}keyCheck(){var e,n;(n=(e=this).state.socket)===null||n===void 0||n.emit(Ie.MESSAGE,{id:e.state.channelId,context:e.state.context,message:{type:mn.KEY_HANDSHAKE_CHECK,pubkey:e.getKeyInfo().ecies.otherPubKey}})}getKeyExchange(){return this.state.keyExchange}sendMessage(e){return we(this,void 0,void 0,(function*(){return(function(n,r){return we(this,void 0,void 0,(function*(){var i,s,o;if(!n.state.channelId)throw he.SocketService(\"handleSendMessage: no channelId - Create a channel first\"),new Error(\"Create a channel first\");if(he.SocketService(`[SocketService: handleSendMessage()] context=${n.state.context} areKeysExchanged=${(i=n.state.keyExchange)===null||i===void 0?void 0:i.areKeysExchanged()}`,r),(s=r==null?void 0:r.type)===null||s===void 0?void 0:s.startsWith(\"key_handshake\"))return(function(c,l){var d;he.SocketService(`[SocketService: handleKeyHandshake()] context=${c.state.context}`,l),(d=c.state.socket)===null||d===void 0||d.emit(Ie.MESSAGE,{id:c.state.channelId,context:c.state.context,clientType:c.state.isOriginator?\"dapp\":\"wallet\",message:l})})(n,r),!0;(function(c,l){var d;if(!(!((d=c.state.keyExchange)===null||d===void 0)&&d.areKeysExchanged())&&!c.remote.state.relayPersistence)throw he.SocketService(`[SocketService: validateKeyExchange()] context=${c.state.context} ERROR keys not exchanged`,l),new Error(\"Keys not exchanged BBB\")})(n,r),(function(c,l){var d;const h=(d=l==null?void 0:l.method)!==null&&d!==void 0?d:\"\",p=l==null?void 0:l.id;c.state.isOriginator&&p&&(c.state.rpcMethodTracker[p]={id:p,timestamp:Date.now(),method:h},c.emit(Ie.RPC_UPDATE,c.state.rpcMethodTracker[p]))})(n,r);const a=yield jre(n,r);return n.remote.state.analytics&&n.remote.state.isOriginator&&r.method&&zre.includes(r.method.toLowerCase())&&sd({id:(o=n.remote.state.channelId)!==null&&o!==void 0?o:\"\",event:Cr.SDK_RPC_REQUEST,params:{method:r.method,from:\"mobile\"}},n.remote.state.communicationServerUrl).catch((c=>{})),n.remote.state.isOriginator&&r.method&&t5(r.method)&&gr.analytics.track(\"sdk_action_requested\",{action:r.method}),(function(c,l){return we(this,void 0,void 0,(function*(){var d;const h=l==null?void 0:l.id,p=(d=l==null?void 0:l.method)!==null&&d!==void 0?d:\"\";if(c.state.isOriginator&&h)try{const m=LF(h,c.state.rpcMethodTracker,200).then((E=>({type:J1.RPC_CHECK,result:E}))),b=we(this,void 0,void 0,(function*(){const E=yield(_=>we(void 0,[_],void 0,(function*({rpcId:C,instance:S}){for(;S.state.lastRpcId===C||S.state.lastRpcId===void 0;)yield gm(200);return S.state.lastRpcId})))({instance:c,rpcId:h}),v=yield LF(E,c.state.rpcMethodTracker,200);return{type:J1.SKIPPED_RPC,result:v}})),y=yield Promise.race([m,b]);if(y.type===J1.RPC_CHECK){const E=y.result;he.SocketService(`[SocketService:handleRpcReplies()] id=${l.id} ${p} ( ${E.elapsedTime} ms)`,E.result)}else{if(y.type!==J1.SKIPPED_RPC)throw new Error(`Error handling RPC replies for ${h}`);{const E=Object.assign(Object.assign({},c.state.rpcMethodTracker[h]),{error:new Error(\"SDK_CONNECTION_ISSUE\")});c.emit(Ie.RPC_UPDATE,E);const v={data:Object.assign(Object.assign({},E),{jsonrpc:\"2.0\"}),name:\"metamask-provider\"};c.emit(Ie.MESSAGE,{message:v})}}}catch(m){throw m}}))})(n,r).catch((c=>{})),a}))})(this,e)}))}ping(){return(function(e){return we(this,void 0,void 0,(function*(){var n,r;he.SocketService(`[SocketService: ping()] context=${e.state.context} originator=${e.state.isOriginator} keysExchanged=${(n=e.state.keyExchange)===null||n===void 0?void 0:n.areKeysExchanged()}`),(r=e.state.socket)===null||r===void 0||r.emit(Qn.PING,{id:e.state.channelId,context:\"ping\",clientType:e.remote.state.isOriginator?\"dapp\":\"wallet\",message:\"\"})}))})(this)}pause(){return(function(e){return we(this,void 0,void 0,(function*(){var n,r;he.SocketService(`[SocketService: pause()] context=${e.state.context}`),e.state.manualDisconnect=!0,!((n=e.state.keyExchange)===null||n===void 0)&&n.areKeysExchanged()&&(yield e.sendMessage({type:Qn.PAUSE})),(r=e.state.socket)===null||r===void 0||r.disconnect()}))})(this)}isConnected(){var e;return(e=this.state.socket)===null||e===void 0?void 0:e.connected}resume(){return(function(e){return we(this,void 0,void 0,(function*(){const{state:n,remote:r}=e,{socket:i,channelId:s,context:o,keyExchange:a,isOriginator:c}=n,{isOriginator:l}=r.state;if(he.SocketService(`[SocketService: resume()] channelId=${s} context=${o} connected=${i==null?void 0:i.connected} manualDisconnect=${n.manualDisconnect} resumed=${n.resumed} keysExchanged=${a==null?void 0:a.areKeysExchanged()}`),!s)throw he.SocketService(\"[SocketService: resume()] channelId is not defined\"),new Error(\"ChannelId is not defined\");i!=null&&i.connected?(he.SocketService(\"[SocketService: resume()] already connected.\"),i.emit(Qn.PING,{id:s,clientType:l?\"dapp\":\"wallet\",context:\"on_channel_config\",message:\"\"}),r.hasRelayPersistence()||a!=null&&a.areKeysExchanged()||(c?yield e.sendMessage({type:Qn.READY}):a==null||a.start({isOriginator:!1}))):(i==null||i.connect(),he.SocketService(`[SocketService: resume()] after connecting socket --> connected=${i==null?void 0:i.connected}`),i==null||i.emit(Ie.JOIN_CHANNEL,{channelId:s,context:`${o}_resume`,clientType:l?\"dapp\":\"wallet\"},((d,h)=>we(this,void 0,void 0,(function*(){try{yield OE(e,d,h)}catch{}}))))),n.manualDisconnect=!1,n.resumed=!0}))})(this)}getRPCMethodTracker(){return this.state.rpcMethodTracker}disconnect(e){return(function(n,r){var i,s,o,a,c;he.SocketService(`[SocketService: disconnect()] context=${n.state.context}`,r),r!=null&&r.terminate&&((s=(i=n.state).removeFocusListener)===null||s===void 0||s.call(i),n.state.channelId=r.channelId,(o=n.state.socket)===null||o===void 0||o.removeAllListeners(),(a=n.state.keyExchange)===null||a===void 0||a.clean(),n.remote.state.ready=!1,n.state.socket=void 0,n.state.rpcMethodTracker={}),n.state.manualDisconnect=!0,(c=n.state.socket)===null||c===void 0||c.disconnect()})(this,e)}};var rh,Li,jF;function J9e(t){return()=>we(this,void 0,void 0,(function*(){var e,n,r;const{state:i}=t;if(i.authorized)return;yield we(this,void 0,void 0,(function*(){for(;!i.walletInfo;)yield gm(500)}));const s=\"7.3\".localeCompare(((e=i.walletInfo)===null||e===void 0?void 0:e.version)||\"\");if(he.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' version=${(n=i.walletInfo)===null||n===void 0?void 0:n.version} compareValue=${s}`),s!==1)return;const o=i.platformType===Li.MobileWeb||i.platformType===Li.ReactNative||i.platformType===Li.MetaMaskMobileWebview;he.RemoteCommunication(`[RemoteCommunication: handleAuthorizedEvent()] HACK 'authorized' platform=${i.platformType} secure=${o} channel=${i.channelId} walletVersion=${(r=i.walletInfo)===null||r===void 0?void 0:r.version}`),o&&(i.authorized=!0,t.emit(Ie.AUTHORIZED))}))}function X9e(t){return e=>{const{state:n}=t;he.RemoteCommunication(`[RemoteCommunication: handleChannelCreatedEvent()] context=${n.context} on 'channel_created' channelId=${e}`),t.emit(Ie.CHANNEL_CREATED,e)}}function Q9e(t,e){return()=>{var n,r,i,s;const{state:o}=t;he.RemoteCommunication(`[RemoteCommunication: handleClientsConnectedEvent()] on 'clients_connected' channel=${o.channelId} keysExchanged=${(r=(n=o.communicationLayer)===null||n===void 0?void 0:n.getKeyInfo())===null||r===void 0?void 0:r.keysExchanged}`),o.analytics&&sd(Object.assign(Object.assign({id:(i=o.channelId)!==null&&i!==void 0?i:\"\",event:o.reconnection?Cr.RECONNECT:o.isOriginator?Cr.REQUEST:Cr.REQUEST_MOBILE},o.originatorInfo),{commLayer:e,sdkVersion:o.sdkVersion,walletVersion:(s=o.walletInfo)===null||s===void 0?void 0:s.version,commLayerVersion:nh.version}),o.communicationServerUrl).catch((a=>{})),o.isOriginator&&!o.reconnection&&gr.analytics.track(\"sdk_connection_established\",{transport_type:\"websocket\"}),o.clientsConnected=!0,o.originatorInfoSent=!1,t.emit(Ie.CLIENTS_CONNECTED)}}function eCe(t){return e=>{const{state:n}=t;he.RemoteCommunication(`[RemoteCommunication: handleClientsDisconnectedEvent()] context=${n.context} on 'clients_disconnected' channelId=${e}`),n.relayPersistence||(n.clientsConnected=!1,n.ready=!1,n.authorized=!1),t.emit(Ie.CLIENTS_DISCONNECTED,n.channelId),t.setConnectionStatus(hi.DISCONNECTED)}}function tCe(t){return e=>{var n;const{state:r}=t;if(he.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] context=${r.context} on 'clients_waiting' numberUsers=${e} ready=${r.ready} autoStarted=${r.originatorConnectStarted}`),t.setConnectionStatus(hi.WAITING),t.emit(Ie.CLIENTS_WAITING,e),r.originatorConnectStarted){he.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] on 'clients_waiting' watch autoStarted=${r.originatorConnectStarted} timeout`,r.autoConnectOptions);const i=((n=r.autoConnectOptions)===null||n===void 0?void 0:n.timeout)||3e3,s=setTimeout((()=>{he.RemoteCommunication(`[RemoteCommunication: handleClientsWaitingEvent()] setTimeout(${i}) terminate channelConfig`,r.autoConnectOptions),r.originatorConnectStarted=!1,r.ready||t.setConnectionStatus(hi.TIMEOUT),clearTimeout(s)}),i)}}}function nCe(t,e){return n=>{var r,i,s,o,a,c,l,d;const{state:h}=t;if(he.RemoteCommunication(`[RemoteCommunication: handleKeysExchangedEvent()] context=${h.context} on commLayer.'keys_exchanged' channel=${h.channelId}`,n),(i=(r=h.communicationLayer)===null||r===void 0?void 0:r.getKeyInfo())===null||i===void 0?void 0:i.keysExchanged){const p=Object.assign(Object.assign({},h.channelConfig),{channelId:(s=h.channelId)!==null&&s!==void 0?s:\"\",validUntil:((o=h.channelConfig)===null||o===void 0?void 0:o.validUntil)||Pm,localKey:h.communicationLayer.getKeyInfo().ecies.private,otherKey:h.communicationLayer.getKeyInfo().ecies.otherPubKey});(a=h.storageManager)===null||a===void 0||a.persistChannelConfig(p).catch((m=>{})),t.setConnectionStatus(hi.LINKED)}(function(p,m){var b,y,E,v,_,C,S,A;const{state:I}=p;he.RemoteCommunication(`[RemoteCommunication: setLastActiveDate()] channel=${I.channelId}`,m);const O=Object.assign(Object.assign({},I.channelConfig),{channelId:(b=I.channelId)!==null&&b!==void 0?b:\"\",validUntil:(E=(y=I.channelConfig)===null||y===void 0?void 0:y.validUntil)!==null&&E!==void 0?E:0,relayPersistence:I.relayPersistence,localKey:(_=(v=I.communicationLayer)===null||v===void 0?void 0:v.state.keyExchange)===null||_===void 0?void 0:_.getKeyInfo().ecies.private,otherKey:(S=(C=I.communicationLayer)===null||C===void 0?void 0:C.state.keyExchange)===null||S===void 0?void 0:S.getKeyInfo().ecies.otherPubKey,lastActive:m.getTime()});(A=I.storageManager)===null||A===void 0||A.persistChannelConfig(O)})(t,new Date),h.analytics&&h.channelId&&sd(Object.assign(Object.assign({id:h.channelId,event:n.isOriginator?Cr.CONNECTED:Cr.CONNECTED_MOBILE},h.originatorInfo),{sdkVersion:h.sdkVersion,commLayer:e,commLayerVersion:nh.version,walletVersion:(c=h.walletInfo)===null||c===void 0?void 0:c.version}),h.communicationServerUrl).catch((p=>{})),h.isOriginator=n.isOriginator,n.isOriginator||((l=h.communicationLayer)===null||l===void 0||l.sendMessage({type:Qn.READY}),h.ready=!0,h.paused=!1),n.isOriginator&&!h.originatorInfoSent&&((d=h.communicationLayer)===null||d===void 0||d.sendMessage({type:Qn.ORIGINATOR_INFO,originatorInfo:h.originatorInfo,originator:h.originatorInfo}),h.originatorInfoSent=!0)}}function rCe(t){return e=>{let n=e;e.message&&(n=n.message),(function(r,i){const{state:s}=i;if(he.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] context=${s.context} on 'message' typeof=${typeof r}`,r),i.state.ready=!0,s.isOriginator||r.type!==Qn.ORIGINATOR_INFO)if(s.isOriginator&&r.type===Qn.WALLET_INFO)(function(o,a){const{state:c}=o;c.walletInfo=a.walletInfo,c.paused=!1})(i,r);else{if(s.isOriginator&&r.type===Qn.WALLET_INIT)(function(o,a){return we(this,void 0,void 0,(function*(){var c,l,d;const{state:h}=o;if(h.isOriginator){const p=a.data||{};if(typeof p==\"object\"&&\"accounts\"in p&&\"chainId\"in p&&\"walletKey\"in p)try{const{channelConfig:m}=o.state;if(he.RemoteCommunication(\"WALLET_INIT: channelConfig\",JSON.stringify(m,null,2)),m){const b=p.accounts,y=p.chainId,E=p.walletKey;let v,_=!1;\"deeplinkProtocol\"in p&&(_=!!p.deeplinkProtocol,o.state.deeplinkProtocolAvailable=_),\"walletVersion\"in p&&(v=p.walletVersion),yield(c=o.state.storageManager)===null||c===void 0?void 0:c.persistChannelConfig(Object.assign(Object.assign({},m),{otherKey:E,walletVersion:v,deeplinkProtocolAvailable:_,relayPersistence:!0})),yield(l=o.state.storageManager)===null||l===void 0?void 0:l.persistAccounts(b),yield(d=o.state.storageManager)===null||d===void 0?void 0:d.persistChainId(y)}o.emit(Ie.WALLET_INIT,{accounts:p.accounts,chainId:p.chainId})}catch{}}}))})(i,r).catch((o=>{he.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)}));else if(r.type===Qn.TERMINATE)(function(o){return we(this,void 0,void 0,(function*(){const{state:a}=o;a.isOriginator&&(yield Fre({options:{terminate:!0,sendMessage:!1},instance:o}),o.emit(Ie.TERMINATE))}))})(i).catch((o=>{he.RemoteCommunication(`[RemoteCommunication: onCommunicationLayerMessage()] error=${o}`)}));else if(r.type===Qn.PAUSE)(function(o){const{state:a}=o;a.paused=!0,o.setConnectionStatus(hi.PAUSED)})(i);else if(r.type===Qn.READY&&s.isOriginator)(function(o){const{state:a}=o;o.setConnectionStatus(hi.LINKED);const c=a.paused;a.paused=!1,o.emit(Ie.CLIENTS_READY,{isOriginator:a.isOriginator,walletInfo:a.walletInfo}),c&&(a.authorized=!0,o.emit(Ie.AUTHORIZED))})(i);else{if(r.type===Qn.OTP&&s.isOriginator)return void(function(o,a){var c;const{state:l}=o;o.emit(Ie.OTP,a.otpAnswer),\"6.6\".localeCompare(((c=l.walletInfo)===null||c===void 0?void 0:c.version)||\"\")===1&&o.emit(Ie.SDK_RPC_CALL,{method:Ji.ETH_REQUESTACCOUNTS,params:[]})})(i,r);r.type===Qn.AUTHORIZED&&s.isOriginator&&(function(o){const{state:a}=o;a.authorized=!0,o.emit(Ie.AUTHORIZED)})(i)}i.emit(Ie.MESSAGE,r)}else(function(o,a){var c;const{state:l}=o;(c=l.communicationLayer)===null||c===void 0||c.sendMessage({type:Qn.WALLET_INFO,walletInfo:l.walletInfo}),l.originatorInfo=a.originatorInfo||a.originator,o.emit(Ie.CLIENTS_READY,{isOriginator:l.isOriginator,originatorInfo:l.originatorInfo}),l.paused=!1})(i,r)})(n,t)}}function iCe(t){return()=>{const{state:e}=t;he.RemoteCommunication(\"[RemoteCommunication: handleSocketReconnectEvent()] on 'socket_reconnect' -- reset key exchange status / set ready to false\"),e.ready=!1,e.authorized=!1,Ure(e),t.emitServiceStatusEvent({context:\"socket_reconnect\"})}}function sCe(t){return()=>{const{state:e}=t;he.RemoteCommunication(\"[RemoteCommunication: handleSocketDisconnectedEvent()] on 'socket_Disconnected' set ready to false\"),e.ready=!1}}function oCe(t){return()=>we(this,void 0,void 0,(function*(){var e,n,r,i,s,o,a;const{state:c}=t;he.RemoteCommunication(`[RemoteCommunication: handleFullPersistenceEvent()] context=${c.context}`),t.state.ready=!0,t.state.clientsConnected=!0,t.state.authorized=!0,t.state.relayPersistence=!0,(e=t.state.communicationLayer)===null||e===void 0||e.getKeyExchange().setKeysExchanged(!0),t.emit(Ie.KEYS_EXCHANGED,{keysExchanged:!0,isOriginator:!0}),t.emit(Ie.AUTHORIZED),t.emit(Ie.CLIENTS_READY),t.emit(Ie.CHANNEL_PERSISTENCE);try{c.channelConfig=Object.assign(Object.assign({},c.channelConfig),{localKey:(n=c.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange().getKeyInfo().ecies.private,otherKey:(r=c.communicationLayer)===null||r===void 0?void 0:r.getKeyExchange().getOtherPublicKey(),channelId:(i=c.channelId)!==null&&i!==void 0?i:\"\",validUntil:(o=(s=c.channelConfig)===null||s===void 0?void 0:s.validUntil)!==null&&o!==void 0?o:Pm,relayPersistence:!0}),yield(a=c.storageManager)===null||a===void 0?void 0:a.persistChannelConfig(c.channelConfig)}catch{}}))}function zF({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,ecies:r,communicationServerUrl:i=np,instance:s}){var o,a,c,l,d,h,p,m,b,y,E;const{state:v}=s;if(he.RemoteCommunication(\"[initCommunicationLayer()] \",JSON.stringify(v,null,2)),t!==rh.SOCKET)throw new Error(\"Invalid communication protocol\");v.communicationLayer=new Y9e({communicationLayerPreference:t,otherPublicKey:e,reconnect:n,transports:v.transports,communicationServerUrl:i,context:v.context,ecies:r,logging:v.logging,remote:s});let _=typeof document<\"u\"&&document.URL||\"\",C=typeof document<\"u\"&&document.title||\"\";!((o=v.dappMetadata)===null||o===void 0)&&o.url&&(_=v.dappMetadata.url),!((a=v.dappMetadata)===null||a===void 0)&&a.name&&(C=v.dappMetadata.name);const S=(h=(l=(c=v.dappMetadata)===null||c===void 0?void 0:c.name)!==null&&l!==void 0?l:(d=v.dappMetadata)===null||d===void 0?void 0:d.url)!==null&&h!==void 0?h:\"N/A\",A=typeof window<\"u\"&&window.location!==void 0&&(p=window.location.hostname)!==null&&p!==void 0?p:S,I={url:_,title:C,source:(m=v.dappMetadata)===null||m===void 0?void 0:m.source,dappId:A,anonId:v.anonId,icon:((b=v.dappMetadata)===null||b===void 0?void 0:b.iconUrl)||((y=v.dappMetadata)===null||y===void 0?void 0:y.base64Icon),platform:v.platformType,apiVersion:nh.version,connector:(E=v.dappMetadata)===null||E===void 0?void 0:E.connector};v.originatorInfo=I;const O={[Ie.AUTHORIZED]:J9e(s),[Ie.MESSAGE]:rCe(s),[Ie.CHANNEL_PERSISTENCE]:oCe(s),[Ie.CLIENTS_CONNECTED]:Q9e(s,t),[Ie.KEYS_EXCHANGED]:nCe(s,t),[Ie.SOCKET_DISCONNECTED]:sCe(s),[Ie.SOCKET_RECONNECT]:iCe(s),[Ie.CLIENTS_DISCONNECTED]:eCe(s),[Ie.KEY_INFO]:()=>{},[Ie.CHANNEL_CREATED]:X9e(s),[Ie.CLIENTS_WAITING]:tCe(s),[Ie.RPC_UPDATE]:D=>{s.emit(Ie.RPC_UPDATE,D)}};for(const[D,N]of Object.entries(O))try{v.communicationLayer.on(D,N)}catch{}}function Fre(t){return we(this,arguments,void 0,(function*({options:e,instance:n}){const{state:r}=n;return he.RemoteCommunication(`[RemoteCommunication: disconnect()] channel=${r.channelId}`,e),new Promise(((i,s)=>{var o,a,c,l,d,h;e!=null&&e.terminate?(n.state.ready&&sd({id:(o=n.state.channelId)!==null&&o!==void 0?o:\"\",event:Cr.TERMINATED},n.state.communicationServerUrl).catch((p=>{})),r.ready=!1,r.paused=!1,(a=r.storageManager)===null||a===void 0||a.terminate((c=r.channelId)!==null&&c!==void 0?c:\"\"),n.state.terminated=!0,e.sendMessage?!((l=r.communicationLayer)===null||l===void 0)&&l.getKeyInfo().keysExchanged&&n.state.communicationLayer&&jre(n.state.communicationLayer,{type:Qn.TERMINATE}).then((()=>{i(!0)})).catch((p=>{s(p)})):i(!0),r.authorized=!1,r.relayPersistence=!1,r.channelId=Cf(),e.channelId=r.channelId,r.channelConfig=void 0,r.originatorConnectStarted=!1,(d=r.communicationLayer)===null||d===void 0||d.disconnect(e),n.setConnectionStatus(hi.TERMINATED)):((h=r.communicationLayer)===null||h===void 0||h.disconnect(e),n.setConnectionStatus(hi.DISCONNECTED),i(!0))}))}))}(rh||(rh={})).SOCKET=\"socket\",(function(t){t.NonBrowser=\"nodejs\",t.MetaMaskMobileWebview=\"in-app-browser\",t.DesktopWeb=\"web-desktop\",t.MobileWeb=\"web-mobile\",t.ReactNative=\"react-native\"})(Li||(Li={}));let aCe=class extends L_.EventEmitter2{constructor(e){super(),this.state={ready:!1,anonId:\"\",authorized:!1,isOriginator:!1,terminated:!1,protocolVersion:1,paused:!1,deeplinkProtocolAvailable:!1,platformType:\"metamask-mobile\",analytics:!1,reconnection:!1,originatorInfoSent:!1,communicationServerUrl:np,context:\"\",persist:!1,clientsConnected:!1,sessionDuration:Pm,originatorConnectStarted:!1,debug:!1,_connectionStatus:hi.DISCONNECTED},this._options=e;const{anonId:n,platformType:r,communicationLayerPreference:i,otherPublicKey:s,reconnect:o,walletInfo:a,dappMetadata:c,protocolVersion:l,transports:d,context:h,relayPersistence:p,ecies:m,analytics:b=!1,storage:y,sdkVersion:E,communicationServerUrl:v=np,logging:_,autoConnect:C={timeout:V9e}}=e;this.state.anonId=n,this.state.otherPublicKey=s,this.state.dappMetadata=c,this.state.walletInfo=a,this.state.transports=d,this.state.platformType=r,this.state.analytics=b,this.state.protocolVersion=l??1,this.state.isOriginator=!s,this.state.relayPersistence=p,this.state.communicationServerUrl=v,this.state.context=h,this.state.terminated=!1,this.state.sdkVersion=E,this.setMaxListeners(50),this.setConnectionStatus(hi.DISCONNECTED),y!=null&&y.duration&&(this.state.sessionDuration=Pm),this.state.storageOptions=y,this.state.autoConnectOptions=C,this.state.debug=(_==null?void 0:_.remoteLayer)===!0,(_==null?void 0:_.remoteLayer)===!0&&ps.enable(\"RemoteCommunication:Layer\"),(_==null?void 0:_.serviceLayer)===!0&&ps.enable(\"SocketService:Layer\"),(_==null?void 0:_.eciesLayer)===!0&&ps.enable(\"ECIES:Layer\"),(_==null?void 0:_.keyExchangeLayer)===!0&&ps.enable(\"KeyExchange:Layer\"),this.state.logging=_,y!=null&&y.storageManager&&(this.state.storageManager=y.storageManager),he.RemoteCommunication(`[RemoteCommunication: constructor()] protocolVersion=${l} relayPersistence=${p} isOriginator=${this.state.isOriginator} communicationLayerPreference=${i} otherPublicKey=${s} reconnect=${o}`),this.state.isOriginator||zF({communicationLayerPreference:i,otherPublicKey:s,reconnect:o,ecies:m,communicationServerUrl:v,instance:this}),this.emitServiceStatusEvent({context:\"constructor\"})}initFromDappStorage(){return we(this,void 0,void 0,(function*(){var e;if(this.state.storageManager){const n=yield this.state.storageManager.getPersistedChannelConfig({});n&&(this.state.channelConfig=n,this.state.channelId=n.channelId,this.state.deeplinkProtocolAvailable=(e=n.deeplinkProtocolAvailable)!==null&&e!==void 0&&e,n.relayPersistence&&(this.state.authorized=!0,this.state.ready=!0,this.setConnectionStatus(hi.LINKED),yield this.connectToChannel({channelId:n.channelId})))}zF({communicationLayerPreference:rh.SOCKET,otherPublicKey:this.state.otherPublicKey,reconnect:this._options.reconnect,ecies:this._options.ecies,communicationServerUrl:this.state.communicationServerUrl,instance:this})}))}originatorSessionConnect(){return we(this,void 0,void 0,(function*(){return yield(function(e){return we(this,void 0,void 0,(function*(){var n;const{state:r}=e;if(!r.storageManager)return void he.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] no storage manager defined - skip\");const i=yield r.storageManager.getPersistedChannelConfig({});if(he.RemoteCommunication(`[RemoteCommunication: originatorSessionConnect()] autoStarted=${r.originatorConnectStarted} channelConfig`,i),(n=r.communicationLayer)===null||n===void 0?void 0:n.isConnected())return he.RemoteCommunication(\"[RemoteCommunication: originatorSessionConnect()] socket already connected - skip\"),i;if(i){if(i.validUntil>Date.now())return r.channelConfig=i,r.originatorConnectStarted=!0,r.channelId=i==null?void 0:i.channelId,r.reconnection=!0,i;he.RemoteCommunication(\"[RemoteCommunication: autoConnect()] Session has expired\")}r.originatorConnectStarted=!1}))})(this)}))}generateChannelIdConnect(){return we(this,void 0,void 0,(function*(){return(function(e){return we(this,void 0,void 0,(function*(){var n,r,i,s,o,a;if(!e.communicationLayer)throw new Error(\"communication layer not initialized\");if(e.ready)throw new Error(\"Channel already connected\");if(e.channelId&&(!((n=e.communicationLayer)===null||n===void 0)&&n.isConnected()))return e.channelConfig=Object.assign(Object.assign({},e.channelConfig),{channelId:e.channelId,validUntil:Date.now()+e.sessionDuration}),(r=e.storageManager)===null||r===void 0||r.persistChannelConfig(e.channelConfig),{channelId:e.channelId,privKey:(s=(i=e.communicationLayer)===null||i===void 0?void 0:i.getKeyInfo())===null||s===void 0?void 0:s.ecies.private,pubKey:(a=(o=e.communicationLayer)===null||o===void 0?void 0:o.getKeyInfo())===null||a===void 0?void 0:a.ecies.public};he.RemoteCommunication(\"[RemoteCommunication: generateChannelId()]\");const c=yield e.communicationLayer.createChannel();he.RemoteCommunication(\"[RemoteCommunication: generateChannelId()] channel created\",c);const l=Object.assign(Object.assign({},e.channelConfig),{channelId:c.channelId,localKey:c.privKey,validUntil:Date.now()+e.sessionDuration});return e.channelId=c.channelId,e.channelConfig=l,{channelId:e.channelId,pubKey:c.pubKey,privKey:c.privKey}}))})(this.state)}))}clean(){return Ure(this.state)}connectToChannel({channelId:e,withKeyExchange:n,authorized:r}){return(function(i){return we(this,arguments,void 0,(function*({channelId:s,withKeyExchange:o,authorized:a,state:c}){var l,d,h;if(!wT(s))throw he.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} invalid channel channelId=${s}`),new Error(`Invalid channel ${s}`);if(he.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} channelId=${s} withKeyExchange=${o}`),(l=c.communicationLayer)===null||l===void 0?void 0:l.isConnected())return void he.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${c.context} already connected - interrupt connection.`);c.channelId=s,yield(d=c.communicationLayer)===null||d===void 0?void 0:d.connectToChannel({channelId:s,authorized:a,withKeyExchange:o});const p=Object.assign(Object.assign({},c.channelConfig),{channelId:s,validUntil:Date.now()+c.sessionDuration});c.channelConfig=p,(h=c.storageManager)===null||h===void 0||h.persistChannelConfig(p)}))})({channelId:e,authorized:r,withKeyExchange:n,state:this.state})}sendMessage(e){return we(this,void 0,void 0,(function*(){const n=this.state.isOriginator&&e.method&&t5(e.method);n&&gr.analytics.track(\"sdk_action_requested\",{action:e.method});try{return yield(function(r,i){return we(this,void 0,void 0,(function*(){var s,o;const{state:a}=r;he.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context} paused=${a.paused} ready=${a.ready} relayPersistence=${a.relayPersistence} authorized=${a.authorized} socket=${(s=a.communicationLayer)===null||s===void 0?void 0:s.isConnected()} clientsConnected=${a.clientsConnected} status=${a._connectionStatus}`,i),a.relayPersistence||a.ready&&(!((o=a.communicationLayer)===null||o===void 0)&&o.isConnected())&&a.clientsConnected||(he.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  SKIP message waiting for MM mobile readiness.`),yield new Promise((c=>{r.once(Ie.CLIENTS_READY,c)})),he.RemoteCommunication(`[RemoteCommunication: sendMessage()] context=${a.context}  AFTER SKIP / READY -- sending pending message`));try{return yield(function(l,d){return we(this,void 0,void 0,(function*(){return new Promise((h=>{var p;const{state:m}=l;he.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context} ready=${m.ready} authorized=${m.authorized} method=${d.method}`),!m.isOriginator||m.authorized||m.relayPersistence?(p=m.communicationLayer)===null||p===void 0||p.sendMessage(d).then((b=>{h(b)})).catch((b=>{h(!1)})):l.once(Ie.AUTHORIZED,(()=>{var b;he.RemoteCommunication(`[RemoteCommunication: handleAuthorization()] context=${m.context}  AFTER SKIP / AUTHORIZED -- sending pending message`),(b=m.communicationLayer)===null||b===void 0||b.sendMessage(d).then((y=>{h(y)})).catch((y=>{h(!1)}))}))}))}))})(r,i)}catch(c){throw c}}))})(this,e)}catch(r){throw n&&gr.analytics.track(\"sdk_action_failed\",{action:e.method}),r}}))}testStorage(){return we(this,void 0,void 0,(function*(){return(function(e){return we(this,void 0,void 0,(function*(){var n;const r=yield(n=e.storageManager)===null||n===void 0?void 0:n.getPersistedChannelConfig();he.RemoteCommunication(\"[RemoteCommunication: testStorage()] res\",r)}))})(this.state)}))}hasDeeplinkProtocol(){return this.state.deeplinkProtocolAvailable}getChannelConfig(){return this.state.channelConfig}isReady(){return this.state.ready}isConnected(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.isConnected()}isAuthorized(){return this.state.authorized}isPaused(){return this.state.paused}getCommunicationLayer(){return this.state.communicationLayer}ping(){return we(this,void 0,void 0,(function*(){var e;he.RemoteCommunication(`[RemoteCommunication: ping()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.ping()}))}testLogger(){he.RemoteCommunication(`testLogger() channel=${this.state.channelId}`),he.SocketService(`testLogger() channel=${this.state.channelId}`),he.Ecies(`testLogger() channel=${this.state.channelId}`),he.KeyExchange(`testLogger() channel=${this.state.channelId}`)}keyCheck(){var e;he.RemoteCommunication(`[RemoteCommunication: keyCheck()] channel=${this.state.channelId}`),(e=this.state.communicationLayer)===null||e===void 0||e.keyCheck()}setConnectionStatus(e){this.state._connectionStatus!==e&&(this.state._connectionStatus=e,this.emit(Ie.CONNECTION_STATUS,e),this.emitServiceStatusEvent({context:\"setConnectionStatus\"}))}emitServiceStatusEvent(e={}){this.emit(Ie.SERVICE_STATUS,this.getServiceStatus())}getConnectionStatus(){return this.state._connectionStatus}getServiceStatus(){return{originatorInfo:this.state.originatorInfo,keyInfo:this.getKeyInfo(),connectionStatus:this.state._connectionStatus,channelConfig:this.state.channelConfig,channelId:this.state.channelId}}getKeyInfo(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getKeyInfo()}resetKeys(){var e;(e=this.state.communicationLayer)===null||e===void 0||e.resetKeys()}setOtherPublicKey(e){var n;const r=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange();if(!r)throw new Error(\"KeyExchange is not initialized.\");r.getOtherPublicKey()!==e&&r.setOtherPublicKey(e)}pause(){return we(this,void 0,void 0,(function*(){var e;he.RemoteCommunication(`[RemoteCommunication: pause()] channel=${this.state.channelId}`),yield(e=this.state.communicationLayer)===null||e===void 0?void 0:e.pause(),this.setConnectionStatus(hi.PAUSED)}))}getVersion(){return nh.version}hasRelayPersistence(){var e;return(e=this.state.relayPersistence)!==null&&e!==void 0&&e}resume(){return we(this,void 0,void 0,(function*(){return(function(e){return we(this,void 0,void 0,(function*(){var n;const{state:r}=e;he.RemoteCommunication(`[RemoteCommunication: resume()] channel=${r.channelId}`),yield(n=r.communicationLayer)===null||n===void 0?void 0:n.resume(),e.setConnectionStatus(hi.LINKED)}))})(this)}))}encrypt(e){var n,r,i;const s=(n=this.state.communicationLayer)===null||n===void 0?void 0:n.getKeyExchange(),o=s==null?void 0:s.getOtherPublicKey();if(!o)throw new Error(\"KeyExchange not completed\");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.encrypt(e,o)}decrypt(e){var n,r,i;if(!(!((n=this.state.communicationLayer)===null||n===void 0)&&n.state.eciesInstance))throw new Error(\"ECIES instance is not initialized\");return(i=(r=this.state.communicationLayer)===null||r===void 0?void 0:r.state.eciesInstance)===null||i===void 0?void 0:i.decrypt(e)}getChannelId(){return this.state.channelId}getRPCMethodTracker(){var e;return(e=this.state.communicationLayer)===null||e===void 0?void 0:e.getRPCMethodTracker()}reject({channelId:e}){return(function(n){return we(this,arguments,void 0,(function*({channelId:r,state:i}){var s,o,a;if(!wT(r))throw he.RemoteCommunication(`[RemoteCommunication: connectToChannel()] context=${i.context} invalid channel channelId=${r}`),new Error(`Invalid channel ${r}`);if(i.isOriginator)return void he.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} isOriginator=${i.isOriginator} channelId=${r}`);const{socket:c}=(o=(s=i.communicationLayer)===null||s===void 0?void 0:s.state)!==null&&o!==void 0?o:{};c!=null&&c.connected||(he.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket already connected`),c==null||c.connect()),sd(Object.assign(Object.assign({id:r,event:Cr.REJECTED},i.originatorInfo),{sdkVersion:i.sdkVersion,commLayerVersion:nh.version,walletVersion:(a=i.walletInfo)===null||a===void 0?void 0:a.version}),i.communicationServerUrl).catch((l=>{})),yield new Promise(((l,d)=>{c==null||c.emit(Ie.REJECTED,{channelId:r},((h,p)=>{he.RemoteCommunication(`[RemoteCommunication: reject()] context=${i.context} socket=${c==null?void 0:c.id}`,{error:h,response:p}),h?d(h):l(p)}))}))}))})({channelId:e,state:this.state})}disconnect(e){return we(this,void 0,void 0,(function*(){return Fre({options:e,instance:this})}))}};(function(t){t.RENEW=\"renew\",t.LINK=\"link\"})(jF||(jF={}));var cCe=\"ERC721\",lCe=\"ERC1155\",ur={errors:{disconnected:()=>\"MetaMask: Disconnected from chain. Attempting to connect.\",permanentlyDisconnected:()=>\"MetaMask: Disconnected from MetaMask background. Page reload required.\",sendSiteMetadata:()=>\"MetaMask: Failed to send site metadata. This is an internal error, please report this bug.\",unsupportedSync:t=>`MetaMask: The MetaMask Ethereum provider does not support synchronous methods like ${t} without a callback parameter.`,invalidDuplexStream:()=>\"Must provide a Node.js-style duplex stream.\",invalidNetworkParams:()=>\"MetaMask: Received invalid network parameters. Please report this bug.\",invalidRequestArgs:()=>\"Expected a single, non-array, object argument.\",invalidRequestMethod:()=>\"'args.method' must be a non-empty string.\",invalidRequestParams:()=>\"'args.params' must be an object or array if provided.\",invalidLoggerObject:()=>\"'args.logger' must be an object if provided.\",invalidLoggerMethod:t=>`'args.logger' must include required method '${t}'.`},info:{connected:t=>`MetaMask: Connected to chain with ID \"${t}\".`},warnings:{chainIdDeprecation:`MetaMask: 'ethereum.chainId' is deprecated and may be removed in the future. Please use the 'eth_chainId' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,networkVersionDeprecation:`MetaMask: 'ethereum.networkVersion' is deprecated and may be removed in the future. Please use the 'net_version' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,selectedAddressDeprecation:`MetaMask: 'ethereum.selectedAddress' is deprecated and may be removed in the future. Please use the 'eth_accounts' RPC method instead.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/discussions/23`,enableDeprecation:`MetaMask: 'ethereum.enable()' is deprecated and may be removed in the future. Please use the 'eth_requestAccounts' RPC method instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1102`,sendDeprecation:`MetaMask: 'ethereum.send(...)' is deprecated and may be removed in the future. Please use 'ethereum.sendAsync(...)' or 'ethereum.request(...)' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193`,events:{close:`MetaMask: The event 'close' is deprecated and may be removed in the future. Please use 'disconnect' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#disconnect`,data:`MetaMask: The event 'data' is deprecated and will be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`,networkChanged:`MetaMask: The event 'networkChanged' is deprecated and may be removed in the future. Use 'chainChanged' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#chainchanged`,notification:`MetaMask: The event 'notification' is deprecated and may be removed in the future. Use 'message' instead.\nFor more information, see: https://eips.ethereum.org/EIPS/eip-1193#message`},rpc:{ethDecryptDeprecation:`MetaMask: The RPC method 'eth_decrypt' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,ethGetEncryptionPublicKeyDeprecation:`MetaMask: The RPC method 'eth_getEncryptionPublicKey' is deprecated and may be removed in the future.\nFor more information, see: https://medium.com/metamask/metamask-api-method-deprecation-2b0564a84686`,walletWatchAssetNFTExperimental:`MetaMask: The RPC method 'wallet_watchAsset' is experimental for ERC721/ERC1155 assets and may change in the future.\nFor more information, see: https://github.com/MetaMask/metamask-improvement-proposals/blob/main/MIPs/mip-1.md and https://github.com/MetaMask/metamask-improvement-proposals/blob/main/PROCESS-GUIDE.md#proposal-lifecycle`},experimentalMethods:\"MetaMask: 'ethereum._metamask' exposes non-standard, experimental methods. They may be removed or changed without warning.\"}};function uCe(t){const e={ethDecryptDeprecation:!1,ethGetEncryptionPublicKeyDeprecation:!1,walletWatchAssetNFTExperimental:!1};return(n,r,i)=>{var s;e.ethDecryptDeprecation||n.method!==\"eth_decrypt\"?e.ethGetEncryptionPublicKeyDeprecation||n.method!==\"eth_getEncryptionPublicKey\"?!e.walletWatchAssetNFTExperimental&&n.method===\"wallet_watchAsset\"&&[cCe,lCe].includes(((s=n.params)==null?void 0:s.type)||\"\")&&(t.warn(ur.warnings.rpc.walletWatchAssetNFTExperimental),e.walletWatchAssetNFTExperimental=!0):(t.warn(ur.warnings.rpc.ethGetEncryptionPublicKeyDeprecation),e.ethGetEncryptionPublicKeyDeprecation=!0):(t.warn(ur.warnings.rpc.ethDecryptDeprecation),e.ethDecryptDeprecation=!0),i()}}var qre=4294967295,FF=Math.floor(Math.random()*qre);function dCe(){return(t,e,n,r)=>{const i=t.id,s=FF=(FF+1)%qre;t.id=s,e.id=s,n((o=>{t.id=i,e.id=i,o()}))}}var DR=(t,e,n)=>{if(!e.has(t))throw TypeError(\"Cannot \"+n)},xf=(t,e,n)=>(DR(t,e,\"read from private field\"),n?n.call(t):e.get(t)),ec=(t,e,n)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,n)},R3=(t,e,n,r)=>(DR(t,e,\"write to private field\"),e.set(t,n),n),cs=(t,e,n)=>(DR(t,e,\"access private method\"),n),yf={invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},qF={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}};function HF(t){return!!t&&typeof t==\"object\"&&!Array.isArray(t)}var q8=(t,e)=>Object.hasOwnProperty.call(t,e);let fCe=class extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(\".\")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}};function Ku(t){return typeof t==\"object\"&&t!=null}function xl(t){return typeof t==\"symbol\"?t.toString():typeof t==\"string\"?JSON.stringify(t):`${t}`}function hCe(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t==\"string\"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \\`${o}\\`${a?` with refinement \\`${a}\\``:\"\"}, but received: \\`${xl(r)}\\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*VF(t,e,n,r){(function(i){return Ku(i)&&typeof i[Symbol.iterator]==\"function\"})(t)||(t=[t]);for(const i of t){const s=hCe(i,e,n,r);s&&(yield s)}}function*BR(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!==\"type\"&&Ku(e.schema)&&Ku(t)&&!Array.isArray(t)))for(const l in t)e.schema[l]===void 0&&delete t[l];let c=\"valid\";for(const l of e.validator(t,a))l.explanation=n.message,c=\"not_valid\",yield[l,void 0];for(let[l,d,h]of e.entries(t,a)){const p=BR(d,h,{path:l===void 0?r:[...r,l],branch:l===void 0?i:[...i,d],coerce:s,mask:o,message:n.message});for(const m of p)m[0]?(c=m[0].refinement!=null?\"not_refined\":\"not_valid\",yield[m[0],void 0]):s&&(d=m[1],l===void 0?t=d:t instanceof Map?t.set(l,d):t instanceof Set?t.add(d):Ku(t)&&(d!==void 0||l in t)&&(t[l]=d))}if(c!==\"not_valid\")for(const l of e.refiner(t,a))l.explanation=n.message,c=\"not_refined\",yield[l,void 0];c===\"valid\"&&(yield[void 0,t])}let Pc=class{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=(c=>c),entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,this.validator=i?(c,l)=>VF(i(c,l),l,this,c):()=>[],this.refiner=s?(c,l)=>VF(s(c,l),l,this,c):()=>[]}assert(e,n){return Hre(e,this,n)}create(e,n){return Vre(e,this,n)}is(e){return wy(e,this)}mask(e,n){return(function(r,i,s){const o=jv(r,i,{coerce:!0,mask:!0,message:s});if(o[0])throw o[0];return o[1]})(e,this,n)}validate(e,n={}){return jv(e,this,n)}};function Hre(t,e,n){const r=jv(t,e,{message:n});if(r[0])throw r[0]}function Vre(t,e,n){const r=jv(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function wy(t,e){return!jv(t,e)[0]}function jv(t,e,n={}){const r=BR(t,e,n),i=(function(s){const{done:o,value:a}=s.next();return o?void 0:a})(r);return i[0]?[new fCe(i[0],(function*(){for(const o of r)o[0]&&(yield o[0])})),void 0]:[void 0,i[1]]}function ih(t,e){return new Pc({type:t,schema:null,validator:e})}function KF(t){let e;return new Pc({type:\"lazy\",schema:null,*entries(n,r){e??(e=t()),yield*e.entries(n,r)},validator:(n,r)=>(e??(e=t()),e.validator(n,r)),coercer:(n,r)=>(e??(e=t()),e.coercer(n,r)),refiner:(n,r)=>(e??(e=t()),e.refiner(n,r))})}function Kre(t){return new Pc({type:\"array\",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer:e=>Array.isArray(e)?e.slice():e,validator:e=>Array.isArray(e)||`Expected an array value, but received: ${xl(e)}`})}function Wre(t){const e=xl(t),n=typeof t;return new Pc({type:\"literal\",schema:n===\"string\"||n===\"number\"||n===\"boolean\"?t:null,validator:r=>r===t||`Expected the literal \\`${e}\\`, but received: ${xl(r)}`})}function Gre(){return ih(\"number\",(t=>typeof t==\"number\"&&!isNaN(t)||`Expected a number, but received: ${xl(t)}`))}function Zre(t){const e=t?Object.keys(t):[],n=ih(\"never\",(()=>!1));return new Pc({type:\"object\",schema:t||null,*entries(r){if(t&&Ku(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator:r=>Ku(r)||`Expected an object, but received: ${xl(r)}`,coercer:r=>Ku(r)?{...r}:r})}function WF(t){return new Pc({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function Yre(t,e){return new Pc({type:\"record\",schema:null,*entries(n){if(Ku(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator:n=>Ku(n)||`Expected an object, but received: ${xl(n)}`})}function sh(){return ih(\"string\",(t=>typeof t==\"string\"||`Expected a string, but received: ${xl(t)}`))}function H_(t){const e=t.map((n=>n.type)).join(\" | \");return new Pc({type:\"union\",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=BR(n,s,r),[a]=o;if(!a[0])return[];for(const[c]of o)c&&i.push(c)}return[`Expected the value to satisfy a union of \\`${e}\\`, but received: ${xl(n)}`,...i]}})}function pCe(t){return(function(e){return(function(n){return typeof n==\"object\"&&n!==null&&\"message\"in n})(e)&&typeof e.message==\"string\"?e.message:e==null?\"\":String(e)})(t).replace(/\\.$/u,\"\")}function gCe(t,e){var r,i;return n=t,typeof((i=(r=n==null?void 0:n.prototype)==null?void 0:r.constructor)==null?void 0:i.name)==\"string\"?new t({message:e}):t({message:e});var n}var mCe=class extends Error{constructor(e){super(e.message),this.code=\"ERR_ASSERTION\"}};function Jre(){throw new Error(\"setTimeout has not been defined\")}function Xre(){throw new Error(\"clearTimeout has not been defined\")}var lf=Jre,uf=Xre;function Qre(t){if(lf===setTimeout)return setTimeout(t,0);if((lf===Jre||!lf)&&setTimeout)return lf=setTimeout,setTimeout(t,0);try{return lf(t,0)}catch{try{return lf.call(null,t,0)}catch{return lf.call(this,t,0)}}}typeof bs.setTimeout==\"function\"&&(lf=setTimeout),typeof bs.clearTimeout==\"function\"&&(uf=clearTimeout);var m0,Uu=[],mm=!1,NE=-1;function yCe(){mm&&m0&&(mm=!1,m0.length?Uu=m0.concat(Uu):NE=-1,Uu.length&&eie())}function eie(){if(!mm){var t=Qre(yCe);mm=!0;for(var e=Uu.length;e;){for(m0=Uu,Uu=[];++NE<e;)m0&&m0[NE].run();NE=-1,e=Uu.length}m0=null,mm=!1,(function(n){if(uf===clearTimeout)return clearTimeout(n);if((uf===Xre||!uf)&&clearTimeout)return uf=clearTimeout,clearTimeout(n);try{return uf(n)}catch{try{return uf.call(null,n)}catch{return uf.call(this,n)}}})(t)}}function tie(t,e){this.fun=t,this.array=e}tie.prototype.run=function(){this.fun.apply(null,this.array)};function Dp(){}var bCe=Dp,wCe=Dp,vCe=Dp,ECe=Dp,_Ce=Dp,CCe=Dp,SCe=Dp,R1=bs.performance||{},xCe=R1.now||R1.mozNow||R1.msNow||R1.oNow||R1.webkitNow||function(){return new Date().getTime()},ACe=new Date,Xt={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Uu.push(new tie(t,e)),Uu.length!==1||mm||Qre(eie)},title:\"browser\",browser:!0,env:{},argv:[],version:\"\",versions:{},on:bCe,addListener:wCe,once:vCe,off:ECe,removeListener:_Ce,removeAllListeners:CCe,emit:SCe,binding:function(t){throw new Error(\"process.binding is not supported\")},cwd:function(){return\"/\"},chdir:function(t){throw new Error(\"process.chdir is not supported\")},umask:function(){return 0},hrtime:function(t){var e=.001*xCe.call(R1),n=Math.floor(e),r=Math.floor(e%1*1e9);return t&&(n-=t[0],(r-=t[1])<0&&(n--,r+=1e9)),[n,r]},platform:\"browser\",release:{},config:{},uptime:function(){return(new Date-ACe)/1e3}},zv=t=>Zre(t);function GF({path:t,branch:e}){const n=t[t.length-1];return q8(e[e.length-2],n)}function H8(t){return new Pc({...t,type:`optional ${t.type}`,validator:(e,n)=>!GF(n)||t.validator(e,n),refiner:(e,n)=>!GF(n)||t.refiner(e,n)})}var k3,ZF,YF,V8=H_([Wre(null),ih(\"boolean\",(t=>typeof t==\"boolean\")),ih(\"finite number\",(t=>wy(t,Gre())&&Number.isFinite(t))),sh(),Kre(KF((()=>V8))),Yre(sh(),KF((()=>V8)))]),Fv=(k3=V8,ZF=ih(\"any\",(()=>!0)),YF=t=>((function(e,n,r=\"Assertion failed\",i=mCe){try{Hre(e,n)}catch(s){throw gCe(i,`${r}: ${pCe(s)}.`)}})(t,V8),JSON.parse(JSON.stringify(t,((e,n)=>{if(e!==\"__proto__\"&&e!==\"constructor\")return n})))),new Pc({...k3,coercer:(t,e)=>wy(t,ZF)?k3.coercer(YF(t,e),e):k3.coercer(t,e)}));function LT(t){try{return(function(e){Vre(e,Fv)})(t),!0}catch{return!1}}var Ow=Wre(\"2.0\"),RE=(function(t){return new Pc({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})})(H_([Gre(),sh()])),UT=zv({code:ih(\"integer\",(t=>typeof t==\"number\"&&!isNaN(t)&&Number.isInteger(t)||`Expected an integer, but received: ${xl(t)}`)),message:sh(),data:H8(Fv),stack:H8(sh())}),nie=H_([Yre(sh(),Fv),Kre(Fv)]),$Ce=zv({id:RE,jsonrpc:Ow,method:sh(),params:H8(nie)}),ICe=zv({jsonrpc:Ow,method:sh(),params:H8(nie)});function JF(t){return wy(t,$Ce)}function XF(t){return wy(t,UT)}Zre({id:RE,jsonrpc:Ow,result:WF(ih(\"unknown\",(()=>!0))),error:WF(UT)}),H_([zv({id:RE,jsonrpc:Ow,result:Fv}),zv({id:RE,jsonrpc:Ow,error:UT})]);var QF=yf.internal,TCe=\"Unspecified error message. This is a bug, please report it.\",PCe={code:QF,message:rie(QF)},OCe=\"Unspecified server error.\";function rie(t,e=TCe){if((function(n){return Number.isInteger(n)})(t)){const n=t.toString();if(q8(qF,n))return qF[n].message;if((function(r){return r>=-32099&&r<=-32e3})(t))return OCe}return e}function eq(t,{fallbackError:e=PCe,shouldIncludeStack:n=!0}={}){if(!XF(e))throw new Error(\"Must provide fallback error with integer number code and string message.\");const r=(function(i,s){if(i&&typeof i==\"object\"&&\"serialize\"in i&&typeof i.serialize==\"function\")return i.serialize();if(XF(i))return i;const o=iie(i);return{...s,data:{cause:o}}})(t,e);return n||delete r.stack,r}function iie(t){return Array.isArray(t)?t.map((e=>LT(e)?e:HF(e)?tq(e):null)):HF(t)?tq(t):LT(t)?t:null}function tq(t){return Object.getOwnPropertyNames(t).reduce(((e,n)=>{const r=t[n];return LT(r)&&(e[n]=r),e}),{})}var sie=yw;yw.default=yw,yw.stable=nq,yw.stableStringify=nq;var K8=\"[...]\",oie=\"[Circular]\",rp=[],y0=[];function aie(){return{depthLimit:Number.MAX_SAFE_INTEGER,edgesLimit:Number.MAX_SAFE_INTEGER}}function yw(t,e,n,r){var i;r===void 0&&(r=aie()),jT(t,\"\",0,[],void 0,0,r);try{i=y0.length===0?JSON.stringify(t,e,n):JSON.stringify(t,cie(e),n)}catch{return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;rp.length!==0;){var s=rp.pop();s.length===4?Object.defineProperty(s[0],s[1],s[3]):s[0][s[1]]=s[2]}}return i}function ym(t,e,n,r){var i=Object.getOwnPropertyDescriptor(r,n);i.get!==void 0?i.configurable?(Object.defineProperty(r,n,{value:t}),rp.push([r,n,e,i])):y0.push([e,n,t]):(r[n]=t,rp.push([r,n,e]))}function jT(t,e,n,r,i,s,o){var a;if(s+=1,typeof t==\"object\"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void ym(oie,t,e,i);if(o.depthLimit!==void 0&&s>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void ym(K8,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)jT(t[a],a,a,r,t,s,o);else{var c=Object.keys(t);for(a=0;a<c.length;a++){var l=c[a];jT(t[l],l,a,r,t,s,o)}}r.pop()}}function NCe(t,e){return t<e?-1:t>e?1:0}function nq(t,e,n,r){r===void 0&&(r=aie());var i,s=zT(t,\"\",0,[],void 0,0,r)||t;try{i=y0.length===0?JSON.stringify(s,e,n):JSON.stringify(s,cie(e),n)}catch{return JSON.stringify(\"[unable to serialize, circular reference is too complex to analyze]\")}finally{for(;rp.length!==0;){var o=rp.pop();o.length===4?Object.defineProperty(o[0],o[1],o[3]):o[0][o[1]]=o[2]}}return i}function zT(t,e,n,r,i,s,o){var a;if(s+=1,typeof t==\"object\"&&t!==null){for(a=0;a<r.length;a++)if(r[a]===t)return void ym(oie,t,e,i);try{if(typeof t.toJSON==\"function\")return}catch{return}if(o.depthLimit!==void 0&&s>o.depthLimit||o.edgesLimit!==void 0&&n+1>o.edgesLimit)return void ym(K8,t,e,i);if(r.push(t),Array.isArray(t))for(a=0;a<t.length;a++)zT(t[a],a,a,r,t,s,o);else{var c={},l=Object.keys(t).sort(NCe);for(a=0;a<l.length;a++){var d=l[a];zT(t[d],d,a,r,t,s,o),c[d]=t[d]}if(i===void 0)return c;rp.push([i,e,t]),i[e]=c}r.pop()}}function cie(t){return t=t!==void 0?t:function(e,n){return n},function(e,n){if(y0.length>0)for(var r=0;r<y0.length;r++){var i=y0[r];if(i[1]===e&&i[0]===n){n=i[2],y0.splice(r,1);break}}return t.call(this,e,n)}}var RCe=F_(sie),Su=class extends Error{constructor(t,e,n){if(!Number.isInteger(t))throw new Error('\"code\" must be an integer.');if(!e||typeof e!=\"string\")throw new Error('\"message\" must be a non-empty string.');super(e),this.code=t,n!==void 0&&(this.data=n)}serialize(){const t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data,(function(e){if(typeof e!=\"object\"||e===null)return!1;try{let n=e;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}catch{return!1}})(this.data)&&(t.data.cause=iie(this.data.cause))),this.stack&&(t.stack=this.stack),t}toString(){return RCe(this.serialize(),kCe,2)}};function kCe(t,e){if(e!==\"[Circular]\")return e}var Nw=t=>MCe(yf.invalidRequest,t);function MCe(t,e){const[n,r]=(function(i){if(i){if(typeof i==\"string\")return[i];if(typeof i==\"object\"&&!Array.isArray(i)){const{message:s,data:o}=i;if(s&&typeof s!=\"string\")throw new Error(\"Must specify string message.\");return[s??void 0,o]}}return[]})(e);return new Su(t,n??rie(t),r)}var lie={};function df(){}function gn(){gn.init.call(this)}function uie(t){return t._maxListeners===void 0?gn.defaultMaxListeners:t._maxListeners}function rq(t,e,n,r){var i,s,o;if(typeof n!=\"function\")throw new TypeError('\"listener\" argument must be a function');if((s=t._events)?(s.newListener&&(t.emit(\"newListener\",e,n.listener?n.listener:n),s=t._events),o=s[e]):(s=t._events=new df,t._eventsCount=0),o){if(typeof o==\"function\"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=uie(t))&&i>0&&o.length>i){o.warned=!0;var a=new Error(\"Possible EventEmitter memory leak detected. \"+o.length+\" \"+e+\" listeners added. Use emitter.setMaxListeners() to increase limit\");a.name=\"MaxListenersExceededWarning\",a.emitter=t,a.type=e,a.count=o.length,(function(c){typeof console.warn==\"function\"?console.warn(c):console.log(c)})(a)}}else o=s[e]=n,++t._eventsCount;return t}function iq(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}function sq(t){var e=this._events;if(e){var n=e[t];if(typeof n==\"function\")return 1;if(n)return n.length}return 0}function Fb(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}df.prototype=Object.create(null),gn.EventEmitter=gn,gn.usingDomains=!1,gn.prototype.domain=void 0,gn.prototype._events=void 0,gn.prototype._maxListeners=void 0,gn.defaultMaxListeners=10,gn.init=function(){this.domain=null,gn.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new df,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},gn.prototype.setMaxListeners=function(t){if(typeof t!=\"number\"||t<0||isNaN(t))throw new TypeError('\"n\" argument must be a positive number');return this._maxListeners=t,this},gn.prototype.getMaxListeners=function(){return uie(this)},gn.prototype.emit=function(t){var e,n,r,i,s,o,a,c=t===\"error\";if(o=this._events)c=c&&o.error==null;else if(!c)return!1;if(a=this.domain,c){if(e=arguments[1],!a){if(e instanceof Error)throw e;var l=new Error('Uncaught, unspecified \"error\" event. ('+e+\")\");throw l.context=e,l}return e||(e=new Error('Uncaught, unspecified \"error\" event')),e.domainEmitter=this,e.domain=a,e.domainThrown=!1,a.emit(\"error\",e),!1}if(!(n=o[t]))return!1;var d=typeof n==\"function\";switch(r=arguments.length){case 1:(function(h,p,m){if(p)h.call(m);else for(var b=h.length,y=Fb(h,b),E=0;E<b;++E)y[E].call(m)})(n,d,this);break;case 2:(function(h,p,m,b){if(p)h.call(m,b);else for(var y=h.length,E=Fb(h,y),v=0;v<y;++v)E[v].call(m,b)})(n,d,this,arguments[1]);break;case 3:(function(h,p,m,b,y){if(p)h.call(m,b,y);else for(var E=h.length,v=Fb(h,E),_=0;_<E;++_)v[_].call(m,b,y)})(n,d,this,arguments[1],arguments[2]);break;case 4:(function(h,p,m,b,y,E){if(p)h.call(m,b,y,E);else for(var v=h.length,_=Fb(h,v),C=0;C<v;++C)_[C].call(m,b,y,E)})(n,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];(function(h,p,m,b){if(p)h.apply(m,b);else for(var y=h.length,E=Fb(h,y),v=0;v<y;++v)E[v].apply(m,b)})(n,d,this,i)}return!0},gn.prototype.addListener=function(t,e){return rq(this,t,e,!1)},gn.prototype.on=gn.prototype.addListener,gn.prototype.prependListener=function(t,e){return rq(this,t,e,!0)},gn.prototype.once=function(t,e){if(typeof e!=\"function\")throw new TypeError('\"listener\" argument must be a function');return this.on(t,iq(this,t,e)),this},gn.prototype.prependOnceListener=function(t,e){if(typeof e!=\"function\")throw new TypeError('\"listener\" argument must be a function');return this.prependListener(t,iq(this,t,e)),this},gn.prototype.removeListener=function(t,e){var n,r,i,s,o;if(typeof e!=\"function\")throw new TypeError('\"listener\" argument must be a function');if(!(r=this._events))return this;if(!(n=r[t]))return this;if(n===e||n.listener&&n.listener===e)--this._eventsCount==0?this._events=new df:(delete r[t],r.removeListener&&this.emit(\"removeListener\",t,n.listener||e));else if(typeof n!=\"function\"){for(i=-1,s=n.length;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){o=n[s].listener,i=s;break}if(i<0)return this;if(n.length===1){if(n[0]=void 0,--this._eventsCount==0)return this._events=new df,this;delete r[t]}else(function(a,c){for(var l=c,d=l+1,h=a.length;d<h;l+=1,d+=1)a[l]=a[d];a.pop()})(n,i);r.removeListener&&this.emit(\"removeListener\",t,o||e)}return this},gn.prototype.off=function(t,e){return this.removeListener(t,e)},gn.prototype.removeAllListeners=function(t){var e,n;if(!(n=this._events))return this;if(!n.removeListener)return arguments.length===0?(this._events=new df,this._eventsCount=0):n[t]&&(--this._eventsCount==0?this._events=new df:delete n[t]),this;if(arguments.length===0){for(var r,i=Object.keys(n),s=0;s<i.length;++s)(r=i[s])!==\"removeListener\"&&this.removeAllListeners(r);return this.removeAllListeners(\"removeListener\"),this._events=new df,this._eventsCount=0,this}if(typeof(e=n[t])==\"function\")this.removeListener(t,e);else if(e)do this.removeListener(t,e[e.length-1]);while(e[0]);return this},gn.prototype.listeners=function(t){var e,n,r=this._events;return n=r&&(e=r[t])?typeof e==\"function\"?[e.listener||e]:(function(i){for(var s=new Array(i.length),o=0;o<s.length;++o)s[o]=i[o].listener||i[o];return s})(e):[],n},gn.listenerCount=function(t,e){return typeof t.listenerCount==\"function\"?t.listenerCount(e):sq.call(t,e)},gn.prototype.listenerCount=sq,gn.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var LR=Q2(Object.freeze({__proto__:null,EventEmitter:gn,default:gn}));Object.defineProperty(lie,\"__esModule\",{value:!0});const DCe=LR;function oq(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout((()=>{throw r}))}}let BCe=class extends DCe.EventEmitter{emit(e,...n){let r=e===\"error\";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(\"Unhandled error.\"+(o?` (${o.message})`:\"\"));throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s==\"function\")oq(s,this,n);else{const o=s.length,a=(function(c){const l=c.length,d=new Array(l);for(let h=0;h<l;h+=1)d[h]=c[h];return d})(s);for(let c=0;c<o;c+=1)oq(a[c],this,n)}return!0}};var W8,bf,X1,bw,kE,ME,FT,DE,qT,d7,aq,BE,HT,f7,cq,Rw,G8,h7,lq,die=lie.default=BCe,Za=class LE extends die{constructor({notificationHandler:e}={}){super(),ec(this,bw),ec(this,ME),ec(this,DE),ec(this,W8,!1),ec(this,bf,void 0),ec(this,X1,void 0),R3(this,bf,[]),R3(this,X1,e)}destroy(){xf(this,bf).forEach((e=>{\"destroy\"in e&&typeof e.destroy==\"function\"&&e.destroy()})),R3(this,bf,[]),R3(this,W8,!0)}push(e){cs(this,bw,kE).call(this),xf(this,bf).push(e)}handle(e,n){if(cs(this,bw,kE).call(this),n&&typeof n!=\"function\")throw new Error('\"callback\" must be a function if provided.');return Array.isArray(e)?n?cs(this,ME,FT).call(this,e,n):cs(this,ME,FT).call(this,e):n?cs(this,DE,qT).call(this,e,n):this._promiseHandle(e)}asMiddleware(){return cs(this,bw,kE).call(this),async(e,n,r,i)=>{var s,o;try{const[a,c,l]=await cs(s=LE,BE,HT).call(s,e,n,xf(this,bf));return c?(await cs(o=LE,Rw,G8).call(o,l),i(a)):r((async d=>{var h;try{await cs(h=LE,Rw,G8).call(h,l)}catch(p){return d(p)}return d()}))}catch(a){return i(a)}}}async _promiseHandle(e){return new Promise(((n,r)=>{cs(this,DE,qT).call(this,e,((i,s)=>{i&&s===void 0?r(i):n(s)})).catch(r)}))}};W8=new WeakMap,bf=new WeakMap,X1=new WeakMap,bw=new WeakSet,kE=function(){if(xf(this,W8))throw new Error(\"This engine is destroyed and can no longer be used.\")},ME=new WeakSet,FT=async function(t,e){try{if(t.length===0){const r=[{id:null,jsonrpc:\"2.0\",error:new Su(yf.invalidRequest,\"Request batch must contain plain objects. Received an empty array\")}];return e?e(null,r):r}const n=(await Promise.all(t.map(this._promiseHandle.bind(this)))).filter((r=>r!==void 0));return e?e(null,n):n}catch(n){if(e)return e(n);throw n}},DE=new WeakSet,qT=async function(t,e){var n;if(!t||Array.isArray(t)||typeof t!=\"object\"){const o=new Su(yf.invalidRequest,\"Requests must be plain objects. Received: \"+typeof t,{request:t});return e(o,{id:null,jsonrpc:\"2.0\",error:o})}if(typeof t.method!=\"string\"){const o=new Su(yf.invalidRequest,\"Must specify a string method. Received: \"+typeof t.method,{request:t});return xf(this,X1)&&!JF(t)?e(null):e(o,{id:t.id??null,jsonrpc:\"2.0\",error:o})}if(xf(this,X1)&&wy(t,ICe)&&!JF(t)){try{await xf(this,X1).call(this,t)}catch(o){return e(o)}return e(null)}let r=null;const i={...t},s={id:i.id,jsonrpc:i.jsonrpc};try{await cs(n=Za,d7,aq).call(n,i,s,xf(this,bf))}catch(o){r=o}return r&&(delete s.result,s.error||(s.error=eq(r))),e(r,s)},d7=new WeakSet,aq=async function(t,e,n){var r,i,s;const[o,a,c]=await cs(r=Za,BE,HT).call(r,t,e,n);if(cs(i=Za,h7,lq).call(i,t,e,a),await cs(s=Za,Rw,G8).call(s,c),o)throw o},BE=new WeakSet,HT=async function(t,e,n){var r;const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await cs(r=Za,f7,cq).call(r,t,e,a,i),o)break;return[s,o,i.reverse()]},f7=new WeakSet,cq=async function(t,e,n,r){return new Promise((i=>{const s=a=>{const c=a||e.error;c&&(e.error=eq(c)),i([c,!0])},o=a=>{e.error?s(e.error):(a&&(typeof a!=\"function\"&&s(new Su(yf.internal,`JsonRpcEngine: \"next\" return handlers must be functions. Received \"${typeof a}\" for request:\n${p7(t)}`,{request:t})),r.push(a)),i([null,!1]))};try{n(t,e,o,s)}catch(a){s(a)}}))},Rw=new WeakSet,G8=async function(t){for(const e of t)await new Promise(((n,r)=>{e((i=>i?r(i):n()))}))},h7=new WeakSet,lq=function(t,e,n){if(!q8(e,\"result\")&&!q8(e,\"error\"))throw new Su(yf.internal,`JsonRpcEngine: Response has no error or result for request:\n${p7(t)}`,{request:t});if(!n)throw new Su(yf.internal,`JsonRpcEngine: Nothing ended request:\n${p7(t)}`,{request:t})},ec(Za,d7),ec(Za,BE),ec(Za,f7),ec(Za,Rw),ec(Za,h7);var LCe=Za;function p7(t){return JSON.stringify(t,null,2)}var fie=Object.freeze([\"eth_subscription\"]),UCe=(t=console)=>[dCe(),jCe(t),uCe(t)];function jCe(t){return(e,n,r)=>{typeof e.method==\"string\"&&e.method||(n.error=Nw({message:\"The request 'method' must be a non-empty string.\",data:e})),r((i=>{const{error:s}=n;return s&&t.error(`MetaMask - RPC Error: ${s.message}`,s),i()}))}}var UE=(t,e,n=!0)=>(r,i)=>{r||i.error?e(r||i.error):!n||Array.isArray(i)?t(i):t(i.result)},hie=t=>!!t&&typeof t==\"string\"&&t.startsWith(\"0x\"),pie=()=>{};async function uq(t,e){try{const n=await(async function(){return{name:zCe(window),icon:await FCe(window)}})();t.handle({jsonrpc:\"2.0\",id:1,method:\"metamask_sendDomainMetadata\",params:n},pie)}catch(n){e.error({message:ur.errors.sendSiteMetadata(),originalError:n})}}function zCe(t){const{document:e}=t,n=e.querySelector('head > meta[property=\"og:site_name\"]');if(n)return n.content;const r=e.querySelector('head > meta[name=\"title\"]');return r?r.content:e.title&&e.title.length>0?e.title:window.location.hostname}async function FCe(t){const{document:e}=t,n=e.querySelectorAll('head > link[rel~=\"icon\"]');for(const r of Array.from(n))if(r&&await qCe(r.href))return r.href;return null}async function qCe(t){return new Promise(((e,n)=>{try{const r=document.createElement(\"img\");r.onload=()=>e(!0),r.onerror=()=>e(!1),r.src=t}catch(r){n(r)}}))}var gie=(t,e,n)=>{if(!e.has(t))throw TypeError(\"Cannot \"+n)},al=(t,e,n)=>(gie(t,e,\"read from private field\"),n?n.call(t):e.get(t)),VT=(t,e,n)=>{if(e.has(t))throw TypeError(\"Cannot add the same private member more than once\");e instanceof WeakSet?e.add(t):e.set(t,n)},xu=(t,e,n,r)=>(gie(t,e,\"write to private field\"),e.set(t,n),n);function dq(t,e,n){try{Reflect.apply(t,e,n)}catch(r){setTimeout((()=>{throw r}))}}let HCe=class extends gn{emit(e,...n){let r=e===\"error\";const i=this._events;if(i!==void 0)r=r&&i.error===void 0;else if(!r)return!1;if(r){let o;if(n.length>0&&([o]=n),o instanceof Error)throw o;const a=new Error(\"Unhandled error.\"+(o?` (${o.message})`:\"\"));throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s==\"function\")dq(s,this,n);else{const o=s.length,a=(function(c){const l=c.length,d=new Array(l);for(let h=0;h<l;h+=1)d[h]=c[h];return d})(s);for(let c=0;c<o;c+=1)dq(a[c],this,n)}return!0}};var ff,Jh,VCe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e==\"object\"&&typeof n==\"object\"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;i--!=0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(s=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;i--!=0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!=0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!=e&&n!=n},KCe=F_(VCe),mie=class yie extends HCe{constructor({logger:e=console,maxEventListeners:n=100,rpcMiddleware:r=[]}={}){super(),VT(this,ff,void 0),VT(this,Jh,void 0),this._log=e,this.setMaxListeners(n),this._state={...yie._defaultState},xu(this,Jh,null),xu(this,ff,null),this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleConnect=this._handleConnect.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this.request=this.request.bind(this);const i=new LCe;r.forEach((s=>i.push(s))),this._rpcEngine=i}get chainId(){return al(this,ff)}get selectedAddress(){return al(this,Jh)}isConnected(){return this._state.isConnected}async request(e){if(!e||typeof e!=\"object\"||Array.isArray(e))throw Nw({message:ur.errors.invalidRequestArgs(),data:e});const{method:n,params:r}=e;if(typeof n!=\"string\"||n.length===0)throw Nw({message:ur.errors.invalidRequestMethod(),data:e});if(r!==void 0&&!Array.isArray(r)&&(typeof r!=\"object\"||r===null))throw Nw({message:ur.errors.invalidRequestParams(),data:e});const i=r==null?{method:n}:{method:n,params:r};return new Promise(((s,o)=>{this._rpcRequest(i,UE(s,o))}))}_initializeState(e){if(this._state.initialized)throw new Error(\"Provider already initialized.\");if(e){const{accounts:n,chainId:r,isUnlocked:i,networkVersion:s}=e;this._handleConnect(r),this._handleChainChanged({chainId:r,networkVersion:s}),this._handleUnlockStateChanged({accounts:n,isUnlocked:i}),this._handleAccountsChanged(n)}this._state.initialized=!0,this.emit(\"_initialized\")}_rpcRequest(e,n){let r=n;return Array.isArray(e)||(e.jsonrpc||(e.jsonrpc=\"2.0\"),e.method!==\"eth_accounts\"&&e.method!==\"eth_requestAccounts\"||(r=(i,s)=>{this._handleAccountsChanged(s.result??[],e.method===\"eth_accounts\"),n(i,s)})),this._rpcEngine.handle(e,r)}_handleConnect(e){this._state.isConnected||(this._state.isConnected=!0,this.emit(\"connect\",{chainId:e}),this._log.debug(ur.info.connected(e)))}_handleDisconnect(e,n){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!e){let r;this._state.isConnected=!1,e?(r=new Su(1013,n??ur.errors.disconnected()),this._log.debug(r)):(r=new Su(1011,n??ur.errors.permanentlyDisconnected()),this._log.error(r),xu(this,ff,null),this._state.accounts=null,xu(this,Jh,null),this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit(\"disconnect\",r)}}_handleChainChanged({chainId:e}={}){hie(e)?(this._handleConnect(e),e!==al(this,ff)&&(xu(this,ff,e),this._state.initialized&&this.emit(\"chainChanged\",al(this,ff)))):this._log.error(ur.errors.invalidNetworkParams(),{chainId:e})}_handleAccountsChanged(e,n=!1){let r=e;Array.isArray(e)||(this._log.error(\"MetaMask: Received invalid accounts parameter. Please report this bug.\",e),r=[]);for(const i of e)if(typeof i!=\"string\"){this._log.error(\"MetaMask: Received non-string account. Please report this bug.\",e),r=[];break}if(!KCe(this._state.accounts,r)&&(n&&this._state.accounts!==null&&this._log.error(\"MetaMask: 'eth_accounts' unexpectedly updated accounts. Please report this bug.\",r),this._state.accounts=r,al(this,Jh)!==r[0]&&xu(this,Jh,r[0]||null),this._state.initialized)){const i=[...r];this.emit(\"accountsChanged\",i)}}_handleUnlockStateChanged({accounts:e,isUnlocked:n}={}){typeof n==\"boolean\"?n!==this._state.isUnlocked&&(this._state.isUnlocked=n,this._handleAccountsChanged(e??[])):this._log.error(\"MetaMask: Received invalid isUnlocked parameter. Please report this bug.\")}};ff=new WeakMap,Jh=new WeakMap,mie._defaultState={accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1};var UR,WCe=mie,KT={exports:{}},bie=LR.EventEmitter,jR=Q2(c9e);UR=typeof Object.create==\"function\"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t};var wie=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++)n[e[r]]=Object.getOwnPropertyDescriptor(t,e[r]);return n},GCe=/%[sdj%]/g;function V_(t){if(!qv(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(ml(arguments[n]));return e.join(\" \")}n=1;for(var r=arguments,i=r.length,s=String(t).replace(GCe,(function(a){if(a===\"%%\")return\"%\";if(n>=i)return a;switch(a){case\"%s\":return String(r[n++]);case\"%d\":return Number(r[n++]);case\"%j\":try{return JSON.stringify(r[n++])}catch{return\"[Circular]\"}default:return a}})),o=r[n];n<i;o=r[++n])n5(o)||!Bp(o)?s+=\" \"+o:s+=\" \"+ml(o);return s}function zR(t,e){if(dl(bs.process))return function(){return zR(t,e).apply(this,arguments)};if(Xt.noDeprecation===!0)return t;var n=!1;return function(){if(!n){if(Xt.throwDeprecation)throw new Error(e);Xt.traceDeprecation?console.trace(e):console.error(e),n=!0}return t.apply(this,arguments)}}var g7,M3={};function vie(t){return dl(g7)&&(g7=Xt.env.NODE_DEBUG||\"\"),t=t.toUpperCase(),!M3[t]&&(new RegExp(\"\\\\b\"+t+\"\\\\b\",\"i\").test(g7)?M3[t]=function(){var e=V_.apply(null,arguments);console.error(\"%s %d: %s\",t,0,e)}:M3[t]=function(){}),M3[t]}function ml(t,e){var n={seen:[],stylize:YCe};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),K_(e)?n.showHidden=e:e&&VR(n,e),dl(n.showHidden)&&(n.showHidden=!1),dl(n.depth)&&(n.depth=2),dl(n.colors)&&(n.colors=!1),dl(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=ZCe),Z8(n,t,n.depth)}function ZCe(t,e){var n=ml.styles[e];return n?\"\\x1B[\"+ml.colors[n][0]+\"m\"+t+\"\\x1B[\"+ml.colors[n][1]+\"m\":t}function YCe(t,e){return t}function Z8(t,e,n){if(t.customInspect&&e&&Dw(e.inspect)&&e.inspect!==ml&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return qv(r)||(r=Z8(t,r,n)),r}var i=(function(p,m){if(dl(m))return p.stylize(\"undefined\",\"undefined\");if(qv(m)){var b=\"'\"+JSON.stringify(m).replace(/^\"|\"$/g,\"\").replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"')+\"'\";return p.stylize(b,\"string\")}if(qR(m))return p.stylize(\"\"+m,\"number\");if(K_(m))return p.stylize(\"\"+m,\"boolean\");if(n5(m))return p.stylize(\"null\",\"null\")})(t,e);if(i)return i;var s=Object.keys(e),o=(function(p){var m={};return p.forEach((function(b,y){m[b]=!0})),m})(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),Mw(e)&&(s.indexOf(\"message\")>=0||s.indexOf(\"description\")>=0))return m7(e);if(s.length===0){if(Dw(e)){var a=e.name?\": \"+e.name:\"\";return t.stylize(\"[Function\"+a+\"]\",\"special\")}if(kw(e))return t.stylize(RegExp.prototype.toString.call(e),\"regexp\");if(Y8(e))return t.stylize(Date.prototype.toString.call(e),\"date\");if(Mw(e))return m7(e)}var c,l=\"\",d=!1,h=[\"{\",\"}\"];return FR(e)&&(d=!0,h=[\"[\",\"]\"]),Dw(e)&&(l=\" [Function\"+(e.name?\": \"+e.name:\"\")+\"]\"),kw(e)&&(l=\" \"+RegExp.prototype.toString.call(e)),Y8(e)&&(l=\" \"+Date.prototype.toUTCString.call(e)),Mw(e)&&(l=\" \"+m7(e)),s.length!==0||d&&e.length!=0?n<0?kw(e)?t.stylize(RegExp.prototype.toString.call(e),\"regexp\"):t.stylize(\"[Object]\",\"special\"):(t.seen.push(e),c=d?(function(p,m,b,y,E){for(var v=[],_=0,C=m.length;_<C;++_)Aie(m,String(_))?v.push(y7(p,m,b,y,String(_),!0)):v.push(\"\");return E.forEach((function(S){S.match(/^\\d+$/)||v.push(y7(p,m,b,y,S,!0))})),v})(t,e,n,o,s):s.map((function(p){return y7(t,e,n,o,p,d)})),t.seen.pop(),(function(p,m,b){var y=p.reduce((function(E,v){return v.indexOf(`\n`),E+v.replace(/\\u001b\\[\\d\\d?m/g,\"\").length+1}),0);return y>60?b[0]+(m===\"\"?\"\":m+`\n `)+\" \"+p.join(`,\n  `)+\" \"+b[1]:b[0]+m+\" \"+p.join(\", \")+\" \"+b[1]})(c,l,h)):h[0]+l+h[1]}function m7(t){return\"[\"+Error.prototype.toString.call(t)+\"]\"}function y7(t,e,n,r,i,s){var o,a,c;if((c=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?a=c.set?t.stylize(\"[Getter/Setter]\",\"special\"):t.stylize(\"[Getter]\",\"special\"):c.set&&(a=t.stylize(\"[Setter]\",\"special\")),Aie(r,i)||(o=\"[\"+i+\"]\"),a||(t.seen.indexOf(c.value)<0?(a=n5(n)?Z8(t,c.value,null):Z8(t,c.value,n-1)).indexOf(`\n`)>-1&&(a=s?a.split(`\n`).map((function(l){return\"  \"+l})).join(`\n`).substr(2):`\n`+a.split(`\n`).map((function(l){return\"   \"+l})).join(`\n`)):a=t.stylize(\"[Circular]\",\"special\")),dl(o)){if(s&&i.match(/^\\d+$/))return a;(o=JSON.stringify(\"\"+i)).match(/^\"([a-zA-Z_][a-zA-Z_0-9]*)\"$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,\"name\")):(o=o.replace(/'/g,\"\\\\'\").replace(/\\\\\"/g,'\"').replace(/(^\"|\"$)/g,\"'\"),o=t.stylize(o,\"string\"))}return o+\": \"+a}function FR(t){return Array.isArray(t)}function K_(t){return typeof t==\"boolean\"}function n5(t){return t===null}function Eie(t){return t==null}function qR(t){return typeof t==\"number\"}function qv(t){return typeof t==\"string\"}function _ie(t){return typeof t==\"symbol\"}function dl(t){return t===void 0}function kw(t){return Bp(t)&&HR(t)===\"[object RegExp]\"}function Bp(t){return typeof t==\"object\"&&t!==null}function Y8(t){return Bp(t)&&HR(t)===\"[object Date]\"}function Mw(t){return Bp(t)&&(HR(t)===\"[object Error]\"||t instanceof Error)}function Dw(t){return typeof t==\"function\"}function Cie(t){return t===null||typeof t==\"boolean\"||typeof t==\"number\"||typeof t==\"string\"||typeof t==\"symbol\"||t===void 0}function Sie(t){return ve.isBuffer(t)}function HR(t){return Object.prototype.toString.call(t)}function b7(t){return t<10?\"0\"+t.toString(10):t.toString(10)}ml.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},ml.styles={special:\"cyan\",number:\"yellow\",boolean:\"yellow\",undefined:\"grey\",null:\"bold\",string:\"green\",date:\"magenta\",regexp:\"red\"};var JCe=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function xie(){var t,e;console.log(\"%s - %s\",(t=new Date,e=[b7(t.getHours()),b7(t.getMinutes()),b7(t.getSeconds())].join(\":\"),[t.getDate(),JCe[t.getMonth()],e].join(\" \")),V_.apply(null,arguments))}function VR(t,e){if(!e||!Bp(e))return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}function Aie(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var Xh=typeof Symbol<\"u\"?Symbol(\"util.promisify.custom\"):void 0;function KR(t){if(typeof t!=\"function\")throw new TypeError('The \"original\" argument must be of type Function');if(Xh&&t[Xh]){var e;if(typeof(e=t[Xh])!=\"function\")throw new TypeError('The \"util.promisify.custom\" argument must be of type Function');return Object.defineProperty(e,Xh,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var n,r,i=new Promise((function(a,c){n=a,r=c})),s=[],o=0;o<arguments.length;o++)s.push(arguments[o]);s.push((function(a,c){a?r(a):n(c)}));try{t.apply(this,s)}catch(a){r(a)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Xh&&Object.defineProperty(e,Xh,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,wie(t))}function XCe(t,e){if(!t){var n=new Error(\"Promise was rejected with a falsy value\");n.reason=t,t=n}return e(t)}function $ie(t){if(typeof t!=\"function\")throw new TypeError('The \"original\" argument must be of type Function');function e(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var i=n.pop();if(typeof i!=\"function\")throw new TypeError(\"The last argument must be of type Function\");var s=this,o=function(){return i.apply(s,arguments)};t.apply(this,n).then((function(a){Xt.nextTick(o.bind(null,null,a))}),(function(a){Xt.nextTick(XCe.bind(null,a,o))}))}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,wie(t)),e}KR.custom=Xh;var w7,fq,QCe={inherits:UR,_extend:VR,log:xie,isBuffer:Sie,isPrimitive:Cie,isFunction:Dw,isError:Mw,isDate:Y8,isObject:Bp,isRegExp:kw,isUndefined:dl,isSymbol:_ie,isString:qv,isNumber:qR,isNullOrUndefined:Eie,isNull:n5,isBoolean:K_,isArray:FR,inspect:ml,deprecate:zR,format:V_,debuglog:vie,promisify:KR,callbackify:$ie},Iie=Q2(Object.freeze({__proto__:null,_extend:VR,callbackify:$ie,debuglog:vie,default:QCe,deprecate:zR,format:V_,inherits:UR,inspect:ml,isArray:FR,isBoolean:K_,isBuffer:Sie,isDate:Y8,isError:Mw,isFunction:Dw,isNull:n5,isNullOrUndefined:Eie,isNumber:qR,isObject:Bp,isPrimitive:Cie,isRegExp:kw,isString:qv,isSymbol:_ie,isUndefined:dl,log:xie,promisify:KR}));function eSe(){if(fq)return w7;function t(c,l){var d=Object.keys(c);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(c);l&&(h=h.filter((function(p){return Object.getOwnPropertyDescriptor(c,p).enumerable}))),d.push.apply(d,h)}return d}function e(c){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?arguments[l]:{};l%2?t(Object(d),!0).forEach((function(h){n(c,h,d[h])})):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(d)):t(Object(d)).forEach((function(h){Object.defineProperty(c,h,Object.getOwnPropertyDescriptor(d,h))}))}return c}function n(c,l,d){return(l=i(l))in c?Object.defineProperty(c,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[l]=d,c}function r(c,l,d){return l&&(function(h,p){for(var m=0;m<p.length;m++){var b=p[m];b.enumerable=b.enumerable||!1,b.configurable=!0,\"value\"in b&&(b.writable=!0),Object.defineProperty(h,i(b.key),b)}})(c.prototype,l),Object.defineProperty(c,\"prototype\",{writable:!1}),c}function i(c){var l=(function(d,h){if(typeof d!=\"object\"||d===null)return d;var p=d[Symbol.toPrimitive];if(p!==void 0){var m=p.call(d,h);if(typeof m!=\"object\")return m;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(d)})(c,\"string\");return typeof l==\"symbol\"?l:String(l)}fq=1;var s=jR.Buffer,o=Iie.inspect,a=o&&o.custom||\"inspect\";return w7=(function(){function c(){(function(l,d){if(!(l instanceof d))throw new TypeError(\"Cannot call a class as a function\")})(this,c),this.head=null,this.tail=null,this.length=0}return r(c,[{key:\"push\",value:function(l){var d={data:l,next:null};this.length>0?this.tail.next=d:this.head=d,this.tail=d,++this.length}},{key:\"unshift\",value:function(l){var d={data:l,next:this.head};this.length===0&&(this.tail=d),this.head=d,++this.length}},{key:\"shift\",value:function(){if(this.length!==0){var l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}}},{key:\"clear\",value:function(){this.head=this.tail=null,this.length=0}},{key:\"join\",value:function(l){if(this.length===0)return\"\";for(var d=this.head,h=\"\"+d.data;d=d.next;)h+=l+d.data;return h}},{key:\"concat\",value:function(l){if(this.length===0)return s.alloc(0);for(var d,h,p,m=s.allocUnsafe(l>>>0),b=this.head,y=0;b;)d=b.data,h=m,p=y,s.prototype.copy.call(d,h,p),y+=b.data.length,b=b.next;return m}},{key:\"consume\",value:function(l,d){var h;return l<this.head.data.length?(h=this.head.data.slice(0,l),this.head.data=this.head.data.slice(l)):h=l===this.head.data.length?this.shift():d?this._getString(l):this._getBuffer(l),h}},{key:\"first\",value:function(){return this.head.data}},{key:\"_getString\",value:function(l){var d=this.head,h=1,p=d.data;for(l-=p.length;d=d.next;){var m=d.data,b=l>m.length?m.length:l;if(b===m.length?p+=m:p+=m.slice(0,l),(l-=b)===0){b===m.length?(++h,d.next?this.head=d.next:this.head=this.tail=null):(this.head=d,d.data=m.slice(b));break}++h}return this.length-=h,p}},{key:\"_getBuffer\",value:function(l){var d=s.allocUnsafe(l),h=this.head,p=1;for(h.data.copy(d),l-=h.data.length;h=h.next;){var m=h.data,b=l>m.length?m.length:l;if(m.copy(d,d.length-l,0,b),(l-=b)===0){b===m.length?(++p,h.next?this.head=h.next:this.head=this.tail=null):(this.head=h,h.data=m.slice(b));break}++p}return this.length-=p,d}},{key:a,value:function(l,d){return o(this,e(e({},d),{},{depth:0,customInspect:!1}))}}]),c})(),w7}function hq(t,e){WT(t,e),jE(t)}function jE(t){t._writableState&&!t._writableState.emitClose||t._readableState&&!t._readableState.emitClose||t.emit(\"close\")}function WT(t,e){t.emit(\"error\",e)}var Tie={destroy:function(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):t&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Xt.nextTick(WT,this,t)):Xt.nextTick(WT,this,t)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,(function(s){!e&&s?n._writableState?n._writableState.errorEmitted?Xt.nextTick(jE,n):(n._writableState.errorEmitted=!0,Xt.nextTick(hq,n,s)):Xt.nextTick(hq,n,s):e?(Xt.nextTick(jE,n),e(s)):Xt.nextTick(jE,n)})),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(t,e){var n=t._readableState,r=t._writableState;n&&n.autoDestroy||r&&r.autoDestroy?t.destroy(e):t.emit(\"error\",e)}},Lp={},Pie={};function ua(t,e,n){n||(n=Error);var r=(function(i){var s,o;function a(c,l,d){return i.call(this,(function(h,p,m){return typeof e==\"string\"?e:e(h,p,m)})(c,l,d))||this}return o=i,(s=a).prototype=Object.create(o.prototype),s.prototype.constructor=s,s.__proto__=o,a})(n);r.prototype.name=n.name,r.prototype.code=t,Pie[t]=r}function pq(t,e){if(Array.isArray(t)){var n=t.length;return t=t.map((function(r){return String(r)})),n>2?\"one of \".concat(e,\" \").concat(t.slice(0,n-1).join(\", \"),\", or \")+t[n-1]:n===2?\"one of \".concat(e,\" \").concat(t[0],\" or \").concat(t[1]):\"of \".concat(e,\" \").concat(t[0])}return\"of \".concat(e,\" \").concat(String(t))}ua(\"ERR_INVALID_OPT_VALUE\",(function(t,e){return'The value \"'+e+'\" is invalid for option \"'+t+'\"'}),TypeError),ua(\"ERR_INVALID_ARG_TYPE\",(function(t,e,n){var r,i,s;if(typeof e==\"string\"&&(i=\"not \",e.substr(0,i.length)===i)?(r=\"must not be\",e=e.replace(/^not /,\"\")):r=\"must be\",(function(a,c,l){return(l===void 0||l>a.length)&&(l=a.length),a.substring(l-c.length,l)===c})(t,\" argument\"))s=\"The \".concat(t,\" \").concat(r,\" \").concat(pq(e,\"type\"));else{var o=(function(a,c,l){return typeof l!=\"number\"&&(l=0),!(l+c.length>a.length)&&a.indexOf(c,l)!==-1})(t,\".\")?\"property\":\"argument\";s='The \"'.concat(t,'\" ').concat(o,\" \").concat(r,\" \").concat(pq(e,\"type\"))}return s+=\". Received type \".concat(typeof n)}),TypeError),ua(\"ERR_STREAM_PUSH_AFTER_EOF\",\"stream.push() after EOF\"),ua(\"ERR_METHOD_NOT_IMPLEMENTED\",(function(t){return\"The \"+t+\" method is not implemented\"})),ua(\"ERR_STREAM_PREMATURE_CLOSE\",\"Premature close\"),ua(\"ERR_STREAM_DESTROYED\",(function(t){return\"Cannot call \"+t+\" after a stream was destroyed\"})),ua(\"ERR_MULTIPLE_CALLBACK\",\"Callback called multiple times\"),ua(\"ERR_STREAM_CANNOT_PIPE\",\"Cannot pipe, not readable\"),ua(\"ERR_STREAM_WRITE_AFTER_END\",\"write after end\"),ua(\"ERR_STREAM_NULL_VALUES\",\"May not write null values to stream\",TypeError),ua(\"ERR_UNKNOWN_ENCODING\",(function(t){return\"Unknown encoding: \"+t}),TypeError),ua(\"ERR_STREAM_UNSHIFT_AFTER_END_EVENT\",\"stream.unshift() after end event\"),Lp.codes=Pie;var tSe=Lp.codes.ERR_INVALID_OPT_VALUE,v7,gq,E7,mq,Oie={getHighWaterMark:function(t,e,n,r){var i=(function(s,o,a){return s.highWaterMark!=null?s.highWaterMark:o?s[a]:null})(e,r,n);if(i!=null){if(!isFinite(i)||Math.floor(i)!==i||i<0)throw new tSe(r?n:\"highWaterMark\",i);return Math.floor(i)}return t.objectMode?16:16384}},nSe=typeof Object.create==\"function\"?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t},r5=Q2(Object.freeze({__proto__:null,default:nSe})),rSe=function(t,e){if(_7(\"noDeprecation\"))return t;var n=!1;return function(){if(!n){if(_7(\"throwDeprecation\"))throw new Error(e);_7(\"traceDeprecation\")?console.trace(e):console.warn(e),n=!0}return t.apply(this,arguments)}};function _7(t){try{if(!Ta.localStorage)return!1}catch{return!1}var e=Ta.localStorage[t];return e!=null&&String(e).toLowerCase()===\"true\"}function Nie(){if(gq)return v7;function t(H){var V=this;this.next=null,this.entry=null,this.finish=function(){(function(M,$,P){var q=M.entry;for(M.entry=null;q;){var T=q.callback;$.pendingcb--,T(P),q=q.next}$.corkedRequestsFree.next=M})(V,H)}}var e;gq=1,v7=A,A.WritableState=S;var n={deprecate:rSe},r=bie,i=jR.Buffer,s=(Ta!==void 0?Ta:typeof window<\"u\"?window:typeof self<\"u\"?self:{}).Uint8Array||function(){},o,a=Tie,c=Oie.getHighWaterMark,l=Lp.codes,d=l.ERR_INVALID_ARG_TYPE,h=l.ERR_METHOD_NOT_IMPLEMENTED,p=l.ERR_MULTIPLE_CALLBACK,m=l.ERR_STREAM_CANNOT_PIPE,b=l.ERR_STREAM_DESTROYED,y=l.ERR_STREAM_NULL_VALUES,E=l.ERR_STREAM_WRITE_AFTER_END,v=l.ERR_UNKNOWN_ENCODING,_=a.errorOrDestroy;function C(){}function S(H,V,M){e=e||Om(),H=H||{},typeof M!=\"boolean\"&&(M=V instanceof e),this.objectMode=!!H.objectMode,M&&(this.objectMode=this.objectMode||!!H.writableObjectMode),this.highWaterMark=c(this,H,\"writableHighWaterMark\",M),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var $=H.decodeStrings===!1;this.decodeStrings=!$,this.defaultEncoding=H.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(P){(function(q,T){var k=q._writableState,z=k.sync,L=k.writecb;if(typeof L!=\"function\")throw new p;if((function(j){j.writing=!1,j.writecb=null,j.length-=j.writelen,j.writelen=0})(k),T)(function(j,K,G,Z,Y){--K.pendingcb,G?(Xt.nextTick(Y,Z),Xt.nextTick(F,j,K),j._writableState.errorEmitted=!0,_(j,Z)):(Y(Z),j._writableState.errorEmitted=!0,_(j,Z),F(j,K))})(q,k,z,T,L);else{var B=N(k)||q.destroyed;B||k.corked||k.bufferProcessing||!k.bufferedRequest||D(q,k),z?Xt.nextTick(O,q,k,B,L):O(q,k,B,L)}})(V,P)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=H.emitClose!==!1,this.autoDestroy=!!H.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}function A(H){var V=this instanceof(e=e||Om());if(!V&&!o.call(A,this))return new A(H);this._writableState=new S(H,this,V),this.writable=!0,H&&(typeof H.write==\"function\"&&(this._write=H.write),typeof H.writev==\"function\"&&(this._writev=H.writev),typeof H.destroy==\"function\"&&(this._destroy=H.destroy),typeof H.final==\"function\"&&(this._final=H.final)),r.call(this)}function I(H,V,M,$,P,q,T){V.writelen=$,V.writecb=T,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new b(\"write\")):M?H._writev(P,V.onwrite):H._write(P,q,V.onwrite),V.sync=!1}function O(H,V,M,$){M||(function(P,q){q.length===0&&q.needDrain&&(q.needDrain=!1,P.emit(\"drain\"))})(H,V),V.pendingcb--,$(),F(H,V)}function D(H,V){V.bufferProcessing=!0;var M=V.bufferedRequest;if(H._writev&&M&&M.next){var $=V.bufferedRequestCount,P=new Array($),q=V.corkedRequestsFree;q.entry=M;for(var T=0,k=!0;M;)P[T]=M,M.isBuf||(k=!1),M=M.next,T+=1;P.allBuffers=k,I(H,V,!0,V.length,P,\"\",q.finish),V.pendingcb++,V.lastBufferedRequest=null,q.next?(V.corkedRequestsFree=q.next,q.next=null):V.corkedRequestsFree=new t(V),V.bufferedRequestCount=0}else{for(;M;){var z=M.chunk,L=M.encoding,B=M.callback;if(I(H,V,!1,V.objectMode?1:z.length,z,L,B),M=M.next,V.bufferedRequestCount--,V.writing)break}M===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=M,V.bufferProcessing=!1}function N(H){return H.ending&&H.length===0&&H.bufferedRequest===null&&!H.finished&&!H.writing}function U(H,V){H._final((function(M){V.pendingcb--,M&&_(H,M),V.prefinished=!0,H.emit(\"prefinish\"),F(H,V)}))}function F(H,V){var M=N(V);if(M&&((function(P,q){q.prefinished||q.finalCalled||(typeof P._final!=\"function\"||q.destroyed?(q.prefinished=!0,P.emit(\"prefinish\")):(q.pendingcb++,q.finalCalled=!0,Xt.nextTick(U,P,q)))})(H,V),V.pendingcb===0&&(V.finished=!0,H.emit(\"finish\"),V.autoDestroy))){var $=H._readableState;(!$||$.autoDestroy&&$.endEmitted)&&H.destroy()}return M}return r5(A,r),S.prototype.getBuffer=function(){for(var H=this.bufferedRequest,V=[];H;)V.push(H),H=H.next;return V},(function(){try{Object.defineProperty(S.prototype,\"buffer\",{get:n.deprecate((function(){return this.getBuffer()}),\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch{}})(),typeof Symbol==\"function\"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==\"function\"?(o=Function.prototype[Symbol.hasInstance],Object.defineProperty(A,Symbol.hasInstance,{value:function(H){return!!o.call(this,H)||this===A&&H&&H._writableState instanceof S}})):o=function(H){return H instanceof this},A.prototype.pipe=function(){_(this,new m)},A.prototype.write=function(H,V,M){var $,P=this._writableState,q=!1,T=!P.objectMode&&($=H,i.isBuffer($)||$ instanceof s);return T&&!i.isBuffer(H)&&(H=(function(k){return i.from(k)})(H)),typeof V==\"function\"&&(M=V,V=null),T?V=\"buffer\":V||(V=P.defaultEncoding),typeof M!=\"function\"&&(M=C),P.ending?(function(k,z){var L=new E;_(k,L),Xt.nextTick(z,L)})(this,M):(T||(function(k,z,L,B){var j;return L===null?j=new y:typeof L==\"string\"||z.objectMode||(j=new d(\"chunk\",[\"string\",\"Buffer\"],L)),!j||(_(k,j),Xt.nextTick(B,j),!1)})(this,P,H,M))&&(P.pendingcb++,q=(function(k,z,L,B,j,K){if(!L){var G=(function(Q,re,oe){return Q.objectMode||Q.decodeStrings===!1||typeof re!=\"string\"||(re=i.from(re,oe)),re})(z,B,j);B!==G&&(L=!0,j=\"buffer\",B=G)}var Z=z.objectMode?1:B.length;z.length+=Z;var Y=z.length<z.highWaterMark;if(Y||(z.needDrain=!0),z.writing||z.corked){var X=z.lastBufferedRequest;z.lastBufferedRequest={chunk:B,encoding:j,isBuf:L,callback:K,next:null},X?X.next=z.lastBufferedRequest:z.bufferedRequest=z.lastBufferedRequest,z.bufferedRequestCount+=1}else I(k,z,!1,Z,B,j,K);return Y})(this,P,T,H,V,M)),q},A.prototype.cork=function(){this._writableState.corked++},A.prototype.uncork=function(){var H=this._writableState;H.corked&&(H.corked--,H.writing||H.corked||H.bufferProcessing||!H.bufferedRequest||D(this,H))},A.prototype.setDefaultEncoding=function(H){if(typeof H==\"string\"&&(H=H.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((H+\"\").toLowerCase())>-1))throw new v(H);return this._writableState.defaultEncoding=H,this},Object.defineProperty(A.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(A.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),A.prototype._write=function(H,V,M){M(new h(\"_write()\"))},A.prototype._writev=null,A.prototype.end=function(H,V,M){var $=this._writableState;return typeof H==\"function\"?(M=H,H=null,V=null):typeof V==\"function\"&&(M=V,V=null),H!=null&&this.write(H,V),$.corked&&($.corked=1,this.uncork()),$.ending||(function(P,q,T){q.ending=!0,F(P,q),T&&(q.finished?Xt.nextTick(T):P.once(\"finish\",T)),q.ended=!0,P.writable=!1})(this,$,M),this},Object.defineProperty(A.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(A.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(H){this._writableState&&(this._writableState.destroyed=H)}}),A.prototype.destroy=a.destroy,A.prototype._undestroy=a.undestroy,A.prototype._destroy=function(H,V){V(H)},v7}function Om(){if(mq)return E7;mq=1;var t=Object.keys||function(l){var d=[];for(var h in l)d.push(h);return d};E7=o;var e=Rie(),n=Nie();r5(o,e);for(var r=t(n.prototype),i=0;i<r.length;i++){var s=r[i];o.prototype[s]||(o.prototype[s]=n.prototype[s])}function o(l){if(!(this instanceof o))return new o(l);e.call(this,l),n.call(this,l),this.allowHalfOpen=!0,l&&(l.readable===!1&&(this.readable=!1),l.writable===!1&&(this.writable=!1),l.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once(\"end\",a)))}function a(){this._writableState.ended||Xt.nextTick(c,this)}function c(l){l.end()}return Object.defineProperty(o.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,\"writableBuffer\",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,\"writableLength\",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(o.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(l){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=l,this._writableState.destroyed=l)}}),E7}var iSe=ve.isEncoding||function(t){switch(t&&t.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function zE(t){switch(this.encoding=(t||\"utf8\").toLowerCase().replace(/[-_]/,\"\"),(function(e){if(e&&!iSe(e))throw new Error(\"Unknown encoding: \"+e)})(t),this.encoding){case\"utf8\":this.surrogateSize=3;break;case\"ucs2\":case\"utf16le\":this.surrogateSize=2,this.detectIncompleteChar=oSe;break;case\"base64\":this.surrogateSize=3,this.detectIncompleteChar=aSe;break;default:return void(this.write=sSe)}this.charBuffer=new ve(6),this.charReceived=0,this.charLength=0}function sSe(t){return t.toString(this.encoding)}function oSe(t){this.charReceived=t.length%2,this.charLength=this.charReceived?2:0}function aSe(t){this.charReceived=t.length%3,this.charLength=this.charReceived?3:0}zE.prototype.write=function(t){for(var e=\"\";this.charLength;){var n=t.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:t.length;if(t.copy(this.charBuffer,this.charReceived,0,n),this.charReceived+=n,this.charReceived<this.charLength)return\"\";if(t=t.slice(n,t.length),!((i=(e=this.charBuffer.slice(0,this.charLength).toString(this.encoding)).charCodeAt(e.length-1))>=55296&&i<=56319)){if(this.charReceived=this.charLength=0,t.length===0)return e;break}this.charLength+=this.surrogateSize,e=\"\"}this.detectIncompleteChar(t);var r=t.length;this.charLength&&(t.copy(this.charBuffer,0,t.length-this.charReceived,r),r-=this.charReceived);var i;if(r=(e+=t.toString(this.encoding,0,r)).length-1,(i=e.charCodeAt(r))>=55296&&i<=56319){var s=this.surrogateSize;return this.charLength+=s,this.charReceived+=s,this.charBuffer.copy(this.charBuffer,s,0,s),t.copy(this.charBuffer,0,0,s),e.substring(0,r)}return e},zE.prototype.detectIncompleteChar=function(t){for(var e=t.length>=3?3:t.length;e>0;e--){var n=t[t.length-e];if(e==1&&n>>5==6){this.charLength=2;break}if(e<=2&&n>>4==14){this.charLength=3;break}if(e<=3&&n>>3==30){this.charLength=4;break}}this.charReceived=e},zE.prototype.end=function(t){var e=\"\";if(t&&t.length&&(e=this.write(t)),this.charReceived){var n=this.charReceived,r=this.charBuffer,i=this.encoding;e+=r.slice(0,n).toString(i)}return e};var yq=Q2(Object.freeze({__proto__:null,StringDecoder:zE})),bq=Lp.codes.ERR_STREAM_PREMATURE_CLOSE;function cSe(){}var C7,wq,vq,Eq,S7,_q,WR=function t(e,n,r){if(typeof n==\"function\")return t(e,null,n);n||(n={}),r=(function(b){var y=!1;return function(){if(!y){y=!0;for(var E=arguments.length,v=new Array(E),_=0;_<E;_++)v[_]=arguments[_];b.apply(this,v)}}})(r||cSe);var i=n.readable||n.readable!==!1&&e.readable,s=n.writable||n.writable!==!1&&e.writable,o=function(){e.writable||c()},a=e._writableState&&e._writableState.finished,c=function(){s=!1,a=!0,i||r.call(e)},l=e._readableState&&e._readableState.endEmitted,d=function(){i=!1,l=!0,s||r.call(e)},h=function(b){r.call(e,b)},p=function(){var b;return i&&!l?(e._readableState&&e._readableState.ended||(b=new bq),r.call(e,b)):s&&!a?(e._writableState&&e._writableState.ended||(b=new bq),r.call(e,b)):void 0},m=function(){e.req.on(\"finish\",c)};return(function(b){return b.setHeader&&typeof b.abort==\"function\"})(e)?(e.on(\"complete\",c),e.on(\"abort\",p),e.req?m():e.on(\"request\",m)):s&&!e._writableState&&(e.on(\"end\",o),e.on(\"close\",o)),e.on(\"end\",d),e.on(\"finish\",c),n.error!==!1&&e.on(\"error\",h),e.on(\"close\",p),function(){e.removeListener(\"complete\",c),e.removeListener(\"abort\",p),e.removeListener(\"request\",m),e.req&&e.req.removeListener(\"finish\",c),e.removeListener(\"end\",o),e.removeListener(\"close\",o),e.removeListener(\"finish\",c),e.removeListener(\"end\",d),e.removeListener(\"error\",h),e.removeListener(\"close\",p)}};function lSe(){if(wq)return C7;var t;function e(y,E,v){return(E=(function(_){var C=(function(S,A){if(typeof S!=\"object\"||S===null)return S;var I=S[Symbol.toPrimitive];if(I!==void 0){var O=I.call(S,A);if(typeof O!=\"object\")return O;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(A===\"string\"?String:Number)(S)})(_,\"string\");return typeof C==\"symbol\"?C:String(C)})(E))in y?Object.defineProperty(y,E,{value:v,enumerable:!0,configurable:!0,writable:!0}):y[E]=v,y}wq=1;var n=WR,r=Symbol(\"lastResolve\"),i=Symbol(\"lastReject\"),s=Symbol(\"error\"),o=Symbol(\"ended\"),a=Symbol(\"lastPromise\"),c=Symbol(\"handlePromise\"),l=Symbol(\"stream\");function d(y,E){return{value:y,done:E}}function h(y){var E=y[r];if(E!==null){var v=y[l].read();v!==null&&(y[a]=null,y[r]=null,y[i]=null,E(d(v,!1)))}}function p(y){Xt.nextTick(h,y)}var m=Object.getPrototypeOf((function(){})),b=Object.setPrototypeOf((e(t={get stream(){return this[l]},next:function(){var y=this,E=this[s];if(E!==null)return Promise.reject(E);if(this[o])return Promise.resolve(d(void 0,!0));if(this[l].destroyed)return new Promise((function(S,A){Xt.nextTick((function(){y[s]?A(y[s]):S(d(void 0,!0))}))}));var v,_=this[a];if(_)v=new Promise((function(S,A){return function(I,O){S.then((function(){A[o]?I(d(void 0,!0)):A[c](I,O)}),O)}})(_,this));else{var C=this[l].read();if(C!==null)return Promise.resolve(d(C,!1));v=new Promise(this[c])}return this[a]=v,v}},Symbol.asyncIterator,(function(){return this})),e(t,\"return\",(function(){var y=this;return new Promise((function(E,v){y[l].destroy(null,(function(_){_?v(_):E(d(void 0,!0))}))}))})),t),m);return C7=function(y){var E,v=Object.create(b,(e(E={},l,{value:y,writable:!0}),e(E,r,{value:null,writable:!0}),e(E,i,{value:null,writable:!0}),e(E,s,{value:null,writable:!0}),e(E,o,{value:y._readableState.endEmitted,writable:!0}),e(E,c,{value:function(_,C){var S=v[l].read();S?(v[a]=null,v[r]=null,v[i]=null,_(d(S,!1))):(v[r]=_,v[i]=C)},writable:!0}),E));return v[a]=null,n(y,(function(_){if(_&&_.code!==\"ERR_STREAM_PREMATURE_CLOSE\"){var C=v[i];return C!==null&&(v[a]=null,v[r]=null,v[i]=null,C(_)),void(v[s]=_)}var S=v[r];S!==null&&(v[a]=null,v[r]=null,v[i]=null,S(d(void 0,!0))),v[o]=!0})),y.on(\"readable\",p.bind(null,v)),v},C7}function Rie(){if(_q)return S7;var t;_q=1,S7=A,A.ReadableState=S,LR.EventEmitter;var e=function(B,j){return B.listeners(j).length},n=bie,r=jR.Buffer,i=(Ta!==void 0?Ta:typeof window<\"u\"?window:typeof self<\"u\"?self:{}).Uint8Array||function(){},s,o=Iie;s=o&&o.debuglog?o.debuglog(\"stream\"):function(){};var a,c,l,d=eSe(),h=Tie,p=Oie.getHighWaterMark,m=Lp.codes,b=m.ERR_INVALID_ARG_TYPE,y=m.ERR_STREAM_PUSH_AFTER_EOF,E=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;r5(A,n);var _=h.errorOrDestroy,C=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function S(B,j,K){t=t||Om(),B=B||{},typeof K!=\"boolean\"&&(K=j instanceof t),this.objectMode=!!B.objectMode,K&&(this.objectMode=this.objectMode||!!B.readableObjectMode),this.highWaterMark=p(this,B,\"readableHighWaterMark\",K),this.buffer=new d,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=B.emitClose!==!1,this.autoDestroy=!!B.autoDestroy,this.destroyed=!1,this.defaultEncoding=B.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,B.encoding&&(a||(a=yq.StringDecoder),this.decoder=new a(B.encoding),this.encoding=B.encoding)}function A(B){if(t=t||Om(),!(this instanceof A))return new A(B);var j=this instanceof t;this._readableState=new S(B,this,j),this.readable=!0,B&&(typeof B.read==\"function\"&&(this._read=B.read),typeof B.destroy==\"function\"&&(this._destroy=B.destroy)),n.call(this)}function I(B,j,K,G,Z){s(\"readableAddChunk\",j);var Y,X=B._readableState;if(j===null)X.reading=!1,(function(Q,re){if(s(\"onEofChunk\"),!re.ended){if(re.decoder){var oe=re.decoder.end();oe&&oe.length&&(re.buffer.push(oe),re.length+=re.objectMode?1:oe.length)}re.ended=!0,re.sync?U(Q):(re.needReadable=!1,re.emittedReadable||(re.emittedReadable=!0,F(Q)))}})(B,X);else if(Z||(Y=(function(Q,re){var oe;ue=re,r.isBuffer(ue)||ue instanceof i||typeof re==\"string\"||re===void 0||Q.objectMode||(oe=new b(\"chunk\",[\"string\",\"Buffer\",\"Uint8Array\"],re));var ue;return oe})(X,j)),Y)_(B,Y);else if(X.objectMode||j&&j.length>0)if(typeof j==\"string\"||X.objectMode||Object.getPrototypeOf(j)===r.prototype||(j=(function(Q){return r.from(Q)})(j)),G)X.endEmitted?_(B,new v):O(B,X,j,!0);else if(X.ended)_(B,new y);else{if(X.destroyed)return!1;X.reading=!1,X.decoder&&!K?(j=X.decoder.write(j),X.objectMode||j.length!==0?O(B,X,j,!1):H(B,X)):O(B,X,j,!1)}else G||(X.reading=!1,H(B,X));return!X.ended&&(X.length<X.highWaterMark||X.length===0)}function O(B,j,K,G){j.flowing&&j.length===0&&!j.sync?(j.awaitDrain=0,B.emit(\"data\",K)):(j.length+=j.objectMode?1:K.length,G?j.buffer.unshift(K):j.buffer.push(K),j.needReadable&&U(B)),H(B,j)}Object.defineProperty(A.prototype,\"destroyed\",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(B){this._readableState&&(this._readableState.destroyed=B)}}),A.prototype.destroy=h.destroy,A.prototype._undestroy=h.undestroy,A.prototype._destroy=function(B,j){j(B)},A.prototype.push=function(B,j){var K,G=this._readableState;return G.objectMode?K=!0:typeof B==\"string\"&&((j=j||G.defaultEncoding)!==G.encoding&&(B=r.from(B,j),j=\"\"),K=!0),I(this,B,j,!1,K)},A.prototype.unshift=function(B){return I(this,B,null,!0,!1)},A.prototype.isPaused=function(){return this._readableState.flowing===!1},A.prototype.setEncoding=function(B){a||(a=yq.StringDecoder);var j=new a(B);this._readableState.decoder=j,this._readableState.encoding=this._readableState.decoder.encoding;for(var K=this._readableState.buffer.head,G=\"\";K!==null;)G+=j.write(K.data),K=K.next;return this._readableState.buffer.clear(),G!==\"\"&&this._readableState.buffer.push(G),this._readableState.length=G.length,this};var D=1073741824;function N(B,j){return B<=0||j.length===0&&j.ended?0:j.objectMode?1:B!=B?j.flowing&&j.length?j.buffer.head.data.length:j.length:(B>j.highWaterMark&&(j.highWaterMark=(function(K){return K>=D?K=D:(K--,K|=K>>>1,K|=K>>>2,K|=K>>>4,K|=K>>>8,K|=K>>>16,K++),K})(B)),B<=j.length?B:j.ended?j.length:(j.needReadable=!0,0))}function U(B){var j=B._readableState;s(\"emitReadable\",j.needReadable,j.emittedReadable),j.needReadable=!1,j.emittedReadable||(s(\"emitReadable\",j.flowing),j.emittedReadable=!0,Xt.nextTick(F,B))}function F(B){var j=B._readableState;s(\"emitReadable_\",j.destroyed,j.length,j.ended),j.destroyed||!j.length&&!j.ended||(B.emit(\"readable\"),j.emittedReadable=!1),j.needReadable=!j.flowing&&!j.ended&&j.length<=j.highWaterMark,q(B)}function H(B,j){j.readingMore||(j.readingMore=!0,Xt.nextTick(V,B,j))}function V(B,j){for(;!j.reading&&!j.ended&&(j.length<j.highWaterMark||j.flowing&&j.length===0);){var K=j.length;if(s(\"maybeReadMore read 0\"),B.read(0),K===j.length)break}j.readingMore=!1}function M(B){var j=B._readableState;j.readableListening=B.listenerCount(\"readable\")>0,j.resumeScheduled&&!j.paused?j.flowing=!0:B.listenerCount(\"data\")>0&&B.resume()}function $(B){s(\"readable nexttick read 0\"),B.read(0)}function P(B,j){s(\"resume\",j.reading),j.reading||B.read(0),j.resumeScheduled=!1,B.emit(\"resume\"),q(B),j.flowing&&!j.reading&&B.read(0)}function q(B){var j=B._readableState;for(s(\"flow\",j.flowing);j.flowing&&B.read()!==null;);}function T(B,j){return j.length===0?null:(j.objectMode?K=j.buffer.shift():!B||B>=j.length?(K=j.decoder?j.buffer.join(\"\"):j.buffer.length===1?j.buffer.first():j.buffer.concat(j.length),j.buffer.clear()):K=j.buffer.consume(B,j.decoder),K);var K}function k(B){var j=B._readableState;s(\"endReadable\",j.endEmitted),j.endEmitted||(j.ended=!0,Xt.nextTick(z,j,B))}function z(B,j){if(s(\"endReadableNT\",B.endEmitted,B.length),!B.endEmitted&&B.length===0&&(B.endEmitted=!0,j.readable=!1,j.emit(\"end\"),B.autoDestroy)){var K=j._writableState;(!K||K.autoDestroy&&K.finished)&&j.destroy()}}function L(B,j){for(var K=0,G=B.length;K<G;K++)if(B[K]===j)return K;return-1}return A.prototype.read=function(B){s(\"read\",B),B=parseInt(B,10);var j=this._readableState,K=B;if(B!==0&&(j.emittedReadable=!1),B===0&&j.needReadable&&((j.highWaterMark!==0?j.length>=j.highWaterMark:j.length>0)||j.ended))return s(\"read: emitReadable\",j.length,j.ended),j.length===0&&j.ended?k(this):U(this),null;if((B=N(B,j))===0&&j.ended)return j.length===0&&k(this),null;var G,Z=j.needReadable;return s(\"need readable\",Z),(j.length===0||j.length-B<j.highWaterMark)&&s(\"length less than watermark\",Z=!0),j.ended||j.reading?s(\"reading or ended\",Z=!1):Z&&(s(\"do read\"),j.reading=!0,j.sync=!0,j.length===0&&(j.needReadable=!0),this._read(j.highWaterMark),j.sync=!1,j.reading||(B=N(K,j))),(G=B>0?T(B,j):null)===null?(j.needReadable=j.length<=j.highWaterMark,B=0):(j.length-=B,j.awaitDrain=0),j.length===0&&(j.ended||(j.needReadable=!0),K!==B&&j.ended&&k(this)),G!==null&&this.emit(\"data\",G),G},A.prototype._read=function(B){_(this,new E(\"_read()\"))},A.prototype.pipe=function(B,j){var K=this,G=this._readableState;switch(G.pipesCount){case 0:G.pipes=B;break;case 1:G.pipes=[G.pipes,B];break;default:G.pipes.push(B)}G.pipesCount+=1,s(\"pipe count=%d opts=%j\",G.pipesCount,j);var Z=(!j||j.end!==!1)&&B!==Xt.stdout&&B!==Xt.stderr?X:Be;function Y(ke,Ve){s(\"onunpipe\"),ke===K&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,s(\"cleanup\"),B.removeListener(\"close\",ye),B.removeListener(\"finish\",xe),B.removeListener(\"drain\",Q),B.removeListener(\"error\",ue),B.removeListener(\"unpipe\",Y),K.removeListener(\"end\",X),K.removeListener(\"end\",Be),K.removeListener(\"data\",oe),re=!0,!G.awaitDrain||B._writableState&&!B._writableState.needDrain||Q())}function X(){s(\"onend\"),B.end()}G.endEmitted?Xt.nextTick(Z):K.once(\"end\",Z),B.on(\"unpipe\",Y);var Q=(function(ke){return function(){var Ve=ke._readableState;s(\"pipeOnDrain\",Ve.awaitDrain),Ve.awaitDrain&&Ve.awaitDrain--,Ve.awaitDrain===0&&e(ke,\"data\")&&(Ve.flowing=!0,q(ke))}})(K);B.on(\"drain\",Q);var re=!1;function oe(ke){s(\"ondata\");var Ve=B.write(ke);s(\"dest.write\",Ve),Ve===!1&&((G.pipesCount===1&&G.pipes===B||G.pipesCount>1&&L(G.pipes,B)!==-1)&&!re&&(s(\"false write response, pause\",G.awaitDrain),G.awaitDrain++),K.pause())}function ue(ke){s(\"onerror\",ke),Be(),B.removeListener(\"error\",ue),e(B,\"error\")===0&&_(B,ke)}function ye(){B.removeListener(\"finish\",xe),Be()}function xe(){s(\"onfinish\"),B.removeListener(\"close\",ye),Be()}function Be(){s(\"unpipe\"),K.unpipe(B)}return K.on(\"data\",oe),(function(ke,Ve,Xe){if(typeof ke.prependListener==\"function\")return ke.prependListener(Ve,Xe);ke._events&&ke._events[Ve]?Array.isArray(ke._events[Ve])?ke._events[Ve].unshift(Xe):ke._events[Ve]=[Xe,ke._events[Ve]]:ke.on(Ve,Xe)})(B,\"error\",ue),B.once(\"close\",ye),B.once(\"finish\",xe),B.emit(\"pipe\",K),G.flowing||(s(\"pipe resume\"),K.resume()),B},A.prototype.unpipe=function(B){var j=this._readableState,K={hasUnpiped:!1};if(j.pipesCount===0)return this;if(j.pipesCount===1)return B&&B!==j.pipes||(B||(B=j.pipes),j.pipes=null,j.pipesCount=0,j.flowing=!1,B&&B.emit(\"unpipe\",this,K)),this;if(!B){var G=j.pipes,Z=j.pipesCount;j.pipes=null,j.pipesCount=0,j.flowing=!1;for(var Y=0;Y<Z;Y++)G[Y].emit(\"unpipe\",this,{hasUnpiped:!1});return this}var X=L(j.pipes,B);return X===-1||(j.pipes.splice(X,1),j.pipesCount-=1,j.pipesCount===1&&(j.pipes=j.pipes[0]),B.emit(\"unpipe\",this,K)),this},A.prototype.on=function(B,j){var K=n.prototype.on.call(this,B,j),G=this._readableState;return B===\"data\"?(G.readableListening=this.listenerCount(\"readable\")>0,G.flowing!==!1&&this.resume()):B===\"readable\"&&(G.endEmitted||G.readableListening||(G.readableListening=G.needReadable=!0,G.flowing=!1,G.emittedReadable=!1,s(\"on readable\",G.length,G.reading),G.length?U(this):G.reading||Xt.nextTick($,this))),K},A.prototype.addListener=A.prototype.on,A.prototype.removeListener=function(B,j){var K=n.prototype.removeListener.call(this,B,j);return B===\"readable\"&&Xt.nextTick(M,this),K},A.prototype.removeAllListeners=function(B){var j=n.prototype.removeAllListeners.apply(this,arguments);return B!==\"readable\"&&B!==void 0||Xt.nextTick(M,this),j},A.prototype.resume=function(){var B=this._readableState;return B.flowing||(s(\"resume\"),B.flowing=!B.readableListening,(function(j,K){K.resumeScheduled||(K.resumeScheduled=!0,Xt.nextTick(P,j,K))})(this,B)),B.paused=!1,this},A.prototype.pause=function(){return s(\"call pause flowing=%j\",this._readableState.flowing),this._readableState.flowing!==!1&&(s(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this._readableState.paused=!0,this},A.prototype.wrap=function(B){var j=this,K=this._readableState,G=!1;for(var Z in B.on(\"end\",(function(){if(s(\"wrapped end\"),K.decoder&&!K.ended){var X=K.decoder.end();X&&X.length&&j.push(X)}j.push(null)})),B.on(\"data\",(function(X){s(\"wrapped data\"),K.decoder&&(X=K.decoder.write(X)),K.objectMode&&X==null||(K.objectMode||X&&X.length)&&(j.push(X)||(G=!0,B.pause()))})),B)this[Z]===void 0&&typeof B[Z]==\"function\"&&(this[Z]=(function(X){return function(){return B[X].apply(B,arguments)}})(Z));for(var Y=0;Y<C.length;Y++)B.on(C[Y],this.emit.bind(this,C[Y]));return this._read=function(X){s(\"wrapped _read\",X),G&&(G=!1,B.resume())},this},typeof Symbol==\"function\"&&(A.prototype[Symbol.asyncIterator]=function(){return c===void 0&&(c=lSe()),c(this)}),Object.defineProperty(A.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(A.prototype,\"readableBuffer\",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(A.prototype,\"readableFlowing\",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),A._fromList=T,Object.defineProperty(A.prototype,\"readableLength\",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol==\"function\"&&(A.from=function(B,j){return l===void 0&&(l=Eq?vq:(Eq=1,vq=function(){throw new Error(\"Readable.from is not available in the browser\")})),l(A,B,j)}),S7}var kie=Au,W_=Lp.codes,uSe=W_.ERR_METHOD_NOT_IMPLEMENTED,dSe=W_.ERR_MULTIPLE_CALLBACK,fSe=W_.ERR_TRANSFORM_ALREADY_TRANSFORMING,hSe=W_.ERR_TRANSFORM_WITH_LENGTH_0,FE=Om();function pSe(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(r===null)return this.emit(\"error\",new dSe);n.writechunk=null,n.writecb=null,e!=null&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function Au(t){if(!(this instanceof Au))return new Au(t);FE.call(this,t),this._transformState={afterTransform:pSe.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&(typeof t.transform==\"function\"&&(this._transform=t.transform),typeof t.flush==\"function\"&&(this._flush=t.flush)),this.on(\"prefinish\",gSe)}function gSe(){var t=this;typeof this._flush!=\"function\"||this._readableState.destroyed?Cq(this,null,null):this._flush((function(e,n){Cq(t,e,n)}))}function Cq(t,e,n){if(e)return t.emit(\"error\",e);if(n!=null&&t.push(n),t._writableState.length)throw new hSe;if(t._transformState.transforming)throw new fSe;return t.push(null)}r5(Au,FE),Au.prototype.push=function(t,e){return this._transformState.needTransform=!1,FE.prototype.push.call(this,t,e)},Au.prototype._transform=function(t,e,n){n(new uSe(\"_transform()\"))},Au.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},Au.prototype._read=function(t){var e=this._transformState;e.writechunk===null||e.transforming?e.needTransform=!0:(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform))},Au.prototype._destroy=function(t,e){FE.prototype._destroy.call(this,t,(function(n){e(n)}))};var x7,mSe=Hv,Mie=kie;function Hv(t){if(!(this instanceof Hv))return new Hv(t);Mie.call(this,t)}r5(Hv,Mie),Hv.prototype._transform=function(t,e,n){n(null,t)};var Die=Lp.codes,ySe=Die.ERR_MISSING_ARGS,bSe=Die.ERR_STREAM_DESTROYED;function Sq(t){if(t)throw t}function xq(t){t()}function wSe(t,e){return t.pipe(e)}var vSe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,i=(function(o){return o.length?typeof o[o.length-1]!=\"function\"?Sq:o.pop():Sq})(e);if(Array.isArray(e[0])&&(e=e[0]),e.length<2)throw new ySe(\"streams\");var s=e.map((function(o,a){var c=a<e.length-1;return(function(l,d,h,p){p=(function(y){var E=!1;return function(){E||(E=!0,y.apply(void 0,arguments))}})(p);var m=!1;l.on(\"close\",(function(){m=!0})),x7===void 0&&(x7=WR),x7(l,{readable:d,writable:h},(function(y){if(y)return p(y);m=!0,p()}));var b=!1;return function(y){if(!m&&!b)return b=!0,(function(E){return E.setHeader&&typeof E.abort==\"function\"})(l)?l.abort():typeof l.destroy==\"function\"?l.destroy():void p(y||new bSe(\"pipe\"))}})(o,c,a>0,(function(l){r||(r=l),l&&s.forEach(xq),c||(s.forEach(xq),i(r))}))}));return e.reduce(wSe)};(function(t,e){(e=KT.exports=Rie()).Stream=e,e.Readable=e,e.Writable=Nie(),e.Duplex=Om(),e.Transform=kie,e.PassThrough=mSe,e.finished=WR,e.pipeline=vSe})(0,KT.exports);var Nm=KT.exports;function ESe(t={}){const e={},n=new Nm.Duplex({objectMode:!0,read:()=>{},write:function(s,o,a){let c=null;try{s.id?(function(l){const{id:d}=l;if(d===null)return;const h=e[d];if(!h)return void console.warn(`StreamMiddleware - Unknown response id \"${d}\"`);delete e[d],Object.assign(h.res,l),setTimeout(h.end)})(s):(function(l){t!=null&&t.retryOnMessage&&l.method===t.retryOnMessage&&Object.values(e).forEach((({req:d,retryCount:h=0})=>{if(!d.id)return;if(h>=3)throw new Error(`StreamMiddleware - Retry limit exceeded for request id \"${d.id}\"`);const p=e[d.id];p&&(p.retryCount=h+1),i(d)})),r.emit(\"notification\",l)})(s)}catch(l){c=l}a(c)}}),r=new die;return{events:r,middleware:(s,o,a,c)=>{e[s.id]={req:s,res:o,next:a,end:c},i(s)},stream:n};function i(s){n.push(s)}}var J8={},GT={exports:{}},_Se=function t(e,n){if(e&&n)return t(e)(n);if(typeof e!=\"function\")throw new TypeError(\"need wrapper function\");return Object.keys(e).forEach((function(i){r[i]=e[i]})),r;function r(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];var o=e.apply(this,i),a=i[i.length-1];return typeof o==\"function\"&&o!==a&&Object.keys(a).forEach((function(c){o[c]=a[c]})),o}},Aq=_Se;function D3(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function $q(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||\"Function wrapped with `once`\";return e.onceError=n+\" shouldn't be called more than once\",e.called=!1,e}GT.exports=Aq(D3),GT.exports.strict=Aq($q),D3.proto=D3((function(){Object.defineProperty(Function.prototype,\"once\",{value:function(){return D3(this)},configurable:!0}),Object.defineProperty(Function.prototype,\"onceStrict\",{value:function(){return $q(this)},configurable:!0})}));var CSe=GT.exports,X8={};Object.defineProperty(X8,\"__esModule\",{value:!0}),X8.Substream=void 0;const SSe=Nm;class xSe extends SSe.Duplex{constructor({parent:e,name:n}){super({objectMode:!0}),this._parent=e,this._name=n}_read(){}_write(e,n,r){this._parent.push({name:this._name,data:e}),r()}}X8.Substream=xSe;var ASe=Ta&&Ta.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(J8,\"__esModule\",{value:!0}),J8.ObjectMultiplex=void 0;const A7=Nm,$Se=ASe(CSe),ISe=X8,Iq=Symbol(\"IGNORE_SUBSTREAM\");let TSe=class extends A7.Duplex{constructor(t={}){super(Object.assign(Object.assign({},t),{objectMode:!0})),this._substreams={}}createStream(t){if(this.destroyed)throw new Error(`ObjectMultiplex - parent stream for name \"${t}\" already destroyed`);if(this._readableState.ended||this._writableState.ended)throw new Error(`ObjectMultiplex - parent stream for name \"${t}\" already ended`);if(!t)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name \"${t}\" already exists`);const e=new ISe.Substream({parent:this,name:t});return this._substreams[t]=e,(function(n,r){const i=(0,$Se.default)(r);(0,A7.finished)(n,{readable:!1},i),(0,A7.finished)(n,{writable:!1},i)})(this,(n=>e.destroy(n||void 0))),e}ignoreStream(t){if(!t)throw new Error(\"ObjectMultiplex - name must not be empty\");if(this._substreams[t])throw new Error(`ObjectMultiplex - Substream for name \"${t}\" already exists`);this._substreams[t]=Iq}_read(){}_write(t,e,n){const{name:r,data:i}=t;if(!r)return console.warn(`ObjectMultiplex - malformed chunk without name \"${t}\"`),n();const s=this._substreams[r];return s?(s!==Iq&&s.push(i),n()):(console.warn(`ObjectMultiplex - orphaned data for stream \"${r}\"`),n())}};J8.ObjectMultiplex=TSe;var PSe=F_(J8.ObjectMultiplex);const Jc=t=>t!==null&&typeof t==\"object\"&&typeof t.pipe==\"function\";Jc.writable=t=>Jc(t)&&t.writable!==!1&&typeof t._write==\"function\"&&typeof t._writableState==\"object\",Jc.readable=t=>Jc(t)&&t.readable!==!1&&typeof t._read==\"function\"&&typeof t._readableState==\"object\",Jc.duplex=t=>Jc.writable(t)&&Jc.readable(t),Jc.transform=t=>Jc.duplex(t)&&typeof t._transform==\"function\";var Xc,OSe=Jc,NSe=class extends WCe{constructor(t,{jsonRpcStreamName:e,logger:n=console,maxEventListeners:r=100,rpcMiddleware:i=[]}){if(super({logger:n,maxEventListeners:r,rpcMiddleware:i}),!OSe.duplex(t))throw new Error(ur.errors.invalidDuplexStream());this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this);const s=new PSe;Nm.pipeline(t,s,t,this._handleStreamDisconnect.bind(this,\"MetaMask\")),this._jsonRpcConnection=ESe({retryOnMessage:\"METAMASK_EXTENSION_CONNECT_CAN_RETRY\"}),Nm.pipeline(this._jsonRpcConnection.stream,s.createStream(e),this._jsonRpcConnection.stream,this._handleStreamDisconnect.bind(this,\"MetaMask RpcProvider\")),this._rpcEngine.push(this._jsonRpcConnection.middleware),this._jsonRpcConnection.events.on(\"notification\",(o=>{const{method:a,params:c}=o;a===\"metamask_accountsChanged\"?this._handleAccountsChanged(c):a===\"metamask_unlockStateChanged\"?this._handleUnlockStateChanged(c):a===\"metamask_chainChanged\"?this._handleChainChanged(c):fie.includes(a)?this.emit(\"message\",{type:a,data:c}):a===\"METAMASK_STREAM_FAILURE\"&&t.destroy(new Error(ur.errors.permanentlyDisconnected()))}))}async _initializeStateAsync(){let t;try{t=await this.request({method:\"metamask_getProviderState\"})}catch(e){this._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",e)}this._initializeState(t)}_handleStreamDisconnect(t,e){let n=`MetaMask: Lost connection to \"${t}\".`;e!=null&&e.stack&&(n+=`\n${e.stack}`),this._log.warn(n),this.listenerCount(\"error\")>0&&this.emit(\"error\",n),this._handleDisconnect(!1,e?e.message:void 0)}_handleChainChanged({chainId:t,networkVersion:e}={}){hie(t)&&(n=>!!n&&typeof n==\"string\")(e)?e===\"loading\"?this._handleDisconnect(!0):super._handleChainChanged({chainId:t}):this._log.error(ur.errors.invalidNetworkParams(),{chainId:t,networkVersion:e})}},RSe=class extends NSe{constructor(t,{jsonRpcStreamName:e=\"metamask-provider\",logger:n=console,maxEventListeners:r=100,shouldSendMetadata:i}={}){if(super(t,{jsonRpcStreamName:e,logger:n,maxEventListeners:r,rpcMiddleware:UCe(n)}),this._sentWarnings={chainId:!1,networkVersion:!1,selectedAddress:!1,enable:!1,experimentalMethods:!1,send:!1,events:{close:!1,data:!1,networkChanged:!1,notification:!1}},VT(this,Xc,void 0),this._initializeStateAsync(),xu(this,Xc,null),this.isMetaMask=!0,this._sendSync=this._sendSync.bind(this),this.enable=this.enable.bind(this),this.send=this.send.bind(this),this.sendAsync=this.sendAsync.bind(this),this._warnOfDeprecation=this._warnOfDeprecation.bind(this),this._metamask=this._getExperimentalApi(),this._jsonRpcConnection.events.on(\"notification\",(s=>{const{method:o}=s;fie.includes(o)&&(this.emit(\"data\",s),this.emit(\"notification\",s.params.result))})),i)if(document.readyState===\"complete\")uq(this._rpcEngine,this._log);else{const s=()=>{uq(this._rpcEngine,this._log),window.removeEventListener(\"DOMContentLoaded\",s)};window.addEventListener(\"DOMContentLoaded\",s)}}get chainId(){return this._sentWarnings.chainId||(this._log.warn(ur.warnings.chainIdDeprecation),this._sentWarnings.chainId=!0),super.chainId}get networkVersion(){return this._sentWarnings.networkVersion||(this._log.warn(ur.warnings.networkVersionDeprecation),this._sentWarnings.networkVersion=!0),al(this,Xc)}get selectedAddress(){return this._sentWarnings.selectedAddress||(this._log.warn(ur.warnings.selectedAddressDeprecation),this._sentWarnings.selectedAddress=!0),super.selectedAddress}sendAsync(t,e){this._rpcRequest(t,e)}addListener(t,e){return this._warnOfDeprecation(t),super.addListener(t,e)}on(t,e){return this._warnOfDeprecation(t),super.on(t,e)}once(t,e){return this._warnOfDeprecation(t),super.once(t,e)}prependListener(t,e){return this._warnOfDeprecation(t),super.prependListener(t,e)}prependOnceListener(t,e){return this._warnOfDeprecation(t),super.prependOnceListener(t,e)}_handleDisconnect(t,e){super._handleDisconnect(t,e),al(this,Xc)&&!t&&xu(this,Xc,null)}_warnOfDeprecation(t){var e;((e=this._sentWarnings)==null?void 0:e.events[t])===!1&&(this._log.warn(ur.warnings.events[t]),this._sentWarnings.events[t]=!0)}async enable(){return this._sentWarnings.enable||(this._log.warn(ur.warnings.enableDeprecation),this._sentWarnings.enable=!0),new Promise(((t,e)=>{try{this._rpcRequest({method:\"eth_requestAccounts\",params:[]},UE(t,e))}catch(n){e(n)}}))}send(t,e){return this._sentWarnings.send||(this._log.warn(ur.warnings.sendDeprecation),this._sentWarnings.send=!0),typeof t!=\"string\"||e&&!Array.isArray(e)?t&&typeof t==\"object\"&&typeof e==\"function\"?this._rpcRequest(t,e):this._sendSync(t):new Promise(((n,r)=>{try{this._rpcRequest({method:t,params:e},UE(n,r,!1))}catch(i){r(i)}}))}_sendSync(t){let e;switch(t.method){case\"eth_accounts\":e=this.selectedAddress?[this.selectedAddress]:[];break;case\"eth_coinbase\":e=this.selectedAddress??null;break;case\"eth_uninstallFilter\":this._rpcRequest(t,pie),e=!0;break;case\"net_version\":e=al(this,Xc)??null;break;default:throw new Error(ur.errors.unsupportedSync(t.method))}return{id:t.id,jsonrpc:t.jsonrpc,result:e}}_getExperimentalApi(){return new Proxy({isUnlocked:async()=>(this._state.initialized||await new Promise((t=>{this.on(\"_initialized\",(()=>t()))})),this._state.isUnlocked),requestBatch:async t=>{if(!Array.isArray(t))throw Nw({message:\"Batch requests must be made with an array of request objects.\",data:t});return new Promise(((e,n)=>{this._rpcRequest(t,UE(e,n))}))}},{get:(t,e,...n)=>(this._sentWarnings.experimentalMethods||(this._log.warn(ur.warnings.experimentalMethods),this._sentWarnings.experimentalMethods=!0),Reflect.get(t,e,...n))})}_handleChainChanged({chainId:t,networkVersion:e}={}){super._handleChainChanged({chainId:t,networkVersion:e}),this._state.isConnected&&e!==al(this,Xc)&&(xu(this,Xc,e),this._state.initialized&&this.emit(\"networkChanged\",al(this,Xc)))}};Xc=new WeakMap;const ge=ps(\"MM_SDK\");let Tq;ge.color=\"#FFAC1C\";var Bie={},jf={};Object.defineProperty(jf,\"__esModule\",{value:!0}),jf.EthereumProviderError=jf.EthereumRpcError=void 0;const kSe=sie;class Lie extends Error{constructor(e,n,r){if(!Number.isInteger(e))throw new Error('\"code\" must be an integer.');if(!n||typeof n!=\"string\")throw new Error('\"message\" must be a nonempty string.');super(n),this.code=e,r!==void 0&&(this.data=r)}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),this.stack&&(e.stack=this.stack),e}toString(){return kSe.default(this.serialize(),MSe,2)}}jf.EthereumRpcError=Lie;function MSe(t,e){if(e!==\"[Circular]\")return e}jf.EthereumProviderError=class extends Lie{constructor(t,e,n){if(!(function(r){return Number.isInteger(r)&&r>=1e3&&r<=4999})(t))throw new Error('\"code\" must be an integer such that: 1000 <= code <= 4999');super(t,e,n)}};var GR={},wf={};Object.defineProperty(wf,\"__esModule\",{value:!0}),wf.errorValues=wf.errorCodes=void 0,wf.errorCodes={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},wf.errorValues={\"-32700\":{standard:\"JSON RPC 2.0\",message:\"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text.\"},\"-32600\":{standard:\"JSON RPC 2.0\",message:\"The JSON sent is not a valid Request object.\"},\"-32601\":{standard:\"JSON RPC 2.0\",message:\"The method does not exist / is not available.\"},\"-32602\":{standard:\"JSON RPC 2.0\",message:\"Invalid method parameter(s).\"},\"-32603\":{standard:\"JSON RPC 2.0\",message:\"Internal JSON-RPC error.\"},\"-32000\":{standard:\"EIP-1474\",message:\"Invalid input.\"},\"-32001\":{standard:\"EIP-1474\",message:\"Resource not found.\"},\"-32002\":{standard:\"EIP-1474\",message:\"Resource unavailable.\"},\"-32003\":{standard:\"EIP-1474\",message:\"Transaction rejected.\"},\"-32004\":{standard:\"EIP-1474\",message:\"Method not supported.\"},\"-32005\":{standard:\"EIP-1474\",message:\"Request limit exceeded.\"},4001:{standard:\"EIP-1193\",message:\"User rejected the request.\"},4100:{standard:\"EIP-1193\",message:\"The requested account and/or method has not been authorized by the user.\"},4200:{standard:\"EIP-1193\",message:\"The requested method is not supported by this Ethereum provider.\"},4900:{standard:\"EIP-1193\",message:\"The provider is disconnected from all chains.\"},4901:{standard:\"EIP-1193\",message:\"The provider is disconnected from the specified chain.\"}},(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.serializeError=t.isValidCode=t.getMessageFromCode=t.JSON_RPC_SERVER_ERROR_MESSAGE=void 0;const e=wf,n=jf,r=e.errorCodes.rpc.internal,i=\"Unspecified error message. This is a bug, please report it.\",s={code:r,message:o(r)};function o(h,p=i){if(Number.isInteger(h)){const m=h.toString();if(d(e.errorValues,m))return e.errorValues[m].message;if(c(h))return t.JSON_RPC_SERVER_ERROR_MESSAGE}return p}function a(h){if(!Number.isInteger(h))return!1;const p=h.toString();return!!e.errorValues[p]||!!c(h)}function c(h){return h>=-32099&&h<=-32e3}function l(h){return h&&typeof h==\"object\"&&!Array.isArray(h)?Object.assign({},h):h}function d(h,p){return Object.prototype.hasOwnProperty.call(h,p)}t.JSON_RPC_SERVER_ERROR_MESSAGE=\"Unspecified server error.\",t.getMessageFromCode=o,t.isValidCode=a,t.serializeError=function(h,{fallbackError:p=s,shouldIncludeStack:m=!1}={}){var b,y;if(!p||!Number.isInteger(p.code)||typeof p.message!=\"string\")throw new Error(\"Must provide fallback error with integer number code and string message.\");if(h instanceof n.EthereumRpcError)return h.serialize();const E={};if(h&&typeof h==\"object\"&&!Array.isArray(h)&&d(h,\"code\")&&a(h.code)){const _=h;E.code=_.code,_.message&&typeof _.message==\"string\"?(E.message=_.message,d(_,\"data\")&&(E.data=_.data)):(E.message=o(E.code),E.data={originalError:l(h)})}else{E.code=p.code;const _=(b=h)===null||b===void 0?void 0:b.message;E.message=_&&typeof _==\"string\"?_:p.message,E.data={originalError:l(h)}}const v=(y=h)===null||y===void 0?void 0:y.stack;return m&&h&&v&&typeof v==\"string\"&&(E.stack=v),E}})(GR);var Q8={};Object.defineProperty(Q8,\"__esModule\",{value:!0}),Q8.ethErrors=void 0;const ZR=jf,Uie=GR,Gi=wf;function da(t,e){const[n,r]=jie(e);return new ZR.EthereumRpcError(t,n||Uie.getMessageFromCode(t),r)}function qb(t,e){const[n,r]=jie(e);return new ZR.EthereumProviderError(t,n||Uie.getMessageFromCode(t),r)}function jie(t){if(t){if(typeof t==\"string\")return[t];if(typeof t==\"object\"&&!Array.isArray(t)){const{message:e,data:n}=t;if(e&&typeof e!=\"string\")throw new Error(\"Must specify string message.\");return[e||void 0,n]}}return[]}Q8.ethErrors={rpc:{parse:t=>da(Gi.errorCodes.rpc.parse,t),invalidRequest:t=>da(Gi.errorCodes.rpc.invalidRequest,t),invalidParams:t=>da(Gi.errorCodes.rpc.invalidParams,t),methodNotFound:t=>da(Gi.errorCodes.rpc.methodNotFound,t),internal:t=>da(Gi.errorCodes.rpc.internal,t),server:t=>{if(!t||typeof t!=\"object\"||Array.isArray(t))throw new Error(\"Ethereum RPC Server errors must provide single object argument.\");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('\"code\" must be an integer such that: -32099 <= code <= -32005');return da(e,t)},invalidInput:t=>da(Gi.errorCodes.rpc.invalidInput,t),resourceNotFound:t=>da(Gi.errorCodes.rpc.resourceNotFound,t),resourceUnavailable:t=>da(Gi.errorCodes.rpc.resourceUnavailable,t),transactionRejected:t=>da(Gi.errorCodes.rpc.transactionRejected,t),methodNotSupported:t=>da(Gi.errorCodes.rpc.methodNotSupported,t),limitExceeded:t=>da(Gi.errorCodes.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>qb(Gi.errorCodes.provider.userRejectedRequest,t),unauthorized:t=>qb(Gi.errorCodes.provider.unauthorized,t),unsupportedMethod:t=>qb(Gi.errorCodes.provider.unsupportedMethod,t),disconnected:t=>qb(Gi.errorCodes.provider.disconnected,t),chainDisconnected:t=>qb(Gi.errorCodes.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!=\"object\"||Array.isArray(t))throw new Error(\"Ethereum Provider custom errors must provide single object argument.\");const{code:e,message:n,data:r}=t;if(!n||typeof n!=\"string\")throw new Error('\"message\" must be a nonempty string');return new ZR.EthereumProviderError(e,n,r)}}},(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.getMessageFromCode=t.serializeError=t.EthereumProviderError=t.EthereumRpcError=t.ethErrors=t.errorCodes=void 0;const e=jf;Object.defineProperty(t,\"EthereumRpcError\",{enumerable:!0,get:function(){return e.EthereumRpcError}}),Object.defineProperty(t,\"EthereumProviderError\",{enumerable:!0,get:function(){return e.EthereumProviderError}});const n=GR;Object.defineProperty(t,\"serializeError\",{enumerable:!0,get:function(){return n.serializeError}}),Object.defineProperty(t,\"getMessageFromCode\",{enumerable:!0,get:function(){return n.getMessageFromCode}});const r=Q8;Object.defineProperty(t,\"ethErrors\",{enumerable:!0,get:function(){return r.ethErrors}});const i=wf;Object.defineProperty(t,\"errorCodes\",{enumerable:!0,get:function(){return i.errorCodes}})})(Bie);var zie={exports:{}};zie.exports=(function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(r,i,s){n.o(r,i)||Object.defineProperty(r,i,{enumerable:!0,get:s})},n.r=function(r){typeof Symbol<\"u\"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(r,\"__esModule\",{value:!0})},n.t=function(r,i){if(1&i&&(r=n(r)),8&i||4&i&&typeof r==\"object\"&&r&&r.__esModule)return r;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,\"default\",{enumerable:!0,value:r}),2&i&&typeof r!=\"string\")for(var o in r)n.d(s,o,(function(a){return r[a]}).bind(null,o));return s},n.n=function(r){var i=r&&r.__esModule?function(){return r.default}:function(){return r};return n.d(i,\"a\",i),i},n.o=function(r,i){return Object.prototype.hasOwnProperty.call(r,i)},n.p=\"\",n(n.s=90)})({17:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=n(18),i=(function(){function s(){}return s.getFirstMatch=function(o,a){var c=a.match(o);return c&&c.length>0&&c[1]||\"\"},s.getSecondMatch=function(o,a){var c=a.match(o);return c&&c.length>1&&c[2]||\"\"},s.matchAndReturnConst=function(o,a,c){if(o.test(a))return c},s.getWindowsVersionName=function(o){switch(o){case\"NT\":return\"NT\";case\"XP\":case\"NT 5.1\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},s.getMacOSVersionName=function(o){var a=o.split(\".\").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(a.push(0),a[0]===10)switch(a[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},s.getAndroidVersionName=function(o){var a=o.split(\".\").splice(0,2).map((function(c){return parseInt(c,10)||0}));if(a.push(0),!(a[0]===1&&a[1]<5))return a[0]===1&&a[1]<6?\"Cupcake\":a[0]===1&&a[1]>=6?\"Donut\":a[0]===2&&a[1]<2?\"Eclair\":a[0]===2&&a[1]===2?\"Froyo\":a[0]===2&&a[1]>2?\"Gingerbread\":a[0]===3?\"Honeycomb\":a[0]===4&&a[1]<1?\"Ice Cream Sandwich\":a[0]===4&&a[1]<4?\"Jelly Bean\":a[0]===4&&a[1]>=4?\"KitKat\":a[0]===5?\"Lollipop\":a[0]===6?\"Marshmallow\":a[0]===7?\"Nougat\":a[0]===8?\"Oreo\":a[0]===9?\"Pie\":void 0},s.getVersionPrecision=function(o){return o.split(\".\").length},s.compareVersions=function(o,a,c){c===void 0&&(c=!1);var l=s.getVersionPrecision(o),d=s.getVersionPrecision(a),h=Math.max(l,d),p=0,m=s.map([o,a],(function(b){var y=h-s.getVersionPrecision(b),E=b+new Array(y+1).join(\".0\");return s.map(E.split(\".\"),(function(v){return new Array(20-v.length).join(\"0\")+v})).reverse()}));for(c&&(p=h-Math.min(l,d)),h-=1;h>=p;){if(m[0][h]>m[1][h])return 1;if(m[0][h]===m[1][h]){if(h===p)return 0;h-=1}else if(m[0][h]<m[1][h])return-1}},s.map=function(o,a){var c,l=[];if(Array.prototype.map)return Array.prototype.map.call(o,a);for(c=0;c<o.length;c+=1)l.push(a(o[c]));return l},s.find=function(o,a){var c,l;if(Array.prototype.find)return Array.prototype.find.call(o,a);for(c=0,l=o.length;c<l;c+=1){var d=o[c];if(a(d,c))return d}},s.assign=function(o){for(var a,c,l=o,d=arguments.length,h=new Array(d>1?d-1:0),p=1;p<d;p++)h[p-1]=arguments[p];if(Object.assign)return Object.assign.apply(Object,[o].concat(h));var m=function(){var b=h[a];typeof b==\"object\"&&b!==null&&Object.keys(b).forEach((function(y){l[y]=b[y]}))};for(a=0,c=h.length;a<c;a+=1)m();return o},s.getBrowserAlias=function(o){return r.BROWSER_ALIASES_MAP[o]},s.getBrowserTypeByAlias=function(o){return r.BROWSER_MAP[o]||\"\"},s})();e.default=i,t.exports=e.default},18:function(t,e,n){e.__esModule=!0,e.ENGINE_MAP=e.OS_MAP=e.PLATFORMS_MAP=e.BROWSER_MAP=e.BROWSER_ALIASES_MAP=void 0,e.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"},e.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"},e.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"},e.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"},e.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},s=n(18);function o(c,l){for(var d=0;d<l.length;d++){var h=l[d];h.enumerable=h.enumerable||!1,h.configurable=!0,\"value\"in h&&(h.writable=!0),Object.defineProperty(c,h.key,h)}}var a=(function(){function c(){}var l,d,h;return c.getParser=function(p,m){if(m===void 0&&(m=!1),typeof p!=\"string\")throw new Error(\"UserAgent should be a string\");return new i.default(p,m)},c.parse=function(p){return new i.default(p).getResult()},l=c,h=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(d=null)&&o(l.prototype,d),h&&o(l,h),c})();e.default=a,t.exports=e.default},91:function(t,e,n){e.__esModule=!0,e.default=void 0;var r=c(n(92)),i=c(n(93)),s=c(n(94)),o=c(n(95)),a=c(n(17));function c(d){return d&&d.__esModule?d:{default:d}}var l=(function(){function d(p,m){if(m===void 0&&(m=!1),p==null||p===\"\")throw new Error(\"UserAgent parameter can't be empty\");this._ua=p,this.parsedResult={},m!==!0&&this.parse()}var h=d.prototype;return h.getUA=function(){return this._ua},h.test=function(p){return p.test(this._ua)},h.parseBrowser=function(){var p=this;this.parsedResult.browser={};var m=a.default.find(r.default,(function(b){if(typeof b.test==\"function\")return b.test(p);if(b.test instanceof Array)return b.test.some((function(y){return p.test(y)}));throw new Error(\"Browser's test function is not valid\")}));return m&&(this.parsedResult.browser=m.describe(this.getUA())),this.parsedResult.browser},h.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},h.getBrowserName=function(p){return p?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},h.getBrowserVersion=function(){return this.getBrowser().version},h.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},h.parseOS=function(){var p=this;this.parsedResult.os={};var m=a.default.find(i.default,(function(b){if(typeof b.test==\"function\")return b.test(p);if(b.test instanceof Array)return b.test.some((function(y){return p.test(y)}));throw new Error(\"Browser's test function is not valid\")}));return m&&(this.parsedResult.os=m.describe(this.getUA())),this.parsedResult.os},h.getOSName=function(p){var m=this.getOS().name;return p?String(m).toLowerCase()||\"\":m||\"\"},h.getOSVersion=function(){return this.getOS().version},h.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},h.getPlatformType=function(p){p===void 0&&(p=!1);var m=this.getPlatform().type;return p?String(m).toLowerCase()||\"\":m||\"\"},h.parsePlatform=function(){var p=this;this.parsedResult.platform={};var m=a.default.find(s.default,(function(b){if(typeof b.test==\"function\")return b.test(p);if(b.test instanceof Array)return b.test.some((function(y){return p.test(y)}));throw new Error(\"Browser's test function is not valid\")}));return m&&(this.parsedResult.platform=m.describe(this.getUA())),this.parsedResult.platform},h.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},h.getEngineName=function(p){return p?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},h.parseEngine=function(){var p=this;this.parsedResult.engine={};var m=a.default.find(o.default,(function(b){if(typeof b.test==\"function\")return b.test(p);if(b.test instanceof Array)return b.test.some((function(y){return p.test(y)}));throw new Error(\"Browser's test function is not valid\")}));return m&&(this.parsedResult.engine=m.describe(this.getUA())),this.parsedResult.engine},h.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},h.getResult=function(){return a.default.assign({},this.parsedResult)},h.satisfies=function(p){var m=this,b={},y=0,E={},v=0;if(Object.keys(p).forEach((function(N){var U=p[N];typeof U==\"string\"?(E[N]=U,v+=1):typeof U==\"object\"&&(b[N]=U,y+=1)})),y>0){var _=Object.keys(b),C=a.default.find(_,(function(N){return m.isOS(N)}));if(C){var S=this.satisfies(b[C]);if(S!==void 0)return S}var A=a.default.find(_,(function(N){return m.isPlatform(N)}));if(A){var I=this.satisfies(b[A]);if(I!==void 0)return I}}if(v>0){var O=Object.keys(E),D=a.default.find(O,(function(N){return m.isBrowser(N,!0)}));if(D!==void 0)return this.compareVersion(E[D])}},h.isBrowser=function(p,m){m===void 0&&(m=!1);var b=this.getBrowserName().toLowerCase(),y=p.toLowerCase(),E=a.default.getBrowserTypeByAlias(y);return m&&E&&(y=E.toLowerCase()),y===b},h.compareVersion=function(p){var m=[0],b=p,y=!1,E=this.getBrowserVersion();if(typeof E==\"string\")return p[0]===\">\"||p[0]===\"<\"?(b=p.substr(1),p[1]===\"=\"?(y=!0,b=p.substr(2)):m=[],p[0]===\">\"?m.push(1):m.push(-1)):p[0]===\"=\"?b=p.substr(1):p[0]===\"~\"&&(y=!0,b=p.substr(1)),m.indexOf(a.default.compareVersions(E,b,y))>-1},h.isOS=function(p){return this.getOSName(!0)===String(p).toLowerCase()},h.isPlatform=function(p){return this.getPlatformType(!0)===String(p).toLowerCase()},h.isEngine=function(p){return this.getEngineName(!0)===String(p).toLowerCase()},h.is=function(p,m){return m===void 0&&(m=!1),this.isBrowser(p,m)||this.isOS(p)||this.isPlatform(p)},h.some=function(p){var m=this;return p===void 0&&(p=[]),p.some((function(b){return m.is(b)}))},d})();e.default=l,t.exports=e.default},92:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=/version\\/(\\d+(\\.?_?\\d+)+)/i,o=[{test:[/googlebot/i],describe:function(a){var c={name:\"Googlebot\"},l=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/opera/i],describe:function(a){var c={name:\"Opera\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opr\\/|opios/i],describe:function(a){var c={name:\"Opera\"},l=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/SamsungBrowser/i],describe:function(a){var c={name:\"Samsung Internet for Android\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Whale/i],describe:function(a){var c={name:\"NAVER Whale Browser\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MZBrowser/i],describe:function(a){var c={name:\"MZ Browser\"},l=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/focus/i],describe:function(a){var c={name:\"Focus\"},l=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/swing/i],describe:function(a){var c={name:\"Swing\"},l=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/coast/i],describe:function(a){var c={name:\"Opera Coast\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(a){var c={name:\"Opera Touch\"},l=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/yabrowser/i],describe:function(a){var c={name:\"Yandex Browser\"},l=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/ucbrowser/i],describe:function(a){var c={name:\"UC Browser\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/Maxthon|mxios/i],describe:function(a){var c={name:\"Maxthon\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/epiphany/i],describe:function(a){var c={name:\"Epiphany\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/puffin/i],describe:function(a){var c={name:\"Puffin\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sleipnir/i],describe:function(a){var c={name:\"Sleipnir\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/k-meleon/i],describe:function(a){var c={name:\"K-Meleon\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/micromessenger/i],describe:function(a){var c={name:\"WeChat\"},l=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/qqbrowser/i],describe:function(a){var c={name:/qqbrowserlite/i.test(a)?\"QQ Browser Lite\":\"QQ Browser\"},l=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/msie|trident/i],describe:function(a){var c={name:\"Internet Explorer\"},l=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/\\sedg\\//i],describe:function(a){var c={name:\"Microsoft Edge\"},l=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/edg([ea]|ios)/i],describe:function(a){var c={name:\"Microsoft Edge\"},l=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/vivaldi/i],describe:function(a){var c={name:\"Vivaldi\"},l=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/seamonkey/i],describe:function(a){var c={name:\"SeaMonkey\"},l=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/sailfish/i],describe:function(a){var c={name:\"Sailfish\"},l=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,a);return l&&(c.version=l),c}},{test:[/silk/i],describe:function(a){var c={name:\"Amazon Silk\"},l=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/phantom/i],describe:function(a){var c={name:\"PhantomJS\"},l=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/slimerjs/i],describe:function(a){var c={name:\"SlimerJS\"},l=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(a){var c={name:\"BlackBerry\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c={name:\"WebOS Browser\"},l=i.default.getFirstMatch(s,a)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/bada/i],describe:function(a){var c={name:\"Bada\"},l=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/tizen/i],describe:function(a){var c={name:\"Tizen\"},l=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/qupzilla/i],describe:function(a){var c={name:\"QupZilla\"},l=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/firefox|iceweasel|fxios/i],describe:function(a){var c={name:\"Firefox\"},l=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/electron/i],describe:function(a){var c={name:\"Electron\"},l=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/MiuiBrowser/i],describe:function(a){var c={name:\"Miui\"},l=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/chromium/i],describe:function(a){var c={name:\"Chromium\"},l=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,a)||i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/chrome|crios|crmo/i],describe:function(a){var c={name:\"Chrome\"},l=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/GSA/i],describe:function(a){var c={name:\"Google Search\"},l=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c={name:\"Android Browser\"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/playstation 4/i],describe:function(a){var c={name:\"PlayStation 4\"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/safari|applewebkit/i],describe:function(a){var c={name:\"Safari\"},l=i.default.getFirstMatch(s,a);return l&&(c.version=l),c}},{test:[/.*/i],describe:function(a){var c=a.search(\"\\\\(\")!==-1?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(c,a),version:i.default.getSecondMatch(c,a)}}}];e.default=o,t.exports=e.default},93:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/Roku\\/DVP/],describe:function(a){var c=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,a);return{name:s.OS_MAP.Roku,version:c}}},{test:[/windows phone/i],describe:function(a){var c=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,a);return{name:s.OS_MAP.WindowsPhone,version:c}}},{test:[/windows /i],describe:function(a){var c=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,a),l=i.default.getWindowsVersionName(c);return{name:s.OS_MAP.Windows,version:c,versionName:l}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(a){var c={name:s.OS_MAP.iOS},l=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,a);return l&&(c.version=l),c}},{test:[/macintosh/i],describe:function(a){var c=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,a).replace(/[_\\s]/g,\".\"),l=i.default.getMacOSVersionName(c),d={name:s.OS_MAP.MacOS,version:c};return l&&(d.versionName=l),d}},{test:[/(ipod|iphone|ipad)/i],describe:function(a){var c=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,a).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:c}}},{test:function(a){var c=!a.test(/like android/i),l=a.test(/android/i);return c&&l},describe:function(a){var c=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,a),l=i.default.getAndroidVersionName(c),d={name:s.OS_MAP.Android,version:c};return l&&(d.versionName=l),d}},{test:[/(web|hpw)[o0]s/i],describe:function(a){var c=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,a),l={name:s.OS_MAP.WebOS};return c&&c.length&&(l.version=c),l}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(a){var c=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,a)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,a)||i.default.getFirstMatch(/\\bbb(\\d+)/i,a);return{name:s.OS_MAP.BlackBerry,version:c}}},{test:[/bada/i],describe:function(a){var c=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,a);return{name:s.OS_MAP.Bada,version:c}}},{test:[/tizen/i],describe:function(a){var c=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,a);return{name:s.OS_MAP.Tizen,version:c}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(a){var c=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,a);return{name:s.OS_MAP.PlayStation4,version:c}}}];e.default=o,t.exports=e.default},94:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(a){var c=i.default.getFirstMatch(/(can-l01)/i,a)&&\"Nova\",l={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return c&&(l.model=c),l}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){var c=a.test(/ipod|iphone/i),l=a.test(/like (ipod|iphone)/i);return c&&!l},describe:function(a){var c=i.default.getFirstMatch(/(ipod|iphone)/i,a);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:c}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName(!0)===\"blackberry\"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(a){return a.getBrowserName(!0)===\"bada\"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getBrowserName()===\"windows phone\"},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(a){var c=Number(String(a.getOSVersion()).split(\".\")[0]);return a.getOSName(!0)===\"android\"&&c>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(a){return a.getOSName(!0)===\"android\"},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(a){return a.getOSName(!0)===\"macos\"},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(a){return a.getOSName(!0)===\"windows\"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)===\"linux\"},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(a){return a.getOSName(!0)===\"playstation 4\"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(a){return a.getOSName(!0)===\"roku\"},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];e.default=o,t.exports=e.default},95:function(t,e,n){e.__esModule=!0,e.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},s=n(18),o=[{test:function(a){return a.getBrowserName(!0)===\"microsoft edge\"},describe:function(a){if(/\\sedg\\//i.test(a))return{name:s.ENGINE_MAP.Blink};var c=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,a);return{name:s.ENGINE_MAP.EdgeHTML,version:c}}},{test:[/trident/i],describe:function(a){var c={name:s.ENGINE_MAP.Trident},l=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){return a.test(/presto/i)},describe:function(a){var c={name:s.ENGINE_MAP.Presto},l=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:function(a){var c=a.test(/gecko/i),l=a.test(/like gecko/i);return c&&!l},describe:function(a){var c={name:s.ENGINE_MAP.Gecko},l=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(a){var c={name:s.ENGINE_MAP.WebKit},l=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,a);return l&&(c.version=l),c}}];e.default=o,t.exports=e.default}});var Fie=F_(zie.exports);const gs={Initialized:\"initialized\",DisplayURI:\"display_uri\",ProviderUpdate:\"provider_update\",ConnectWithResponse:\"connectWithResponse\",ConnectionStatus:\"connection_status\",ServiceStatus:\"service_status\"};class cc{constructor({shouldSetOnWindow:e,connectionStream:n,shouldSendMetadata:r=!1,shouldShimWeb3:i,sdkInstance:s}){const o=new Hie({connectionStream:n,shouldSendMetadata:r,shouldSetOnWindow:e,shouldShimWeb3:i,autoRequestAccounts:!1}),a=new Proxy(o,{deleteProperty:()=>!0});if(this.provider=a,this.sdkInstance=s,e&&typeof window<\"u\")try{c=o,window.ethereum=c,window.dispatchEvent(new Event(\"ethereum#initialized\"))}catch(l){ge(\"[Ethereum] Unable to set global provider - window.ethereum may be read-only\",l)}var c;if(i&&typeof window<\"u\")try{(function(l,d=console){let h=!1,p=!1;if(!window.web3){const m=\"__isMetaMaskShim__\";let b={currentProvider:l};Object.defineProperty(b,m,{value:!0,enumerable:!0,configurable:!1,writable:!1}),b=new Proxy(b,{get:(y,E,...v)=>(E!==\"currentProvider\"||h?E===\"currentProvider\"||E===m||p||(p=!0,d.error(\"MetaMask no longer injects web3. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),l.request({method:\"metamask_logWeb3ShimUsage\"}).catch((_=>{d.debug(\"MetaMask: Failed to log web3 shim usage.\",_)}))):(h=!0,d.warn(\"You are accessing the MetaMask window.web3.currentProvider shim. This property is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\")),Reflect.get(y,E,...v)),set:(...y)=>(d.warn(\"You are accessing the MetaMask window.web3 shim. This object is deprecated; use window.ethereum instead. For details, see: https://docs.metamask.io/guide/provider-migration.html#replacing-window-web3\"),Reflect.set(...y))}),Object.defineProperty(window,\"web3\",{value:b,enumerable:!1,configurable:!0,writable:!0})}})(this.provider)}catch(l){ge(\"[Ethereum] Unable to shim web3 - window.web3 may be read-only\",l)}this.provider.on(\"display_uri\",(l=>{this.sdkInstance.emit(gs.DisplayURI,l)})),this.provider.on(\"_initialized\",(()=>{const l={chainId:this.provider.getChainId(),isConnected:this.provider.isConnected(),isMetaMask:this.provider.isMetaMask,selectedAddress:this.provider.getSelectedAddress(),networkVersion:this.provider.getNetworkVersion()};this.sdkInstance.emit(gs.Initialized,l),ge(\"[Ethereum: constructor()] provider initialized\",l)}))}static init(e){var n;return ge(\"[Ethereum: init()] Initializing Ethereum service\"),this.instance=new cc(e),(n=this.instance)===null||n===void 0?void 0:n.provider}static destroy(){}static getInstance(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance}static getProvider(){var e;if(!(!((e=this.instance)===null||e===void 0)&&e.provider))throw new Error(\"Ethereum instance not intiialized - call Ethereum.factory first.\");return this.instance.provider}}class Vv{constructor({useDeepLink:e,preferredOpenLink:n,debug:r=!1}){this.state={platformType:void 0,useDeeplink:!1,preferredOpenLink:void 0,debug:!1},this.state.platformType=this.getPlatformType(),this.state.useDeeplink=e,this.state.preferredOpenLink=n,this.state.debug=r}openDeeplink(e,n,r){return(function(i,s,o,a){const{state:c}=i;ge(`[PlatfformManager: openDeeplink()] universalLink --> ${s}`),ge(`[PlatfformManager: openDeeplink()] deepLink --> ${o}`);try{if(c.preferredOpenLink)return void c.preferredOpenLink(c.useDeeplink?o:s,a);if(ge(`[PlatfformManager: openDeeplink()] open link now useDeepLink=${c.useDeeplink} link=${c.useDeeplink?o:s}`),c.useDeeplink)typeof window<\"u\"&&(window.location.href=o);else if(typeof document<\"u\"){const l=document.createElement(\"a\");l.href=s,l.target=\"_self\",l.rel=\"noreferrer noopener\",l.click()}}catch(l){console.log(\"[PlatfformManager: openDeeplink()] can't open link\",l)}})(this,e,n,r)}isReactNative(){var e;return this.isNotBrowser()&&typeof window<\"u\"&&(window==null?void 0:window.navigator)&&((e=window.navigator)===null||e===void 0?void 0:e.product)===\"ReactNative\"}isMetaMaskInstalled(){return(function(){const e=cc.getProvider()||(window==null?void 0:window.ethereum);return ge(`[PlatfformManager: isMetaMaskInstalled()] isMetaMask=${e==null?void 0:e.isMetaMask} isConnected=${e==null?void 0:e.isConnected()}`),(e==null?void 0:e.isMetaMask)&&(e==null?void 0:e.isConnected())})()}isDesktopWeb(){return this.isBrowser()&&!this.isMobileWeb()}isMobile(){var e,n;const r=Fie.parse(window.navigator.userAgent);return((e=r==null?void 0:r.platform)===null||e===void 0?void 0:e.type)===\"mobile\"||((n=r==null?void 0:r.platform)===null||n===void 0?void 0:n.type)===\"tablet\"}isSecure(){return this.isReactNative()||this.isMobileWeb()}isMetaMaskMobileWebView(){return typeof window<\"u\"&&!!window.ReactNativeWebView&&!!navigator.userAgent.endsWith(\"MetaMaskMobile\")}isMobileWeb(){return this.state.platformType===Li.MobileWeb}static isNotBrowser(){var e;return typeof window>\"u\"||!(window!=null&&window.navigator)||bs!==void 0&&((e=bs==null?void 0:bs.navigator)===null||e===void 0?void 0:e.product)===\"ReactNative\"||(navigator==null?void 0:navigator.product)===\"ReactNative\"}isNotBrowser(){return Vv.isNotBrowser()}static isBrowser(){return!this.isNotBrowser()}isBrowser(){return Vv.isBrowser()}isNodeJS(){return this.isNotBrowser()&&!this.isReactNative()}isUseDeepLink(){return this.state.useDeeplink}getPlatformType(){return(function(e){const{state:n}=e;return n.platformType?n.platformType:e.isReactNative()?Li.ReactNative:e.isNotBrowser()?Li.NonBrowser:e.isMetaMaskMobileWebView()?Li.MetaMaskMobileWebview:e.isMobile()?Li.MobileWeb:Li.DesktopWeb})(this)}}const qie=t=>we(void 0,void 0,void 0,(function*(){if(Vv.isBrowser()){const{StorageManagerWeb:n}=yield Promise.resolve().then((function(){return lxe}));return new n(t)}const e={persistChannelConfig:()=>we(void 0,void 0,void 0,(function*(){})),getPersistedChannelConfig:()=>we(void 0,void 0,void 0,(function*(){})),persistAccounts:()=>we(void 0,void 0,void 0,(function*(){})),getCachedAccounts:()=>we(void 0,void 0,void 0,(function*(){return[]})),persistChainId:()=>we(void 0,void 0,void 0,(function*(){})),getCachedChainId:()=>we(void 0,void 0,void 0,(function*(){})),terminate:()=>we(void 0,void 0,void 0,(function*(){}))};return Promise.resolve(e)}));class Hie extends RSe{constructor({connectionStream:e,shouldSendMetadata:n,autoRequestAccounts:r=!1}){super(e,{logger:console,maxEventListeners:100,shouldSendMetadata:n}),this.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\",networkVersion:\"\"},ge(`[SDKProvider: constructor()] autoRequestAccounts=${r}`),this.state.autoRequestAccounts=r}forceInitializeState(){return we(this,void 0,void 0,(function*(){return ge(`[SDKProvider: forceInitializeState()] autoRequestAccounts=${this.state.autoRequestAccounts}`),this._initializeStateAsync()}))}_setConnected(){ge(\"[SDKProvider: _setConnected()] Setting connected state\"),this._state.isConnected=!0}getState(){return this._state}getSDKProviderState(){return this.state}getSelectedAddress(){var e;const{accounts:n}=this._state;return n&&n.length!==0?((e=n[0])===null||e===void 0?void 0:e.toLowerCase())||\"\":(ge(\"[SDKProvider: getSelectedAddress] No accounts found\"),null)}getChainId(){return this.state.chainId}getNetworkVersion(){return this.state.networkVersion}setSDKProviderState(e){this.state=Object.assign(Object.assign({},this.state),e)}handleAccountsChanged(e,n){return this._handleAccountsChanged(e,n)}handleDisconnect({terminate:e=!1}){(function({terminate:n=!1,instance:r}){const{state:i}=r;ge(`[SDKProvider: handleDisconnect()] cleaning up provider state terminate=${n}`,r),n&&(r._state.accounts=null,r._state.isUnlocked=!1,r._state.isPermanentlyDisconnected=!0,r._state.initialized=!1),r._handleAccountsChanged([]),r._state.isConnected=!1,r.emit(\"disconnect\",Bie.ethErrors.provider.disconnected()),i.providerStateRequested=!1})({terminate:e,instance:this})}_initializeStateAsync(){return we(this,void 0,void 0,(function*(){return(function(e){var n,r;return we(this,void 0,void 0,(function*(){e.state===void 0&&(e.state={accounts:null,autoRequestAccounts:!1,providerStateRequested:!1,chainId:\"\"});const{state:i}=e;let s;if(i.providerStateRequested)ge(\"[SDKProvider: initializeStateAsync()] initialization already in progress\");else{let o;i.providerStateRequested=!0;let a=null,c=!1,l=!1;const d=yield qie({enabled:!0});if(d){const h=yield d.getPersistedChannelConfig({});c=(n=h==null?void 0:h.relayPersistence)!==null&&n!==void 0&&n,o=yield d.getCachedChainId();const p=yield d.getCachedAccounts();p.length>0&&(a=p[0])}if(ge(`[SDKProvider: initializeStateAsync()] relayPersistence=${c}`,{relayPersistence:c,cachedChainId:o,cachedSelectedAddress:a}),c)if(o&&a)s={accounts:[a],chainId:o,isUnlocked:!1},l=!0;else try{s=yield e.request({method:\"metamask_getProviderState\"})}catch(h){return e._log.error(\"MetaMask: Failed to get initial state. Please report this bug.\",h),void(i.providerStateRequested=!1)}if(((r=s==null?void 0:s.accounts)===null||r===void 0?void 0:r.length)===0)if(e.getSelectedAddress())s.accounts=[e.getSelectedAddress()];else{ge(\"[SDKProvider: initializeStateAsync()] Fetch accounts remotely.\");const h=yield e.request({method:\"eth_requestAccounts\",params:[]});s.accounts=h}e._initializeState(s),i.providerStateRequested=!1,l&&(e._state.isConnected=!0,e.emit(\"connect\",{chainId:s==null?void 0:s.chainId}))}}))})(this)}))}_initializeState(e){return ge(\"[SDKProvider: _initializeState()]\",e),(function(n,r,i){return ge(\"[SDKProvider: initializeState()] set state._initialized to false\"),n._state.initialized=!1,r(i)})(this,super._initializeState.bind(this),e)}_handleChainChanged({chainId:e,networkVersion:n}={}){this.state.chainId=e,this.state.networkVersion=n,(function({instance:r,chainId:i,networkVersion:s,superHandleChainChanged:o}){ge(`[SDKProvider: handleChainChanged()] chainId=${i} networkVersion=${s}`);let a=s;s||(ge(\"[SDKProvider: handleChainChanged()] forced network version to prevent provider error\"),a=\"1\"),i!==Tq&&(gr.analytics.track(\"sdk_used_chain\",{caip_chain_id:`eip155:${parseInt(i??\"0x1\",16)}`}),Tq=i),r._state.isConnected=!0,r.emit(\"connect\",{chainId:i}),o({chainId:i,networkVersion:a})})({instance:this,chainId:e,networkVersion:n,superHandleChainChanged:super._handleChainChanged.bind(this)})}}var Kv,Up={name:\"@metamask/sdk\",version:\"0.33.1\",description:\"\",homepage:\"https://github.com/MetaMask/metamask-sdk#readme\",bugs:{url:\"https://github.com/MetaMask/metamask-sdk/issues\"},repository:{type:\"git\",url:\"https://github.com/MetaMask/metamask-sdk\",directory:\"packages/sdk\"},main:\"dist/node/cjs/metamask-sdk.js\",module:\"dist/browser/es/metamask-sdk.js\",browser:\"dist/browser/es/metamask-sdk.js\",unpkg:\"dist/browser/umd/metamask-sdk.js\",\"react-native\":\"dist/react-native/es/metamask-sdk.js\",types:\"dist/types/src/index.d.ts\",sideEffects:!1,files:[\"/dist\"],scripts:{\"build:types\":\"tsc --project tsconfig.build.json --emitDeclarationOnly --outDir dist/types\",build:\"yarn build:types && rollup -c --bundleConfigAsCjs\",\"build:clean\":\"yarn clean && yarn build\",\"build:post-tsc\":\"echo 'N/A'\",\"build:pre-tsc\":\"echo 'N/A'\",typecheck:\"tsc --noEmit\",clean:\"rimraf ./dist\",size:\"node bundle-size && size-limit\",lint:\"yarn lint:eslint && yarn lint:misc --check\",\"lint:changelog\":\"../../scripts/validate-changelog.sh @metamask/sdk\",\"lint:eslint\":\"eslint . --cache --ext js,ts\",\"lint:fix\":\"yarn lint:eslint --fix && yarn lint:misc --write\",\"lint:misc\":\"prettier '**/*.json' '**/*.md' '!CHANGELOG.md' --ignore-path ../../.gitignore\",prepack:\"../../scripts/prepack.sh\",\"publish:preview\":\"yarn npm publish --tag preview\",reset:\"yarn clean && rimraf ./node_modules/\",test:'jest --testPathIgnorePatterns \"/e2e/\"',\"test:coverage\":'jest --coverage --testPathIgnorePatterns \"/e2e/\"',\"test:e2e\":'jest --testPathPattern \"/e2e/\"',\"test:ci\":'jest --coverage --passWithNoTests --setupFilesAfterEnv ./jest-preload.js --testPathIgnorePatterns \"/e2e/\"',\"test:dev\":'jest -c ./jest.config.ts --detectOpenHandles  --testPathIgnorePatterns \"/e2e/\"',watch:\"rollup -c -w\",dev:'concurrently \"tsc --watch\" \"rollup -c -w --bundleConfigAsCjs\"',\"build:dev\":\"yarn build:types && NODE_ENV=dev rollup -c --bundleConfigAsCjs\"},dependencies:{\"@babel/runtime\":\"^7.26.0\",\"@metamask/onboarding\":\"^1.0.1\",\"@metamask/providers\":\"16.1.0\",\"@metamask/sdk-analytics\":\"workspace:*\",\"@metamask/sdk-communication-layer\":\"workspace:*\",\"@metamask/sdk-install-modal-web\":\"workspace:*\",\"@paulmillr/qr\":\"^0.2.1\",bowser:\"^2.9.0\",\"cross-fetch\":\"^4.0.0\",debug:\"4.3.4\",eciesjs:\"^0.4.11\",\"eth-rpc-errors\":\"^4.0.3\",eventemitter2:\"^6.4.9\",\"obj-multiplex\":\"^1.0.0\",pump:\"^3.0.0\",\"readable-stream\":\"^3.6.2\",\"socket.io-client\":\"^4.5.1\",tslib:\"^2.6.0\",util:\"^0.12.4\",uuid:\"^8.3.2\"},devDependencies:{\"@jest/globals\":\"^29.3.1\",\"@lavamoat/allow-scripts\":\"^2.3.1\",\"@metamask/auto-changelog\":\"3.1.0\",\"@metamask/eslint-config\":\"^6.0.0\",\"@metamask/eslint-config-nodejs\":\"^6.0.0\",\"@metamask/eslint-config-typescript\":\"^6.0.0\",\"@react-native-async-storage/async-storage\":\"^1.19.6\",\"@rollup/plugin-alias\":\"^5.1.1\",\"@rollup/plugin-commonjs\":\"^25.0.7\",\"@rollup/plugin-json\":\"^6.0.0\",\"@rollup/plugin-node-resolve\":\"^15.0.2\",\"@rollup/plugin-replace\":\"^6.0.1\",\"@rollup/plugin-terser\":\"^0.4.1\",\"@size-limit/preset-big-lib\":\"^11.0.2\",\"@types/dom-screen-wake-lock\":\"^1.0.2\",\"@types/node\":\"^20.1.3\",\"@types/pump\":\"^1.1.1\",\"@types/qrcode-terminal\":\"^0.12.0\",\"@types/uuid\":\"^10.0.0\",\"@typescript-eslint/eslint-plugin\":\"^4.26.0\",\"@typescript-eslint/parser\":\"^4.26.0\",\"browserify-zlib\":\"^0.2.0\",buffer:\"^6.0.3\",concurrently:\"^9.1.2\",\"crypto-browserify\":\"^3.12.0\",eslint:\"^7.30.0\",\"eslint-config-prettier\":\"^8.3.0\",\"eslint-plugin-import\":\"^2.23.4\",\"eslint-plugin-jest\":\"^24.4.0\",\"eslint-plugin-jsdoc\":\"^36.1.0\",\"eslint-plugin-node\":\"^11.1.0\",\"eslint-plugin-prettier\":\"^3.4.0\",\"https-browserify\":\"^1.0.0\",jest:\"^29.3.1\",\"jest-environment-jsdom\":\"^29.3.1\",prettier:\"^2.3.0\",process:\"^0.11.10\",rimraf:\"^4.4.0\",rollup:\"^4.26.0\",\"rollup-plugin-analyzer\":\"^4.0.0\",\"rollup-plugin-jscc\":\"^2.0.0\",\"rollup-plugin-natives\":\"^0.7.5\",\"rollup-plugin-node-builtins\":\"^2.1.2\",\"rollup-plugin-polyfill-node\":\"^0.13.0\",\"rollup-plugin-sizes\":\"^1.0.6\",\"rollup-plugin-typescript2\":\"^0.31.2\",\"rollup-plugin-visualizer\":\"^5.12.0\",\"size-limit\":\"^11.0.2\",\"stream-browserify\":\"^3.0.0\",\"stream-http\":\"^3.2.0\",\"ts-jest\":\"^29.0.3\",\"ts-node\":\"^10.9.1\",typescript:\"^4.3.2\",url:\"^0.11.0\",webpack:\"^5.0.0\"},publishConfig:{access:\"public\",registry:\"https://registry.npmjs.org/\"},lavamoat:{allowScripts:{\"eciesjs>secp256k1\":!1,\"socket.io-client>engine.io-client>ws>bufferutil\":!1,\"socket.io-client>engine.io-client>ws>utf-8-validate\":!1,\"@metamask/sdk-communication-layer>bufferutil\":!1,\"@metamask/sdk-communication-layer>eciesjs>secp256k1\":!1,\"@metamask/sdk-communication-layer>utf-8-validate\":!1}}};(function(t){t.INPAGE=\"metamask-inpage\",t.CONTENT_SCRIPT=\"metamask-contentscript\",t.PROVIDER=\"metamask-provider\"})(Kv||(Kv={}));const Pq=\"direct\",Wv=\"https://metamask.app.link/connect\",Gv=\"metamask://connect\",Oq={NAME:\"MetaMask\",RDNS:[\"io.metamask\",\"io.metamask.flask\"]},DSe=/(?:^[a-f0-9]{8}-[a-f0-9]{4}-4[a-f0-9]{3}-[a-f0-9]{4}-[a-f0-9]{12}$)|(?:^0{8}-0{4}-0{4}-0{4}-0{12}$)/u,pt={METAMASK_GETPROVIDERSTATE:\"metamask_getProviderState\",METAMASK_CONNECTSIGN:\"metamask_connectSign\",METAMASK_CONNECTWITH:\"metamask_connectWith\",METAMASK_OPEN:\"metamask_open\",METAMASK_BATCH:\"metamask_batch\",PERSONAL_SIGN:\"personal_sign\",WALLET_REQUESTPERMISSIONS:\"wallet_requestPermissions\",WALLET_REVOKEPERMISSIONS:\"wallet_revokePermissions\",WALLET_GETPERMISSIONS:\"wallet_getPermissions\",WALLET_WATCHASSET:\"wallet_watchAsset\",WALLET_ADDETHEREUMCHAIN:\"wallet_addEthereumChain\",WALLET_SWITCHETHETHEREUMCHAIN:\"wallet_switchEthereumChain\",ETH_REQUESTACCOUNTS:\"eth_requestAccounts\",ETH_ACCOUNTS:\"eth_accounts\",ETH_CHAINID:\"eth_chainId\",ETH_SENDTRANSACTION:\"eth_sendTransaction\",ETH_SIGNTYPEDDATA:\"eth_signTypedData\",ETH_SIGNTYPEDDATA_V3:\"eth_signTypedData_v3\",ETH_SIGNTYPEDDATA_V4:\"eth_signTypedData_v4\",ETH_SIGNTRANSACTION:\"eth_signTransaction\",ETH_SIGN:\"eth_sign\",PERSONAL_EC_RECOVER:\"personal_ecRecover\"},Zv={[pt.ETH_REQUESTACCOUNTS]:!0,[pt.ETH_SENDTRANSACTION]:!0,[pt.ETH_SIGNTRANSACTION]:!0,[pt.ETH_SIGN]:!0,[pt.PERSONAL_SIGN]:!0,[pt.ETH_ACCOUNTS]:!1,[pt.ETH_CHAINID]:!1,[pt.PERSONAL_SIGN]:!0,[pt.ETH_SIGNTYPEDDATA]:!0,[pt.ETH_SIGNTYPEDDATA_V3]:!0,[pt.ETH_SIGNTYPEDDATA_V4]:!0,[pt.WALLET_REQUESTPERMISSIONS]:!0,[pt.WALLET_GETPERMISSIONS]:!0,[pt.WALLET_WATCHASSET]:!0,[pt.WALLET_ADDETHEREUMCHAIN]:!0,[pt.WALLET_SWITCHETHETHEREUMCHAIN]:!0,[pt.METAMASK_CONNECTSIGN]:!0,[pt.METAMASK_CONNECTWITH]:!0,[pt.PERSONAL_EC_RECOVER]:!0,[pt.METAMASK_BATCH]:!0,[pt.METAMASK_OPEN]:!0},BSe=Object.keys(Zv).filter((t=>Zv[t]===!0)).map((t=>t.toLowerCase())),Vie=[\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sign\"].map((t=>t.toLowerCase())),$7=\".sdk-comm\",e4=\"providerType\",ZT=\".MMSDK_cached_address\",YT=\".MMSDK_cached_chainId\",zc={CHAIN_CHANGED:\"chainChanged\",ACCOUNTS_CHANGED:\"accountsChanged\",DISCONNECT:\"disconnect\",CONNECT:\"connect\",CONNECTED:\"connected\"},LSe=1e6;var lc;(function(t){t.TERMINATE=\"terminate\",t.EXTENSION=\"extension\",t.INITIALIZED=\"initialized\"})(lc||(lc={}));const USe=typeof window<\"u\"&&window.localStorage;function jSe({instance:t,msg:e}){return we(this,void 0,void 0,(function*(){if(t._initialized||(ge(\"[MetaMaskSDK: connectAndSign()] provider not ready -- wait for init()\"),yield t.init()),ge(`[MetaMaskSDK: connectAndSign()] activeProvider=${t.activeProvider}`),!t.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const n=/^0x([0-9A-Fa-f]{2})*$/u.test(e)?e:(function(r){let i;if(ve!==void 0)i=ve.from(r,\"utf8\").toString(\"hex\");else if(typeof TextEncoder<\"u\"){const s=new TextEncoder().encode(r);i=Array.from(s).map((o=>o.toString(16).padStart(2,\"0\"))).join(\"\")}else{if(typeof bs!=\"object\"||!(\"Buffer\"in bs))throw new Error(\"Unable to convert string to hex: No available method.\");i=bs.Buffer.from(r,\"utf8\").toString(\"hex\")}return`0x${i}`})(e);return t.activeProvider.request({method:pt.METAMASK_CONNECTWITH,params:[{method:pt.PERSONAL_SIGN,params:[n]}]})}))}function Nq(t){var e,n;return we(this,void 0,void 0,(function*(){ge(\"[MetaMaskSDK: connectWithExtensionProvider()] \",t),t.sdkProvider=t.activeProvider,t.activeProvider=window.extension,window.ethereum=window.extension;try{const r=yield(e=window.extension)===null||e===void 0?void 0:e.request({method:\"eth_requestAccounts\"});ge(`[MetaMaskSDK: connectWithExtensionProvider()] accounts=${r}`)}catch(r){return void console.warn(\"[MetaMaskSDK: connectWithExtensionProvider()] can't request accounts error\",r)}localStorage.setItem(e4,\"extension\"),t.extensionActive=!0,t.emit(gs.ProviderUpdate,lc.EXTENSION),t.options.enableAnalytics&&((n=t.analytics)===null||n===void 0||n.send({event:Cr.SDK_USE_EXTENSION}))}))}function t4(t){let e;if(ve!==void 0)e=ve.from(t,\"utf8\").toString(\"base64\");else if(typeof btoa==\"function\")e=btoa(encodeURIComponent(t).replace(/%([0-9A-F]{2})/gu,((n,r)=>String.fromCharCode(parseInt(r,16)))));else{if(typeof bs!=\"object\"||!(\"Buffer\"in bs))throw new Error(\"Unable to base64 encode: No available method.\");e=bs.Buffer.from(t,\"utf8\").toString(\"base64\")}return e}function zSe(t,e,n,r){var i,s,o,a,c,l,d,h,p,m,b,y,E,v,_,C,S,A,I,O;return we(this,void 0,void 0,(function*(){const D=(i=t.state.remote)===null||i===void 0?void 0:i.isReady(),N=(s=t.state.remote)===null||s===void 0?void 0:s.isConnected(),U=(o=t.state.remote)===null||o===void 0?void 0:o.isPaused(),F=cc.getProvider(),H=(a=t.state.remote)===null||a===void 0?void 0:a.getChannelId(),V=(c=t.state.remote)===null||c===void 0?void 0:c.isAuthorized(),{deeplinkProtocol:M}=t.state,{method:$,data:P,triggeredInstaller:q}=(L=>{var B,j,K,G;let Z;ve.isBuffer(L)?(Z=L.toJSON(),Z._isBuffer=!0):Z=L;const Y=(B=Z==null?void 0:Z.data)===null||B===void 0?void 0:B.method;let X=!1;return typeof((j=Z==null?void 0:Z.data)===null||j===void 0?void 0:j.params)==\"object\"&&((G=(K=Z==null?void 0:Z.data)===null||K===void 0?void 0:K.params)===null||G===void 0?void 0:G.__triggeredInstaller)===!0&&(X=!0,Z.data.params=Z.data.params.wrappedParams),{method:Y,data:Z,triggeredInstaller:X}})(e);if(ge(`[RCPMS: write()] method='${$}' isRemoteReady=${D} channelId=${H} isSocketConnected=${N} isRemotePaused=${U} providerConnected=${F.isConnected()}`,e),!H)return $!==pt.METAMASK_GETPROVIDERSTATE&&ge(`[RCPMS: write()] ${$} --> channelId is undefined`),r(new Error(\"disconnected\"));ge(`[RCPMS: write()] remote.isPaused()=${(l=t.state.remote)===null||l===void 0?void 0:l.isPaused()} authorized=${V} ready=${D} socketConnected=${N}`,e);const T=(d=t.state.platformManager)===null||d===void 0?void 0:d.isSecure(),k=(p=(h=t.state.platformManager)===null||h===void 0?void 0:h.isMobileWeb())!==null&&p!==void 0&&p,z=(b=(m=t.state.remote)===null||m===void 0?void 0:m.hasDeeplinkProtocol())!==null&&b!==void 0&&b&&k&&V;try{if(!q){const j=JSON.stringify(P==null?void 0:P.data);if(j.length>LSe)return r(new Error(`Message size ${j.length} exceeds maximum allowed size of 1000000 bytes`));(y=t.state.remote)===null||y===void 0||y.sendMessage(P==null?void 0:P.data).then((()=>{ge(`[RCPMS: _write()] ${$} sent successfully`)})).catch((K=>{ge(\"[RCPMS: _write()] error sending message\",K)}))}if(!T)return ge(`[RCPMS: _write()] unsecure platform for method ${$} -- return callback`),r();if(q)return ge(\"[RCPMS: _write()] prevent deeplink -- installation completed separately.\"),r();const L=(_=(v=(E=t.state.remote)===null||E===void 0?void 0:E.getKeyInfo())===null||v===void 0?void 0:v.ecies.public)!==null&&_!==void 0?_:\"\";let B=encodeURI(`channelId=${H}&pubkey=${L}&comm=socket&t=d&v=2`);if(z){const j=JSON.stringify(P==null?void 0:P.data),K=(C=t.state.remote)===null||C===void 0?void 0:C.encrypt(j);if(!K)return ge(\"[RCPMS: _write()] error encrypting message\"),r(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"));B+=`&scheme=${M}&rpc=${t4(K)}`}if(!(!((S=t.state.platformManager)===null||S===void 0)&&S.isMetaMaskInstalled()))return ge(\"[RCPMS: _write()] prevent deeplink until installation is completed.\"),r();Zv[$]?(ge(`[RCPMS: _write()] redirect link for '${$}' socketConnected=${N} connect?${B}`),(A=t.state.platformManager)===null||A===void 0||A.openDeeplink(`${Wv}?${B}`,`${Gv}?${B}`,\"_self\")):!((I=t.state.remote)===null||I===void 0)&&I.isPaused()?(ge(`[RCPMS: _write()] MM is PAUSED! deeplink with connect! targetMethod=${$}`),(O=t.state.platformManager)===null||O===void 0||O.openDeeplink(`${Wv}?redirect=true&${B}`,`${Gv}?redirect=true&${B}`,\"_self\")):ge(`[RCPMS: _write()] method ${$} doesn't need redirect.`)}catch(L){return ge(\"[RCPMS: _write()] error sending message\",L),r(new Error(\"RemoteCommunicationPostMessageStream - disconnected\"))}return r()}))}class FSe extends Nm.Duplex{constructor({name:e,remote:n,deeplinkProtocol:r,platformManager:i}){super({objectMode:!0}),this.state={_name:null,remote:null,deeplinkProtocol:!1,platformManager:null},this.state._name=e,this.state.remote=n,this.state.deeplinkProtocol=r,this.state.platformManager=i,this._onMessage=this._onMessage.bind(this),this.state.remote.on(Ie.MESSAGE,this._onMessage)}_write(e,n,r){return we(this,void 0,void 0,(function*(){return zSe(this,e,0,r)}))}_read(){}_onMessage(e){return(function(n,r){try{if(ge(\"[RCPMS: onMessage()] message\",r),!r||typeof r!=\"object\"||typeof(r==null?void 0:r.data)!=\"object\")return;if(!(r!=null&&r.name))return void ge(\"[RCPMS: onMessage()] ignore message without name\",r);if((r==null?void 0:r.name)!==Kv.PROVIDER)return void ge(`[RCPMS: onMessage()] ignore message with wrong name message=${r}`);if(ve.isBuffer(r)){const i=ve.from(r);n.push(i)}else n.push(r)}catch(i){ge(`[RCPMS: onMessage()] ignore message error err=${i}`)}})(this,e)}start(){}}let Rq=1;const Kie=t=>new Promise((e=>{setTimeout((()=>{e(!0)}),t)})),qSe=({checkInstallationOnAllCalls:t=!1,communicationLayerPreference:e,injectProvider:n,shouldShimWeb3:r,platformManager:i,installer:s,sdk:o,remoteConnection:a,debug:c})=>we(void 0,void 0,void 0,(function*(){var l,d;const h=(({name:U,remoteConnection:F})=>{if(!F||!(F!=null&&F.getConnector()))throw new Error(\"Missing remote connection parameter\");return new FSe({name:U,remote:F==null?void 0:F.getConnector(),deeplinkProtocol:F==null?void 0:F.state.deeplinkProtocol,platformManager:F==null?void 0:F.getPlatformManager()})})({name:Kv.INPAGE,target:Kv.CONTENT_SCRIPT,remoteConnection:a}),p=i.getPlatformType(),m=o.options.dappMetadata,b=`Sdk/Javascript SdkVersion/${Up.version} Platform/${p} dApp/${(l=m.url)!==null&&l!==void 0?l:m.name} dAppTitle/${m.name}`;let y=null,E=null;const v=(d=o.options.storage)===null||d===void 0?void 0:d.storageManager;if(v){try{const U=yield v.getCachedAccounts();U.length>0&&(y=U[0])}catch(U){console.error(`[initializeMobileProvider] failed to get cached addresses: ${U}`)}try{const U=yield v.getCachedChainId();U&&(E=U)}catch(U){console.error(`[initializeMobileProvider] failed to parse cached chainId: ${U}`)}}ge(`[initializeMobileProvider] cachedAccountAddress: ${y}, cachedChainId: ${E}`);const _=!(!n||p===Li.NonBrowser||p===Li.ReactNative),C=cc.init({shouldSetOnWindow:_,connectionStream:h,shouldShimWeb3:r,sdkInstance:o});let S=!1;const A=U=>{S=U},I=()=>S,O=(U,F,H,V)=>we(void 0,void 0,void 0,(function*(){var M,$,P,q,T,k,z,L,B;const j=cc.getProvider();if(S){j.emit(\"display_uri\",(a==null?void 0:a.state.qrcodeLink)||\"\"),a==null||a.showActiveModal();let ue=I();for(;ue;){const ye=I(),xe=a==null?void 0:a.isAuthorized();ue=ye&&!xe,ge(`[initializeMobileProvider: sendRequest()] waiting for initialization to complete - initializing: ${ye} authorized: ${xe}`),yield Kie(1e3)}return ge(\"[initializeMobileProvider: sendRequest()] initial method completed -- prevent installation and call provider\"),H(...F)}const K=i.isMetaMaskInstalled(),G=a==null?void 0:a.isConnected();let Z=null,Y=null,X=null;if(Z=(M=j.getSelectedAddress())!==null&&M!==void 0?M:y,X=j.getChainId()||E,Z&&v&&Z!==y&&v.persistAccounts([Z]).catch((ue=>{console.error(`[initializeMobileProvider] failed to persist account: ${ue}`)})),X&&(E=X,v&&v.persistChainId(X).catch((ue=>{console.error(`[initializeMobileProvider] failed to persist chainId: ${ue}`)}))),ge(\"[initializeMobileProvider: sendRequest()]\",{selectedAddress:Z,chainId:X}),V&&ge(`[initializeMobileProvider: sendRequest()] method=${U} ongoing=${S} selectedAddress=${Z} isInstalled=${K} checkInstallationOnAllCalls=${t} socketConnected=${G}`),Z&&U.toLowerCase()===pt.ETH_ACCOUNTS.toLowerCase())return[Z];if(X&&U.toLowerCase()===pt.ETH_CHAINID.toLowerCase())return X;const Q=[pt.ETH_REQUESTACCOUNTS,pt.WALLET_REQUESTPERMISSIONS,pt.METAMASK_CONNECTSIGN,pt.METAMASK_CONNECTWITH],re=!Zv[U],oe=($=o.options.readonlyRPCMap)===null||$===void 0?void 0:$[X];if(oe&&re)try{const ue=(P=F==null?void 0:F[0])===null||P===void 0?void 0:P.params,ye=yield(({rpcEndpoint:xe,method:Be,sdkInfo:ke,params:Ve})=>we(void 0,void 0,void 0,(function*(){const Xe=JSON.stringify({jsonrpc:\"2.0\",method:Be,params:Ve,id:(Rq+=1,Rq)}),We={Accept:\"application/json\",\"Content-Type\":\"application/json\"};let st;xe.includes(\"infura\")&&(We[\"Metamask-Sdk-Info\"]=ke);try{st=yield sne(xe,{method:\"POST\",headers:We,body:Xe})}catch(xt){throw xt instanceof Error?new Error(`Failed to fetch from RPC: ${xt.message}`):new Error(`Failed to fetch from RPC: ${xt}`)}if(!st.ok)throw new Error(`Server responded with a status of ${st.status}`);return(yield st.json()).result})))({rpcEndpoint:oe,sdkInfo:b,method:U,params:ue||[]});return V&&ge(`initializeProvider::ReadOnlyRPCResponse ${ye}`),ye}catch(ue){console.warn(`[initializeMobileProvider: sendRequest()] method=${U} readOnlyRPCRequest failed:`,ue)}if((!K||K&&!G)&&U!==pt.METAMASK_GETPROVIDERSTATE){const ue=((q=F==null?void 0:F[0])===null||q===void 0?void 0:q.params)||[];if(Q.indexOf(U)!==-1||t){A(!0);const ye=U===pt.METAMASK_CONNECTWITH,xe=`${Date.now()}`;try{yield s.start({wait:!1,connectWith:ye?{method:U,id:xe,params:ue}:void 0}),yield new Promise(((Be,ke)=>{a!=null&&a.isAuthorized()&&(ge(\"[initializeMobileProvider: sendRequest()] already authorized\"),Be(!0)),a==null||a.getConnector().once(Ie.AUTHORIZED,(()=>{Be(!0)})),o.once(Ie.PROVIDER_UPDATE,(Ve=>{ge(`[initializeMobileProvider: sendRequest()] PROVIDER_UPDATE --- remote provider request interupted type=${Ve}`),Ve===lc.EXTENSION?ke(Ie.PROVIDER_UPDATE):ke(new Error(\"Connection Terminated\"))}))}))}catch(Be){if(lc.EXTENSION===Be){if(ge(`[initializeMobileProvider: sendRequest()] extension provider detect: re-create ${U} on the active provider`),U.toLowerCase()===pt.METAMASK_CONNECTSIGN.toLowerCase()){const ke=yield(T=o.getProvider())===null||T===void 0?void 0:T.request({method:pt.ETH_REQUESTACCOUNTS,params:[]});if(!ke.length)throw new Error(\"SDK state invalid -- undefined accounts\");const Ve=yield(k=o.getProvider())===null||k===void 0?void 0:k.request({method:pt.PERSONAL_SIGN,params:[ue[0],ke[0]]});return o.emit(gs.ConnectWithResponse,Ve),Ve}if(U.toLowerCase()===pt.METAMASK_CONNECTWITH.toLowerCase()){const[ke]=ue,Ve=yield(({method:Xe,sdk:We,params:st})=>we(void 0,void 0,void 0,(function*(){var xt,Je,lt,dt;if(!We.isExtensionActive())throw new Error(\"SDK state invalid -- extension is not active\");ge(\"[MetaMaskProvider: extensionConnectWithOverwrite()] Overwriting request method\",Xe,st);const An=yield(xt=We.getProvider())===null||xt===void 0?void 0:xt.request({method:pt.ETH_REQUESTACCOUNTS,params:[]});if(!An.length)throw new Error(\"SDK state invalid -- undefined accounts\");if((Xe==null?void 0:Xe.toLowerCase())===pt.PERSONAL_SIGN.toLowerCase()){const Jn={method:Xe,params:[st[0],An[0]]};return yield(Je=We.getProvider())===null||Je===void 0?void 0:Je.request(Jn)}if((Xe==null?void 0:Xe.toLowerCase())===pt.ETH_SENDTRANSACTION.toLowerCase()){const Jn={method:Xe,params:[Object.assign(Object.assign({},st[0]),{from:An[0]})]};return yield(lt=We.getProvider())===null||lt===void 0?void 0:lt.request(Jn)}return Vie.includes(Xe.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${Xe} -- not handled by the extension -- call separately`),An):yield(dt=We.getProvider())===null||dt===void 0?void 0:dt.request({method:Xe,params:st})})))({method:ke.method,sdk:o,params:ke.params});return o.emit(gs.ConnectWithResponse,Ve),Ve}return ge(`[initializeMobileProvider: sendRequest()] sending '${U}' on active provider`,ue),yield(z=o.getProvider())===null||z===void 0?void 0:z.request({method:U,params:ue})}throw Be===Ie.REJECTED?(a==null||a.closeModal(),(L=o.getProvider())===null||L===void 0||L.handleDisconnect({terminate:!1}),Object.assign(new Error(\"User rejected connection\"),{code:4001})):(ge(`[initializeMobileProvider: sendRequest()] failed to start installer: ${Be}`),Be)}finally{A(!1)}if(U===pt.ETH_REQUESTACCOUNTS)return Y=yield new Promise((Be=>{const ke=setInterval((()=>{const{accounts:Ve}=j.getState();Ve&&(clearInterval(ke),Be(Ve))}),100)})),ge(`[initializeMobileProvider: sendRequest()] selectedAddress: ${Z} --- SKIP rpc call`),Y;if(U===pt.METAMASK_CONNECTWITH)try{let Be=0;const ke=5,Ve=({resolve:xt,reject:Je})=>{Be+=1;const lt=a==null?void 0:a.getConnector().getRPCMethodTracker(),dt=lt==null?void 0:lt[xe];return ge(`TRACKER: update method ${xe}`,dt),dt!=null&&dt.result?(ge(\"[initializeMobileProvider: sendRequest()] found result\",dt.result),o.emit(gs.ConnectWithResponse,dt.result),void xt(dt.result)):dt!=null&&dt.error?(ge(\"[initializeMobileProvider: sendRequest()] found error\",dt.error),void Je(dt.error)):Be>=ke?(ge(\"[initializeMobileProvider: sendRequest()] max message count reached without result\"),void Je(new Error(\"Max message count reached without result\"))):void ge(\"[initializeMobileProvider: sendRequest()] not found yet, need to wait for next update\")};let Xe,We;const st=yield new Promise(((xt,Je)=>{const lt=a==null?void 0:a.getConnector().getRPCMethodTracker();ge(`TRACKER: method ${xe}`,lt),lt!=null&&lt[xe].result?(ge(\"[initializeMobileProvider: sendRequest()] found result\",lt==null?void 0:lt[xe].result),xt(lt==null?void 0:lt[xe].result)):lt!=null&&lt[xe].error&&(ge(\"[initializeMobileProvider: sendRequest()] found error\",lt==null?void 0:lt[xe].error),Je(lt==null?void 0:lt[xe].error)),We=()=>Ve({resolve:xt,reject:Je}),Xe=a==null?void 0:a.getConnector().on(Ie.RPC_UPDATE,We)}));return We&&(Xe==null||Xe.off(Ie.RPC_UPDATE,We)),ge(\"TRACKER: result\",st),st}catch(Be){throw ge(\"[initializeMobileProvider: sendRequest()] error:\",Be),Be}return F[0]&&typeof F[0]==\"object\"&&(F[0].params={__triggeredInstaller:!0,wrappedParams:F[0].params}),H(...F)}if(i.isSecure()&&Zv[U])return H(...F);if(o.isExtensionActive())return ge(`[initializeMobileProvider: sendRequest()] EXTENSION active - redirect request '${U}' to it`,F,ue),yield(B=o.getProvider())===null||B===void 0?void 0:B.request({method:U,params:ue});throw ge(`[initializeMobileProvider: sendRequest()] method=${U} --- skip --- not connected/installed`),new Error(\"MetaMask is not connected/installed, please call eth_requestAccounts to connect first.\")}try{const ue=yield H(...F);if(ge(`[initializeMobileProvider: sendRequest()] method=${U} rpcResponse`,ue),U===pt.WALLET_REQUESTPERMISSIONS){const ye=ue.reduce(((xe,Be)=>{var ke;if(Be.parentCapability===\"eth_accounts\"){const Ve=(ke=Be.caveats.find((Xe=>Xe.type===\"restrictReturnedAccounts\")))===null||ke===void 0?void 0:ke.value;Ve&&xe.push(...Ve)}return xe}),[]);ge(\"[initializeMobileProvider: sendRequest()] accountsToPersist:\",ye),ye.length>0&&(j.handleAccountsChanged(ye,!1),v==null||v.persistAccounts(ye))}return ue}catch(ue){throw console.error(\"[initializeMobileProvider: sendRequest()] error:\",ue),ue}})),{request:D}=C;C.request=(...U)=>we(void 0,void 0,void 0,(function*(){return O(U==null?void 0:U[0].method,U,D,c)}));const{send:N}=C;return C.send=(...U)=>we(void 0,void 0,void 0,(function*(){return O(U==null?void 0:U[0],U,N,c)})),ge(\"[initializeMobileProvider: sendRequest()] metamaskStream.start()\"),h.start(),C}));function HSe(t){var e,n,r,i;return we(this,void 0,void 0,(function*(){const{options:s}=t,o={communicationLayerPreference:(e=s.communicationLayerPreference)!==null&&e!==void 0?e:rh.SOCKET,platformManager:t.platformManager,sdk:t,checkInstallationOnAllCalls:s.checkInstallationOnAllCalls,injectProvider:(n=s.injectProvider)===null||n===void 0||n,shouldShimWeb3:(r=s.shouldShimWeb3)===null||r===void 0||r,extensionOnly:(i=s.extensionOnly)===null||i===void 0||i,installer:t.installer,remoteConnection:t.remoteConnection,debug:t.debug},a=yield qSe(o);t.activeProvider=a,(function(c){var l,d,h,p;(d=(l=c.remoteConnection)===null||l===void 0?void 0:l.getConnector())===null||d===void 0||d.on(gs.ConnectionStatus,(m=>{c.emit(gs.ConnectionStatus,m)})),(p=(h=c.remoteConnection)===null||h===void 0?void 0:h.getConnector())===null||p===void 0||p.on(gs.ServiceStatus,(m=>{c.emit(gs.ServiceStatus,m)}))})(t)}))}const VSe=\"sdk\";class KSe{constructor({serverUrl:e,enabled:n,originatorInfo:r}){this.serverURL=np,this.serverURL=e,this.originatorInfo=r,this.enabled=n==null||n}send({event:e,params:n}){if(!this.enabled)return;const r=Object.assign(Object.assign({id:VSe,event:e,sdkVersion:Up.version},this.originatorInfo),{params:n});ge(`[Analytics: send()] event: ${e}`,r),sd(r,this.serverURL).catch((i=>{ge(`[Analytics: send()] error: ${i}`)}))}}const WSe=()=>{if(typeof document>\"u\")return;let t;const e=document.getElementsByTagName(\"link\");for(let n=0;n<e.length;n++)e[n].getAttribute(\"rel\")!==\"icon\"&&e[n].getAttribute(\"rel\")!==\"shortcut icon\"||(t=e[n].getAttribute(\"href\"));return t},GSe=163400;function kq(t){var e,n,r;const{dappMetadata:i}=t,s=(function({url:d,name:h}){var p;const m=d+h,b=t4(m);if(!localStorage)return\"\";let y=(p=localStorage.getItem(b))!==null&&p!==void 0?p:\"\";if(!y){y=Cf();try{localStorage.setItem(b,y)}catch{return\"\"}}return y})({url:(e=i==null?void 0:i.url)!==null&&e!==void 0?e:\"no_url\",name:(n=i==null?void 0:i.name)!==null&&n!==void 0?n:\"no_name\"}),o=(r=t.platformManager)===null||r===void 0?void 0:r.getPlatformType(),a=o===Li.DesktopWeb,c=o===Li.MetaMaskMobileWebview;let l=\"N/A\";return a?l=\"extension\":c&&(l=\"mobile\"),{id:s,from:l}}const B3=(t,e,n)=>{if(t5(t))if(n||e&&typeof e==\"object\"&&e!==null&&\"error\"in e){const r=n||(e==null?void 0:e.error);r&&r.code===4001?gr.analytics.track(\"sdk_action_rejected\",{action:t}):gr.analytics.track(\"sdk_action_failed\",{action:t})}else gr.analytics.track(\"sdk_action_succeeded\",{action:t})},Wie=({provider:t,sdkInstance:e})=>{if(\"state\"in t)throw new Error(\"INVALID EXTENSION PROVIDER\");return new Proxy(t,{get:(n,r)=>r===\"request\"?function(i){var s,o;return we(this,void 0,void 0,(function*(){ge(\"[wrapExtensionProvider()] Overwriting request method\",i);const{method:a,params:c}=i,l=BSe.includes(a.toLowerCase()),{id:d,from:h}=kq(e);if(l&&((s=e.analytics)===null||s===void 0||s.send({event:Cr.SDK_RPC_REQUEST,params:{method:a,from:h,id:d}})),t5(a)&&gr.analytics.track(\"sdk_action_requested\",{action:a}),a===pt.METAMASK_BATCH&&Array.isArray(c))return(({target:b,args:y,trackEvent:E,sdkInstance:v})=>we(void 0,void 0,void 0,(function*(){var _,C;if(y.method!==\"metamask_batch\")throw new Error(\"Invalid usage\");const S=[],A=(_=y==null?void 0:y.params)!==null&&_!==void 0?_:[];for(const D of A){const N=yield b==null?void 0:b.request({method:D.method,params:D.params});S.push(N)}const{id:I,from:O}=kq(v);E&&((C=v.analytics)===null||C===void 0||C.send({event:Cr.SDK_RPC_REQUEST_DONE,params:{method:y.method,from:O,id:I}}));for(const D of S)B3(y.method,D,null);return S})))({target:n,args:i,trackEvent:l,sdkInstance:e});if(a.toLowerCase()===pt.METAMASK_CONNECTSIGN.toLowerCase()&&Array.isArray(c))return(({target:b,params:y})=>we(void 0,void 0,void 0,(function*(){let E,v=null;try{const _=yield b.request({method:pt.ETH_REQUESTACCOUNTS,params:[]});if(!_.length)throw new Error(\"SDK state invalid -- undefined accounts\");return E=yield b.request({method:pt.PERSONAL_SIGN,params:[y[0],_[0]]}),E}catch(_){throw v=_,_}finally{B3(pt.PERSONAL_SIGN,E,v)}})))({target:n,params:c});if(a.toLowerCase()===pt.METAMASK_CONNECTWITH.toLowerCase()&&Array.isArray(c))return(({target:b,params:y})=>we(void 0,void 0,void 0,(function*(){const[E]=y,v=E.method,_=E.params;let C,S=null;try{const A=yield b.request({method:pt.ETH_REQUESTACCOUNTS,params:[]});if(!Array.isArray(A)||!A.length)throw new Error(\"SDK state invalid -- undefined accounts\");return(v==null?void 0:v.toLowerCase())===pt.PERSONAL_SIGN.toLowerCase()?(C=yield b.request({method:v,params:[_[0],A[0]]}),C):(v==null?void 0:v.toLowerCase())===pt.ETH_SENDTRANSACTION.toLowerCase()?(C=yield b.request({method:v,params:[Object.assign(Object.assign({},_[0]),{from:A[0]})]}),C):Vie.includes(v.toLowerCase())?(console.warn(`MetaMaskSDK connectWith method=${v} -- not handled by the extension -- call separately`),C=A,C):(C=yield b.request({method:v,params:_}),C)}catch(A){throw S=A,A}finally{B3(v,C,S)}})))({target:n,params:c});let p,m=null;try{return p=yield n.request(i),p}catch(b){throw m=b,b}finally{l&&((o=e.analytics)===null||o===void 0||o.send({event:Cr.SDK_RPC_REQUEST_DONE,params:{method:a,from:h,id:d}})),B3(a,p,m)}}))}:r===\"getChainId\"?function(){return t.chainId}:r===\"getNetworkVersion\"?function(){return t.networkVersion}:r===\"getSelectedAddress\"?function(){return t.selectedAddress}:r===\"isConnected\"?function(){return t._state.isConnected}:n[r]})};var n4;function ZSe({mustBeMetaMask:t,sdkInstance:e}){return we(this,void 0,void 0,(function*(){if(typeof window>\"u\")throw new Error(\"window not available\");try{const n=yield new Promise(((r,i)=>{const s=setTimeout((()=>{i(new Error(\"eip6963RequestProvider timed out\"))}),500);window.addEventListener(n4.Announce,(o=>{const a=o,{detail:{info:c,provider:l}={}}=a,{name:d,rdns:h,uuid:p}=c??{};DSe.test(p)&&d.startsWith(Oq.NAME)&&Oq.RDNS.includes(h)&&(clearTimeout(s),r(l))})),window.dispatchEvent(new Event(n4.Request))}));return Wie({provider:n,sdkInstance:e})}catch{throw new Error(\"Provider not found\")}}))}(function(t){t.Announce=\"eip6963:announceProvider\",t.Request=\"eip6963:requestProvider\"})(n4||(n4={}));const YSe=t=>we(void 0,void 0,void 0,(function*(){const{options:e}=t,{infuraAPIKey:n}=e;if(!n)return;const r={\"0x1\":`https://mainnet.infura.io/v3/${n}`,\"0x5\":`https://goerli.infura.io/v3/${n}`,\"0xaa36a7\":`https://sepolia.infura.io/v3/${n}`,\"0xe708\":`https://linea-mainnet.infura.io/v3/${n}`,\"0xe704\":`https://linea-goerli.infura.io/v3/${n}`,\"0x89\":`https://polygon-mainnet.infura.io/v3/${n}`,\"0x13881\":`https://polygon-mumbai.infura.io/v3/${n}`,\"0x45\":`https://optimism-mainnet.infura.io/v3/${n}`,\"0x1a4\":`https://optimism-goerli.infura.io/v3/${n}`,\"0xa4b1\":`https://arbitrum-mainnet.infura.io/v3/${n}`,\"0x66eed\":`https://arbitrum-goerli.infura.io/v3/${n}`,\"0x2a15c308d\":`https://palm-mainnet.infura.io/v3/${n}`,\"0x2a15c3083\":`https://palm-testnet.infura.io/v3/${n}`,\"0xa86a\":`https://avalanche-mainnet.infura.io/v3/${n}`,\"0xa869\":`https://avalanche-fuji.infura.io/v3/${n}`,\"0x4e454152\":`https://aurora-mainnet.infura.io/v3/${n}`,\"0x4e454153\":`https://aurora-testnet.infura.io/v3/${n}`,\"0x534e5f4d41494e\":`https://starknet-mainnet.infura.io/v3/${n}`,\"0x534e5f474f45524c49\":`https://starknet-goerli.infura.io/v3/${n}`,\"0x534e5f474f45524c4932\":`https://starknet-goerli2.infura.io/v3/${n}`,\"0xa4ec\":`https://celo-mainnet.infura.io/v3/${n}`,\"0xaef3\":`https://celo-alfajores.infura.io/v3/${n}`};t.options.readonlyRPCMap?t.options.readonlyRPCMap=Object.assign(Object.assign({},t.options.readonlyRPCMap),r):t.options.readonlyRPCMap=r})),JSe=t=>we(void 0,void 0,void 0,(function*(){const{options:e}=t,{readonlyRPCMap:n}=e;if(n)try{ge(\"[MetaMaskSDK: setupReadOnlyRPCProviders()] Setting up Readonly RPC Providers\",n),t.setReadOnlyRPCCalls(!0)}catch{throw new Error(\"Invalid Infura Settings\")}}));function XSe(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(l){try{c(r.next(l))}catch(d){s(d)}}function a(l){try{c(r.throw(l))}catch(d){s(d)}}function c(l){var d;l.done?i(l.value):(d=l.value,d instanceof n?d:new n((function(h){h(d)}))).then(o,a)}c((r=r.apply(t,[])).next())}))}function QSe(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==\"function\"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(l){return(function(d){if(n)throw new TypeError(\"Generator is already executing.\");for(;o;)try{if(n=1,r&&(i=2&d[0]?r.return:d[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,d[1])).done)return i;switch(r=0,i&&(d=[2&d[0],i.value]),d[0]){case 0:case 1:i=d;break;case 4:return o.label++,{value:d[1],done:!1};case 5:o.label++,r=d[1],d=[0];continue;case 7:d=o.ops.pop(),o.trys.pop();continue;default:if(i=o.trys,!((i=i.length>0&&i[i.length-1])||d[0]!==6&&d[0]!==2)){o=0;continue}if(d[0]===3&&(!i||d[1]>i[0]&&d[1]<i[3])){o.label=d[1];break}if(d[0]===6&&o.label<i[1]){o.label=i[1],i=d;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(d);break}i[2]&&o.ops.pop(),o.trys.pop();continue}d=e.call(t,o)}catch(h){d=[6,h],r=0}finally{n=i=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}})([c,l])}}}var Mq=\"INSTALLED\",Dq=\"NOT_INSTALLED\",Bq=\"REGISTERED\",Lq=\"REGISTERING\",Uq=\"RELOADING\",jq={CHROME:\"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn\",FIREFOX:\"https://addons.mozilla.org/firefox/addon/ether-metamask/\",DEFAULT:\"https://metamask.io\"},L3=\"REGISTRATION_IN_PROGRESS\",zq=\"FORWARDER_ID\",exe=(function(){function t(e){var n=e===void 0?{}:e,r=n.forwarderOrigin,i=r===void 0?\"https://fwd.metamask.io\":r,s=n.forwarderMode,o=s===void 0?t.FORWARDER_MODE.INJECT:s;this.forwarderOrigin=i,this.forwarderMode=o,this.state=t.isMetaMaskInstalled()?Mq:Dq;var a=t._detectBrowser();this.downloadUrl=a?jq[a]:jq.DEFAULT,this._onMessage=this._onMessage.bind(this),this._onMessageFromForwarder=this._onMessageFromForwarder.bind(this),this._openForwarder=this._openForwarder.bind(this),this._openDownloadPage=this._openDownloadPage.bind(this),this.startOnboarding=this.startOnboarding.bind(this),this.stopOnboarding=this.stopOnboarding.bind(this),window.addEventListener(\"message\",this._onMessage),o===t.FORWARDER_MODE.INJECT&&sessionStorage.getItem(L3)===\"true\"&&t._injectForwarder(this.forwarderOrigin)}return t.prototype._onMessage=function(e){if(e.origin===this.forwarderOrigin)return e.data.type===\"metamask:reload\"?this._onMessageFromForwarder(e):void console.debug(\"Unknown message from '\"+e.origin+\"' with data \"+JSON.stringify(e.data))},t.prototype._onMessageUnknownStateError=function(e){throw new Error(\"Unknown state: '\"+e+\"'\")},t.prototype._onMessageFromForwarder=function(e){return XSe(this,0,void 0,(function(){return QSe(this,(function(n){switch(n.label){case 0:switch(this.state){case Uq:return[3,1];case Dq:return[3,2];case Mq:return[3,3];case Lq:return[3,5];case Bq:return[3,6]}return[3,7];case 1:return console.debug(\"Ignoring message while reloading\"),[3,8];case 2:return console.debug(\"Reloading now to register with MetaMask\"),this.state=Uq,location.reload(),[3,8];case 3:return console.debug(\"Registering with MetaMask\"),this.state=Lq,[4,t._register()];case 4:return n.sent(),this.state=Bq,e.source.postMessage({type:\"metamask:registrationCompleted\"},e.origin),this.stopOnboarding(),[3,8];case 5:return console.debug(\"Already registering - ignoring reload message\"),[3,8];case 6:return console.debug(\"Already registered - ignoring reload message\"),[3,8];case 7:this._onMessageUnknownStateError(this.state),n.label=8;case 8:return[2]}}))}))},t.prototype.startOnboarding=function(){sessionStorage.setItem(L3,\"true\"),this._openDownloadPage(),this._openForwarder()},t.prototype.stopOnboarding=function(){sessionStorage.getItem(L3)===\"true\"&&(this.forwarderMode===t.FORWARDER_MODE.INJECT&&(console.debug(\"Removing forwarder\"),t._removeForwarder()),sessionStorage.setItem(L3,\"false\"))},t.prototype._openForwarder=function(){this.forwarderMode===t.FORWARDER_MODE.OPEN_TAB?window.open(this.forwarderOrigin,\"_blank\"):t._injectForwarder(this.forwarderOrigin)},t.prototype._openDownloadPage=function(){window.open(this.downloadUrl,\"_blank\")},t.isMetaMaskInstalled=function(){return!!(window.ethereum&&window.ethereum.isMetaMask)},t._register=function(){return window.ethereum.request({method:\"wallet_registerOnboarding\"})},t._injectForwarder=function(e){var n=document.body,r=document.createElement(\"iframe\");r.setAttribute(\"height\",\"0\"),r.setAttribute(\"width\",\"0\"),r.setAttribute(\"style\",\"display: none;\"),r.setAttribute(\"src\",e),r.setAttribute(\"id\",zq),n.insertBefore(r,n.children[0])},t._removeForwarder=function(){var e;(e=document.getElementById(zq))===null||e===void 0||e.remove()},t._detectBrowser=function(){var e=Fie.parse(window.navigator.userAgent);return e.browser.name===\"Firefox\"?\"FIREFOX\":[\"Chrome\",\"Chromium\"].includes(e.browser.name||\"\")?\"CHROME\":null},t.FORWARDER_MODE={INJECT:\"INJECT\",OPEN_TAB:\"OPEN_TAB\"},t})();function txe(t,{wait:e=!1}){return we(this,void 0,void 0,(function*(){return ge(`[MetamaskInstaller: startInstaller()] wait=${e}`),e&&(yield Kie(1e3)),yield t.checkInstallation()}))}class nxe{constructor({remote:e,preferDesktop:n,platformManager:r,debug:i=!1}){this.state={isInstalling:!1,hasInstalled:!1,resendRequest:null,preferDesktop:!1,platformManager:null,remote:null,debug:!1,connectWith:void 0},this.state.remote=e,this.state.preferDesktop=n,this.state.platformManager=r,this.state.debug=i}startDesktopOnboarding(){return(function(){return we(this,void 0,void 0,(function*(){ge(\"[MetamaskInstaller: startDesktopOnboarding() starting desktop onboarding\"),window.ethereum&&(window.ethereum=void 0),new exe().startOnboarding()}))})()}redirectToProperInstall(){return we(this,void 0,void 0,(function*(){return(function(e){var n,r;return we(this,void 0,void 0,(function*(){const{state:i}=e,s=(n=i.platformManager)===null||n===void 0?void 0:n.getPlatformType();if(ge(`[MetamaskInstaller: redirectToProperInstall()] platform=${s}`),s===Li.MetaMaskMobileWebview)return!1;i.isInstalling=!0;try{yield(r=i.remote)===null||r===void 0?void 0:r.startConnection({connectWith:i.connectWith}),i.isInstalling=!1,i.hasInstalled=!0}catch(o){throw i.isInstalling=!1,o}return!0}))})(this)}))}checkInstallation(){return we(this,void 0,void 0,(function*(){return(function(e){var n;return we(this,void 0,void 0,(function*(){const{state:r}=e,i=(n=r.platformManager)===null||n===void 0?void 0:n.isMetaMaskInstalled();return ge(`[MetamaskInstaller: checkInstallation()] isInstalled=${i}`),!!i||(yield e.redirectToProperInstall())}))})(this)}))}start({wait:e=!1,connectWith:n}){return we(this,void 0,void 0,(function*(){this.state.connectWith=n,ge(`[MetaMaskInstaller: start()] wait=${e}`,n),yield txe(this,{wait:e})}))}}class Gie{constructor({debug:e,sdkVersion:n}){this.containers={install:void 0,pending:void 0,select:void 0},this.defined={install:!1,pending:!1,select:!1},this.debug=e!=null&&e,this.sdkVersion=n}loadComponent(e){return we(this,void 0,void 0,(function*(){if(!this.defined[e]){this.defined[e]=!0;try{const n=yield Promise.resolve().then((function(){return Mxe}));console.log(\"loader\",n),n.defineCustomElements()}catch(n){console.error(`Failed to load ${e} modal:`,n)}}}))}renderInstallModal(e){var n;return we(this,void 0,void 0,(function*(){this.debug&&console.debug(\"ModalLoader: renderInstallModal\",e),this.containers.install=e.parentElement,yield this.loadComponent(\"install\");const r=document.createElement(\"mm-install-modal\");r.link=e.link,r.preferDesktop=e.preferDesktop,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.addEventListener(\"close\",(({detail:{shouldTerminate:i}})=>e.onClose(i))),r.addEventListener(\"startDesktopOnboarding\",e.metaMaskInstaller.startDesktopOnboarding),r.addEventListener(\"trackAnalytics\",(i=>{var s;return(s=e.onAnalyticsEvent)===null||s===void 0?void 0:s.call(e,i.detail)})),e.parentElement.appendChild(r)}))}renderSelectModal(e){var n;return we(this,void 0,void 0,(function*(){this.containers.select=e.parentElement,yield this.loadComponent(\"select\");const r=document.createElement(\"mm-select-modal\");r.link=e.link,r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.preferDesktop=e.preferDesktop,r.addEventListener(\"close\",(({detail:{shouldTerminate:i}})=>e.onClose(i))),r.addEventListener(\"connectWithExtension\",e.connectWithExtension),e.parentElement.appendChild(r),setTimeout((()=>this.updateQRCode(e.link)),100)}))}renderPendingModal(e){var n;return we(this,void 0,void 0,(function*(){this.containers.pending=e.parentElement,yield this.loadComponent(\"pending\");const r=document.createElement(\"mm-pending-modal\");r.sdkVersion=(n=e.sdkVersion)!==null&&n!==void 0?n:this.sdkVersion,r.displayOTP=e.displayOTP,r.addEventListener(\"close\",e.onClose),r.addEventListener(\"updateOTPValue\",(({detail:{otpValue:i}})=>e.updateOTPValue(i))),e.onDisconnect&&r.addEventListener(\"disconnect\",e.onDisconnect),e.parentElement.appendChild(r)}))}updateOTPValue(e){const n=()=>{var r;const i=(r=this.containers.pending)===null||r===void 0?void 0:r.querySelector(\"mm-pending-modal\");return!!i&&(i.otpCode=e,!0)};setTimeout((()=>{n()}),800)}updateQRCode(e){var n,r;const i=(n=this.containers.install)===null||n===void 0?void 0:n.querySelector(\"mm-install-modal\");if(i)i.link=e;else{const s=(r=this.containers.select)===null||r===void 0?void 0:r.querySelector(\"mm-select-modal\");s&&(s.link=e)}}unmount(){Object.entries(this.containers).forEach((([e,n])=>{var r;(r=n==null?void 0:n.parentNode)===null||r===void 0||r.removeChild(n),this.containers[e]=void 0}))}}const rxe=({link:t,debug:e,installer:n,terminate:r,connectWithExtension:i,preferDesktop:s,onAnalyticsEvent:o})=>{let a=null,c=null;ge(\"[UI: InstallModal-web: sdkWebInstallModal()] ################## Installing Modal #################\"),ge(`[UI: InstallModal-web: sdkWebInstallModal()] link=${t}`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open \"${t}\" --ios`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] npx uri-scheme open \"${t}\" --android`),ge(`[UI: InstallModal-web: sdkWebInstallModal()] adb shell am start -a android.intent.action.VIEW -d \"${t}\"`);const l=d=>{var h;ge(\"[UI: InstallModal-web: sdkWebInstallModal()] installModal-web unmounting install modal -- shouldTerminate:\",d,c),c!=null&&c.parentNode&&((h=c.parentNode)===null||h===void 0||h.removeChild(c)),c=null,a=null,d===!0&&(r==null||r())};return{mount:d=>{if(ge(\"[UI: InstallModal-web: sdkWebInstallModal()] installModal-web mounting install modal\",c),c)return c.style.display=\"block\",void(a==null||a.updateQRCode(d));a=new Gie({debug:e,sdkVersion:Up.version}),c=document.createElement(\"div\"),document.body.appendChild(c),window.extension?a.renderSelectModal({parentElement:c,connectWithExtension:()=>{l(),i==null||i()},onClose:l,link:t,preferDesktop:s!=null&&s}).catch((h=>{console.error(h)})):a.renderInstallModal({parentElement:c,preferDesktop:s!=null&&s,link:t,metaMaskInstaller:n,onClose:l,onAnalyticsEvent:o}).catch((h=>{console.error(\"[UI: InstallModal-web: sdkWebInstallModal()]\",h)}))},unmount:l}},ixe=({onDisconnect:t,debug:e})=>{let n=null,r=null;const i=()=>{ge(\"[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web unmount\",n),n!=null&&n.parentNode&&n.parentNode.removeChild(n),n=null,r=null},s=a=>{ge(\"[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web updateOTPValue\",a),r&&r.updateOTPValue(a)},o=({displayOTP:a}={displayOTP:!0})=>{ge(\"[UI: pendingModal-web: sdkWebPendingModal()] pendingModal-web mount\",n),n?n.style.display=\"block\":(r=new Gie({debug:e,sdkVersion:Up.version}),n=document.createElement(\"div\"),document.body.appendChild(n),r.renderPendingModal({parentElement:n,onClose:i,onDisconnect:t,updateOTPValue:s,displayOTP:a}).catch((c=>{console.error(\"[UI: pendingModal-web: sdkWebPendingModal()]\",c)})))};return o(),{mount:o,unmount:i,updateOTPValue:s}};function Zie(t,e){var n,r,i,s;t.connector||(ge(\"[RemoteConnection: initializeConnector()] initialize connector\"),t.connector=new aCe({anonId:e.anonId,platformType:e.platformManager.getPlatformType(),communicationLayerPreference:e.communicationLayerPreference,transports:e.transports,dappMetadata:Object.assign(Object.assign({},e.dappMetadata),{source:e._source}),analytics:e.enableAnalytics,communicationServerUrl:e.communicationServerUrl,sdkVersion:Up.version,context:\"dapp\",ecies:e.ecies,storage:e.storage,logging:e.logging}),e.timer&&(ge(\"[RemoteConnection: initializeConnector()] reset background timer\",e.timer),(r=(n=e.timer)===null||n===void 0?void 0:n.stopBackgroundTimer)===null||r===void 0||r.call(n),(s=(i=e.timer)===null||i===void 0?void 0:i.runBackgroundTimer)===null||s===void 0||s.call(i,(()=>!1),1e4)))}function JT(t){t.listeners.forEach((({event:e,handler:n})=>{var r;(r=t.connector)===null||r===void 0||r.off(e,n)})),t.listeners=[]}function sxe(t,e,n){return we(this,void 0,void 0,(function*(){const r=setTimeout((()=>{gr.analytics.track(\"sdk_connection_failed\",{transport_type:\"websocket\"})}),6e4);return new Promise(((i,s)=>{if(!t.connector)return void s(new Error(\"No connector available\"));ge(\"[RemoteConnection: connectWithModalInstaller()]\",{state:t,options:e,linkParams:n});const o=`${t.useDeeplink?Gv:Wv}?${n}`;(function(a,c,l){var d,h,p,m;a.installModal=(h=(d=c.modals).install)===null||h===void 0?void 0:h.call(d,{link:l,preferDesktop:a.preferDesktop,installer:c.getMetaMaskInstaller(),terminate:()=>{ge(\"[RemoteConnection: showInstallModal() => terminate()] terminate connection\"),c.sdk.terminate().catch((b=>{console.warn(\"[MMSDK] failed to terminate connection\",b)}))},debug:a.developerMode,connectWithExtension:()=>{var b;return(b=c.connectWithExtensionProvider)===null||b===void 0||b.call(c),!1},onAnalyticsEvent:({event:b,params:y})=>{var E,v,_;const C=Object.assign(Object.assign({},y),{sdkVersion:c.sdk.getVersion(),dappId:(E=c.dappMetadata)===null||E===void 0?void 0:E.name,source:c._source,url:(v=c.dappMetadata)===null||v===void 0?void 0:v.url});(_=a.analytics)===null||_===void 0||_.send({event:b,params:C})}}),(m=(p=a.installModal)===null||p===void 0?void 0:p.mount)===null||m===void 0||m.call(p,l)})(t,e,o),e.sdk.once(Ie.PROVIDER_UPDATE,(a=>we(this,void 0,void 0,(function*(){if(ge(\"[RemoteConnection: connectWithModalInstaller()] once provider_update -- resolving startConnection promise\"),a===lc.TERMINATE){const c={code:4001,message:\"User rejected the request.\"};return clearTimeout(r),void s(c)}s(a)})))),t.connector.once(Ie.AUTHORIZED,(()=>{clearTimeout(r),i()})),t.connector.once(Ie.REJECTED,(()=>{clearTimeout(r),s(Ie.REJECTED)})),t.connector.once(Ie.CLIENTS_READY,(()=>we(this,void 0,void 0,(function*(){ge(\"[RemoteConnection: connectWithModalInstaller()] once clients_ready -- resolving startConnection promise\"),clearTimeout(r),i()}))))}))}))}function Yie(t,e){function n(r,i){var s;(s=t.connector)===null||s===void 0||s.on(r,i),t.listeners.push({event:r,handler:i})}t.connector&&(JT(t),n(Ie.WALLET_INIT,(({accounts:r,chainId:i})=>we(this,void 0,void 0,(function*(){ge(`[RemoteConnection: setupListeners() => EventType.WALLET_INIT] 'wallet_init' accounts=${r} chainId=${i}`);const s=cc.getProvider();s._setConnected();const o={accounts:r,chainId:i,isUnlocked:!1};s._initializeState(o),s.emit(\"chainChanged\",i),s.emit(\"accountsChanged\",r)})))),n(Ie.AUTHORIZED,(()=>we(this,void 0,void 0,(function*(){var r,i,s,o;try{ge(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' closing modals\",t.pendingModal,t.installModal);const a=cc.getProvider();a._setConnected(),(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(s=t.installModal)===null||s===void 0?void 0:s.unmount)===null||o===void 0||o.call(s,!1),t.otpAnswer=void 0,t.authorized=!0,ge(\"[RemoteConnection: setupListeners() => EventType.AUTHORIZED] 'authorized' provider.state\",a.getState()),yield a.forceInitializeState()}catch{}})))),n(Ie.TERMINATE,(()=>{var r,i,s,o,a;(i=(r=t.pendingModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r),(o=(s=t.installModal)===null||s===void 0?void 0:s.unmount)===null||o===void 0||o.call(s,!0),t.pendingModal=void 0,t.installModal=void 0,t.otpAnswer=void 0,(a=t.connector)===null||a===void 0||a.disconnect({terminate:!0}),t.authorized=!1,cc.getProvider().handleDisconnect({terminate:!0}),JT(t),ge(\"[RemoteConnection: setupListeners()] All listeners cleaned up\")})))}function oxe(t,e,{initialCheck:n,connectWith:r}={}){var i,s,o,a,c,l,d,h,p,m,b,y,E,v,_,C,S,A,I;return we(this,void 0,void 0,(function*(){try{if(Zie(t,e),!t.connector)throw new Error(\"no connector defined\");Yie(t);const O=cc.getProvider();t.authorized=!1,O.emit(\"connecting\");const D=yield(i=t.connector)===null||i===void 0?void 0:i.originatorSessionConnect();ge(`[RemoteConnection: startConnection()] after originatorSessionConnect initialCheck=${n}`,D);let N=(s=D==null?void 0:D.channelId)!==null&&s!==void 0?s:\"\",U=(a=(o=t.connector.getKeyInfo())===null||o===void 0?void 0:o.ecies.public)!==null&&a!==void 0?a:\"\",F=(l=(c=t.connector.getKeyInfo())===null||c===void 0?void 0:c.ecies.private)!==null&&l!==void 0?l:\"\";if(n&&!D)return Promise.resolve();if(!D&&!n){const G=yield t.connector.generateChannelIdConnect();N=(d=G.channelId)!==null&&d!==void 0?d:\"\",U=(h=G.pubKey)!==null&&h!==void 0?h:\"\",F=(p=G.privKey)!==null&&p!==void 0?p:\"\";const Z=Date.now();(m=t.connector.state.storageManager)===null||m===void 0||m.persistChannelConfig({channelId:N,localKey:F,lastActive:Z,validUntil:Z+Pm})}if(n&&(D!=null&&D.channelId))return!((b=t.connector)===null||b===void 0)&&b.isConnected()||(ge(`[RemoteConnection: startConnection()] reconnecting to channel initialCheck=${n}`,D),yield(y=t.connector)===null||y===void 0?void 0:y.connectToChannel({channelId:N})),Promise.resolve();D&&!(!((E=t.connector)===null||E===void 0)&&E.isConnected())&&(ge(\"[RemoteConnection: startConnection()] reconnecting to channel\",D),yield(v=t.connector)===null||v===void 0?void 0:v.connectToChannel({channelId:N}));const H=!((_=t.platformManager)===null||_===void 0)&&_.isSecure()?\"\":\"&t=q\",V=Up.version,{iconUrl:M,name:$,url:P,scheme:q}=e.dappMetadata||{},T=(C=t.platformManager)===null||C===void 0?void 0:C.getPlatformType();let k=\"N/A\";typeof window<\"u\"&&window.location&&window.location.hostname?k=window.location.hostname:$!==void 0?k=$:P!==void 0&&(k=P);const z={url:P??\"\",title:$??\"\",icon:M,scheme:q??\"\",apiVersion:V,dappId:k||P||\"N/A\",anonId:e.anonId,platform:T??\"\",source:(S=e._source)!==null&&S!==void 0?S:\"\"},L=t4(JSON.stringify(z));let B=`channelId=${N}&v=2&comm=${(A=t.communicationLayerPreference)!==null&&A!==void 0?A:\"\"}&pubkey=${U}${H}&originatorInfo=${L}`;if(r){B+=`&rpc=${t4(JSON.stringify(r))}`;const G=t.connector.getRPCMethodTracker();G&&(G[`${r.id}`]=Object.assign(Object.assign({},r),{id:`${r.id}`,timestamp:Date.now()}))}const j=encodeURI(B),K=`${t.useDeeplink?Gv:Wv}?${B}`;if(t.qrcodeLink=K,t.developerMode&&ge(`[RemoteConnection: startConnection()] qrcodeLink=${j}`),O.emit(\"display_uri\",K),gr.analytics.track(\"sdk_connection_initiated\",{transport_type:\"websocket\"}),(I=t.platformManager)===null||I===void 0?void 0:I.isSecure()){const G=setTimeout((()=>{gr.analytics.track(\"sdk_connection_failed\",{transport_type:\"websocket\"})}),6e4);return yield(function(Z,Y){var X,Q;return we(this,void 0,void 0,(function*(){const re=`${Wv}?${Y}`,oe=`${Gv}?${Y}`;(Q=(X=Z.platformManager)===null||X===void 0?void 0:X.openDeeplink)===null||Q===void 0||Q.call(X,re,oe,\"_self\")}))})(t,j),new Promise(((Z,Y)=>{var X,Q,re;if(!((X=t.connector)===null||X===void 0)&&X.isAuthorized())return clearTimeout(G),void Z();(Q=t.connector)===null||Q===void 0||Q.once(Ie.AUTHORIZED,(()=>{clearTimeout(G),Z()})),(re=t.connector)===null||re===void 0||re.once(Ie.REJECTED,(()=>{clearTimeout(G),Y(Ie.REJECTED)}))}))}return sxe(t,e,j)}catch(O){throw console.error(\"[startConnection] error\",O),O}}))}class axe{constructor(e){var n,r,i;this.state={connector:void 0,qrcodeLink:void 0,analytics:void 0,developerMode:!1,authorized:!1,reconnection:!1,preferDesktop:!1,deeplinkProtocol:!1,listeners:[],communicationLayerPreference:void 0,platformManager:void 0,pendingModal:void 0,installModal:void 0,otpAnswer:void 0},this.options=e;const s=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0||((r=e.logging)===null||r===void 0?void 0:r.sdk)===!0;this.state.developerMode=s,this.state.analytics=e.analytics,this.state.preferDesktop=(i=e.preferDesktop)!==null&&i!==void 0&&i,this.state.useDeeplink=e.sdk.options.useDeeplink,this.state.communicationLayerPreference=e.communicationLayerPreference,this.state.platformManager=e.platformManager,e.modals.install||(e.modals.install=rxe),e.modals.otp||(e.modals.otp=ixe)}startConnection(e){return we(this,void 0,void 0,(function*(){return oxe(this.state,this.options,e)}))}initRemoteCommunication({sdkInstance:e}){var n,r,i;return we(this,void 0,void 0,(function*(){const s=yield(r=(n=e.options.storage)===null||n===void 0?void 0:n.storageManager)===null||r===void 0?void 0:r.getPersistedChannelConfig();if(!this.options.ecies){const o={privateKey:s==null?void 0:s.localKey};this.options.ecies=o}Zie(this.state,this.options),yield(i=this.getConnector())===null||i===void 0?void 0:i.initFromDappStorage(),Yie(this.state,this.options)}))}showActiveModal(){return(function(e){var n,r,i,s;e.authorized?ge(\"[RemoteConnection: showActiveModal()] already authorized\"):e.pendingModal?(r=(n=e.pendingModal).mount)===null||r===void 0||r.call(n):e.installModal&&((s=(i=e.installModal).mount)===null||s===void 0||s.call(i,e.qrcodeLink||\"\"))})(this.state)}closeModal(){var e,n,r,i;(n=(e=this.state.pendingModal)===null||e===void 0?void 0:e.unmount)===null||n===void 0||n.call(e),(i=(r=this.state.installModal)===null||r===void 0?void 0:r.unmount)===null||i===void 0||i.call(r,!1)}getUniversalLink(){if(!this.state.qrcodeLink)throw new Error(\"connection not started. run startConnection() first.\");return this.state.qrcodeLink}getChannelConfig(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getChannelConfig()}getKeyInfo(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.getKeyInfo()}getConnector(){if(!this.state.connector)throw new Error(\"invalid remote connector\");return this.state.connector}getPlatformManager(){if(!this.state.platformManager)throw new Error(\"PlatformManager not available\");return this.state.platformManager}isConnected(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isReady())||!1}isAuthorized(){var e;return((e=this.state.connector)===null||e===void 0?void 0:e.isAuthorized())||!1}isPaused(){var e;return(e=this.state.connector)===null||e===void 0?void 0:e.isPaused()}disconnect(e){var n,r,i;ge(\"[RemoteConnection: disconnect()]\",e),e!=null&&e.terminate&&(cc.getProvider().handleDisconnect({terminate:!0}),(r=(n=this.state.pendingModal)===null||n===void 0?void 0:n.unmount)===null||r===void 0||r.call(n),this.state.otpAnswer=void 0),(i=this.state.connector)===null||i===void 0||i.disconnect(e),(function(s){ge(\"[RemoteConnection: cleanupConnector()] cleaning up connector\"),s.connector&&(JT(s),s.connector.disconnect({terminate:!0}).catch((o=>{ge(\"[RemoteConnection: cleanupConnector()] error disconnecting connector\",o)})))})(this.state)}}function cxe(t){var e,n,r,i,s,o,a,c,l,d,h;return we(this,void 0,void 0,(function*(){const{options:p}=t;if(p.logging=(e=p.logging)!==null&&e!==void 0?e:{},p.communicationLayerPreference=(n=p.communicationLayerPreference)!==null&&n!==void 0?n:rh.SOCKET,p.enableDebug!==void 0&&(ps.enable(\"MM_SDK\"),console.warn(\"enableDebug is removed. Please use enableAnalytics instead.\")),p.enableAnalytics=(r=p.enableAnalytics)===null||r===void 0||r,p.injectProvider=(i=p.injectProvider)===null||i===void 0||i,p.shouldShimWeb3=(s=p.shouldShimWeb3)===null||s===void 0||s,p.extensionOnly=(o=p.extensionOnly)===null||o===void 0||o,p.useDeeplink=(a=p.useDeeplink)===null||a===void 0||a,p.storage=(c=p.storage)!==null&&c!==void 0?c:{enabled:!0},p.headless){ps(\"[MetaMaskSDK: performSDKInitialization()] headless mode enabled\");const _=()=>{},C={install:()=>({mount:_,unmount:_})},S={installer:_};p.modals=C,p.ui=S}const m=((l=p.logging)===null||l===void 0?void 0:l.developerMode)===!0;t.debug=((d=p.logging)===null||d===void 0?void 0:d.sdk)||m,ge(\"[MetaMaskSDK: performSDKInitialization()] options\",t.options);const b=Object.assign({},p.logging);m&&(b.sdk=!0,b.eciesLayer=!0,b.keyExchangeLayer=!0,b.remoteLayer=!0,b.serviceLayer=!0,b.plaintext=!0),yield(function(_){var C;return we(this,void 0,void 0,(function*(){const{options:S}=_;_.platformManager=new Vv({useDeepLink:(C=S.useDeeplink)!==null&&C!==void 0&&C,preferredOpenLink:S.openDeeplink,debug:_.debug})}))})(t),yield(function(_){var C,S,A,I,O;return we(this,void 0,void 0,(function*(){const{options:D}=_,N=(C=_.platformManager)===null||C===void 0?void 0:C.getPlatformType();_.analytics=new KSe({serverUrl:(S=D.communicationServerUrl)!==null&&S!==void 0?S:np,enabled:D.enableAnalytics,originatorInfo:{url:(A=D.dappMetadata.url)!==null&&A!==void 0?A:\"\",title:(I=D.dappMetadata.name)!==null&&I!==void 0?I:\"\",dappId:_.getDappId(),platform:N??\"\",source:(O=D._source)!==null&&O!==void 0?O:\"\",anonId:\"\"}})}))})(t),yield(function(_){var C,S,A;return we(this,void 0,void 0,(function*(){if(!_.options.enableAnalytics||!(!((C=_.platformManager)===null||C===void 0)&&C.isBrowser())&&!(!((S=_.platformManager)===null||S===void 0)&&S.isReactNative()))return;const I=_.getVersion(),O=_.getDappId(),D=yield _.getAnonId(),N=(A=_.platformManager)===null||A===void 0?void 0:A.getPlatformType(),U=_.options._source;gr.analytics.setGlobalProperty(\"sdk_version\",I),gr.analytics.setGlobalProperty(\"dapp_id\",O),gr.analytics.setGlobalProperty(\"anon_id\",D),gr.analytics.setGlobalProperty(\"platform\",N),gr.analytics.setGlobalProperty(\"integration_type\",U),gr.analytics.enable(),gr.analytics.track(\"sdk_initialized\",{})}))})(t),yield(function(_){var C;return we(this,void 0,void 0,(function*(){const{options:S}=_;((C=S.storage)===null||C===void 0?void 0:C.enabled)!==!0||S.storage.storageManager||(S.storage.storageManager=yield qie(S.storage))}))})(t),yield(function(_){return we(this,void 0,void 0,(function*(){const{options:C}=_,S=/^(http|https):\\/\\/[^\\s]*$/;if(C.dappMetadata){C.dappMetadata.iconUrl&&!S.test(C.dappMetadata.iconUrl)&&(console.warn(\"Invalid dappMetadata.iconUrl: URL must start with http:// or https://\"),C.dappMetadata.iconUrl=void 0),C.dappMetadata.base64Icon&&C.dappMetadata.base64Icon.length>GSe&&(console.warn(\"Invalid dappMetadata.base64Icon: Base64-encoded icon string length must be less than 163400 characters\"),C.dappMetadata.base64Icon=void 0),C.dappMetadata.url&&!S.test(C.dappMetadata.url)&&console.warn(\"Invalid dappMetadata.url: URL must start with http:// or https://\");const A=WSe();if(A&&!C.dappMetadata.iconUrl&&!C.dappMetadata.base64Icon){const I=`${window.location.protocol}//${window.location.host}${A}`;C.dappMetadata.iconUrl=I}}_.dappMetadata=C.dappMetadata}))})(t),yield YSe(t),yield JSe(t);const{metamaskBrowserExtension:y,preferExtension:E,shouldReturn:v}=yield(function(_){var C,S,A,I;return we(this,void 0,void 0,(function*(){const{options:O}=_;let D,N=!1,U=!1;if(typeof window<\"u\"&&window.ethereum&&!(!((C=_.platformManager)===null||C===void 0)&&C.isMetaMaskMobileWebView())){N=localStorage.getItem(e4)===\"extension\";try{D=yield ZSe({mustBeMetaMask:!0,sdkInstance:_}),window.extension=D,D.on(zc.CHAIN_CHANGED,(F=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE chainChanged chainId=${F}`),_.sdkProvider&&_.getMobileProvider().emit(zc.CHAIN_CHANGED,F)})),D.on(zc.ACCOUNTS_CHANGED,(F=>we(this,void 0,void 0,(function*(){var H;ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE accountsChanged accounts=${F}`);const V=!!_.sdkProvider,M=!!_.extensionActive;if(V&&_.getMobileProvider().emit(zc.ACCOUNTS_CHANGED,F),M&&(F==null?void 0:F.length)===0&&(yield(H=_.getProvider())===null||H===void 0?void 0:H.request({method:pt.WALLET_GETPERMISSIONS,params:[]})).length===0)try{yield _.terminate()}catch($){ge(\"[MetaMaskSDK: setupExtensionPreferences()] error terminating on permissions revoked\",$)}})))),D.on(zc.DISCONNECT,(F=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE disconnect error=${F}`),_.sdkProvider&&_.getMobileProvider().emit(zc.DISCONNECT,F)})),D.on(zc.CONNECT,(F=>{ge(`[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connect args=${F}`),_.sdkProvider&&_.getMobileProvider().emit(zc.CONNECT,F)})),D.on(zc.CONNECTED,(F=>{ge(\"[MetaMaskSDK: setupExtensionPreferences()] PROPAGATE connected\",F),_.sdkProvider&&_.getMobileProvider().emit(zc.CONNECTED,F)}))}catch{window.extension=void 0}}else!((S=_.platformManager)===null||S===void 0)&&S.isMetaMaskMobileWebView()&&((A=_.analytics)===null||A===void 0||A.send({event:Cr.SDK_USE_INAPP_BROWSER}),_.activeProvider=Wie({provider:window.ethereum,sdkInstance:_}),_._initialized=!0,U=!0);return D&&O.extensionOnly&&(ge(\"[MetaMaskSDK: setupExtensionPreferences()] EXTENSION ONLY --- prevent sdk initialization\"),(I=_.analytics)===null||I===void 0||I.send({event:Cr.SDK_USE_EXTENSION}),_.activeProvider=D,_.extensionActive=!0,_.extension=D,_._initialized=!0,U=!0),{preferExtension:N,shouldReturn:U,metamaskBrowserExtension:D}}))})(t);if(v)ge(\"[MetaMaskSDK: performSDKInitialization()] shouldReturn=true --- prevent sdk initialization\");else{yield(function(_,C){var S,A,I,O,D;return we(this,void 0,void 0,(function*(){const{options:N}=_,U=Object.assign({},N.logging);_.remoteConnection=new axe({anonId:yield _.getAnonId(),preferDesktop:(S=N.preferDesktop)!==null&&S!==void 0&&S,communicationLayerPreference:(A=N.communicationLayerPreference)!==null&&A!==void 0?A:rh.SOCKET,analytics:_.analytics,dappMetadata:N.dappMetadata,_source:N._source,enableAnalytics:(I=N.enableAnalytics)===null||I===void 0||I,timer:N.timer,sdk:_,platformManager:_.platformManager,transports:N.transports,communicationServerUrl:N.communicationServerUrl,storage:(O=N.storage)!==null&&O!==void 0?O:{enabled:!0},getMetaMaskInstaller:()=>{if(!_.installer)throw new Error(\"Invalid SDK status -- installer not initialized\");return _.installer},logging:U,connectWithExtensionProvider:C===void 0?void 0:()=>Nq(_),modals:Object.assign(Object.assign({},N.modals),{onPendingModalDisconnect:_.terminate.bind(_)})}),yield _.remoteConnection.initRemoteCommunication({sdkInstance:_}),_.installer=new nxe({remote:_.remoteConnection,preferDesktop:(D=N.preferDesktop)!==null&&D!==void 0&&D,platformManager:_.platformManager,debug:_.debug})}))})(t,y),yield HSe(t),yield(function(_,C){var S,A;return we(this,void 0,void 0,(function*(){const{options:I}=_;C?(ge(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] preferExtension is detected -- connect with it.\"),(S=_.analytics)===null||S===void 0||S.send({event:Cr.SDK_EXTENSION_UTILIZED}),Nq(_).catch((O=>{console.warn(\"Can't connect with MetaMask extension...\",O),localStorage.removeItem(e4)}))):I.checkInstallationImmediately&&(!((A=_.platformManager)===null||A===void 0)&&A.isDesktopWeb()?(ge(\"[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately\"),_.connect().catch((O=>{ge(`[MetaMaskSDK: handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- error on autoconnect _err=${O}`)}))):console.warn(\"[handleAutoAndExtensionConnections()] checkInstallationImmediately --- IGNORED --- only for web desktop\")),_._initialized=!0}))})(t,E);try{yield(h=t.remoteConnection)===null||h===void 0?void 0:h.startConnection({initialCheck:!0})}catch(_){console.error(\"[MetaMaskSDK: setupRemoteConnectionAndInstaller()] Error while checking installation\",_)}t.emit(gs.ProviderUpdate,lc.INITIALIZED)}}))}class Fq extends K4e{constructor(e={storage:{enabled:!0},injectProvider:!0,forceInjectProvider:!1,enableAnalytics:!0,shouldShimWeb3:!0,useDeeplink:!0,extensionOnly:!0,headless:!1,dappMetadata:{name:\"\",url:\"\",iconUrl:\"\"},_source:Pq,i18nOptions:{enabled:!1}}){var n,r,i;super(),this.extensionActive=!1,this._initialized=!1,this.sdkInitPromise=void 0,this.debug=!1,this.readonlyRPCCalls=!1,this.availableLanguages=[\"en\"],this.ANON_ID_STORAGE_KEY=\"mm-sdk-anon-id\",ps.disable();const s=((n=e.logging)===null||n===void 0?void 0:n.developerMode)===!0;if((!((r=e.logging)===null||r===void 0)&&r.sdk||s)&&ps.enable(\"MM_SDK\"),ge(\"[MetaMaskSDK: constructor()]: begin.\"),this.setMaxListeners(50),!(!((i=e.dappMetadata)===null||i===void 0)&&i.url)){if(typeof window>\"u\"||typeof document>\"u\")throw new Error(\"You must provide dAppMetadata url\");e.dappMetadata=Object.assign(Object.assign({},e.dappMetadata),{url:`${window.location.protocol}//${window.location.host}`})}this.options=e,this.options._source||(e._source=Pq),this.init().then((()=>{ge(\"[MetaMaskSDK: constructor()]: initialized successfully.\"),typeof window<\"u\"&&(window.mmsdk=this)})).catch((o=>{console.error(\"[MetaMaskSDK: constructor()] error during initialization\",o)}))}init(){return we(this,void 0,void 0,(function*(){return(function(e){var n;return we(this,void 0,void 0,(function*(){if(typeof window<\"u\"&&(!((n=window.mmsdk)===null||n===void 0)&&n.isInitialized()))return ge(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),Promise.resolve(window.mmsdk);if(e._initialized)return ge(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initialized\"),e.sdkInitPromise;if(e.sdkInitPromise)return ge(\"[MetaMaskSDK: initializeMetaMaskSDK()] already initializing\"),e.sdkInitPromise;try{e.sdkInitPromise=cxe(e),yield e.sdkInitPromise}catch(r){throw console.error(r),r}return e.sdkInitPromise}))})(this)}))}isExtensionActive(){return this.extensionActive}checkExtensionAvailability(){var e;return typeof window<\"u\"&&!!(!((e=window.ethereum)===null||e===void 0)&&e.isMetaMask)}connect(){return we(this,void 0,void 0,(function*(){return(function(e){return we(this,void 0,void 0,(function*(){if(e._initialized||(ge(\"[MetaMaskSDK: connect()] provider not ready -- wait for init()\"),yield e.init()),ge(`[MetaMaskSDK: connect()] isExtensionActive=${e.isExtensionActive()} activeProvider`,e.activeProvider),!e.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");const n=e.activeProvider.getSelectedAddress();return n?[n]:e.activeProvider.request({method:pt.ETH_REQUESTACCOUNTS,params:[]})}))})(this)}))}connectAndSign({msg:e}){return we(this,void 0,void 0,(function*(){return jSe({instance:this,msg:e})}))}connectWith(e){return we(this,void 0,void 0,(function*(){return(function({instance:n,rpc:r}){return we(this,void 0,void 0,(function*(){if(n._initialized||(ge(\"[MetaMaskSDK: connectWith()] provider not ready -- wait for init()\"),yield n.init()),ge(`[MetaMaskSDK: connectWith()] method: ${r.method} rpc=${r}`),!n.activeProvider)throw new Error(\"SDK state invalid -- undefined provider\");return n.activeProvider.request({method:pt.METAMASK_CONNECTWITH,params:[r]})}))})({instance:this,rpc:e})}))}resume(){return(function(e){var n,r,i;return we(this,void 0,void 0,(function*(){if(!(!((r=(n=e.remoteConnection)===null||n===void 0?void 0:n.getConnector())===null||r===void 0)&&r.isReady()))return ge(\"[MetaMaskSDK: resume()] channel is not ready -- starting connection\"),void((i=e.remoteConnection)===null||i===void 0||i.startConnection());ge(\"[MetaMaskSDK: resume()] channel is ready\")}))})(this)}disconnect(){return console.warn(\"MetaMaskSDK.disconnect() is deprecated, use terminate()\"),this.terminate()}isAuthorized(){var e;(e=this.remoteConnection)===null||e===void 0||e.isAuthorized()}terminate(){return(function(e){var n,r,i;return we(this,void 0,void 0,(function*(){if(!(!((n=e.platformManager)===null||n===void 0)&&n.isMetaMaskMobileWebView())){if(USe&&(window.localStorage.removeItem(e4),window.localStorage.removeItem(YT),window.localStorage.removeItem(ZT)),e.extensionActive){try{yield(r=e.activeProvider)===null||r===void 0?void 0:r.request({method:pt.WALLET_REVOKEPERMISSIONS,params:[{eth_accounts:{}}]})}catch(s){ge(\"[MetaMaskSDK: terminate()] error revoking permissions\",s)}return e.options.extensionOnly?(e.emit(gs.ProviderUpdate,lc.TERMINATE),void ge(\"[MetaMaskSDK: terminate()] extensionOnly --- prevent switching providers\")):(e.activeProvider=e.sdkProvider,window.ethereum=e.activeProvider,e.extensionActive=!1,void e.emit(gs.ProviderUpdate,lc.TERMINATE))}e.emit(gs.ProviderUpdate,lc.TERMINATE),ge(`[MetaMaskSDK: terminate()] remoteConnection=${e.remoteConnection}`),(i=e.remoteConnection)===null||i===void 0||i.disconnect({terminate:!0,sendMessage:!0})}}))})(this)}isInitialized(){return this._initialized}setReadOnlyRPCCalls(e){this.readonlyRPCCalls=e}hasReadOnlyRPCCalls(){return this.readonlyRPCCalls}getProvider(){if(this.activeProvider)return this.activeProvider;console.warn(\"MetaMaskSDK: No active provider found\")}getMobileProvider(){if(!this.sdkProvider)throw new Error(\"SDK state invalid -- undefined mobile provider\");return this.sdkProvider}getUniversalLink(){var e;const n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getUniversalLink();if(!n)throw new Error(\"No Universal Link available, please call eth_requestAccounts first.\");return n}getChannelId(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig())===null||n===void 0?void 0:n.channelId}getRPCHistory(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getRPCMethodTracker()}getVersion(){return Up.version}getDappId(){var e,n,r,i;return typeof window>\"u\"||window.location===void 0?(i=(n=(e=this.options.dappMetadata)===null||e===void 0?void 0:e.name)!==null&&n!==void 0?n:(r=this.options.dappMetadata)===null||r===void 0?void 0:r.url)!==null&&i!==void 0?i:\"N/A\":window.location.hostname}getAnonId(){var e,n;return we(this,void 0,void 0,(function*(){if(this._anonId)return this._anonId;let r;return r=!((e=this.platformManager)===null||e===void 0)&&e.isBrowser()?this.getBrowserAnonId():!((n=this.platformManager)===null||n===void 0)&&n.isReactNative()?yield this.getReactNativeAnonId():Cf(),this._anonId=r,r}))}getBrowserAnonId(){const e=this.ANON_ID_STORAGE_KEY;try{const n=localStorage.getItem(e);if(n)return n;const r=Cf();return localStorage.setItem(e,r),r}catch(n){return console.error(\"[MetaMaskSDK: getBrowserAnonId()] LocalStorage access error:\",n),Cf()}}getReactNativeAnonId(){return we(this,void 0,void 0,(function*(){const e=this.ANON_ID_STORAGE_KEY;try{const n=require(\"@react-native-async-storage/async-storage\").default,r=yield n.getItem(e);if(r)return r;const i=Cf();return yield n.setItem(e,i),i}catch(n){return console.error(\"[MetaMaskSDK: getReactNativeAnonId()] Error accessing AsyncStorage:\",n),Cf()}}))}getWalletStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getConnectionStatus()}_getChannelConfig(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getChannelConfig()}_ping(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.ping()}_keyCheck(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.keyCheck()}_getServiceStatus(){var e,n;return(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0?void 0:n.getServiceStatus()}_getRemoteConnection(){return this.remoteConnection}_getDappMetadata(){return this.dappMetadata}_getKeyInfo(){var e;return(e=this.remoteConnection)===null||e===void 0?void 0:e.getKeyInfo()}_resetKeys(){var e,n;(n=(e=this.remoteConnection)===null||e===void 0?void 0:e.getConnector())===null||n===void 0||n.resetKeys()}_getConnection(){return this.remoteConnection}emit(e,n){return super.emit(e,n)}on(e,n){return super.on(e,n)}}var lxe=Object.freeze({__proto__:null,StorageManagerWeb:class{constructor({enabled:t}={enabled:!1}){this.enabled=!1,this.enabled=t}persistChannelConfig(t){return we(this,void 0,void 0,(function*(){const e=JSON.stringify(t);ge(`[StorageManagerWeb: persistChannelConfig()] enabled=${this.enabled}`,t),localStorage.setItem($7,e)}))}getPersistedChannelConfig(){return we(this,void 0,void 0,(function*(){let t;try{if(ge(`[StorageManagerWeb: getPersistedChannelConfig()] enabled=${this.enabled}`),t=localStorage.getItem($7),ge(\"[StorageManagerWeb: getPersistedChannelConfig()]\",t),!t)return;const e=JSON.parse(t);return ge(\"[StorageManagerWeb: getPersistedChannelConfig()] channelConfig\",e),e}catch(e){return void console.error(\"[StorageManagerWeb: getPersistedChannelConfig()] Can't find existing channel config\",e)}}))}persistAccounts(t){return we(this,void 0,void 0,(function*(){ge(`[StorageManagerWeb: persistAccounts()] enabled=${this.enabled}`,t);const e=JSON.stringify(t);localStorage.setItem(ZT,e)}))}getCachedAccounts(){return we(this,void 0,void 0,(function*(){try{const t=localStorage.getItem(ZT);return t?JSON.parse(t):[]}catch(t){throw console.error(\"[StorageManagerWeb: getCachedAccounts()] Error reading cached accounts\",t),t}}))}persistChainId(t){return we(this,void 0,void 0,(function*(){ge(`[StorageManagerWeb: persistChainId()] enabled=${this.enabled}`,t),localStorage.setItem(YT,t)}))}getCachedChainId(){return we(this,void 0,void 0,(function*(){try{const t=localStorage.getItem(YT);return t??void 0}catch(t){throw console.error(\"[StorageManagerWeb: getCachedChainId()] Error reading cached chainId\",t),t}}))}terminate(){return we(this,void 0,void 0,(function*(){ge(`[StorageManagerWeb: terminate()] enabled=${this.enabled}`),localStorage.removeItem($7)}))}}});const uxe=\"hydrated\",dxe=!1,fxe=!0;var hxe=Object.defineProperty,YR=new WeakMap,Pf=t=>YR.get(t),JR=(t,e)=>YR.set(e.$lazyInstance$=t,e),qq=(t,e)=>e in t,I0=(t,e)=>(0,console.error)(t,e),I7=new Map,qE=new Map,Jie=\"slot-fb{display:contents}slot-fb[hidden]{display:none}\",G_=typeof window<\"u\"?window:{},fl=G_.document||{head:{}},Mi={$flags$:0,$resourcesUrl$:\"\",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},Xie=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync==\"function\"}catch{}return!1})(),XT=!1,Hq=[],Qie=[],pxe=(t,e)=>n=>{t.push(n),XT||(XT=!0,4&Mi.$flags$?XR(QT):Mi.raf(QT))},Vq=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){I0(n)}t.length=0},QT=()=>{Vq(Hq),Vq(Qie),(XT=Hq.length>0)&&Mi.raf(QT)},XR=t=>(e=>Promise.resolve(e))().then(t),gxe=pxe(Qie),Kq={},QR=t=>(t=typeof t)==\"object\"||t===\"function\";function ese(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name=\"csp-nonce\"]'))==null?void 0:n.getAttribute(\"content\"))!=null?r:void 0}((t,e)=>{for(var n in e)hxe(t,n,{get:e[n],enumerable:!0})})({},{err:()=>tse,map:()=>mxe,ok:()=>eP,unwrap:()=>yxe,unwrapErr:()=>bxe});var eP=t=>({isOk:!0,isErr:!1,value:t}),tse=t=>({isOk:!1,isErr:!0,value:t});function mxe(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then((r=>eP(r))):eP(n)}if(t.isErr){const n=t.value;return tse(n)}throw\"should never get here\"}var ek,yxe=t=>{if(t.isOk)return t.value;throw t.value},bxe=t=>{if(t.isErr)return t.value;throw t.value},me=(t,e,...n)=>{let r=null,i=!1,s=!1;const o=[],a=l=>{for(let d=0;d<l.length;d++)r=l[d],Array.isArray(r)?a(r):r!=null&&typeof r!=\"boolean\"&&((i=typeof t!=\"function\"&&!QR(r))&&(r=String(r)),i&&s?o[o.length-1].$text$+=r:o.push(i?r4(null,r):r),s=i)};if(a(n),e){const l=e.className||e.class;l&&(e.class=typeof l!=\"object\"?l:Object.keys(l).filter((d=>l[d])).join(\" \"))}if(typeof t==\"function\")return t(e===null?{}:e,o,vxe);const c=r4(t,null);return c.$attrs$=e,o.length>0&&(c.$children$=o),c},r4=(t,e)=>({$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null,$attrs$:null}),wxe={},vxe={forEach:(t,e)=>t.map(Wq).forEach(e),map:(t,e)=>t.map(Wq).map(e).map(Exe)},Wq=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),Exe=t=>{if(typeof t.vtag==\"function\"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),me(t.vtag,n,...t.vchildren||[])}const e=r4(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},Z_=t=>Pf(t).$hostElement$,zf=(t,e,n)=>{const r=Z_(t);return{emit:i=>nse(r,e,{bubbles:!0,composed:!0,cancelable:!0,detail:i})}},nse=(t,e,n)=>{const r=Mi.ce(e,n);return t.dispatchEvent(r),r},Gq=new WeakMap,_xe=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$;e.$tagName$;const i=((s,o,a)=>{var c;const l=rse(o),d=qE.get(l);if(s=s.nodeType===11?s:fl,d)if(typeof d==\"string\"){s=s.head||s;let h,p=Gq.get(s);if(p||Gq.set(s,p=new Set),!p.has(l)){{h=fl.createElement(\"style\"),h.innerHTML=d;const m=(c=Mi.$nonce$)!=null?c:ese(fl);if(m!=null&&h.setAttribute(\"nonce\",m),!(1&o.$flags$))if(s.nodeName===\"HEAD\"){const b=s.querySelectorAll(\"link[rel=preconnect]\"),y=b.length>0?b[b.length-1].nextSibling:s.querySelector(\"style\");s.insertBefore(h,y)}else if(\"host\"in s)if(Xie){const b=new CSSStyleSheet;b.replaceSync(d),s.adoptedStyleSheets=[b,...s.adoptedStyleSheets]}else{const b=s.querySelector(\"style\");b?b.innerHTML=d+b.innerHTML:s.prepend(h)}else s.append(h);1&o.$flags$&&s.nodeName!==\"HEAD\"&&s.insertBefore(h,null)}4&o.$flags$&&(h.innerHTML+=Jie),p&&p.add(l)}}else s.adoptedStyleSheets.includes(d)||(s.adoptedStyleSheets=[...s.adoptedStyleSheets,d]);return l})(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);10&r&&2&r&&(n[\"s-sc\"]=i,n.classList.add(i+\"-h\"))},rse=(t,e)=>\"sc-\"+t.$tagName$,Zq=(t,e,n,r,i,s)=>{if(n!==r){let o=qq(t,e),a=e.toLowerCase();if(e===\"class\"){const c=t.classList,l=Yq(n),d=Yq(r);c.remove(...l.filter((h=>h&&!d.includes(h)))),c.add(...d.filter((h=>h&&!l.includes(h))))}else if(e===\"style\"){for(const c in n)r&&r[c]!=null||(c.includes(\"-\")?t.style.removeProperty(c):t.style[c]=\"\");for(const c in r)n&&r[c]===n[c]||(c.includes(\"-\")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(o||e[0]!==\"o\"||e[1]!==\"n\"){const c=QR(r);if((o||c&&r!==null)&&!i)try{if(t.tagName.includes(\"-\"))t[e]=r;else{const l=r??\"\";e===\"list\"?o=!1:n!=null&&t[e]==l||(typeof t.__lookupSetter__(e)==\"function\"?t[e]=l:t.setAttribute(e,l))}}catch{}r==null||r===!1?r===!1&&t.getAttribute(e)!==\"\"||t.removeAttribute(e):(!o||4&s||i)&&!c&&(r=r===!0?\"\":r,t.setAttribute(e,r))}else if(e=e[2]===\"-\"?e.slice(3):qq(G_,a)?a.slice(2):a[2]+e.slice(3),n||r){const c=e.endsWith(ise);e=e.replace(Sxe,\"\"),n&&Mi.rel(t,e,n,c),r&&Mi.ael(t,e,r,c)}}},Cxe=/\\s/,Yq=t=>t?t.split(Cxe):[],ise=\"Capture\",Sxe=new RegExp(ise+\"$\"),sse=(t,e,n)=>{const r=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,i=t&&t.$attrs$||Kq,s=e.$attrs$||Kq;for(const o of Jq(Object.keys(i)))o in s||Zq(r,o,i[o],void 0,n,e.$flags$);for(const o of Jq(Object.keys(s)))Zq(r,o,i[o],s[o],n,e.$flags$)};function Jq(t){return t.includes(\"ref\")?[...t.filter((e=>e!==\"ref\")),\"ref\"]:t}var $a=!1,tk=(t,e,n,r)=>{const i=e.$children$[n];let s,o,a=0;if(i.$text$!==null)s=i.$elm$=fl.createTextNode(i.$text$);else{if($a||($a=i.$tag$===\"svg\"),s=i.$elm$=fl.createElementNS($a?\"http://www.w3.org/2000/svg\":\"http://www.w3.org/1999/xhtml\",i.$tag$),$a&&i.$tag$===\"foreignObject\"&&($a=!1),sse(null,i,$a),s.getRootNode().querySelector(\"body\"),i.$children$)for(a=0;a<i.$children$.length;++a)o=tk(t,i,a),o&&s.appendChild(o);i.$tag$===\"svg\"?$a=!1:s.tagName===\"foreignObject\"&&($a=!0)}return s[\"s-hn\"]=ek,s},Xq=(t,e,n,r,i,s)=>{let o,a=t;for(a.shadowRoot&&a.tagName===ek&&(a=a.shadowRoot);i<=s;++i)r[i]&&(o=tk(null,n,i),o&&(r[i].$elm$=o,HE(a,o,e)))},Qq=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;s&&s.remove()}}},U3=(t,e,n=!1)=>t.$tag$===e.$tag$,ww=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;a===null?(sse(t,e,$a=o===\"svg\"||o!==\"foreignObject\"&&$a),i!==null&&s!==null?((c,l,d,h,p=!1)=>{let m,b=0,y=0,E=l.length-1,v=l[0],_=l[E],C=h.length-1,S=h[0],A=h[C];for(;b<=E&&y<=C;)v==null?v=l[++b]:_==null?_=l[--E]:S==null?S=h[++y]:A==null?A=h[--C]:U3(v,S,p)?(ww(v,S,p),v=l[++b],S=h[++y]):U3(_,A,p)?(ww(_,A,p),_=l[--E],A=h[--C]):U3(v,A,p)?(ww(v,A,p),HE(c,v.$elm$,_.$elm$.nextSibling),v=l[++b],A=h[--C]):U3(_,S,p)?(ww(_,S,p),HE(c,_.$elm$,v.$elm$),_=l[--E],S=h[++y]):(m=tk(l&&l[y],d,y),S=h[++y],m&&HE(v.$elm$.parentNode,m,v.$elm$));b>E?Xq(c,h[C+1]==null?null:h[C+1].$elm$,d,h,y,C):y>C&&Qq(l,b,E)})(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=\"\"),Xq(r,null,e,s,0,s.length-1)):!n&&fxe&&i!==null&&Qq(i,0,i.length-1),$a&&o===\"svg\"&&($a=!1)):t.$text$!==a&&(r.data=a)},HE=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),xxe=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,s=t.$vnode$||r4(null,null),o=(a=e)&&a.$tag$===wxe?e:me(null,null,e);var a;if(ek=r.tagName,n&&o.$attrs$)for(const c of Object.keys(o.$attrs$))r.hasAttribute(c)&&![\"key\",\"ref\",\"style\",\"class\"].includes(c)&&(o.$attrs$[c]=r[c]);o.$tag$=null,o.$flags$|=4,t.$vnode$=o,o.$elm$=s.$elm$=r.shadowRoot||r,r[\"s-sc\"],1&i.$flags$,ww(s,o,n)},ose=(t,e)=>{e&&!t.$onRenderResolve$&&e[\"s-p\"]&&e[\"s-p\"].push(new Promise((n=>t.$onRenderResolve$=n)))},nk=(t,e)=>(t.$flags$|=16,4&t.$flags$?void(t.$flags$|=512):(ose(t,t.$ancestorComponent$),gxe((()=>Axe(t,e))))),Axe=(t,e)=>{const n=t.$hostElement$;t.$cmpMeta$.$tagName$;const r=t.$lazyInstance$;if(!r)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \\`externalRuntime: true\\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);return $xe(void 0,(()=>Txe(t,r,e)))},$xe=(t,e)=>Ixe(t)?t.then(e).catch((n=>{console.error(n),e()})):e(),Ixe=t=>t instanceof Promise||t&&t.then&&typeof t.then==\"function\",Txe=async(t,e,n)=>{var r;const i=t.$hostElement$;t.$cmpMeta$.$tagName$;const s=i[\"s-rc\"];n&&_xe(t),t.$cmpMeta$.$tagName$,Pxe(t,e,i,n),s&&(s.map((o=>o())),i[\"s-rc\"]=void 0);{const o=(r=i[\"s-p\"])!=null?r:[],a=()=>Oxe(t);o.length===0?a():(Promise.all(o).then(a),t.$flags$|=4,o.length=0)}},Pxe=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,xxe(t,e,r)}catch(i){I0(i,t.$hostElement$)}return null},Oxe=t=>{t.$cmpMeta$.$tagName$;const e=t.$hostElement$,n=()=>{},r=t.$lazyInstance$,i=t.$ancestorComponent$;64&t.$flags$?n():(t.$flags$|=64,cse(e),rk(r,\"componentDidLoad\"),t.$onReadyResolve$(e),i||ase()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),512&t.$flags$&&XR((()=>nk(t,!1))),t.$flags$&=-517},ase=t=>{cse(fl.documentElement),XR((()=>nse(G_,\"appload\",{detail:{namespace:\"sdk-install-modal-web\"}})))},rk=(t,e,n)=>{if(t&&t[e])try{return t[e](n)}catch(r){I0(r)}},cse=t=>{var e;return t.classList.add((e=uxe)!=null?e:\"hydrated\")},Nxe=(t,e,n,r)=>{const i=Pf(t);if(!i)throw new Error(`Couldn't find host element for \"${r.$tagName$}\" as it is unknown to this Stencil runtime. This usually happens when integrating a 3rd party Stencil component with another Stencil component or application. Please reach out to the maintainers of the 3rd party Stencil component or report this on the Stencil Discord server (https://chat.stenciljs.com) or comment on this similar [GitHub issue](https://github.com/ionic-team/stencil/issues/5457).`);const s=i.$hostElement$,o=i.$instanceValues$.get(e),a=i.$flags$,c=i.$lazyInstance$;var l,d;l=n,d=r.$members$[e][0],n=l==null||QR(l)?l:4&d?l!==\"false\"&&(l===\"\"||!!l):1&d?String(l):l;const h=Number.isNaN(o)&&Number.isNaN(n);if((!(8&a)||o===void 0)&&n!==o&&!h&&(i.$instanceValues$.set(e,n),c)){if(r.$watchers$&&128&a){const p=r.$watchers$[e];p&&p.map((m=>{try{c[m](n,o,e)}catch(b){I0(b,s)}}))}(18&a)==2&&nk(i,!1)}},lse=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});if(o.map((([a,[c]])=>{(31&c||2&n&&32&c)&&Object.defineProperty(s,a,{get(){return l=a,Pf(this).$instanceValues$.get(l);var l},set(l){Nxe(this,a,l,e)},configurable:!0,enumerable:!0})})),1&n){const a=new Map;s.attributeChangedCallback=function(c,l,d){Mi.jmp((()=>{var h;const p=a.get(c);if(this.hasOwnProperty(p))d=this[p],delete this[p];else{if(s.hasOwnProperty(p)&&typeof this[p]==\"number\"&&this[p]==d)return;if(p==null){const m=Pf(this),b=m==null?void 0:m.$flags$;if(b&&!(8&b)&&128&b&&d!==l){const y=m.$lazyInstance$,E=(h=e.$watchers$)==null?void 0:h[c];E==null||E.forEach((v=>{y[v]!=null&&y[v].call(y,d,l,c)}))}return}}this[p]=(d!==null||typeof this[p]!=\"boolean\")&&d}))},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter((([c,l])=>15&l[0])).map((([c,l])=>{const d=l[1]||c;return a.set(d,c),d}))]))}}return t},Rxe=async(t,e,n,r)=>{let i;if((32&e.$flags$)==0){if(e.$flags$|=32,n.$lazyBundleId$){const a=((c,l,d)=>{const h=c.$tagName$.replace(/-/g,\"_\"),p=c.$lazyBundleId$;if(!p)return;const m=I7.get(p);if(m)return m[h];{const b=y=>(I7.set(p,y),y[h]);if(p===\"mm-install-modal_3\")return Promise.resolve().then((function(){return Gxe})).then(b,I0)}return De(()=>import(`./${p}.entry.js`),void 0,import.meta.url).then((b=>(I7.set(p,b),b[h])),I0)})(n);if(a&&\"then\"in a?i=await a:i=a,!i)throw new Error(`Constructor for \"${n.$tagName$}#${e.$modeName$}\" was not found`);i.isProxied||(n.$watchers$=i.watchers,lse(i,n,2),i.isProxied=!0),n.$tagName$,e.$flags$|=8;try{new i(e)}catch(c){I0(c)}e.$flags$&=-9,e.$flags$|=128,tP(e.$lazyInstance$)}else{i=t.constructor;const a=t.localName;customElements.whenDefined(a).then((()=>e.$flags$|=128))}if(i&&i.style){let a;typeof i.style==\"string\"&&(a=i.style);const c=rse(n);qE.has(c)||(n.$tagName$,((l,d,h)=>{let p=qE.get(l);Xie&&h?(p=p||new CSSStyleSheet,typeof p==\"string\"?p=d:p.replaceSync(d)):p=d,qE.set(l,p)})(c,a,!!(1&n.$flags$)))}}const s=e.$ancestorComponent$,o=()=>nk(e,!0);s&&s[\"s-rc\"]?s[\"s-rc\"].push(o):o()},tP=t=>{rk(t,\"connectedCallback\")},eH=t=>{rk(t,\"disconnectedCallback\")},kxe=(t,e={})=>{var n;const r=[],i=e.exclude||[],s=G_.customElements,o=fl.head,a=o.querySelector(\"meta[charset]\"),c=fl.createElement(\"style\"),l=[];let d,h=!0;Object.assign(Mi,e),Mi.$resourcesUrl$=new URL(e.resourcesUrl||\"./\",fl.baseURI).href;let p=!1;if(t.map((m=>{m[1].map((b=>{var y;const E={$flags$:b[0],$tagName$:b[1],$members$:b[2],$listeners$:b[3]};4&E.$flags$&&(p=!0),E.$members$=b[2],E.$watchers$=(y=b[4])!=null?y:{};const v=E.$tagName$,_=class extends HTMLElement{constructor(C){if(super(C),this.hasRegisteredEventListeners=!1,((S,A)=>{const I={$flags$:0,$hostElement$:S,$cmpMeta$:A,$instanceValues$:new Map};I.$onReadyPromise$=new Promise((O=>I.$onReadyResolve$=O)),S[\"s-p\"]=[],S[\"s-rc\"]=[],YR.set(S,I)})(C=this,E),1&E.$flags$)if(C.shadowRoot){if(C.shadowRoot.mode!==\"open\")throw new Error(`Unable to re-use existing shadow root for ${E.$tagName$}! Mode is set to ${C.shadowRoot.mode} but Stencil only supports open shadow roots.`)}else C.attachShadow({mode:\"open\"})}connectedCallback(){Pf(this),this.hasRegisteredEventListeners||(this.hasRegisteredEventListeners=!0),d&&(clearTimeout(d),d=null),h?l.push(this):Mi.jmp((()=>(C=>{if((1&Mi.$flags$)==0){const S=Pf(C),A=S.$cmpMeta$;if(A.$tagName$,1&S.$flags$)S!=null&&S.$lazyInstance$?tP(S.$lazyInstance$):S!=null&&S.$onReadyPromise$&&S.$onReadyPromise$.then((()=>tP(S.$lazyInstance$)));else{S.$flags$|=1;{let I=C;for(;I=I.parentNode||I.host;)if(I[\"s-p\"]){ose(S,S.$ancestorComponent$=I);break}}A.$members$&&Object.entries(A.$members$).map((([I,[O]])=>{if(31&O&&C.hasOwnProperty(I)){const D=C[I];delete C[I],C[I]=D}})),Rxe(C,S,A)}}})(this)))}disconnectedCallback(){Mi.jmp((()=>(async C=>{if((1&Mi.$flags$)==0){const S=Pf(C);S!=null&&S.$lazyInstance$?eH(S.$lazyInstance$):S!=null&&S.$onReadyPromise$&&S.$onReadyPromise$.then((()=>eH(S.$lazyInstance$)))}})(this)))}componentOnReady(){return Pf(this).$onReadyPromise$}};E.$lazyBundleId$=m[0],i.includes(v)||s.get(v)||(r.push(v),s.define(v,lse(_,E,1)))}))})),r.length>0&&(p&&(c.textContent+=Jie),c.textContent+=r.sort()+\"{visibility:hidden}.hydrated{visibility:inherit}\",c.innerHTML.length)){c.setAttribute(\"data-styles\",\"\");const m=(n=Mi.$nonce$)!=null?n:ese(fl);m!=null&&c.setAttribute(\"nonce\",m),o.insertBefore(c,a?a.nextSibling:o.firstChild)}h=!1,l.length?l.map((m=>m.connectedCallback())):Mi.jmp((()=>d=setTimeout(ase,30)))};(function(){if(typeof window<\"u\"&&window.Reflect!==void 0&&window.customElements!==void 0){var t=HTMLElement;window.HTMLElement=function(){return Reflect.construct(t,[],this.constructor)},HTMLElement.prototype=t.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,t)}})();var Mxe=Object.freeze({__proto__:null,defineCustomElements:async(t,e)=>{if(typeof window<\"u\")return await void 0,kxe([[\"mm-install-modal_3\",[[1,\"mm-install-modal\",{link:[1],sdkVersion:[1,\"sdk-version\"],preferDesktop:[4,\"prefer-desktop\"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:[\"updatePreferDesktop\"]}],[1,\"mm-pending-modal\",{displayOTP:[4,\"display-o-t-p\"],sdkVersion:[1,\"sdk-version\"],otpCode:[1,\"otp-code\"],translationsLoaded:[32]}],[1,\"mm-select-modal\",{link:[1],sdkVersion:[1,\"sdk-version\"],preferDesktop:[4,\"prefer-desktop\"],tab:[32],isDefaultTab:[32],translationsLoaded:[32]},null,{preferDesktop:[\"updatePreferDesktop\"]}]]]],e)},setNonce:t=>Mi.$nonce$=t});const Dxe={fontFamily:\"Roboto, sans-serif\"},ik=({className:t},e)=>me(\"div\",{style:Dxe,class:t},e),T7=({Icon:t,text:e})=>me(\"div\",{class:\"flexContainer\",style:{padding:\"6\",flexDirection:\"row\"}},me(\"div\",{class:\"flexItem1\"},me(t,null)),me(\"div\",{class:\"flexItem11\"},me(\"span\",{style:{lineHeight:\"2\",color:\"black\"}},e))),Bxe=()=>me(\"svg\",{width:\"20\",height:\"18\",viewBox:\"0 0 20 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"path\",{d:\"M20.0002 7.9702V10.0302C20.0002 10.5802 19.5602 11.0302 19.0002 11.0502H17.0402C15.9602 11.0502 14.9702 10.2602 14.8802 9.1802C14.8202 8.5502 15.0602 7.9602 15.4802 7.5502C15.8502 7.1702 16.3602 6.9502 16.9202 6.9502H19.0002C19.5602 6.9702 20.0002 7.4202 20.0002 7.9702Z\",fill:\"#037DD6\"}),me(\"path\",{d:\"M18.47 12.55H17.04C15.14 12.55 13.54 11.12 13.38 9.3C13.29 8.26 13.67 7.22 14.43 6.48C15.07 5.82 15.96 5.45 16.92 5.45H18.47C18.76 5.45 19 5.21 18.97 4.92C18.75 2.49 17.14 0.83 14.75 0.55C14.51 0.51 14.26 0.5 14 0.5H5C4.72 0.5 4.45 0.52 4.19 0.56C1.64 0.88 0 2.78 0 5.5V12.5C0 15.26 2.24 17.5 5 17.5H14C16.8 17.5 18.73 15.75 18.97 13.08C19 12.79 18.76 12.55 18.47 12.55ZM11 6.75H5C4.59 6.75 4.25 6.41 4.25 6C4.25 5.59 4.59 5.25 5 5.25H11C11.41 5.25 11.75 5.59 11.75 6C11.75 6.41 11.41 6.75 11 6.75Z\",fill:\"#037DD6\"})),Lxe=()=>me(\"svg\",{width:\"20\",height:\"18\",viewBox:\"0 0 20 18\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"path\",{d:\"M14.44 0.0999756C12.63 0.0999756 11.01 0.979976 10 2.32998C8.99 0.979976 7.37 0.0999756 5.56 0.0999756C2.49 0.0999756 0 2.59998 0 5.68998C0 6.87998 0.19 7.97998 0.52 8.99998C2.1 14 6.97 16.99 9.38 17.81C9.72 17.93 10.28 17.93 10.62 17.81C13.03 16.99 17.9 14 19.48 8.99998C19.81 7.97998 20 6.87998 20 5.68998C20 2.59998 17.51 0.0999756 14.44 0.0999756Z\",fill:\"#037DD6\"})),Uxe=()=>me(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 20 20\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"path\",{d:\"M16.28 7.53V6.28C16.28 3.58 15.63 0 10 0C4.37 0 3.72 3.58 3.72 6.28V7.53C0.92 7.88 0 9.3 0 12.79V14.65C0 18.75 1.25 20 5.35 20H14.65C18.75 20 20 18.75 20 14.65V12.79C20 9.3 19.08 7.88 16.28 7.53ZM10 16.74C8.33 16.74 6.98 15.38 6.98 13.72C6.98 12.05 8.34 10.7 10 10.7C11.66 10.7 13.02 12.06 13.02 13.72C13.02 15.39 11.67 16.74 10 16.74ZM5.35 7.44C5.27 7.44 5.2 7.44 5.12 7.44V6.28C5.12 3.35 5.95 1.4 10 1.4C14.05 1.4 14.88 3.35 14.88 6.28V7.45C14.8 7.45 14.73 7.45 14.65 7.45H5.35V7.44Z\",fill:\"#037DD6\"})),jxe=()=>me(\"svg\",{width:\"20\",height:\"20\",viewBox:\"0 0 24 24\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"path\",{d:\"M16.4405 8.8999C20.0405 9.2099 21.5105 11.0599 21.5105 15.1099V15.2399C21.5105 19.7099 19.7205 21.4999 15.2505 21.4999H8.74047C4.27047 21.4999 2.48047 19.7099 2.48047 15.2399V15.1099C2.48047 11.0899 3.93047 9.2399 7.47047 8.9099\",stroke:\"white\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),me(\"path\",{d:\"M12 2V14.88\",stroke:\"white\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}),me(\"path\",{d:\"M15.3504 12.6499L12.0004 15.9999L8.65039 12.6499\",stroke:\"white\",\"stroke-width\":\"1.5\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\"}));function sk({version:t}){return me(\"div\",{style:{textAlign:\"center\",color:\"#BBC0C5\",fontSize:\"12\"}},\"SDK Version \",t?`v${t}`:\"unknown\")}const ok=()=>me(\"svg\",{width:\"14\",height:\"14\",viewBox:\"0 0 16 16\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"rect\",{width:\"16\",height:\"16\",fill:\"white\"}),me(\"path\",{\"fill-rule\":\"evenodd\",\"clip-rule\":\"evenodd\",d:\"M2.40554 2.40554C2.94627 1.86482 3.82296 1.86482 4.36369 2.40554L8 6.04186L11.6363 2.40554C12.177 1.86482 13.0537 1.86482 13.5945 2.40554C14.1352 2.94627 14.1352 3.82296 13.5945 4.36369L9.95814 8L13.5945 11.6363C14.1352 12.177 14.1352 13.0537 13.5945 13.5945C13.0537 14.1352 12.177 14.1352 11.6363 13.5945L8 9.95814L4.36369 13.5945C3.82296 14.1352 2.94627 14.1352 2.40554 13.5945C1.86482 13.0537 1.86482 12.177 2.40554 11.6363L6.04186 8L2.40554 4.36369C1.86482 3.82296 1.86482 2.94627 2.40554 2.40554Z\",fill:\"#BBC0C5\"})),ak=()=>me(\"svg\",{width:\"120\",xmlns:\"http://www.w3.org/2000/svg\",fill:\"none\",viewBox:\"0 0 127 63\"},me(\"path\",{fill:\"currentColor\",d:\"M71.554 48.607v13.81h-7.072v-9.568l-8.059.945c-1.77.205-2.548.79-2.548 1.864 0 1.575 1.478 2.239 4.648 2.239 1.932 0 4.073-.29 5.963-.79l-3.66 5.225c-1.479.332-2.92.496-4.44.496-6.414 0-10.074-2.57-10.074-7.132 0-4.023 2.877-6.136 9.416-6.884l8.638-1.012c-.467-2.532-2.362-3.633-6.13-3.633-3.537 0-7.443.912-10.937 2.613l1.111-6.18c3.248-1.369 6.95-2.074 10.69-2.074 8.226 0 12.461 3.444 12.461 10.075l-.008.005ZM7.938 31.315.208 62.416h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73l-7.73-31.105-14.518 17.388L7.934 31.311l.004.004ZM36.97.21 22.452 17.598 7.938.21.208 31.315h7.73l3.836-15.628 6.65 8.039h8.06l6.65-8.039 3.836 15.628h7.73L36.97.21Zm53.17 48.107-6.25-.912c-1.562-.247-2.178-.747-2.178-1.617 0-1.41 1.52-2.032 4.647-2.032 3.62 0 6.868.747 10.283 2.364l-.862-6.094c-2.757-.995-5.922-1.491-9.212-1.491-7.688 0-11.886 2.696-11.886 7.547 0 3.776 2.303 5.889 7.196 6.636l6.335.954c1.603.248 2.261.87 2.261 1.865 0 1.41-1.478 2.074-4.481 2.074-3.948 0-8.225-.953-11.72-2.654l.7 6.094c3.003 1.122 6.91 1.785 10.57 1.785 7.896 0 12.007-2.78 12.007-7.715 0-3.94-2.303-6.057-7.4-6.8l-.01-.004ZM100.3 34.09v28.325h7.071V34.091H100.3Zm15.334 15.595 9.833-10.744h-8.8l-9.296 11.114 9.912 12.356h8.925l-10.574-12.73v.004Zm-16.321-25.09c0 4.56 3.66 7.13 10.074 7.13 1.52 0 2.961-.167 4.44-.495l3.66-5.225c-1.89.496-4.031.79-5.963.79-3.166 0-4.648-.664-4.648-2.239 0-1.079.783-1.659 2.549-1.864l8.058-.945v9.567h7.072v-13.81c0-6.635-4.236-10.075-12.461-10.075-3.744 0-7.442.705-10.691 2.075l-1.112 6.178c3.495-1.701 7.401-2.613 10.937-2.613 3.769 0 5.664 1.1 6.13 3.633l-8.637 1.013c-6.539.747-9.417 2.86-9.417 6.883l.009-.004Zm-19.779-1.492c0 5.725 3.29 8.627 9.787 8.627 2.59 0 4.732-.416 6.785-1.37l.903-6.261c-1.974 1.2-3.99 1.822-6.005 1.822-3.044 0-4.402-1.243-4.402-4.023v-8.295h10.732V7.84H86.601V2.948l-13.448 7.174v3.482h6.372V23.1l.008.004Zm-6.95-2.612v1.411H53.47c.862 2.873 3.423 4.187 7.97 4.187 3.62 0 6.993-.747 9.992-2.196l-.862 6.056c-2.757 1.16-6.251 1.785-9.829 1.785-9.5 0-14.68-4.23-14.68-12.066 0-7.838 5.264-12.235 13.406-12.235s13.119 4.771 13.119 13.062l-.005-.004ZM53.378 17.09h12.086c-.637-2.751-2.732-4.188-6.08-4.188-3.349 0-5.335 1.399-6.006 4.188Z\"}));function zh(t,e){return t.toString(2).padStart(e,\"0\")}function tH(t,e){const n=t%e;return n>=0?n:e+n}function Io(t,e){return new Array(t).fill(e)}function nH(...t){let e=0;for(const r of t)e=Math.max(e,r.length);const n=[];for(let r=0;r<e;r++)for(const i of t)r>=i.length||n.push(i[r]);return new Uint8Array(n)}function rH(t,e,n){if(n<0||n+e.length>t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[n+r])return!1;return!0}function iH(t){return{has:e=>t.includes(e),decode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!=\"string\")throw new Error(\"alphabet.decode input should be array of strings\");return e.map((n=>{if(typeof n!=\"string\")throw new Error(`alphabet.decode: not string element=${n}`);const r=t.indexOf(n);if(r===-1)throw new Error(`Unknown letter: \"${n}\". Allowed: ${t}`);return r}))},encode:e=>{if(!Array.isArray(e)||e.length&&typeof e[0]!=\"number\")throw new Error(\"alphabet.encode input should be an array of numbers\");return e.map((n=>{if((function(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)})(n),n<0||n>=t.length)throw new Error(`Digit index outside alphabet: ${n} (alphabet: ${t.length})`);return t[n]}))}}}class So{static size(e,n){if(typeof e==\"number\"&&(e={height:e,width:e}),!Number.isSafeInteger(e.height)&&e.height!==1/0)throw new Error(`Bitmap: wrong height=${e.height} (${typeof e.height})`);if(!Number.isSafeInteger(e.width)&&e.width!==1/0)throw new Error(`Bitmap: wrong width=${e.width} (${typeof e.width})`);return n!==void 0&&(e={width:Math.min(e.width,n.width),height:Math.min(e.height,n.height)}),e}static fromString(e){const n=(e=e.replace(/^\\n+/g,\"\").replace(/\\n+$/g,\"\")).split(`\n`),r=n.length,i=new Array(r);let s;for(const o of n){const a=o.split(\"\").map((c=>{if(c===\"X\")return!0;if(c===\" \")return!1;if(c!==\"?\")throw new Error(`Bitmap.fromString: unknown symbol=${c}`)}));if(s&&a.length!==s)throw new Error(`Bitmap.fromString different row sizes: width=${s} cur=${a.length}`);s=a.length,i.push(a)}return s||(s=0),new So({height:r,width:s},i)}constructor(e,n){const{height:r,width:i}=So.size(e);this.data=n||Array.from({length:r},(()=>Io(i,void 0))),this.height=r,this.width=i}point(e){return this.data[e.y][e.x]}isInside(e){return 0<=e.x&&e.x<this.width&&0<=e.y&&e.y<this.height}size(e){if(!e)return{height:this.height,width:this.width};const{x:n,y:r}=this.xy(e);return{height:this.height-r,width:this.width-n}}xy(e){if(typeof e==\"number\"&&(e={x:e,y:e}),!Number.isSafeInteger(e.x))throw new Error(`Bitmap: wrong x=${e.x}`);if(!Number.isSafeInteger(e.y))throw new Error(`Bitmap: wrong y=${e.y}`);return e.x=tH(e.x,this.width),e.y=tH(e.y,this.height),e}rect(e,n,r){const{x:i,y:s}=this.xy(e),{height:o,width:a}=So.size(n,this.size({x:i,y:s}));for(let c=0;c<o;c++)for(let l=0;l<a;l++)this.data[s+c][i+l]=typeof r==\"function\"?r({x:l,y:c},this.data[s+c][i+l]):r;return this}rectRead(e,n,r){return this.rect(e,n,((i,s)=>(r(i,s),s)))}hLine(e,n,r){return this.rect(e,{width:n,height:1},r)}vLine(e,n,r){return this.rect(e,{width:1,height:n},r)}border(e=2,n){const r=this.height+2*e,i=this.width+2*e,s=Io(e,n),o=Array.from({length:e},(()=>Io(i,n)));return new So({height:r,width:i},[...o,...this.data.map((a=>[...s,...a,...s])),...o])}embed(e,n){return this.rect(e,n.size(),(({x:r,y:i})=>n.data[i][r]))}rectSlice(e,n=this.size()){const r=new So(So.size(n,this.size(this.xy(e))));return this.rect(e,n,(({x:i,y:s},o)=>r.data[s][i]=o)),r}inverse(){const{height:e,width:n}=this;return new So({height:n,width:e}).rect({x:0,y:0},1/0,(({x:r,y:i})=>this.data[r][i]))}scale(e){if(!Number.isSafeInteger(e)||e>1024)throw new Error(`Wrong scale factor: ${e}`);const{height:n,width:r}=this;return new So({height:e*n,width:e*r}).rect({x:0,y:0},1/0,(({x:i,y:s})=>this.data[Math.floor(s/e)][Math.floor(i/e)]))}clone(){return new So(this.size()).rect({x:0,y:0},this.size(),(({x:e,y:n})=>this.data[n][e]))}assertDrawn(){this.rectRead(0,1/0,((e,n)=>{if(typeof n!=\"boolean\")throw new Error(\"Invalid color type=\"+typeof n)}))}toString(){return this.data.map((e=>e.map((n=>n===void 0?\"?\":n?\"X\":\" \")).join(\"\"))).join(`\n`)}toASCII(){const{height:e,width:n,data:r}=this;let i=\"\";for(let s=0;s<e;s+=2){for(let o=0;o<n;o++){const a=r[s][o],c=s+1>=e||r[s+1][o];a||c?!a&&c?i+=\"\":a&&!c?i+=\"\":a&&c&&(i+=\" \"):i+=\"\"}i+=`\n`}return i}toTerm(){const e=\"\\x1B[0m\",n=`\\x1B[1;47m  ${e}`,r=`\\x1B[40m  ${e}`;return this.data.map((i=>i.map((s=>s?r:n)).join(\"\"))).join(`\n`)}toSVG(){let e=`<svg xmlns:svg=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 ${this.width} ${this.height}\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\">`;return this.rectRead(0,1/0,(({x:n,y:r},i)=>{i&&(e+=`<rect x=\"${n}\" y=\"${r}\" width=\"1\" height=\"1\" />`)})),e+=\"</svg>\",e}toGIF(){const e=a=>[255&a,a>>>8&255],n=[...e(this.width),...e(this.height)],r=[];this.rectRead(0,1/0,((a,c)=>r.push(+(c===!0))));const i=126,s=[71,73,70,56,55,97,...n,246,0,0,255,255,255,...Io(381,0),44,0,0,0,0,...n,0,7],o=Math.floor(r.length/i);for(let a=0;a<o;a++)s.push(127,128,...r.slice(i*a,i*(a+1)).map((c=>+c)));return s.push(r.length%i+1,128,...r.slice(o*i).map((a=>+a))),s.push(1,129,0,59),new Uint8Array(s)}toImage(e=!1){const{height:n,width:r}=this.size(),i=new Uint8Array(n*r*(e?3:4));let s=0;for(let o=0;o<n;o++)for(let a=0;a<r;a++){const c=this.data[o][a]?0:255;i[s++]=c,i[s++]=c,i[s++]=c,e||(i[s++]=255)}return{height:n,width:r,data:i}}}const sH=[\"low\",\"medium\",\"quartile\",\"high\"],oH=[\"numeric\",\"alphanumeric\",\"byte\",\"kanji\",\"eci\"],zxe=[26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],Fxe={low:[7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],medium:[10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],quartile:[13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],high:[17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]},qxe={low:[1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],medium:[1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],quartile:[1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],high:[1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]},es={size:{encode:t=>21+4*(t-1),decode:t=>(t-17)/4},sizeType:t=>Math.floor((t+7)/17),alignmentPatterns(t){if(t===1)return[];const e=es.size.encode(t)-6-1,n=e-6,r=Math.ceil(n/28);let i=Math.floor(n/r);i%2?i+=1:n%r*2>=r&&(i+=2);const s=[6];for(let o=1;o<r;o++)s.push(e-(r-o)*i);return s.push(e),s},ECCode:{low:1,medium:0,quartile:3,high:2},formatMask:21522,formatBits(t,e){const n=es.ECCode[t]<<3|e;let r=n;for(let i=0;i<10;i++)r=r<<1^1335*(r>>9);return(n<<10|r)^es.formatMask},versionBits(t){let e=t;for(let n=0;n<12;n++)e=e<<1^7973*(e>>11);return t<<12|e},alphabet:{numeric:iH(\"0123456789\"),alphanumerc:iH(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:\")},lengthBits:(t,e)=>({numeric:[10,12,14],alphanumeric:[9,11,13],byte:[8,16,16],kanji:[8,10,12],eci:[0,0,0]})[e][es.sizeType(t)],modeBits:{numeric:\"0001\",alphanumeric:\"0010\",byte:\"0100\",kanji:\"1000\",eci:\"0111\"},capacity(t,e){const n=zxe[t-1],r=Fxe[e][t-1],i=qxe[e][t-1],s=Math.floor(n/i)-r,o=i-n%i;return{words:r,numBlocks:i,shortBlocks:o,blockLen:s,capacity:8*(n-r*i),total:(r+s)*i+i-o}}},nP=[(t,e)=>(t+e)%2==0,(t,e)=>e%2==0,(t,e)=>t%3==0,(t,e)=>(t+e)%3==0,(t,e)=>(Math.floor(e/2)+Math.floor(t/3))%2==0,(t,e)=>t*e%2+t*e%3==0,(t,e)=>(t*e%2+t*e%3)%2==0,(t,e)=>((t+e)%2+t*e%3)%2==0],Qe={tables:(t=>{const e=Io(256,0),n=Io(256,0);for(let r=0,i=1;r<256;r++)e[r]=i,n[i]=r,i<<=1,256&i&&(i^=285);return{exp:e,log:n}})(),exp:t=>Qe.tables.exp[t],log(t){if(t===0)throw new Error(`GF.log: wrong arg=${t}`);return Qe.tables.log[t]%255},mul:(t,e)=>t===0||e===0?0:Qe.tables.exp[(Qe.tables.log[t]+Qe.tables.log[e])%255],add:(t,e)=>t^e,pow:(t,e)=>Qe.tables.exp[Qe.tables.log[t]*e%255],inv(t){if(t===0)throw new Error(`GF.inverse: wrong arg=${t}`);return Qe.tables.exp[255-Qe.tables.log[t]]},polynomial(t){if(t.length==0)throw new Error(\"GF.polymomial: wrong length\");if(t[0]!==0)return t;let e=0;for(;e<t.length-1&&t[e]==0;e++);return t.slice(e)},monomial(t,e){if(t<0)throw new Error(`GF.monomial: wrong degree=${t}`);if(e==0)return[0];let n=Io(t+1,0);return n[0]=e,Qe.polynomial(n)},degree:t=>t.length-1,coefficient:(t,e)=>t[Qe.degree(t)-e],mulPoly(t,e){if(t[0]===0||e[0]===0)return[0];const n=Io(t.length+e.length-1,0);for(let r=0;r<t.length;r++)for(let i=0;i<e.length;i++)n[r+i]=Qe.add(n[r+i],Qe.mul(t[r],e[i]));return Qe.polynomial(n)},mulPolyScalar(t,e){if(e==0)return[0];if(e==1)return t;const n=Io(t.length,0);for(let r=0;r<t.length;r++)n[r]=Qe.mul(t[r],e);return Qe.polynomial(n)},mulPolyMonomial(t,e,n){if(e<0)throw new Error(\"GF.mulPolyMonomial: wrong degree\");if(n==0)return[0];const r=Io(t.length+e,0);for(let i=0;i<t.length;i++)r[i]=Qe.mul(t[i],n);return Qe.polynomial(r)},addPoly(t,e){if(t[0]===0)return e;if(e[0]===0)return t;let n=t,r=e;n.length>r.length&&([n,r]=[r,n]);let i=Io(r.length,0),s=r.length-n.length,o=r.slice(0,s);for(let a=0;a<o.length;a++)i[a]=o[a];for(let a=s;a<r.length;a++)i[a]=Qe.add(n[a-s],r[a]);return Qe.polynomial(i)},remainderPoly(t,e){const n=Array.from(t);for(let r=0;r<t.length-e.length+1;r++){const i=n[r];if(i!==0)for(let s=1;s<e.length;s++)e[s]!==0&&(n[r+s]=Qe.add(n[r+s],Qe.mul(e[s],i)))}return n.slice(t.length-e.length+1,n.length)},divisorPoly(t){let e=[1];for(let n=0;n<t;n++)e=Qe.mulPoly(e,[1,Qe.pow(2,n)]);return e},evalPoly(t,e){if(e==0)return Qe.coefficient(t,0);let n=t[0];for(let r=1;r<t.length;r++)n=Qe.add(Qe.mul(e,n),t[r]);return n},euclidian(t,e,n){Qe.degree(t)<Qe.degree(e)&&([t,e]=[e,t]);let r=t,i=e,s=[0],o=[1];for(;2*Qe.degree(i)>=n;){let l=r,d=s;if(r=i,s=o,r[0]===0)throw new Error(\"rLast[0] === 0\");i=l;let h=[0];const p=Qe.inv(r[0]);for(;Qe.degree(i)>=Qe.degree(r)&&i[0]!==0;){const m=Qe.degree(i)-Qe.degree(r),b=Qe.mul(i[0],p);h=Qe.addPoly(h,Qe.monomial(m,b)),i=Qe.addPoly(i,Qe.mulPolyMonomial(r,m,b))}if(h=Qe.mulPoly(h,s),o=Qe.addPoly(h,d),Qe.degree(i)>=Qe.degree(r))throw new Error(`Division failed r: ${i}, rLast: ${r}`)}const a=Qe.coefficient(o,0);if(a==0)throw new Error(\"sigmaTilde(0) was zero\");const c=Qe.inv(a);return[Qe.mulPolyScalar(o,c),Qe.mulPolyScalar(i,c)]}};function Hxe(t,e){const{words:n,shortBlocks:r,numBlocks:i,blockLen:s,total:o}=es.capacity(t,e),a=(c=n,{encode(l){const d=Qe.divisorPoly(c),h=Array.from(l);return h.push(...d.slice(0,-1).fill(0)),Uint8Array.from(Qe.remainderPoly(h,d))},decode(l){const d=l.slice(),h=Qe.polynomial(Array.from(l));let p=Io(c,0),m=!1;for(let C=0;C<c;C++){const S=Qe.evalPoly(h,Qe.exp(C));p[p.length-1-C]=S,S!==0&&(m=!0)}if(!m)return d;p=Qe.polynomial(p);const b=Qe.monomial(c,1),[y,E]=Qe.euclidian(b,p,c),v=Io(Qe.degree(y),0);let _=0;for(let C=1;C<256&&_<v.length;C++)Qe.evalPoly(y,C)===0&&(v[_++]=Qe.inv(C));if(_!==v.length)throw new Error(\"RS.decode: wrong errors number\");for(let C=0;C<v.length;C++){const S=d.length-1-Qe.log(v[C]);if(S<0)throw new Error(\"RS.decode: wrong error location\");const A=Qe.inv(v[C]);let I=1;for(let O=0;O<v.length;O++)C!==O&&(I=Qe.mul(I,Qe.add(1,Qe.mul(v[O],A))));d[S]=Qe.add(d[S],Qe.mul(Qe.evalPoly(E,A),Qe.inv(I)))}return d}});var c;return{encode(l){const d=[],h=[];for(let y=0;y<i;y++){const E=s+(y<r?0:1);d.push(l.subarray(0,E)),h.push(a.encode(l.subarray(0,E))),l=l.subarray(E)}const p=nH(...d),m=nH(...h),b=new Uint8Array(p.length+m.length);return b.set(p),b.set(m,p.length),b},decode(l){if(l.length!==o)throw new Error(`interleave.decode: len(data)=${l.length}, total=${o}`);const d=[];for(let m=0;m<i;m++){const b=m<r;d.push(new Uint8Array(n+s+(b?0:1)))}let h=0;for(let m=0;m<s;m++)for(let b=0;b<i;b++)d[b][m]=l[h++];for(let m=r;m<i;m++)d[m][s]=l[h++];for(let m=s;m<s+n;m++)for(let b=0;b<i;b++){const y=b<r;d[b][m+(y?0:1)]=l[h++]}const p=[];for(const m of d)p.push(...Array.from(a.decode(m)).slice(0,-n));return Uint8Array.from(p)}}}function aH(t,e,n,r){let i=\"\",s=n.length;if(r===\"numeric\"){const h=es.alphabet.numeric.decode(n.split(\"\")),p=h.length;for(let m=0;m<p-2;m+=3)i+=zh(100*h[m]+10*h[m+1]+h[m+2],10);p%3==1?i+=zh(h[p-1],4):p%3==2&&(i+=zh(10*h[p-2]+h[p-1],7))}else if(r===\"alphanumeric\"){const h=es.alphabet.alphanumerc.decode(n.split(\"\")),p=h.length;for(let m=0;m<p-1;m+=2)i+=zh(45*h[m]+h[m+1],11);p%2==1&&(i+=zh(h[p-1],6))}else{if(r!==\"byte\")throw new Error(\"encode: unsupported type\");{const h=(function(p){if(typeof p!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof p);return new Uint8Array(new TextEncoder().encode(p))})(n);s=h.length,i=Array.from(h).map((p=>zh(p,8))).join(\"\")}}const{capacity:o}=es.capacity(t,e),a=zh(s,es.lengthBits(t,r));let c=es.modeBits[r]+a+i;if(c.length>o)throw new Error(\"Capacity overflow\");c+=\"0\".repeat(Math.min(4,Math.max(0,o-c.length))),c.length%8&&(c+=\"0\".repeat(8-c.length%8));const l=\"1110110000010001\";for(let h=0;c.length!==o;h++)c+=l[h%16];const d=Uint8Array.from(c.match(/(.{8})/g).map((h=>+`0b${h}`)));return Hxe(t,e).encode(d)}function cH(t,e,n,r,i=!1){const s=(function(c,l,d,h=!1){const p=es.size.encode(c);let m=new So(p+2);const b=new So(3).rect(0,3,!0).border(1,!1).border(1,!0).border(1,!1);m=m.embed(0,b).embed({x:-b.width,y:0},b).embed({x:0,y:-b.height},b),m=m.rectSlice(1,p);const y=new So(1).rect(0,1,!0).border(1,!1).border(1,!0),E=es.alignmentPatterns(c);for(const v of E)for(const _ of E)m.data[v][_]===void 0&&m.embed({x:_-2,y:v-2},y);m=m.hLine({x:0,y:6},1/0,(({x:v},_)=>_===void 0?v%2==0:_)).vLine({x:6,y:0},1/0,(({y:v},_)=>_===void 0?v%2==0:_));{const v=es.formatBits(l,d),_=C=>!h&&(v>>C&1)==1;for(let C=0;C<6;C++)m.data[C][8]=_(C);for(let C=6;C<8;C++)m.data[C+1][8]=_(C);for(let C=8;C<15;C++)m.data[p-15+C][8]=_(C);for(let C=0;C<8;C++)m.data[8][p-C-1]=_(C);for(let C=8;C<9;C++)m.data[8][15-C-1+1]=_(C);for(let C=9;C<15;C++)m.data[8][15-C-1]=_(C);m.data[p-8][8]=!h}if(c>=7){const v=es.versionBits(c);for(let _=0;_<18;_+=1){const C=!h&&(v>>_&1)==1,S=Math.floor(_/3),A=_%3+p-8-3;m.data[S][A]=C,m.data[A][S]=C}}return m})(t,e,r,i);let o=0;const a=8*n.length;if((function(c,l,d){const h=c.height,p=nP[l];let m=-1,b=h-1;for(let y=h-1;y>0;y-=2){for(y==6&&(y=5);;b+=m){for(let E=0;E<2;E+=1){const v=y-E;c.data[b][v]===void 0&&d(v,b,p(v,b))}if(b+m<0||b+m>=h)break}m=-m}})(s,r,((c,l,d)=>{let h=!1;o<a&&(h=(n[o>>>3]>>(7-o&7)&1)!=0,o++),s.data[l][c]=h!==d})),o!==a)throw new Error(\"QR: bytes left after draw\");return s}function Vxe(t){const e=t.inverse(),n=m=>{let b=0;for(let y,E=0,v=1;E<m.length;E++)y===m[E]&&(v++,E!==m.length-1)||(v>=5&&(b+=v-5+3),y=m[E],v=1);return b};let r=0;t.data.forEach((m=>r+=n(m))),e.data.forEach((m=>r+=n(m)));let i=0,s=t.data;const o=t.width-1,a=t.height-1;for(let m=0;m<o;m++)for(let b=0;b<a;b++){const y=m+1,E=b+1;s[m][b]===s[y][b]&&s[y][b]===s[m][E]&&s[y][b]===s[y][E]&&(i+=3)}const c=m=>{const b=[!0,!1,!0,!0,!0,!1,!0],y=[!1,!1,!1,!1],E=[...b,...y],v=[...y,...b];let _=0;for(let C=0;C<m.length;C++)rH(m,E,C)&&(_+=40),rH(m,v,C)&&(_+=40);return _};let l=0;for(const m of t.data)l+=c(m);for(const m of e.data)l+=c(m);let d=0;t.rectRead(0,1/0,((m,b)=>d+=b?1:0));const h=d/(t.height*t.width)*100,p=10*Math.floor(Math.abs(h-50)/5);return r+i+l+p}function use(t,e=\"raw\",n={}){const r=n.ecc!==void 0?n.ecc:\"medium\";(function(d){if(!sH.includes(d))throw new Error(`Invalid error correction mode=${d}. Expected: ${sH}`)})(r);const i=n.encoding!==void 0?n.encoding:(function(d){let h=\"numeric\";for(let p of d)if(!es.alphabet.numeric.has(p)&&(h=\"alphanumeric\",!es.alphabet.alphanumerc.has(p)))return\"byte\";return h})(t);(function(d){if(!oH.includes(d))throw new Error(`Encoding: invalid mode=${d}. Expected: ${oH}`);if(d===\"kanji\"||d===\"eci\")throw new Error(`Encoding: ${d} is not supported (yet?).`)})(i),n.mask!==void 0&&(function(d){if(![0,1,2,3,4,5,6,7].includes(d)||!nP[d])throw new Error(`Invalid mask=${d}. Expected number [0..7]`)})(n.mask);let s,o=n.version,a=new Error(\"Unknown error\");if(o!==void 0)(function(d){if(!Number.isSafeInteger(d)||d<1||d>40)throw new Error(`Invalid version=${d}. Expected number [1..40]`)})(o),s=aH(o,r,t,i);else for(let d=1;d<=40;d++)try{s=aH(d,r,t,i),o=d;break}catch(h){a=h}if(!o||!s)throw a;let c=(function(d,h,p,m){if(m===void 0){const b=(function(){let y,E=1/0;return{add(v,_){v>=E||(y=_,E=v)},get:()=>y,score:()=>E}})();for(let y=0;y<nP.length;y++)b.add(Vxe(cH(d,h,p,y,!0)),y);m=b.get()}if(m===void 0)throw new Error(\"Cannot find mask\");return cH(d,h,p,m)})(o,r,s,n.mask);c.assertDrawn();const l=n.border===void 0?2:n.border;if(!Number.isSafeInteger(l))throw new Error(\"Wrong border type=\"+typeof l);if(c=c.border(l,!1),n.scale!==void 0&&(c=c.scale(n.scale)),e===\"raw\")return c.data;if(e===\"ascii\")return c.toASCII();if(e===\"svg\")return c.toSVG();if(e===\"gif\")return c.toGIF();if(e===\"term\")return c.toTerm();throw new Error(`Unknown output: ${e}`)}const P7={DESKTOP:\"Desktop\",MOBILE:\"Mobile\",META_MASK_MOBILE_APP:\"MetaMask mobile app\",SCAN_TO_CONNECT:\"Scan to connect and sign with\",CONNECT_WITH_EXTENSION:\"Connect With MetaMask Extension\",INSTALL_MODAL:{TRUSTED_BY_USERS:\"Trusted by over 30 million users to buy, store, send and swap crypto securely\",LEADING_CRYPTO_WALLET:\"The leading crypto wallet & gateway to blockchain apps built on Ethereum Mainnet, Polygon, Optimism, and many other networks\",CONTROL_DIGITAL_INTERACTIONS:\"Puts you in control of your digital interactions by making power of cryptography more accessible\",INSTALL_META_MASK_EXTENSION:\"Install MetaMask Extension\"},PENDING_MODAL:{OPEN_META_MASK_SELECT_CODE:\"Please open the MetaMask wallet app and select the code on the screen OR disconnect\",OPEN_META_MASK_CONTINUE:\"Open the MetaMask app to continue with your session.\",NUMBER_AFTER_OPEN_NOTICE:\"If a number doesn't appear after opening MetaMask, please click disconnect and re-scan the QRCode.\",DISCONNECT:\"Disconnect\"},SELECT_MODAL:{CRYPTO_TAKE_CONTROL_TEXT:\"Take control of your crypto and explore the blockchain with the wallet trusted by over 30 million people worldwide\"},META_MASK_MODAL:{ADDRESS_COPIED:\"Address copied to clipboard!\",DISCONNECT:\"Disconnect\",ACTIVE_NETWORK:\"Active Network\"}};class ck{constructor(e){var n;this.translations=P7,this.supportedLocales=[\"es\",\"fr\",\"he\",\"it\",\"pt\",\"tr\"],this.baseUrl=(n=e==null?void 0:e.baseUrl)!==null&&n!==void 0?n:\"https://raw.githubusercontent.com/MetaMask/metamask-sdk/refs/heads/gh-pages/locales\"}getBrowserLanguage(){if((navigator.languages||[navigator.language]).some((n=>n.toLowerCase().startsWith(\"en\"))))return\"en\";const e=navigator.language.toLowerCase().split(\"-\")[0];return this.supportedLocales.includes(e)?e:\"en\"}async init(e){const n=this.getBrowserLanguage()||e.fallbackLng;await this.loadTranslations(n)}async loadTranslations(e){const n=e.split(\"-\")[0];if(n!==\"en\"&&this.supportedLocales.includes(n))try{const r=`${this.baseUrl}/${n}.json`,i=await fetch(r);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);this.translations=await i.json()}catch(r){console.warn(` Failed to load ${n} translations, falling back to English:`,r),this.translations=P7}else this.translations=P7}t(e){return this.getNestedTranslation(e,this.translations)||e}getNestedTranslation(e,n){const r=e.split(\".\");let i=n;for(const s of r){if(typeof i!=\"object\")return\"\";i=i[s]}return typeof i==\"string\"?i:\"\"}}var Bw;(function(t){t.SDK_MODAL_VIEWED=\"sdk_modal_viewed\",t.SDK_MODAL_BUTTON_CLICKED=\"sdk_modal_button_clicked\",t.SDK_MODAL_TOGGLE_CHANGED=\"sdk_modal_toggle_changed\"})(Bw||(Bw={}));const dse=class{constructor(t){JR(this,t),this.close=zf(this,\"close\"),this.startDesktopOnboarding=zf(this,\"startDesktopOnboarding\"),this.trackAnalytics=zf(this,\"trackAnalytics\"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.onClose=this.onClose.bind(this),this.onStartDesktopOnboardingHandler=this.onStartDesktopOnboardingHandler.bind(this),this.setTab=this.setTab.bind(this),this.render=this.render.bind(this),this.setTab(this.preferDesktop?1:2),this.i18nInstance=new ck}componentDidLoad(){this.trackAnalytics.emit({event:Bw.SDK_MODAL_VIEWED,params:{extensionInstalled:!1,tab:this.tab===1?\"desktop\":\"mobile\"}})}async connectedCallback(){await this.i18nInstance.init({fallbackLng:\"en\"}),this.translationsLoaded=!0}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}onClose(t=!1){this.close.emit({shouldTerminate:t})}onStartDesktopOnboardingHandler(){this.trackAnalytics.emit({event:Bw.SDK_MODAL_BUTTON_CLICKED,params:{button_type:\"install_extension\",tab:\"desktop\"}}),this.startDesktopOnboarding.emit()}setTab(t,e=!1){e&&this.trackAnalytics.emit({event:Bw.SDK_MODAL_TOGGLE_CHANGED,params:{toggle:this.tab===1?\"desktop_to_mobile\":\"mobile_to_desktop\"}}),this.tab=t,this.isDefaultTab=!1}render(){if(!this.translationsLoaded)return null;const t=r=>this.i18nInstance.t(r),e=this.isDefaultTab?this.preferDesktop?1:2:this.tab,n=use(this.link,\"svg\",{ecc:\"medium\",scale:2});return me(ik,{className:\"install-model\"},me(\"div\",{class:\"backdrop\",onClick:()=>this.onClose(!0)}),me(\"div\",{class:\"modal\"},me(\"div\",{class:\"closeButtonContainer\"},me(\"div\",{class:\"right\"},me(\"span\",{class:\"closeButton\",onClick:()=>this.onClose(!0)},me(ok,null)))),me(\"div\",{class:\"logoContainer\"},me(ak,null)),me(\"div\",null,me(\"div\",{class:\"tabcontainer\"},me(\"div\",{class:\"flexContainer\"},me(\"div\",{onClick:()=>this.setTab(1,!0),class:\"tab flexItem \"+(e===1?\"tabactive\":\"\")},t(\"DESKTOP\")),me(\"div\",{onClick:()=>this.setTab(2,!0),class:\"tab flexItem \"+(e===2?\"tabactive\":\"\")},t(\"MOBILE\")))),me(\"div\",{style:{display:e===1?\"none\":\"block\"}},me(\"div\",{class:\"flexContainer\"},me(\"div\",{class:\"flexItem\",style:{textAlign:\"center\",marginTop:\"4\"}},n&&me(\"div\",{id:\"sdk-mm-qrcode\",class:\"center\",innerHTML:n}),me(\"div\",{class:\"connectMobileText\"},t(\"SCAN_TO_CONNECT\"),\" \",me(\"br\",null),me(\"span\",{class:\"blue\"},me(\"b\",null,t(\"META_MASK_MOBILE_APP\"))))))),me(\"div\",{style:{display:e===2?\"none\":\"block\"}},me(\"div\",{class:\"item\"},me(T7,{Icon:Lxe,text:t(\"INSTALL_MODAL.TRUSTED_BY_USERS\")})),me(\"div\",{class:\"item\"},me(T7,{Icon:Bxe,text:t(\"INSTALL_MODAL.LEADING_CRYPTO_WALLET\")})),me(\"div\",{class:\"item\"},me(T7,{Icon:Uxe,text:t(\"INSTALL_MODAL.CONTROL_DIGITAL_INTERACTIONS\")})),me(\"button\",{class:\"button\",onClick:()=>this.onStartDesktopOnboardingHandler()},me(jxe,null),me(\"span\",{class:\"installExtensionText\"},t(\"INSTALL_MODAL.INSTALL_META_MASK_EXTENSION\"))))),me(sk,{version:this.sdkVersion})))}get el(){return Z_(this)}static get watchers(){return{preferDesktop:[\"updatePreferDesktop\"]}}};dse.style=`.flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}`;const fse=class{constructor(t){JR(this,t),this.close=zf(this,\"close\"),this.disconnect=zf(this,\"disconnect\"),this.updateOTPValue=zf(this,\"updateOTPValue\"),this.displayOTP=void 0,this.sdkVersion=void 0,this.otpCode=void 0,this.translationsLoaded=!1,this.i18nInstance=new ck}async connectedCallback(){await this.i18nInstance.init({fallbackLng:\"en\"}),this.translationsLoaded=!0}onClose(){this.close.emit()}onDisconnect(){this.disconnect.emit()}onUpdateOTPValueHandler(t){this.updateOTPValue.emit({otpValue:t})}disconnectedCallback(){this.onClose()}render(){var t;if(!this.translationsLoaded)return null;const e=(t=this.displayOTP)===null||t===void 0||t,n=this.sdkVersion,r=i=>this.i18nInstance.t(i);return me(ik,{className:\"pending-modal\"},me(\"div\",{class:\"backdrop\",onClick:()=>this.onClose()}),me(\"div\",{class:\"modal\"},me(\"div\",{class:\"closeButtonContainer\"},me(\"div\",{class:\"right\"},me(\"span\",{class:\"closeButton\",onClick:()=>this.onClose()},me(ok,null)))),me(\"div\",{class:\"logoContainer\"},me(ak,null)),me(\"div\",null,me(\"div\",{class:\"flexContainer\",style:{flexDirection:\"column\",color:\"black\"}},me(\"div\",{class:\"flexItem\",style:{textAlign:\"center\",marginTop:\"30px\",marginBottom:\"30px\",fontSize:\"16px\"}},r(e?\"PENDING_MODAL.OPEN_META_MASK_SELECT_CODE\":\"PENDING_MODAL.OPEN_META_MASK_CONTINUE\")),me(\"div\",{id:\"sdk-mm-otp-value\",style:{padding:\"10px\",fontSize:\"32px\",display:this.otpCode?\"block\":\"none\"}},this.otpCode),e&&me(\"div\",{class:\"notice\"},\"* \",r(\"PENDING_MODAL.NUMBER_AFTER_OPEN_NOTICE\"))),me(\"div\",{style:{marginTop:\"20px\"}},me(\"button\",{class:\"button blue\",style:{marginTop:\"5px\",color:\"#0376C9\",borderColor:\"#0376C9\",borderWidth:\"1px\",borderStyle:\"solid\",backgroundColor:\"white\"},onClick:()=>this.onDisconnect()},r(\"PENDING_MODAL.DISCONNECT\")))),me(sk,{version:n})))}get el(){return Z_(this)}};fse.style=`.flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}`;const Kxe=()=>me(\"svg\",{width:\"21\",height:\"15\",viewBox:\"0 0 21 15\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"path\",{d:\"M14.1364 14.9851C13.5909 14.9851 13.2273 14.5851 13.2273 13.9851C13.2273 13.3851 13.5909 12.9851 14.1364 12.9851C16.6818 12.9851 18.6818 10.7851 18.6818 7.98508C18.6818 5.18508 16.6818 2.98508 14.1364 2.98508C11.5909 2.98508 9.59091 5.18508 9.59091 7.98508C9.59091 8.58508 9.22727 8.98508 8.68182 8.98508C8.13636 8.98508 7.77273 8.58508 7.77273 7.98508C7.77273 4.08508 10.5909 0.985077 14.1364 0.985077C17.6818 0.985077 20.5 4.08508 20.5 7.98508C20.5 11.8851 17.6818 14.9851 14.1364 14.9851ZM6.68182 14.7851C3.22727 14.7851 0.5 11.6851 0.5 7.98508C0.5 4.28508 3.22727 1.18508 6.68182 1.18508C7.22727 1.18508 7.59091 1.58508 7.59091 2.18508C7.59091 2.78508 7.22727 3.18508 6.68182 3.18508C4.22727 3.18508 2.31818 5.38508 2.31818 7.98508C2.31818 10.5851 4.22727 12.7851 6.68182 12.7851C9.13636 12.7851 11.0455 10.6851 11.0455 7.98508C11.0455 7.38508 11.4091 6.98508 11.9545 6.98508C12.5 6.98508 12.8636 7.38508 12.8636 7.98508C12.7727 11.6851 10.0455 14.7851 6.68182 14.7851Z\",fill:\"white\"})),Wxe=()=>me(\"svg\",{width:\"400\",height:\"300\",viewBox:\"0 0 400 300\",fill:\"none\",xmlns:\"http://www.w3.org/2000/svg\"},me(\"rect\",{width:\"400\",height:\"300\",fill:\"white\"}),me(\"path\",{d:\"M300.116 242.46L250.485 227.681L213.057 250.055L186.944 250.045L149.493 227.681L99.8843 242.46L84.7939 191.518L99.8843 134.979L84.7939 87.1777L99.8843 27.9336L177.402 74.2466H222.598L300.116 27.9336L315.206 87.1777L300.116 134.979L315.206 191.518L300.116 242.46Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M99.8955 27.9336L177.414 74.2792L174.331 106.085L99.8955 27.9336Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M149.505 191.539L183.612 217.521L149.505 227.681V191.539Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M180.886 148.585L174.33 106.107L132.369 134.991L132.348 134.98V135.001L132.477 164.732L149.493 148.585H149.504H180.886Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M300.116 27.9336L222.598 74.2792L225.67 106.085L300.116 27.9336Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M250.508 191.539L216.4 217.521L250.508 227.681V191.539Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M267.652 135.001H267.663H267.652V134.98L267.641 134.991L225.68 106.107L219.125 148.585H250.507L267.533 164.732L267.652 135.001Z\",fill:\"#FF5C16\"}),me(\"path\",{d:\"M149.493 227.681L99.8843 242.46L84.7939 191.54H149.493V227.681Z\",fill:\"#E34807\"}),me(\"path\",{d:\"M180.875 148.574L190.351 209.98L177.219 175.838L132.456 164.732L149.483 148.574H180.864H180.875Z\",fill:\"#E34807\"}),me(\"path\",{d:\"M250.507 227.681L300.116 242.46L315.206 191.54H250.507V227.681Z\",fill:\"#E34807\"}),me(\"path\",{d:\"M219.126 148.574L209.649 209.98L222.782 175.838L267.545 164.732L250.507 148.574H219.126Z\",fill:\"#E34807\"}),me(\"path\",{d:\"M84.7939 191.517L99.8843 134.979H132.337L132.456 164.721L177.219 175.826L190.351 209.969L183.601 217.488L149.493 191.506H84.7939V191.517Z\",fill:\"#FF8D5D\"}),me(\"path\",{d:\"M315.206 191.517L300.116 134.979H267.664L267.545 164.721L222.782 175.826L209.649 209.969L216.4 217.488L250.507 191.506H315.206V191.517Z\",fill:\"#FF8D5D\"}),me(\"path\",{d:\"M222.598 74.2466H200H177.402L174.33 106.053L190.351 209.936H209.649L225.681 106.053L222.598 74.2466Z\",fill:\"#FF8D5D\"}),me(\"path\",{d:\"M99.8843 27.9336L84.7939 87.1777L99.8843 134.979H132.337L174.319 106.085L99.8843 27.9336Z\",fill:\"#661800\"}),me(\"path\",{d:\"M171.496 160.906H156.795L148.79 168.752L177.229 175.804L171.496 160.896V160.906Z\",fill:\"#661800\"}),me(\"path\",{d:\"M300.116 27.9336L315.206 87.1777L300.116 134.979H267.663L225.681 106.085L300.116 27.9336Z\",fill:\"#661800\"}),me(\"path\",{d:\"M228.525 160.906H243.248L251.253 168.763L222.781 175.826L228.525 160.896V160.906Z\",fill:\"#661800\"}),me(\"path\",{d:\"M213.046 229.789L216.399 217.51L209.649 209.991H190.34L183.59 217.51L186.943 229.789\",fill:\"#661800\"}),me(\"path\",{d:\"M213.047 229.789V250.066H186.944V229.789H213.047Z\",fill:\"#C0C4CD\"}),me(\"path\",{d:\"M149.504 227.66L186.965 250.056V229.779L183.611 217.5L149.504 227.66Z\",fill:\"#E7EBF6\"}),me(\"path\",{d:\"M250.506 227.66L213.045 250.056V229.779L216.398 217.5L250.506 227.66Z\",fill:\"#E7EBF6\"})),hse=class{constructor(t){JR(this,t),this.close=zf(this,\"close\"),this.connectWithExtension=zf(this,\"connectWithExtension\"),this.link=void 0,this.sdkVersion=void 0,this.preferDesktop=void 0,this.tab=1,this.isDefaultTab=!0,this.translationsLoaded=!1,this.i18nInstance=new ck,this.setTab(this.preferDesktop?1:2)}async connectedCallback(){await this.i18nInstance.init({fallbackLng:\"en\"}),this.translationsLoaded=!0}onClose(t=!1){this.close.emit({shouldTerminate:t})}connectWithExtensionHandler(){this.connectWithExtension.emit()}setTab(t){this.tab=t,this.isDefaultTab=!1}disconnectedCallback(){this.onClose()}updatePreferDesktop(t){t?this.setTab(1):this.setTab(2)}render(){if(!this.translationsLoaded)return null;const t=i=>this.i18nInstance.t(i),e=this.sdkVersion,n=this.isDefaultTab?this.preferDesktop?1:2:this.tab,r=use(this.link,\"svg\",{ecc:\"medium\",scale:2});return me(ik,{className:\"select-modal\"},me(\"div\",{class:\"backdrop\",onClick:()=>this.onClose(!0)}),me(\"div\",{class:\"modal\"},me(\"div\",{class:\"closeButtonContainer\"},me(\"div\",{class:\"right\"},me(\"span\",{class:\"closeButton\",onClick:()=>this.onClose(!0)},me(ok,null)))),me(\"div\",{class:\"logoContainer\"},me(ak,null)),me(\"div\",null,me(\"div\",{class:\"tabcontainer\"},me(\"div\",{class:\"flexContainer\"},me(\"div\",{onClick:()=>this.setTab(1),class:\"tab flexItem \"+(n===1?\"tabactive\":\"\")},t(\"DESKTOP\")),me(\"div\",{onClick:()=>this.setTab(2),class:\"tab flexItem \"+(n===2?\"tabactive\":\"\")},t(\"MOBILE\")))),me(\"div\",{style:{display:n===1?\"none\":\"block\"}},me(\"div\",{class:\"flexContainer\"},me(\"div\",{class:\"flexItem\",style:{textAlign:\"center\",marginTop:\"4\"}},me(\"div\",{class:\"center\",id:\"sdk-mm-qrcode\",innerHTML:r}),me(\"div\",{class:\"connectMobileText\"},t(\"SCAN_TO_CONNECT\"),me(\"br\",null),me(\"span\",{class:\"blue\"},me(\"b\",null,t(\"META_MASK_MOBILE_APP\"))))))),me(\"div\",{style:{display:n===2?\"none\":\"block\"}},me(\"div\",{style:{display:\"flex\",justifyContent:\"center\",height:\"300\",marginTop:\"-20\"}},me(Wxe,null)),me(\"div\",{class:\"extensionLabel\"},t(\"SELECT_MODAL.CRYPTO_TAKE_CONTROL_TEXT\")),me(\"button\",{class:\"button\",onClick:()=>this.connectWithExtensionHandler()},me(Kxe,null),me(\"span\",{class:\"installExtensionText\"},t(\"CONNECT_WITH_EXTENSION\"))))),me(sk,{version:e})))}get el(){return Z_(this)}static get watchers(){return{preferDesktop:[\"updatePreferDesktop\"]}}};hse.style=`.flexContainer {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-direction: row;\n}\n\n.flexItem {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem11 {\n    flex: 11;\n    justify-content: center;\n    align-items: center;\n}\n\n.flexItem1 {\n    flex: 1;\n    justify-content: center;\n    align-items: center;\n}\n\n.tab {\n    padding: 8px;\n    cursor: pointer;\n    background-color: #F2F4F6;\n    font-size: 12px;\n    text-align: center;\n    color: #24292E;\n}\n\n.tabcontainer {\n    padding: 4px;\n    background-color: #F2F4F6;\n    border-radius: 8px;\n    margin-bottom: 30px;\n    margin-top: 30px;\n}\n\n.tabactive {\n    background-color: white;\n    -webkit-transition: background-color 300ms linear;\n    -ms-transition: background-color 300ms linear;\n    transition: background-color 300ms linear;\n    border-radius: 8px;\n}\n\n.item {\n    font-size: 12px;\n    margin-bottom: 16px;\n    border-radius: 8px;\n    padding: 10px;\n    border: 2px #F2F4F6 solid;\n    color: #24292E;\n}\n\n.extensionLabel {\n    font-style: normal;\n    font-weight: bold;\n    font-size: 14px;\n    text-align: cetner;\n    color: #24272A;\n}\n\n.notice {\n    font-size: 12px;\n    margin-left: 10px;\n    margin-right: 10px;\n    color: grey;\n}\n\n.button {\n    margin-top: 41.5px;\n    margin-bottom: 20px;\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    align-items: center;\n    padding: 12px 20px;\n    background: #037DD6;\n    border-radius: 32px;\n    color: white;\n    border: 0;\n    font-size: 14px;\n    cursor: pointer;\n}\n\n.backdrop {\n    visibility: visible;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    width: 100%;\n    z-index: 99998;\n    background: rgba(0, 0, 0, 0.87);\n    opacity: 0.3;\n}\n\n.modal {\n    visibility: visible;\n    position: fixed;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    z-index: 99999;\n    background: white;\n    padding: 20px;\n    border-radius: 8px;\n    top: 50%;\n    max-width: 100%;\n    width: 460px;\n    min-width: 300px;\n    box-shadow: rgba(0, 0, 0, 0.2) 0px 11px 15px -7px, rgba(0, 0, 0, 0.14) 0px 24px 38px 3px, rgba(0, 0, 0, 0.12) 0px 9px 46px 8px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.closeButton {\n    color: #BBC0C5;\n    cursor: pointer;\n}\n\n.logoContainer {\n    margin-left: 24px;\n    margin-right: 24px;\n    margin-top: 24px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.connectMobileText {\n    font-size: 14px;\n    color: black;\n    margin-top: 28px;\n    margin-bottom: 28px;\n    line-height: 2;\n}\n\n.blue {\n    color: #037DD6;\n    font-weight: 700;\n}\n\n.installExtensionText {\n    margin-left: 10px;\n}\n\n.center {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.right {\n    display: flex;\n    align-items: center;\n    justify-content: right;\n}\n\n#sdk-mm-qrcode {\n    svg {\n        width: 50%;\n    }\n}`;var Gxe=Object.freeze({__proto__:null,mm_install_modal:dse,mm_pending_modal:fse,mm_select_modal:hse});const Zxe=Object.freeze(Object.defineProperty({__proto__:null,get CommunicationLayerPreference(){return rh},get ConnectionStatus(){return hi},DEFAULT_SERVER_URL:np,get EventType(){return Ie},get MessageType(){return Qn},MetaMaskSDK:Fq,MetaMaskSDKEvent:gs,get PROVIDER_UPDATE_TYPE(){return lc},get PlatformType(){return Li},SDKProvider:Hie,default:Fq},Symbol.toStringTag,{value:\"Module\"}));var Dr=D4e();const vy=ah(Dr);var lH=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},Yxe=(function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type=\"browser\"}return t})(),Jxe=(function(){function t(e){this.version=e,this.type=\"node\",this.name=\"node\",this.os=process.platform}return t})(),Xxe=(function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type=\"bot-device\"}return t})(),Qxe=(function(){function t(){this.type=\"bot\",this.bot=!0,this.name=\"bot\",this.version=null,this.os=null}return t})(),e7e=(function(){function t(){this.type=\"react-native\",this.name=\"react-native\",this.version=null,this.os=null}return t})(),t7e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,n7e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\\ Jeeves\\/Teoma|ia_archiver)/,uH=3,r7e=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/EdgA?\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"pie\",/^Microsoft Pocket Internet Explorer\\/(\\d+\\.\\d+)$/],[\"pie\",/^Mozilla\\/\\d\\.\\d+\\s\\(compatible;\\s(?:MSP?IE|MSInternet Explorer) (\\d+\\.\\d+);.*Windows CE.*\\)$/],[\"netfront\",/^Mozilla\\/\\d\\.\\d+.*NetFront\\/(\\d.\\d)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FB[AS]V\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"curl\",/^curl\\/([0-9\\.]+)$/],[\"searchbot\",t7e]],dH=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Windows CE\",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/]];function pse(t){return typeof document>\"u\"&&typeof navigator<\"u\"&&navigator.product===\"ReactNative\"?new e7e:typeof navigator<\"u\"?s7e(navigator.userAgent):a7e()}function i7e(t){return t!==\"\"&&r7e.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function s7e(t){var e=i7e(t);if(!e)return null;var n=e[0],r=e[1];if(n===\"searchbot\")return new Qxe;var i=r[1]&&r[1].split(\".\").join(\"_\").split(\"_\").slice(0,3);i?i.length<uH&&(i=lH(lH([],i,!0),c7e(uH-i.length),!0)):i=[];var s=i.join(\".\"),o=o7e(t),a=n7e.exec(t);return a&&a[1]?new Xxe(n,s,o,a[1]):new Yxe(n,s,o)}function o7e(t){for(var e=0,n=dH.length;e<n;e++){var r=dH[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function a7e(){var t=typeof process<\"u\"&&process.version;return t?new Jxe(process.version.slice(1)):null}function c7e(t){for(var e=[],n=0;n<t;n++)e.push(\"0\");return e}var O7={};/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */var rP=function(t,e){return rP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},rP(t,e)};function l7e(t,e){rP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var iP=function(){return iP=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},iP.apply(this,arguments)};function u7e(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols==\"function\")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function d7e(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function f7e(t,e){return function(n,r){e(n,r,t)}}function h7e(t,e){if(typeof Reflect==\"object\"&&typeof Reflect.metadata==\"function\")return Reflect.metadata(t,e)}function p7e(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{l(r.next(d))}catch(h){o(h)}}function c(d){try{l(r.throw(d))}catch(h){o(h)}}function l(d){d.done?s(d.value):i(d.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function g7e(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol==\"function\"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(d){return c([l,d])}}function c(l){if(r)throw new TypeError(\"Generator is already executing.\");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(d){l=[6,d],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function m7e(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function y7e(t,e){for(var n in t)n!==\"default\"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function sP(t){var e=typeof Symbol==\"function\"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length==\"number\")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?\"Object is not iterable.\":\"Symbol.iterator is not defined.\")}function gse(t,e){var n=typeof Symbol==\"function\"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function b7e(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gse(arguments[e]));return t}function w7e(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Yv(t){return this instanceof Yv?(this.v=t,this):new Yv(t)}function v7e(t,e,n){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var r=n.apply(t,e||[]),i,s=[];return i={},o(\"next\"),o(\"throw\"),o(\"return\"),i[Symbol.asyncIterator]=function(){return this},i;function o(p){r[p]&&(i[p]=function(m){return new Promise(function(b,y){s.push([p,m,b,y])>1||a(p,m)})})}function a(p,m){try{c(r[p](m))}catch(b){h(s[0][3],b)}}function c(p){p.value instanceof Yv?Promise.resolve(p.value.v).then(l,d):h(s[0][2],p)}function l(p){a(\"next\",p)}function d(p){a(\"throw\",p)}function h(p,m){p(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function E7e(t){var e,n;return e={},r(\"next\"),r(\"throw\",function(i){throw i}),r(\"return\"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Yv(t[i](o)),done:i===\"return\"}:s?s(o):o}:s}}function _7e(t){if(!Symbol.asyncIterator)throw new TypeError(\"Symbol.asyncIterator is not defined.\");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sP==\"function\"?sP(t):t[Symbol.iterator](),n={},r(\"next\"),r(\"throw\"),r(\"return\"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function C7e(t,e){return Object.defineProperty?Object.defineProperty(t,\"raw\",{value:e}):t.raw=e,t}function S7e(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function x7e(t){return t&&t.__esModule?t:{default:t}}function A7e(t,e){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return e.get(t)}function $7e(t,e,n){if(!e.has(t))throw new TypeError(\"attempted to set private field on non-instance\");return e.set(t,n),n}const I7e=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return iP},__asyncDelegator:E7e,__asyncGenerator:v7e,__asyncValues:_7e,__await:Yv,__awaiter:p7e,__classPrivateFieldGet:A7e,__classPrivateFieldSet:$7e,__createBinding:m7e,__decorate:d7e,__exportStar:y7e,__extends:l7e,__generator:g7e,__importDefault:x7e,__importStar:S7e,__makeTemplateObject:C7e,__metadata:h7e,__param:f7e,__read:gse,__rest:u7e,__spread:b7e,__spreadArrays:w7e,__values:sP},Symbol.toStringTag,{value:\"Module\"})),i5=wfe(I7e);var N7={},Hb={},fH;function T7e(){if(fH)return Hb;fH=1,Object.defineProperty(Hb,\"__esModule\",{value:!0}),Hb.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return Hb.delay=t,Hb}var Fh={},R7={},qh={},hH;function P7e(){return hH||(hH=1,Object.defineProperty(qh,\"__esModule\",{value:!0}),qh.ONE_THOUSAND=qh.ONE_HUNDRED=void 0,qh.ONE_HUNDRED=100,qh.ONE_THOUSAND=1e3),qh}var k7={},pH;function O7e(){return pH||(pH=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(k7)),k7}var gH;function mse(){return gH||(gH=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0});const e=i5;e.__exportStar(P7e(),t),e.__exportStar(O7e(),t)})(R7)),R7}var mH;function N7e(){if(mH)return Fh;mH=1,Object.defineProperty(Fh,\"__esModule\",{value:!0}),Fh.fromMiliseconds=Fh.toMiliseconds=void 0;const t=mse();function e(r){return r*t.ONE_THOUSAND}Fh.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Fh.fromMiliseconds=n,Fh}var yH;function R7e(){return yH||(yH=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0});const e=i5;e.__exportStar(T7e(),t),e.__exportStar(N7e(),t)})(N7)),N7}var Wg={},bH;function k7e(){if(bH)return Wg;bH=1,Object.defineProperty(Wg,\"__esModule\",{value:!0}),Wg.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<\"u\")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>\"u\")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return Wg.Watch=t,Wg.default=t,Wg}var M7={},Vb={},wH;function M7e(){if(wH)return Vb;wH=1,Object.defineProperty(Vb,\"__esModule\",{value:!0}),Vb.IWatch=void 0;class t{}return Vb.IWatch=t,Vb}var vH;function D7e(){return vH||(vH=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0}),i5.__exportStar(M7e(),t)})(M7)),M7}var EH;function B7e(){return EH||(EH=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0});const e=i5;e.__exportStar(R7e(),t),e.__exportStar(k7e(),t),e.__exportStar(D7e(),t),e.__exportStar(mse(),t)})(O7)),O7}var ce=B7e(),kn={},_H;function yse(){if(_H)return kn;_H=1,Object.defineProperty(kn,\"__esModule\",{value:!0}),kn.getLocalStorage=kn.getLocalStorageOrThrow=kn.getCrypto=kn.getCryptoOrThrow=kn.getLocation=kn.getLocationOrThrow=kn.getNavigator=kn.getNavigatorOrThrow=kn.getDocument=kn.getDocumentOrThrow=kn.getFromWindowOrThrow=kn.getFromWindow=void 0;function t(p){let m;return typeof window<\"u\"&&typeof window[p]<\"u\"&&(m=window[p]),m}kn.getFromWindow=t;function e(p){const m=t(p);if(!m)throw new Error(`${p} is not defined in Window`);return m}kn.getFromWindowOrThrow=e;function n(){return e(\"document\")}kn.getDocumentOrThrow=n;function r(){return t(\"document\")}kn.getDocument=r;function i(){return e(\"navigator\")}kn.getNavigatorOrThrow=i;function s(){return t(\"navigator\")}kn.getNavigator=s;function o(){return e(\"location\")}kn.getLocationOrThrow=o;function a(){return t(\"location\")}kn.getLocation=a;function c(){return e(\"crypto\")}kn.getCryptoOrThrow=c;function l(){return t(\"crypto\")}kn.getCrypto=l;function d(){return e(\"localStorage\")}kn.getLocalStorageOrThrow=d;function h(){return t(\"localStorage\")}return kn.getLocalStorage=h,kn}var wi=yse(),Kb={},CH;function L7e(){if(CH)return Kb;CH=1,Object.defineProperty(Kb,\"__esModule\",{value:!0}),Kb.getWindowMetadata=void 0;const t=yse();function e(){let n,r;try{n=t.getDocumentOrThrow(),r=t.getLocationOrThrow()}catch{return null}function i(){const m=n.getElementsByTagName(\"link\"),b=[];for(let y=0;y<m.length;y++){const E=m[y],v=E.getAttribute(\"rel\");if(v&&v.toLowerCase().indexOf(\"icon\")>-1){const _=E.getAttribute(\"href\");if(_)if(_.toLowerCase().indexOf(\"https:\")===-1&&_.toLowerCase().indexOf(\"http:\")===-1&&_.indexOf(\"//\")!==0){let C=r.protocol+\"//\"+r.host;if(_.indexOf(\"/\")===0)C+=_;else{const S=r.pathname.split(\"/\");S.pop();const A=S.join(\"/\");C+=A+\"/\"+_}b.push(C)}else if(_.indexOf(\"//\")===0){const C=r.protocol+_;b.push(C)}else b.push(_)}}return b}function s(...m){const b=n.getElementsByTagName(\"meta\");for(let y=0;y<b.length;y++){const E=b[y],v=[\"itemprop\",\"property\",\"name\"].map(_=>E.getAttribute(_)).filter(_=>_?m.includes(_):!1);if(v.length&&v){const _=E.getAttribute(\"content\");if(_)return _}}return\"\"}function o(){let m=s(\"name\",\"og:site_name\",\"og:title\",\"twitter:title\");return m||(m=n.title),m}function a(){return s(\"description\",\"og:description\",\"twitter:description\",\"keywords\")}const c=o(),l=a(),d=r.origin,h=i();return{description:l,url:d,icons:h,name:c}}return Kb.getWindowMetadata=e,Kb}var bse=L7e();function Jv(t,{strict:e=!0}={}){return!t||typeof t!=\"string\"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith(\"0x\")}function SH(t){return Jv(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const wse=\"2.23.2\";let Wb={getDocsUrl:({docsBaseUrl:t,docsPath:e=\"\",docsSlug:n})=>e?`${t??\"https://viem.sh\"}${e}${n?`#${n}`:\"\"}`:void 0,version:`viem@${wse}`};class ip extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ip?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof ip&&n.cause.docsPath||n.docsPath,s=(a=Wb.getDocsUrl)==null?void 0:a.call(Wb,{...n,docsPath:i}),o=[e||\"An error occurred.\",\"\",...n.metaMessages?[...n.metaMessages,\"\"]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...Wb.version?[`Version: ${Wb.version}`]:[]].join(`\n`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,\"details\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"docsPath\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"metaMessages\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"shortMessage\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"version\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,\"name\",{enumerable:!0,configurable:!0,writable:!0,value:\"BaseError\"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=wse}walk(e){return vse(this,e)}}function vse(t,e){return e!=null&&e(t)?t:t&&typeof t==\"object\"&&\"cause\"in t&&t.cause!==void 0?vse(t.cause,e):e?null:t}class Ese extends ip{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:\"SizeExceedsPaddingSizeError\"})}}function Ey(t,{dir:e,size:n=32}={}){return typeof t==\"string\"?U7e(t,{dir:e,size:n}):j7e(t,{dir:e,size:n})}function U7e(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace(\"0x\",\"\");if(r.length>n*2)throw new Ese({size:Math.ceil(r.length/2),targetSize:n,type:\"hex\"});return`0x${r[e===\"right\"?\"padEnd\":\"padStart\"](n*2,\"0\")}`}function j7e(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Ese({size:t.length,targetSize:n,type:\"bytes\"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e===\"right\";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class z7e extends ip{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number \"${s}\" is not in safe ${i?`${i*8}-bit ${r?\"signed\":\"unsigned\"} `:\"\"}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:\"IntegerOutOfRangeError\"})}}class F7e extends ip{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:\"SizeOverflowError\"})}}function _y(t,{size:e}){if(SH(t)>e)throw new F7e({givenSize:SH(t),maxSize:e})}function oP(t,e={}){const{signed:n}=e;e.size&&_y(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${\"f\".padStart(i*2,\"f\")}`)-1n}function q7e(t,e={}){return Number(oP(t,e))}const H7e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function aP(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?Cse(t,e):typeof t==\"string\"?W7e(t,e):typeof t==\"boolean\"?V7e(t,e):_se(t,e)}function V7e(t,e={}){const n=`0x${Number(t)}`;return typeof e.size==\"number\"?(_y(n,{size:e.size}),Ey(n,{size:e.size})):n}function _se(t,e={}){let n=\"\";for(let i=0;i<t.length;i++)n+=H7e[t[i]];const r=`0x${n}`;return typeof e.size==\"number\"?(_y(r,{size:e.size}),Ey(r,{dir:\"right\",size:e.size})):r}function Cse(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t==\"number\"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s==\"bigint\"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t==\"bigint\"?\"n\":\"\";throw new z7e({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ey(a,{size:r}):a}const K7e=new TextEncoder;function W7e(t,e={}){const n=K7e.encode(t);return _se(n,e)}const G7e=new TextEncoder;function Z7e(t,e={}){return typeof t==\"number\"||typeof t==\"bigint\"?J7e(t,e):typeof t==\"boolean\"?Y7e(t,e):Jv(t)?Sse(t,e):xse(t,e)}function Y7e(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size==\"number\"?(_y(n,{size:e.size}),Ey(n,{size:e.size})):n}const au={zero:48,nine:57,A:65,F:70,a:97,f:102};function xH(t){if(t>=au.zero&&t<=au.nine)return t-au.zero;if(t>=au.A&&t<=au.F)return t-(au.A-10);if(t>=au.a&&t<=au.f)return t-(au.a-10)}function Sse(t,e={}){let n=t;e.size&&(_y(n,{size:e.size}),n=Ey(n,{dir:\"right\",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=xH(r.charCodeAt(a++)),l=xH(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new ip(`Invalid byte sequence (\"${r[a-2]}${r[a-1]}\" in \"${r}\").`);s[o]=c*16+l}return s}function J7e(t,e){const n=Cse(t,e);return Sse(n)}function xse(t,e={}){const n=G7e.encode(t);return typeof e.size==\"number\"?(_y(n,{size:e.size}),Ey(n,{dir:\"right\",size:e.size})):n}function i4(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function X7e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function s5(t,...e){if(!X7e(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Q7e(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");i4(t.outputLen),i4(t.blockLen)}function Rm(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Ase(t,e){s5(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const j3=BigInt(2**32-1),AH=BigInt(32);function eAe(t,e=!1){return e?{h:Number(t&j3),l:Number(t>>AH&j3)}:{h:Number(t>>AH&j3)|0,l:Number(t&j3)|0}}function tAe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=eAe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const nAe=(t,e,n)=>t<<n|e>>>32-n,rAe=(t,e,n)=>e<<n|t>>>32-n,iAe=(t,e,n)=>e<<n-32|t>>>64-n,sAe=(t,e,n)=>t<<n-32|e>>>64-n,Gg=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oAe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function D7(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Fc(t,e){return t<<32-e|t>>>e}const $H=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function aAe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function IH(t){for(let e=0;e<t.length;e++)t[e]=aAe(t[e])}function cAe(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Y_(t){return typeof t==\"string\"&&(t=cAe(t)),s5(t),t}function lAe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];s5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}class lk{clone(){return this._cloneInto()}}function $se(t){const e=r=>t().update(Y_(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function uAe(t=32){if(Gg&&typeof Gg.getRandomValues==\"function\")return Gg.getRandomValues(new Uint8Array(t));if(Gg&&typeof Gg.randomBytes==\"function\")return Gg.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}const Ise=[],Tse=[],Pse=[],dAe=BigInt(0),Gb=BigInt(1),fAe=BigInt(2),hAe=BigInt(7),pAe=BigInt(256),gAe=BigInt(113);for(let t=0,e=Gb,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Ise.push(2*(5*r+n)),Tse.push((t+1)*(t+2)/2%64);let i=dAe;for(let s=0;s<7;s++)e=(e<<Gb^(e>>hAe)*gAe)%pAe,e&fAe&&(i^=Gb<<(Gb<<BigInt(s))-Gb);Pse.push(i)}const[mAe,yAe]=tAe(Pse,!0),TH=(t,e,n)=>n>32?iAe(t,e,n):nAe(t,e,n),PH=(t,e,n)=>n>32?sAe(t,e,n):rAe(t,e,n);function bAe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],d=n[c+1],h=TH(l,d,1)^n[a],p=PH(l,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Tse[o],c=TH(i,s,a),l=PH(i,s,a),d=Ise[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=mAe[r],t[1]^=yAe[r]}n.fill(0)}class uk extends lk{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,i4(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=oAe(this.state)}keccak(){$H||IH(this.state32),bAe(this.state32,this.rounds),$H||IH(this.state32),this.posOut=0,this.pos=0}update(e){Rm(this);const{blockLen:n,state:r}=this;e=Y_(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Rm(this,!1),s5(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return i4(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Ase(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new uk(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const wAe=(t,e,n)=>$se(()=>new uk(e,t,n)),vAe=wAe(1,136,256/8);function Ose(t,e){const n=e||\"hex\",r=vAe(Jv(t,{strict:!1})?Z7e(t):t);return n===\"bytes\"?r:aP(r)}class EAe extends Map{constructor(e){super(),Object.defineProperty(this,\"maxSize\",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const B7=new EAe(8192);function _Ae(t,e){if(B7.has(`${t}.${e}`))return B7.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=Ose(xse(n),\"bytes\"),i=n.split(\"\");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join(\"\")}`;return B7.set(`${t}.${e}`,s),s}function CAe(t){const e=Ose(`0x${t.substring(4)}`).substring(26);return _Ae(`0x${e}`)}async function SAe({hash:t,signature:e}){const n=Jv(t)?t:aP(t),{secp256k1:r}=await De(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>f$e);return{secp256k1:o}},void 0,import.meta.url);return`0x${(()=>{if(typeof e==\"object\"&&\"r\"in e&&\"s\"in e){const{r:l,s:d,v:h,yParity:p}=e,m=Number(p??h),b=OH(m);return new r.Signature(oP(l),oP(d)).addRecoveryBit(b)}const o=Jv(e)?e:aP(e),a=q7e(`0x${o.slice(130)}`),c=OH(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function OH(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error(\"Invalid yParityOrV value\")}async function Nse({hash:t,signature:e}){return CAe(await SAe({hash:t,signature:e}))}function xAe(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function AAe(t,e,n){return t&e^~t&n}function $Ae(t,e,n){return t&e^t&n^e&n}class IAe extends lk{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=D7(this.buffer)}update(e){Rm(this);const{view:n,buffer:r,blockLen:i}=this;e=Y_(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=D7(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Rm(this),Ase(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;xAe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=D7(e),c=this.outputLen;if(c%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=c/4,d=this.get();if(l>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const TAe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Yd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Jd=new Uint32Array(64);class PAe extends IAe{constructor(){super(64,32,8,!1),this.A=Yd[0]|0,this.B=Yd[1]|0,this.C=Yd[2]|0,this.D=Yd[3]|0,this.E=Yd[4]|0,this.F=Yd[5]|0,this.G=Yd[6]|0,this.H=Yd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)Jd[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=Jd[h-15],m=Jd[h-2],b=Fc(p,7)^Fc(p,18)^p>>>3,y=Fc(m,17)^Fc(m,19)^m>>>10;Jd[h]=y+Jd[h-7]+b+Jd[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const p=Fc(a,6)^Fc(a,11)^Fc(a,25),m=d+p+AAe(a,c,l)+TAe[h]+Jd[h]|0,y=(Fc(r,2)^Fc(r,13)^Fc(r,22))+$Ae(r,i,s)|0;d=l,l=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+y|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){Jd.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const OAe=$se(()=>new PAe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const J_=BigInt(0),X_=BigInt(1),NAe=BigInt(2);function sp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function o5(t){if(!sp(t))throw new Error(\"Uint8Array expected\")}function km(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const RAe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Mm(t){o5(t);let e=\"\";for(let n=0;n<t.length;n++)e+=RAe[t[n]];return e}function Q1(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function dk(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?J_:BigInt(\"0x\"+t)}const cu={_0:48,_9:57,A:65,F:70,a:97,f:102};function NH(t){if(t>=cu._0&&t<=cu._9)return t-cu._0;if(t>=cu.A&&t<=cu.F)return t-(cu.A-10);if(t>=cu.a&&t<=cu.f)return t-(cu.a-10)}function Dm(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=NH(t.charCodeAt(s)),a=NH(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=o*16+a}return r}function T0(t){return dk(Mm(t))}function fk(t){return o5(t),dk(Mm(Uint8Array.from(t).reverse()))}function Bm(t,e){return Dm(t.toString(16).padStart(e*2,\"0\"))}function hk(t,e){return Bm(t,e).reverse()}function kAe(t){return Dm(Q1(t))}function Xa(t,e,n){let r;if(typeof e==\"string\")try{r=Dm(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(sp(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+i);return r}function Xv(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];o5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function MAe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function DAe(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}const L7=t=>typeof t==\"bigint\"&&J_<=t;function Q_(t,e,n){return L7(t)&&L7(e)&&L7(n)&&e<=t&&t<n}function P0(t,e,n,r){if(!Q_(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Rse(t){let e;for(e=0;t>J_;t>>=X_,e+=1);return e}function BAe(t,e){return t>>BigInt(e)&X_}function LAe(t,e,n){return t|(n?X_:J_)<<BigInt(e)}const pk=t=>(NAe<<BigInt(t-1))-X_,U7=t=>new Uint8Array(t),RH=t=>Uint8Array.from(t);function kse(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=U7(t),i=U7(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...h)=>n(i,r,...h),c=(h=U7())=>{i=a(RH([0]),h),r=a(),h.length!==0&&(i=a(RH([1]),h),r=a())},l=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let h=0;const p=[];for(;h<e;){r=a();const m=r.slice();p.push(m),h+=r.length}return Xv(...p)};return(h,p)=>{o(),c(h);let m;for(;!(m=p(l()));)c();return o(),m}}const UAe={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||sp(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function a5(t,e,n={}){const r=(i,s,o)=>{const a=UAe[s];if(typeof a!=\"function\")throw new Error(\"invalid validator function\");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(\"param \"+String(i)+\" is invalid. Expected \"+s+\", got \"+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const jAe=()=>{throw new Error(\"not implemented\")};function cP(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const zAe=Object.freeze(Object.defineProperty({__proto__:null,aInRange:P0,abool:km,abytes:o5,bitGet:BAe,bitLen:Rse,bitMask:pk,bitSet:LAe,bytesToHex:Mm,bytesToNumberBE:T0,bytesToNumberLE:fk,concatBytes:Xv,createHmacDrbg:kse,ensureBytes:Xa,equalBytes:MAe,hexToBytes:Dm,hexToNumber:dk,inRange:Q_,isBytes:sp,memoized:cP,notImplemented:jAe,numberToBytesBE:Bm,numberToBytesLE:hk,numberToHexUnpadded:Q1,numberToVarBytesBE:kAe,utf8ToBytes:DAe,validateObject:a5},Symbol.toStringTag,{value:\"Module\"}));class Mse extends lk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Q7e(e);const r=Y_(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Rm(this),this.iHash.update(e),this}digestInto(e){Rm(this),s5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Dse=(t,e,n)=>new Mse(t,e).update(n).digest();Dse.create=(t,e)=>new Mse(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const gi=BigInt(0),mr=BigInt(1),r0=BigInt(2),FAe=BigInt(3),lP=BigInt(4),kH=BigInt(5),MH=BigInt(8);function Vs(t,e){const n=t%e;return n>=gi?n:e+n}function qAe(t,e,n){if(e<gi)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=gi)throw new Error(\"invalid modulus\");if(n===mr)return gi;let r=mr;for(;e>gi;)e&mr&&(r=r*t%n),t=t*t%n,e>>=mr;return r}function fa(t,e,n){let r=t;for(;e-- >gi;)r*=r,r%=n;return r}function uP(t,e){if(t===gi)throw new Error(\"invert: expected non-zero number\");if(e<=gi)throw new Error(\"invert: expected positive modulus, got \"+e);let n=Vs(t,e),r=e,i=gi,s=mr;for(;n!==gi;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==mr)throw new Error(\"invert: does not exist\");return Vs(i,e)}function HAe(t){const e=(t-mr)/r0;let n,r,i;for(n=t-mr,r=0;n%r0===gi;n/=r0,r++);for(i=r0;i<t&&qAe(i,e,t)!==t-mr;i++)if(i>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const o=(t+mr)/lP;return function(c,l){const d=c.pow(l,o);if(!c.eql(c.sqr(d),l))throw new Error(\"Cannot find square root\");return d}}const s=(n+mr)/r0;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error(\"Cannot find square root\");let l=r,d=a.pow(a.mul(a.ONE,i),n),h=a.pow(c,s),p=a.pow(c,n);for(;!a.eql(p,a.ONE);){if(a.eql(p,a.ZERO))return a.ZERO;let m=1;for(let y=a.sqr(p);m<l&&!a.eql(y,a.ONE);m++)y=a.sqr(y);const b=a.pow(d,mr<<BigInt(l-m-1));d=a.sqr(b),h=a.mul(h,b),p=a.mul(p,d),l=m}return h}}function VAe(t){if(t%lP===FAe){const e=(t+mr)/lP;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error(\"Cannot find square root\");return s}}if(t%MH===kH){const e=(t-kH)/MH;return function(r,i){const s=r.mul(i,r0),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,r0),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error(\"Cannot find square root\");return l}}return HAe(t)}const KAe=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function WAe(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=KAe.reduce((r,i)=>(r[i]=\"function\",r),e);return a5(t,n)}function GAe(t,e,n){if(n<gi)throw new Error(\"invalid exponent, negatives unsupported\");if(n===gi)return t.ONE;if(n===mr)return e;let r=t.ONE,i=e;for(;n>gi;)n&mr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=mr;return r}function ZAe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Bse(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Lse(t,e,n=!1,r={}){if(t<=gi)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:i,nByteLength:s}=Bse(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:pk(i),ZERO:gi,ONE:mr,create:c=>Vs(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return gi<=c&&c<t},is0:c=>c===gi,isOdd:c=>(c&mr)===mr,neg:c=>Vs(-c,t),eql:(c,l)=>c===l,sqr:c=>Vs(c*c,t),add:(c,l)=>Vs(c+l,t),sub:(c,l)=>Vs(c-l,t),mul:(c,l)=>Vs(c*l,t),pow:(c,l)=>GAe(a,c,l),div:(c,l)=>Vs(c*uP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>uP(c,t),sqrt:r.sqrt||(c=>(o||(o=VAe(t)),o(a,c))),invertBatch:c=>ZAe(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?hk(c,s):Bm(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+c.length);return n?fk(c):T0(c)}});return Object.freeze(a)}function Use(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function jse(t){const e=Use(t);return e+Math.ceil(e/2)}function YAe(t,e,n=!1){const r=t.length,i=Use(e),s=jse(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const o=n?fk(t):T0(t),a=Vs(o,e-mr)+mr;return n?hk(a,i):Bm(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const DH=BigInt(0),z3=BigInt(1);function j7(t,e){const n=e.negate();return t?n:e}function zse(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function z7(t,e){zse(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function JAe(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function XAe(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const F7=new WeakMap,Fse=new WeakMap;function q7(t){return Fse.get(t)||1}function QAe(t,e){return{constTimeNegate:j7,hasPrecomputes(n){return q7(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>DH;)r&z3&&(i=i.add(s)),s=s.double(),r>>=z3;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=z7(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=z7(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let b=Number(i&l);i>>=h,b>o&&(b-=d,i+=z3);const y=m,E=m+Math.abs(b)-1,v=p%2!==0,_=b<0;b===0?c=c.add(j7(v,r[y])):a=a.add(j7(_,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=z7(n,e),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===DH)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=z3),m===0)continue;let b=r[p+Math.abs(m)-1];m<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=F7.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&F7.set(r,i(s))),s},wNAFCached(n,r,i){const s=q7(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=q7(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){zse(r,e),Fse.set(n,r),F7.delete(n)}}}function e$e(t,e,n,r){if(JAe(n,t),XAe(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,s=Rse(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let d=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const b=r[m],y=Number(b>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,b=i;m>0;m--)b=b.add(c[m]),p=p.add(b);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function qse(t){return WAe(t.Fp),a5(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...Bse(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function BH(t){t.lowS!==void 0&&km(\"lowS\",t.lowS),t.prehash!==void 0&&km(\"prehash\",t.prehash)}function t$e(t){const e=qse(t);a5(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error(\"invalid endomorphism, can only be defined for Koblitz curves that have a=0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error(\"invalid endomorphism, expected beta: bigint and splitScalar: function\")}return Object.freeze({...e})}const{bytesToNumberBE:n$e,hexToBytes:r$e}=zAe;class i$e extends Error{constructor(e=\"\"){super(e)}}const $u={Err:i$e,_tlv:{encode:(t,e)=>{const{Err:n}=$u;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,i=Q1(r);if(i.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?Q1(i.length/2|128):\"\";return Q1(t)+s+i+e},decode(t,e){const{Err:n}=$u;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n(\"tlv.decode(long): indefinite length not supported\");if(c>4)throw new n(\"tlv.decode(long): byte length is too big\");const l=e.subarray(r,r+c);if(l.length!==c)throw new n(\"tlv.decode: length bytes not complete\");if(l[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const d of l)o=o<<8|d;if(r+=c,o<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n(\"tlv.decode: wrong value length\");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=$u;if(t<Nu)throw new e(\"integer: negative integers are not allowed\");let n=Q1(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=$u;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return n$e(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=$u,i=typeof t==\"string\"?r$e(t):t;o5(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:a,l:c}=r.decode(2,s),{v:l,l:d}=r.decode(2,c);if(d.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=$u,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Nu=BigInt(0),ri=BigInt(1);BigInt(2);const LH=BigInt(3);BigInt(4);function s$e(t){const e=t$e(t),{Fp:n}=e,r=Lse(e.n,e.nBitLength),i=e.toBytes||((y,E,v)=>{const _=E.toAffine();return Xv(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(y=>{const E=y.subarray(1),v=n.fromBytes(E.subarray(0,n.BYTES)),_=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:v,y:_}});function o(y){const{a:E,b:v}=e,_=n.sqr(y),C=n.mul(_,y);return n.add(n.add(C,n.mul(y,E)),v)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function a(y){return Q_(y,ri,e.n)}function c(y){const{allowedPrivateKeyLengths:E,nByteLength:v,wrapPrivateKey:_,n:C}=e;if(E&&typeof y!=\"bigint\"){if(sp(y)&&(y=Mm(y)),typeof y!=\"string\"||!E.includes(y.length))throw new Error(\"invalid private key\");y=y.padStart(v*2,\"0\")}let S;try{S=typeof y==\"bigint\"?y:T0(Xa(\"private key\",y,v))}catch{throw new Error(\"invalid private key, expected hex or \"+v+\" bytes, got \"+typeof y)}return _&&(S=Vs(S,C)),P0(\"private key\",S,ri,C),S}function l(y){if(!(y instanceof p))throw new Error(\"ProjectivePoint expected\")}const d=cP((y,E)=>{const{px:v,py:_,pz:C}=y;if(n.eql(C,n.ONE))return{x:v,y:_};const S=y.is0();E==null&&(E=S?n.ONE:n.inv(C));const A=n.mul(v,E),I=n.mul(_,E),O=n.mul(C,E);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:I}}),h=cP(y=>{if(y.is0()){if(e.allowInfinityPoint&&!n.is0(y.py))return;throw new Error(\"bad point: ZERO\")}const{x:E,y:v}=y.toAffine();if(!n.isValid(E)||!n.isValid(v))throw new Error(\"bad point: x or y not FE\");const _=n.sqr(v),C=o(E);if(!n.eql(_,C))throw new Error(\"bad point: equation left != right\");if(!y.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class p{constructor(E,v,_){if(this.px=E,this.py=v,this.pz=_,E==null||!n.isValid(E))throw new Error(\"x required\");if(v==null||!n.isValid(v))throw new Error(\"y required\");if(_==null||!n.isValid(_))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(E){const{x:v,y:_}=E||{};if(!E||!n.isValid(v)||!n.isValid(_))throw new Error(\"invalid affine point\");if(E instanceof p)throw new Error(\"projective point not allowed\");const C=S=>n.eql(S,n.ZERO);return C(v)&&C(_)?p.ZERO:new p(v,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const v=n.invertBatch(E.map(_=>_.pz));return E.map((_,C)=>_.toAffine(v[C])).map(p.fromAffine)}static fromHex(E){const v=p.fromAffine(s(Xa(\"pointHex\",E)));return v.assertValidity(),v}static fromPrivateKey(E){return p.BASE.multiply(c(E))}static msm(E,v){return e$e(p,r,E,v)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){h(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error(\"Field doesn't support isOdd\")}equals(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E,O=n.eql(n.mul(v,I),n.mul(S,C)),D=n.eql(n.mul(_,I),n.mul(A,C));return O&&D}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:v}=e,_=n.mul(v,LH),{px:C,py:S,pz:A}=this;let I=n.ZERO,O=n.ZERO,D=n.ZERO,N=n.mul(C,C),U=n.mul(S,S),F=n.mul(A,A),H=n.mul(C,S);return H=n.add(H,H),D=n.mul(C,A),D=n.add(D,D),I=n.mul(E,D),O=n.mul(_,F),O=n.add(I,O),I=n.sub(U,O),O=n.add(U,O),O=n.mul(I,O),I=n.mul(H,I),D=n.mul(_,D),F=n.mul(E,F),H=n.sub(N,F),H=n.mul(E,H),H=n.add(H,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,F),N=n.mul(N,H),O=n.add(O,N),F=n.mul(S,A),F=n.add(F,F),N=n.mul(F,H),I=n.sub(I,N),D=n.mul(F,U),D=n.add(D,D),D=n.add(D,D),new p(I,O,D)}add(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E;let O=n.ZERO,D=n.ZERO,N=n.ZERO;const U=e.a,F=n.mul(e.b,LH);let H=n.mul(v,S),V=n.mul(_,A),M=n.mul(C,I),$=n.add(v,_),P=n.add(S,A);$=n.mul($,P),P=n.add(H,V),$=n.sub($,P),P=n.add(v,C);let q=n.add(S,I);return P=n.mul(P,q),q=n.add(H,M),P=n.sub(P,q),q=n.add(_,C),O=n.add(A,I),q=n.mul(q,O),O=n.add(V,M),q=n.sub(q,O),N=n.mul(U,P),O=n.mul(F,M),N=n.add(O,N),O=n.sub(V,N),N=n.add(V,N),D=n.mul(O,N),V=n.add(H,H),V=n.add(V,H),M=n.mul(U,M),P=n.mul(F,P),V=n.add(V,M),M=n.sub(H,M),M=n.mul(U,M),P=n.add(P,M),H=n.mul(V,P),D=n.add(D,H),H=n.mul(q,P),O=n.mul($,O),O=n.sub(O,H),H=n.mul($,V),N=n.mul(q,N),N=n.add(N,H),new p(O,D,N)}subtract(E){return this.add(E.negate())}is0(){return this.equals(p.ZERO)}wNAF(E){return b.wNAFCached(this,E,p.normalizeZ)}multiplyUnsafe(E){const{endo:v,n:_}=e;P0(\"scalar\",E,Nu,_);const C=p.ZERO;if(E===Nu)return C;if(this.is0()||E===ri)return this;if(!v||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,p.normalizeZ);let{k1neg:S,k1:A,k2neg:I,k2:O}=v.splitScalar(E),D=C,N=C,U=this;for(;A>Nu||O>Nu;)A&ri&&(D=D.add(U)),O&ri&&(N=N.add(U)),U=U.double(),A>>=ri,O>>=ri;return S&&(D=D.negate()),I&&(N=N.negate()),N=new p(n.mul(N.px,v.beta),N.py,N.pz),D.add(N)}multiply(E){const{endo:v,n:_}=e;P0(\"scalar\",E,ri,_);let C,S;if(v){const{k1neg:A,k1:I,k2neg:O,k2:D}=v.splitScalar(E);let{p:N,f:U}=this.wNAF(I),{p:F,f:H}=this.wNAF(D);N=b.constTimeNegate(A,N),F=b.constTimeNegate(O,F),F=new p(n.mul(F.px,v.beta),F.py,F.pz),C=N.add(F),S=U.add(H)}else{const{p:A,f:I}=this.wNAF(E);C=A,S=I}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(E,v,_){const C=p.BASE,S=(I,O)=>O===Nu||O===ri||!I.equals(C)?I.multiplyUnsafe(O):I.multiply(O),A=S(this,v).add(S(E,_));return A.is0()?void 0:A}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:v}=e;if(E===ri)return!0;if(v)return v(p,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:E,clearCofactor:v}=e;return E===ri?this:v?v(p,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return km(\"isCompressed\",E),this.assertValidity(),i(p,this,E)}toHex(E=!0){return km(\"isCompressed\",E),Mm(this.toRawBytes(E))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,b=QAe(p,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function o$e(t){const e=qse(t);return a5(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function a$e(t){const e=o$e(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(M){return Vs(M,r)}function a(M){return uP(M,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=s$e({...e,toBytes(M,$,P){const q=$.toAffine(),T=n.toBytes(q.x),k=Xv;return km(\"isCompressed\",P),P?k(Uint8Array.from([$.hasEvenY()?2:3]),T):k(Uint8Array.from([4]),T,n.toBytes(q.y))},fromBytes(M){const $=M.length,P=M[0],q=M.subarray(1);if($===i&&(P===2||P===3)){const T=T0(q);if(!Q_(T,ri,n.ORDER))throw new Error(\"Point is not on curve\");const k=d(T);let z;try{z=n.sqrt(k)}catch(j){const K=j instanceof Error?\": \"+j.message:\"\";throw new Error(\"Point is not on curve\"+K)}const L=(z&ri)===ri;return(P&1)===1!==L&&(z=n.neg(z)),{x:T,y:z}}else if($===s&&P===4){const T=n.fromBytes(q.subarray(0,n.BYTES)),k=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:T,y:k}}else{const T=i,k=s;throw new Error(\"invalid Point, expected length of \"+T+\", or uncompressed \"+k+\", got \"+$)}}}),p=M=>Mm(Bm(M,e.nByteLength));function m(M){const $=r>>ri;return M>$}function b(M){return m(M)?o(-M):M}const y=(M,$,P)=>T0(M.slice($,P));class E{constructor($,P,q){this.r=$,this.s=P,this.recovery=q,this.assertValidity()}static fromCompact($){const P=e.nByteLength;return $=Xa(\"compactSignature\",$,P*2),new E(y($,0,P),y($,P,2*P))}static fromDER($){const{r:P,s:q}=$u.toSig(Xa(\"DER\",$));return new E(P,q)}assertValidity(){P0(\"r\",this.r,ri,r),P0(\"s\",this.s,ri,r)}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:P,s:q,recovery:T}=this,k=I(Xa(\"msgHash\",$));if(T==null||![0,1,2,3].includes(T))throw new Error(\"recovery id invalid\");const z=T===2||T===3?P+e.n:P;if(z>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const L=(T&1)===0?\"02\":\"03\",B=c.fromHex(L+p(z)),j=a(z),K=o(-k*j),G=o(q*j),Z=c.BASE.multiplyAndAddUnsafe(B,K,G);if(!Z)throw new Error(\"point at infinify\");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Dm(this.toDERHex())}toDERHex(){return $u.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Dm(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(M){try{return l(M),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const M=jse(e.n);return YAe(e.randomBytes(M),e.n)},precompute(M=8,$=c.BASE){return $._setWindowSize(M),$.multiply(BigInt(3)),$}};function _(M,$=!0){return c.fromPrivateKey(M).toRawBytes($)}function C(M){const $=sp(M),P=typeof M==\"string\",q=($||P)&&M.length;return $?q===i||q===s:P?q===2*i||q===2*s:M instanceof c}function S(M,$,P=!0){if(C(M))throw new Error(\"first arg must be private key\");if(!C($))throw new Error(\"second arg must be public key\");return c.fromHex($).multiply(l(M)).toRawBytes(P)}const A=e.bits2int||function(M){if(M.length>8192)throw new Error(\"input is too large\");const $=T0(M),P=M.length*8-e.nBitLength;return P>0?$>>BigInt(P):$},I=e.bits2int_modN||function(M){return o(A(M))},O=pk(e.nBitLength);function D(M){return P0(\"num < 2^\"+e.nBitLength,M,Nu,O),Bm(M,e.nByteLength)}function N(M,$,P=U){if([\"recovered\",\"canonical\"].some(X=>X in P))throw new Error(\"sign() legacy options not supported\");const{hash:q,randomBytes:T}=e;let{lowS:k,prehash:z,extraEntropy:L}=P;k==null&&(k=!0),M=Xa(\"msgHash\",M),BH(P),z&&(M=Xa(\"prehashed msgHash\",q(M)));const B=I(M),j=l($),K=[D(j),D(B)];if(L!=null&&L!==!1){const X=L===!0?T(n.BYTES):L;K.push(Xa(\"extraEntropy\",X))}const G=Xv(...K),Z=B;function Y(X){const Q=A(X);if(!h(Q))return;const re=a(Q),oe=c.BASE.multiply(Q).toAffine(),ue=o(oe.x);if(ue===Nu)return;const ye=o(re*o(Z+ue*j));if(ye===Nu)return;let xe=(oe.x===ue?0:2)|Number(oe.y&ri),Be=ye;return k&&m(ye)&&(Be=b(ye),xe^=1),new E(ue,Be,xe)}return{seed:G,k2sig:Y}}const U={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function H(M,$,P=U){const{seed:q,k2sig:T}=N(M,$,P),k=e;return kse(k.hash.outputLen,k.nByteLength,k.hmac)(q,T)}c.BASE._setWindowSize(8);function V(M,$,P,q=F){var xe;const T=M;$=Xa(\"msgHash\",$),P=Xa(\"publicKey\",P);const{lowS:k,prehash:z,format:L}=q;if(BH(q),\"strict\"in q)throw new Error(\"options.strict was renamed to lowS\");if(L!==void 0&&L!==\"compact\"&&L!==\"der\")throw new Error(\"format must be compact or der\");const B=typeof T==\"string\"||sp(T),j=!B&&!L&&typeof T==\"object\"&&T!==null&&typeof T.r==\"bigint\"&&typeof T.s==\"bigint\";if(!B&&!j)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let K,G;try{if(j&&(K=new E(T.r,T.s)),B){try{L!==\"compact\"&&(K=E.fromDER(T))}catch(Be){if(!(Be instanceof $u.Err))throw Be}!K&&L!==\"der\"&&(K=E.fromCompact(T))}G=c.fromHex(P)}catch{return!1}if(!K||k&&K.hasHighS())return!1;z&&($=e.hash($));const{r:Z,s:Y}=K,X=I($),Q=a(Y),re=o(X*Q),oe=o(Z*Q),ue=(xe=c.BASE.multiplyAndAddUnsafe(G,re,oe))==null?void 0:xe.toAffine();return ue?o(ue.x)===Z:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:H,verify:V,ProjectivePoint:c,Signature:E,utils:v}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function c$e(t){return{hash:t,hmac:(e,...n)=>Dse(t,e,lAe(...n)),randomBytes:uAe}}function l$e(t,e){const n=r=>a$e({...t,...c$e(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Hse=BigInt(\"0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f\"),UH=BigInt(\"0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141\"),u$e=BigInt(1),dP=BigInt(2),jH=(t,e)=>(t+e/dP)/e;function d$e(t){const e=Hse,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,d=l*l*t%e,h=fa(d,n,e)*d%e,p=fa(h,n,e)*d%e,m=fa(p,dP,e)*l%e,b=fa(m,i,e)*m%e,y=fa(b,s,e)*b%e,E=fa(y,a,e)*y%e,v=fa(E,c,e)*E%e,_=fa(v,a,e)*y%e,C=fa(_,n,e)*d%e,S=fa(C,o,e)*b%e,A=fa(S,r,e)*l%e,I=fa(A,dP,e);if(!fP.eql(fP.sqr(I),t))throw new Error(\"Cannot find square root\");return I}const fP=Lse(Hse,void 0,void 0,{sqrt:d$e}),Vse=l$e({a:BigInt(0),b:BigInt(7),Fp:fP,n:UH,Gx:BigInt(\"55066263022277343669578718895168534326250603453777594175500187360389116729240\"),Gy:BigInt(\"32670510020758816978083085130507043184471273380659243275938904335757337482424\"),h:BigInt(1),lowS:!0,endo:{beta:BigInt(\"0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee\"),splitScalar:t=>{const e=UH,n=BigInt(\"0x3086d221a7d46bcde86c90e49284eb15\"),r=-u$e*BigInt(\"0xe4437ed6010e88286f547fa90abfe4c3\"),i=BigInt(\"0x114ca50f7a8e2f3f657c1108d9d44cfd8\"),s=n,o=BigInt(\"0x100000000000000000000000000000000\"),a=jH(s*t,e),c=jH(-r*t,e);let l=Vs(t-a*n-c*i,e),d=Vs(-a*r-c*s,e);const h=l>o,p=d>o;if(h&&(l=e-l),p&&(d=e-d),l>o||d>o)throw new Error(\"splitScalar: Endomorphism failed, k=\"+t);return{k1neg:h,k1:l,k2neg:p,k2:d}}}},OAe);BigInt(0);Vse.ProjectivePoint;const f$e=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:Vse},Symbol.toStringTag,{value:\"Module\"}));function h$e(t){if(t.length>=255)throw new TypeError(\"Alphabet too long\");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const d=t.charAt(l),h=d.charCodeAt(0);if(e[h]!==255)throw new TypeError(d+\" is ambiguous\");e[h]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(l.length===0)return\"\";let d=0,h=0,p=0;const m=l.length;for(;p!==m&&l[p]===0;)p++,d++;const b=(m-p)*s+1>>>0,y=new Uint8Array(b);for(;p!==m;){let _=l[p],C=0;for(let S=b-1;(_!==0||C<h)&&S!==-1;S--,C++)_+=256*y[S]>>>0,y[S]=_%n>>>0,_=_/n>>>0;if(_!==0)throw new Error(\"Non-zero carry\");h=C,p++}let E=b-h;for(;E!==b&&y[E]===0;)E++;let v=r.repeat(d);for(;E<b;++E)v+=t.charAt(y[E]);return v}function a(l){if(typeof l!=\"string\")throw new TypeError(\"Expected String\");if(l.length===0)return new Uint8Array;let d=0,h=0,p=0;for(;l[d]===r;)h++,d++;const m=(l.length-d)*i+1>>>0,b=new Uint8Array(m);for(;d<l.length;){const _=l.charCodeAt(d);if(_>255)return;let C=e[_];if(C===255)return;let S=0;for(let A=m-1;(C!==0||S<p)&&A!==-1;A--,S++)C+=n*b[A]>>>0,b[A]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error(\"Non-zero carry\");p=S,d++}let y=m-p;for(;y!==m&&b[y]===0;)y++;const E=new Uint8Array(h+(m-y));let v=h;for(;y!==m;)E[v++]=b[y++];return E}function c(l){const d=a(l);if(d)return d;throw new Error(\"Non-base\"+n+\" character\")}return{encode:o,decodeUnsafe:a,decode:c}}var p$e=\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\";const gk=h$e(p$e),g$e=t=>JSON.stringify(t,(e,n)=>typeof n==\"bigint\"?n.toString()+\"n\":n),m$e=t=>{const e=/([\\[:])?(\\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\\}\\]])/g,n=t.replace(e,'$1\"$2n\"$3');return JSON.parse(n,(r,i)=>typeof i==\"string\"&&i.match(/^\\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function od(t){if(typeof t!=\"string\")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return m$e(t)}catch{return t}}function Al(t){return typeof t==\"string\"?t:g$e(t)||\"\"}function y$e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Kse(t,...e){if(!y$e(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function zH(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function b$e(t,e){Kse(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const Zg=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const H7=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function w$e(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Wse(t){return typeof t==\"string\"&&(t=w$e(t)),Kse(t),t}let v$e=class{clone(){return this._cloneInto()}};function E$e(t){const e=r=>t().update(Wse(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Gse(t=32){if(Zg&&typeof Zg.getRandomValues==\"function\")return Zg.getRandomValues(new Uint8Array(t));if(Zg&&typeof Zg.randomBytes==\"function\")return Zg.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}function _$e(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let C$e=class extends v$e{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=H7(this.buffer)}update(e){zH(this);const{view:n,buffer:r,blockLen:i}=this;e=Wse(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=H7(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){zH(this),b$e(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;_$e(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=H7(e),c=this.outputLen;if(c%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=c/4,d=this.get();if(l>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const F3=BigInt(2**32-1),hP=BigInt(32);function Zse(t,e=!1){return e?{h:Number(t&F3),l:Number(t>>hP&F3)}:{h:Number(t>>hP&F3)|0,l:Number(t&F3)|0}}function S$e(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Zse(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const x$e=(t,e)=>BigInt(t>>>0)<<hP|BigInt(e>>>0),A$e=(t,e,n)=>t>>>n,$$e=(t,e,n)=>t<<32-n|e>>>n,I$e=(t,e,n)=>t>>>n|e<<32-n,T$e=(t,e,n)=>t<<32-n|e>>>n,P$e=(t,e,n)=>t<<64-n|e>>>n-32,O$e=(t,e,n)=>t>>>n-32|e<<64-n,N$e=(t,e)=>e,R$e=(t,e)=>t,k$e=(t,e,n)=>t<<n|e>>>32-n,M$e=(t,e,n)=>e<<n|t>>>32-n,D$e=(t,e,n)=>e<<n-32|t>>>64-n,B$e=(t,e,n)=>t<<n-32|e>>>64-n;function L$e(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const U$e=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),j$e=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,z$e=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),F$e=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,q$e=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),H$e=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Rt={fromBig:Zse,split:S$e,toBig:x$e,shrSH:A$e,shrSL:$$e,rotrSH:I$e,rotrSL:T$e,rotrBH:P$e,rotrBL:O$e,rotr32H:N$e,rotr32L:R$e,rotlSH:k$e,rotlSL:M$e,rotlBH:D$e,rotlBL:B$e,add:L$e,add3L:U$e,add3H:j$e,add4L:z$e,add4H:F$e,add5H:H$e,add5L:q$e},[V$e,K$e]=Rt.split([\"0x428a2f98d728ae22\",\"0x7137449123ef65cd\",\"0xb5c0fbcfec4d3b2f\",\"0xe9b5dba58189dbbc\",\"0x3956c25bf348b538\",\"0x59f111f1b605d019\",\"0x923f82a4af194f9b\",\"0xab1c5ed5da6d8118\",\"0xd807aa98a3030242\",\"0x12835b0145706fbe\",\"0x243185be4ee4b28c\",\"0x550c7dc3d5ffb4e2\",\"0x72be5d74f27b896f\",\"0x80deb1fe3b1696b1\",\"0x9bdc06a725c71235\",\"0xc19bf174cf692694\",\"0xe49b69c19ef14ad2\",\"0xefbe4786384f25e3\",\"0x0fc19dc68b8cd5b5\",\"0x240ca1cc77ac9c65\",\"0x2de92c6f592b0275\",\"0x4a7484aa6ea6e483\",\"0x5cb0a9dcbd41fbd4\",\"0x76f988da831153b5\",\"0x983e5152ee66dfab\",\"0xa831c66d2db43210\",\"0xb00327c898fb213f\",\"0xbf597fc7beef0ee4\",\"0xc6e00bf33da88fc2\",\"0xd5a79147930aa725\",\"0x06ca6351e003826f\",\"0x142929670a0e6e70\",\"0x27b70a8546d22ffc\",\"0x2e1b21385c26c926\",\"0x4d2c6dfc5ac42aed\",\"0x53380d139d95b3df\",\"0x650a73548baf63de\",\"0x766a0abb3c77b2a8\",\"0x81c2c92e47edaee6\",\"0x92722c851482353b\",\"0xa2bfe8a14cf10364\",\"0xa81a664bbc423001\",\"0xc24b8b70d0f89791\",\"0xc76c51a30654be30\",\"0xd192e819d6ef5218\",\"0xd69906245565a910\",\"0xf40e35855771202a\",\"0x106aa07032bbd1b8\",\"0x19a4c116b8d2d0c8\",\"0x1e376c085141ab53\",\"0x2748774cdf8eeb99\",\"0x34b0bcb5e19b48a8\",\"0x391c0cb3c5c95a63\",\"0x4ed8aa4ae3418acb\",\"0x5b9cca4f7763e373\",\"0x682e6ff3d6b2b8a3\",\"0x748f82ee5defb2fc\",\"0x78a5636f43172f60\",\"0x84c87814a1f0ab72\",\"0x8cc702081a6439ec\",\"0x90befffa23631e28\",\"0xa4506cebde82bde9\",\"0xbef9a3f7b2c67915\",\"0xc67178f2e372532b\",\"0xca273eceea26619c\",\"0xd186b8c721c0c207\",\"0xeada7dd6cde0eb1e\",\"0xf57d4f7fee6ed178\",\"0x06f067aa72176fba\",\"0x0a637dc5a2c898a6\",\"0x113f9804bef90dae\",\"0x1b710b35131c471b\",\"0x28db77f523047d84\",\"0x32caab7b40c72493\",\"0x3c9ebe0a15c9bebc\",\"0x431d67c49c100d4c\",\"0x4cc5d4becb3e42b6\",\"0x597f299cfc657e2a\",\"0x5fcb6fab3ad6faec\",\"0x6c44198c4a475817\"].map(t=>BigInt(t))),Xd=new Uint32Array(80),Qd=new Uint32Array(80);let W$e=class extends C$e{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:d,Fh:h,Fl:p,Gh:m,Gl:b,Hh:y,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,d,h,p,m,b,y,E]}set(e,n,r,i,s,o,a,c,l,d,h,p,m,b,y,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=d|0,this.Fh=h|0,this.Fl=p|0,this.Gh=m|0,this.Gl=b|0,this.Hh=y|0,this.Hl=E|0}process(e,n){for(let C=0;C<16;C++,n+=4)Xd[C]=e.getUint32(n),Qd[C]=e.getUint32(n+=4);for(let C=16;C<80;C++){const S=Xd[C-15]|0,A=Qd[C-15]|0,I=Rt.rotrSH(S,A,1)^Rt.rotrSH(S,A,8)^Rt.shrSH(S,A,7),O=Rt.rotrSL(S,A,1)^Rt.rotrSL(S,A,8)^Rt.shrSL(S,A,7),D=Xd[C-2]|0,N=Qd[C-2]|0,U=Rt.rotrSH(D,N,19)^Rt.rotrBH(D,N,61)^Rt.shrSH(D,N,6),F=Rt.rotrSL(D,N,19)^Rt.rotrBL(D,N,61)^Rt.shrSL(D,N,6),H=Rt.add4L(O,F,Qd[C-7],Qd[C-16]),V=Rt.add4H(H,I,U,Xd[C-7],Xd[C-16]);Xd[C]=V|0,Qd[C]=H|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:d,Eh:h,El:p,Fh:m,Fl:b,Gh:y,Gl:E,Hh:v,Hl:_}=this;for(let C=0;C<80;C++){const S=Rt.rotrSH(h,p,14)^Rt.rotrSH(h,p,18)^Rt.rotrBH(h,p,41),A=Rt.rotrSL(h,p,14)^Rt.rotrSL(h,p,18)^Rt.rotrBL(h,p,41),I=h&m^~h&y,O=p&b^~p&E,D=Rt.add5L(_,A,O,K$e[C],Qd[C]),N=Rt.add5H(D,v,S,I,V$e[C],Xd[C]),U=D|0,F=Rt.rotrSH(r,i,28)^Rt.rotrBH(r,i,34)^Rt.rotrBH(r,i,39),H=Rt.rotrSL(r,i,28)^Rt.rotrBL(r,i,34)^Rt.rotrBL(r,i,39),V=r&s^r&a^s&a,M=i&o^i&c^o&c;v=y|0,_=E|0,y=m|0,E=b|0,m=h|0,b=p|0,{h,l:p}=Rt.add(l|0,d|0,N|0,U|0),l=a|0,d=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const $=Rt.add3L(U,H,M);r=Rt.add3H($,N,F,V),i=$|0}({h:r,l:i}=Rt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Rt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Rt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:d}=Rt.add(this.Dh|0,this.Dl|0,l|0,d|0),{h,l:p}=Rt.add(this.Eh|0,this.El|0,h|0,p|0),{h:m,l:b}=Rt.add(this.Fh|0,this.Fl|0,m|0,b|0),{h:y,l:E}=Rt.add(this.Gh|0,this.Gl|0,y|0,E|0),{h:v,l:_}=Rt.add(this.Hh|0,this.Hl|0,v|0,_|0),this.set(r,i,s,o,a,c,l,d,h,p,m,b,y,E,v,_)}roundClean(){Xd.fill(0),Qd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const G$e=E$e(()=>new W$e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mk=BigInt(0),Yse=BigInt(1),Z$e=BigInt(2);function yk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function bk(t){if(!yk(t))throw new Error(\"Uint8Array expected\")}function V7(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const Y$e=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function wk(t){bk(t);let e=\"\";for(let n=0;n<t.length;n++)e+=Y$e[t[n]];return e}function Jse(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?mk:BigInt(\"0x\"+t)}const lu={_0:48,_9:57,A:65,F:70,a:97,f:102};function FH(t){if(t>=lu._0&&t<=lu._9)return t-lu._0;if(t>=lu.A&&t<=lu.F)return t-(lu.A-10);if(t>=lu.a&&t<=lu.f)return t-(lu.a-10)}function Xse(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=FH(t.charCodeAt(s)),a=FH(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=o*16+a}return r}function J$e(t){return Jse(wk(t))}function VE(t){return bk(t),Jse(wk(Uint8Array.from(t).reverse()))}function Qse(t,e){return Xse(t.toString(16).padStart(e*2,\"0\"))}function pP(t,e){return Qse(t,e).reverse()}function uu(t,e,n){let r;if(typeof e==\"string\")try{r=Xse(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(yk(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+i);return r}function qH(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];bk(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const K7=t=>typeof t==\"bigint\"&&mk<=t;function X$e(t,e,n){return K7(t)&&K7(e)&&K7(n)&&e<=t&&t<n}function Zb(t,e,n,r){if(!X$e(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Q$e(t){let e;for(e=0;t>mk;t>>=Yse,e+=1);return e}const eIe=t=>(Z$e<<BigInt(t-1))-Yse,tIe={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||yk(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function vk(t,e,n={}){const r=(i,s,o)=>{const a=tIe[s];if(typeof a!=\"function\")throw new Error(\"invalid validator function\");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(\"param \"+String(i)+\" is invalid. Expected \"+s+\", got \"+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function HH(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const mi=BigInt(0),yr=BigInt(1),i0=BigInt(2),nIe=BigInt(3),gP=BigInt(4),VH=BigInt(5),KH=BigInt(8);function zr(t,e){const n=t%e;return n>=mi?n:e+n}function rIe(t,e,n){if(e<mi)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=mi)throw new Error(\"invalid modulus\");if(n===yr)return mi;let r=yr;for(;e>mi;)e&yr&&(r=r*t%n),t=t*t%n,e>>=yr;return r}function qc(t,e,n){let r=t;for(;e-- >mi;)r*=r,r%=n;return r}function WH(t,e){if(t===mi)throw new Error(\"invert: expected non-zero number\");if(e<=mi)throw new Error(\"invert: expected positive modulus, got \"+e);let n=zr(t,e),r=e,i=mi,s=yr;for(;n!==mi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==yr)throw new Error(\"invert: does not exist\");return zr(i,e)}function iIe(t){const e=(t-yr)/i0;let n,r,i;for(n=t-yr,r=0;n%i0===mi;n/=i0,r++);for(i=i0;i<t&&rIe(i,e,t)!==t-yr;i++)if(i>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const o=(t+yr)/gP;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error(\"Cannot find square root\");return l}}const s=(n+yr)/i0;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error(\"Cannot find square root\");let c=r,l=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let b=o.sqr(h);p<c&&!o.eql(b,o.ONE);p++)b=o.sqr(b);const m=o.pow(l,yr<<BigInt(c-p-1));l=o.sqr(m),d=o.mul(d,m),h=o.mul(h,l),c=p}return d}}function sIe(t){if(t%gP===nIe){const e=(t+yr)/gP;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error(\"Cannot find square root\");return i}}if(t%KH===VH){const e=(t-VH)/KH;return function(n,r){const i=n.mul(r,i0),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,i0),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error(\"Cannot find square root\");return c}}return iIe(t)}const oIe=(t,e)=>(zr(t,e)&yr)===yr,aIe=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function cIe(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=aIe.reduce((r,i)=>(r[i]=\"function\",r),e);return vk(t,n)}function lIe(t,e,n){if(n<mi)throw new Error(\"invalid exponent, negatives unsupported\");if(n===mi)return t.ONE;if(n===yr)return e;let r=t.ONE,i=e;for(;n>mi;)n&yr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=yr;return r}function uIe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function eoe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function toe(t,e,n=!1,r={}){if(t<=mi)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:i,nByteLength:s}=eoe(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:eIe(i),ZERO:mi,ONE:yr,create:c=>zr(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return mi<=c&&c<t},is0:c=>c===mi,isOdd:c=>(c&yr)===yr,neg:c=>zr(-c,t),eql:(c,l)=>c===l,sqr:c=>zr(c*c,t),add:(c,l)=>zr(c+l,t),sub:(c,l)=>zr(c-l,t),mul:(c,l)=>zr(c*l,t),pow:(c,l)=>lIe(a,c,l),div:(c,l)=>zr(c*WH(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>WH(c,t),sqrt:r.sqrt||(c=>(o||(o=sIe(t)),o(a,c))),invertBatch:c=>uIe(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?pP(c,s):Qse(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+c.length);return n?VE(c):J$e(c)}});return Object.freeze(a)}const GH=BigInt(0),q3=BigInt(1);function W7(t,e){const n=e.negate();return t?n:e}function noe(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function G7(t,e){noe(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function dIe(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function fIe(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const Z7=new WeakMap,roe=new WeakMap;function Y7(t){return roe.get(t)||1}function hIe(t,e){return{constTimeNegate:W7,hasPrecomputes(n){return Y7(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>GH;)r&q3&&(i=i.add(s)),s=s.double(),r>>=q3;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=G7(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=G7(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let b=Number(i&l);i>>=h,b>o&&(b-=d,i+=q3);const y=m,E=m+Math.abs(b)-1,v=p%2!==0,_=b<0;b===0?c=c.add(W7(v,r[y])):a=a.add(W7(_,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=G7(n,e),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===GH)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=q3),m===0)continue;let b=r[p+Math.abs(m)-1];m<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=Z7.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&Z7.set(r,i(s))),s},wNAFCached(n,r,i){const s=Y7(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=Y7(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){noe(r,e),roe.set(n,r),Z7.delete(n)}}}function pIe(t,e,n,r){if(dIe(n,t),fIe(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,s=Q$e(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let d=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const b=r[m],y=Number(b>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,b=i;m>0;m--)b=b.add(c[m]),p=p.add(b);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function gIe(t){return cIe(t.Fp),vk(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...eoe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const za=BigInt(0),ks=BigInt(1),H3=BigInt(2),mIe=BigInt(8),yIe={zip215:!0};function bIe(t){const e=gIe(t);return vk(t,{hash:\"function\",a:\"bigint\",d:\"bigint\",randomBytes:\"function\"},{adjustScalarBytes:\"function\",domain:\"function\",uvRatio:\"function\",mapToCurve:\"function\"}),Object.freeze({...e})}function wIe(t){const e=bIe(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=H3<<BigInt(a*8)-ks,d=n.create,h=toe(e.n,e.nBitLength),p=e.uvRatio||(($,P)=>{try{return{isValid:!0,value:n.sqrt($*n.inv(P))}}catch{return{isValid:!1,value:za}}}),m=e.adjustScalarBytes||($=>$),b=e.domain||(($,P,q)=>{if(V7(\"phflag\",q),P.length||q)throw new Error(\"Contexts/pre-hash are not supported\");return $});function y($,P){Zb(\"coordinate \"+$,P,za,l)}function E($){if(!($ instanceof C))throw new Error(\"ExtendedPoint expected\")}const v=HH(($,P)=>{const{ex:q,ey:T,ez:k}=$,z=$.is0();P==null&&(P=z?mIe:n.inv(k));const L=d(q*P),B=d(T*P),j=d(k*P);if(z)return{x:za,y:ks};if(j!==ks)throw new Error(\"invZ was invalid\");return{x:L,y:B}}),_=HH($=>{const{a:P,d:q}=e;if($.is0())throw new Error(\"bad point: ZERO\");const{ex:T,ey:k,ez:z,et:L}=$,B=d(T*T),j=d(k*k),K=d(z*z),G=d(K*K),Z=d(B*P),Y=d(K*d(Z+j)),X=d(G+d(q*d(B*j)));if(Y!==X)throw new Error(\"bad point: equation left != right (1)\");const Q=d(T*k),re=d(z*L);if(Q!==re)throw new Error(\"bad point: equation left != right (2)\");return!0});class C{constructor(P,q,T,k){this.ex=P,this.ey=q,this.ez=T,this.et=k,y(\"x\",P),y(\"y\",q),y(\"z\",T),y(\"t\",k),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(P){if(P instanceof C)throw new Error(\"extended point not allowed\");const{x:q,y:T}=P||{};return y(\"x\",q),y(\"y\",T),new C(q,T,ks,d(q*T))}static normalizeZ(P){const q=n.invertBatch(P.map(T=>T.ez));return P.map((T,k)=>T.toAffine(q[k])).map(C.fromAffine)}static msm(P,q){return pIe(C,h,P,q)}_setWindowSize(P){I.setWindowSize(this,P)}assertValidity(){_(this)}equals(P){E(P);const{ex:q,ey:T,ez:k}=this,{ex:z,ey:L,ez:B}=P,j=d(q*B),K=d(z*k),G=d(T*B),Z=d(L*k);return j===K&&G===Z}is0(){return this.equals(C.ZERO)}negate(){return new C(d(-this.ex),this.ey,this.ez,d(-this.et))}double(){const{a:P}=e,{ex:q,ey:T,ez:k}=this,z=d(q*q),L=d(T*T),B=d(H3*d(k*k)),j=d(P*z),K=q+T,G=d(d(K*K)-z-L),Z=j+L,Y=Z-B,X=j-L,Q=d(G*Y),re=d(Z*X),oe=d(G*X),ue=d(Y*Z);return new C(Q,re,ue,oe)}add(P){E(P);const{a:q,d:T}=e,{ex:k,ey:z,ez:L,et:B}=this,{ex:j,ey:K,ez:G,et:Z}=P;if(q===BigInt(-1)){const We=d((z-k)*(K+j)),st=d((z+k)*(K-j)),xt=d(st-We);if(xt===za)return this.double();const Je=d(L*H3*Z),lt=d(B*H3*G),dt=lt+Je,An=st+We,Jn=lt-Je,bd=d(dt*xt),Nc=d(An*Jn),Qp=d(dt*Jn),eg=d(xt*An);return new C(bd,Nc,eg,Qp)}const Y=d(k*j),X=d(z*K),Q=d(B*T*Z),re=d(L*G),oe=d((k+z)*(j+K)-Y-X),ue=re-Q,ye=re+Q,xe=d(X-q*Y),Be=d(oe*ue),ke=d(ye*xe),Ve=d(oe*xe),Xe=d(ue*ye);return new C(Be,ke,Xe,Ve)}subtract(P){return this.add(P.negate())}wNAF(P){return I.wNAFCached(this,P,C.normalizeZ)}multiply(P){const q=P;Zb(\"scalar\",q,ks,r);const{p:T,f:k}=this.wNAF(q);return C.normalizeZ([T,k])[0]}multiplyUnsafe(P,q=C.ZERO){const T=P;return Zb(\"scalar\",T,za,r),T===za?A:this.is0()||T===ks?this:I.wNAFCachedUnsafe(this,T,C.normalizeZ,q)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return I.unsafeLadder(this,r).is0()}toAffine(P){return v(this,P)}clearCofactor(){const{h:P}=e;return P===ks?this:this.multiplyUnsafe(P)}static fromHex(P,q=!1){const{d:T,a:k}=e,z=n.BYTES;P=uu(\"pointHex\",P,z),V7(\"zip215\",q);const L=P.slice(),B=P[z-1];L[z-1]=B&-129;const j=VE(L),K=q?l:n.ORDER;Zb(\"pointHex.y\",j,za,K);const G=d(j*j),Z=d(G-ks),Y=d(T*G-k);let{isValid:X,value:Q}=p(Z,Y);if(!X)throw new Error(\"Point.fromHex: invalid y coordinate\");const re=(Q&ks)===ks,oe=(B&128)!==0;if(!q&&Q===za&&oe)throw new Error(\"Point.fromHex: x=0 and x_0=1\");return oe!==re&&(Q=d(-Q)),C.fromAffine({x:Q,y:j})}static fromPrivateKey(P){return N(P).point}toRawBytes(){const{x:P,y:q}=this.toAffine(),T=pP(q,n.BYTES);return T[T.length-1]|=P&ks?128:0,T}toHex(){return wk(this.toRawBytes())}}C.BASE=new C(e.Gx,e.Gy,ks,d(e.Gx*e.Gy)),C.ZERO=new C(za,ks,ks,za);const{BASE:S,ZERO:A}=C,I=hIe(C,a*8);function O($){return zr($,r)}function D($){return O(VE($))}function N($){const P=n.BYTES;$=uu(\"private key\",$,P);const q=uu(\"hashed private key\",s($),2*P),T=m(q.slice(0,P)),k=q.slice(P,2*P),z=D(T),L=S.multiply(z),B=L.toRawBytes();return{head:T,prefix:k,scalar:z,point:L,pointBytes:B}}function U($){return N($).pointBytes}function F($=new Uint8Array,...P){const q=qH(...P);return D(s(b(q,uu(\"context\",$),!!i)))}function H($,P,q={}){$=uu(\"message\",$),i&&($=i($));const{prefix:T,scalar:k,pointBytes:z}=N(P),L=F(q.context,T,$),B=S.multiply(L).toRawBytes(),j=F(q.context,B,z,$),K=O(L+j*k);Zb(\"signature.s\",K,za,r);const G=qH(B,pP(K,n.BYTES));return uu(\"result\",G,n.BYTES*2)}const V=yIe;function M($,P,q,T=V){const{context:k,zip215:z}=T,L=n.BYTES;$=uu(\"signature\",$,2*L),P=uu(\"message\",P),q=uu(\"publicKey\",q,L),z!==void 0&&V7(\"zip215\",z),i&&(P=i(P));const B=VE($.slice(L,2*L));let j,K,G;try{j=C.fromHex(q,z),K=C.fromHex($.slice(0,L),z),G=S.multiplyUnsafe(B)}catch{return!1}if(!z&&j.isSmallOrder())return!1;const Z=F(k,K.toRawBytes(),j.toRawBytes(),P);return K.add(j.multiplyUnsafe(Z)).subtract(G).clearCofactor().equals(C.ZERO)}return S._setWindowSize(8),{CURVE:e,getPublicKey:U,sign:H,verify:M,ExtendedPoint:C,utils:{getExtendedPublicKey:N,randomPrivateKey:()=>o(n.BYTES),precompute($=8,P=C.BASE){return P._setWindowSize($),P.multiply(BigInt(3)),P}}}}BigInt(0),BigInt(1);const Ek=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\"),ZH=BigInt(\"19681161376707505956807079304988542015446066515923890162744021073123829784752\");BigInt(0);const vIe=BigInt(1),YH=BigInt(2);BigInt(3);const EIe=BigInt(5),_Ie=BigInt(8);function CIe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=Ek,o=t*t%s*t%s,a=qc(o,YH,s)*o%s,c=qc(a,vIe,s)*t%s,l=qc(c,EIe,s)*c%s,d=qc(l,e,s)*l%s,h=qc(d,n,s)*d%s,p=qc(h,r,s)*h%s,m=qc(p,i,s)*p%s,b=qc(m,i,s)*p%s,y=qc(b,e,s)*l%s;return{pow_p_5_8:qc(y,YH,s)*t%s,b2:o}}function SIe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function xIe(t,e){const n=Ek,r=zr(e*e*e,n),i=zr(r*r*e,n),s=CIe(t*i).pow_p_5_8;let o=zr(t*r*s,n);const a=zr(e*o*o,n),c=o,l=zr(o*ZH,n),d=a===t,h=a===zr(-t,n),p=a===zr(-t*ZH,n);return d&&(o=c),(h||p)&&(o=l),oIe(o,n)&&(o=zr(-o,n)),{isValid:d||h,value:o}}const AIe=toe(Ek,void 0,!0),$Ie={a:BigInt(-1),d:BigInt(\"37095705934669439343138083508754565189542113879843219016388785533085940283555\"),Fp:AIe,n:BigInt(\"7237005577332262213973186563042994240857116359379907606001950938285454250989\"),h:_Ie,Gx:BigInt(\"15112221349535400772501151409588531511454012693041857206046113283949847762202\"),Gy:BigInt(\"46316835694926478169428394003475163141307993866256225615783033603165251855960\"),hash:G$e,randomBytes:Gse,adjustScalarBytes:SIe,uvRatio:xIe},ioe=wIe($Ie),IIe=\"EdDSA\",TIe=\"JWT\",s4=\".\",e9=\"base64url\",soe=\"utf8\",ooe=\"utf8\",PIe=\":\",OIe=\"did\",NIe=\"key\",JH=\"base58btc\",RIe=\"z\",kIe=\"K36\",MIe=32;function _k(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function aoe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?_k(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function coe(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=aoe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return _k(n)}function DIe(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+\" is ambiguous\");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(b.length===0)return\"\";for(var y=0,E=0,v=0,_=b.length;v!==_&&b[v]===0;)v++,y++;for(var C=(_-v)*d+1>>>0,S=new Uint8Array(C);v!==_;){for(var A=b[v],I=0,O=C-1;(A!==0||I<E)&&O!==-1;O--,I++)A+=256*S[O]>>>0,S[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error(\"Non-zero carry\");E=I,v++}for(var D=C-E;D!==C&&S[D]===0;)D++;for(var N=c.repeat(y);D<C;++D)N+=t.charAt(S[D]);return N}function p(b){if(typeof b!=\"string\")throw new TypeError(\"Expected String\");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==\" \"){for(var E=0,v=0;b[y]===c;)E++,y++;for(var _=(b.length-y)*l+1>>>0,C=new Uint8Array(_);b[y];){var S=n[b.charCodeAt(y)];if(S===255)return;for(var A=0,I=_-1;(S!==0||A<v)&&I!==-1;I--,A++)S+=a*C[I]>>>0,C[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error(\"Non-zero carry\");v=A,y++}if(b[y]!==\" \"){for(var O=_-v;O!==_&&C[O]===0;)O++;for(var D=new Uint8Array(E+(_-O)),N=E;O!==_;)D[N++]=C[O++];return D}}}function m(b){var y=p(b);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var BIe=DIe,LIe=BIe;const loe=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},UIe=t=>new TextEncoder().encode(t),jIe=t=>new TextDecoder().decode(t);let zIe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}},FIe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return uoe(this,e)}},qIe=class{constructor(e){this.decoders=e}or(e){return uoe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const uoe=(t,e)=>new qIe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let HIe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new zIe(e,n,r),this.decoder=new FIe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const t9=({name:t,prefix:e,encode:n,decode:r})=>new HIe(t,e,n,r),c5=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=LIe(n,e);return t9({prefix:t,name:e,encode:r,decode:s=>loe(i(s))})},VIe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]===\"=\";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},KIe=(t,e,n)=>{const r=e[e.length-1]===\"=\",i=(1<<n)-1;let s=\"\",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+=\"=\";return s},zi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>t9({prefix:e,name:t,encode(i){return KIe(i,r,n)},decode(i){return VIe(i,r,n,t)}}),WIe=t9({prefix:\"\\0\",name:\"identity\",encode:t=>jIe(t),decode:t=>UIe(t)});var GIe=Object.freeze({__proto__:null,identity:WIe});const ZIe=zi({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var YIe=Object.freeze({__proto__:null,base2:ZIe});const JIe=zi({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var XIe=Object.freeze({__proto__:null,base8:JIe});const QIe=c5({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var eTe=Object.freeze({__proto__:null,base10:QIe});const tTe=zi({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),nTe=zi({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var rTe=Object.freeze({__proto__:null,base16:tTe,base16upper:nTe});const iTe=zi({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),sTe=zi({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),oTe=zi({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),aTe=zi({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),cTe=zi({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),lTe=zi({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),uTe=zi({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),dTe=zi({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),fTe=zi({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var hTe=Object.freeze({__proto__:null,base32:iTe,base32upper:sTe,base32pad:oTe,base32padupper:aTe,base32hex:cTe,base32hexupper:lTe,base32hexpad:uTe,base32hexpadupper:dTe,base32z:fTe});const pTe=c5({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),gTe=c5({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var mTe=Object.freeze({__proto__:null,base36:pTe,base36upper:gTe});const yTe=c5({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),bTe=c5({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var wTe=Object.freeze({__proto__:null,base58btc:yTe,base58flickr:bTe});const vTe=zi({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),ETe=zi({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),_Te=zi({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),CTe=zi({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var STe=Object.freeze({__proto__:null,base64:vTe,base64pad:ETe,base64url:_Te,base64urlpad:CTe});const doe=Array.from(\"\"),xTe=doe.reduce((t,e,n)=>(t[n]=e,t),[]),ATe=doe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function $Te(t){return t.reduce((e,n)=>(e+=xTe[n],e),\"\")}function ITe(t){const e=[];for(const n of t){const r=ATe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const TTe=t9({prefix:\"\",name:\"base256emoji\",encode:$Te,decode:ITe});var PTe=Object.freeze({__proto__:null,base256emoji:TTe}),OTe=foe,XH=128,NTe=-128,RTe=Math.pow(2,31);function foe(t,e,n){e=e||[],n=n||0;for(var r=n;t>=RTe;)e[n++]=t&255|XH,t/=128;for(;t&NTe;)e[n++]=t&255|XH,t>>>=7;return e[n]=t|0,foe.bytes=n-r+1,e}var kTe=mP,MTe=128,QH=127;function mP(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw mP.bytes=0,new RangeError(\"Could not decode varint\");o=t[s++],n+=i<28?(o&QH)<<i:(o&QH)*Math.pow(2,i),i+=7}while(o>=MTe);return mP.bytes=s-r,n}var DTe=Math.pow(2,7),BTe=Math.pow(2,14),LTe=Math.pow(2,21),UTe=Math.pow(2,28),jTe=Math.pow(2,35),zTe=Math.pow(2,42),FTe=Math.pow(2,49),qTe=Math.pow(2,56),HTe=Math.pow(2,63),VTe=function(t){return t<DTe?1:t<BTe?2:t<LTe?3:t<UTe?4:t<jTe?5:t<zTe?6:t<FTe?7:t<qTe?8:t<HTe?9:10},KTe={encode:OTe,decode:kTe,encodingLength:VTe},hoe=KTe;const eV=(t,e,n=0)=>(hoe.encode(t,e,n),e),tV=t=>hoe.encodingLength(t),yP=(t,e)=>{const n=e.byteLength,r=tV(t),i=r+tV(n),s=new Uint8Array(i+n);return eV(t,s,0),eV(n,s,r),s.set(e,i),new WTe(t,n,e,s)};let WTe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const poe=({name:t,code:e,encode:n})=>new GTe(t,e,n);let GTe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?yP(this.code,n):n.then(r=>yP(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}};const goe=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),ZTe=poe({name:\"sha2-256\",code:18,encode:goe(\"SHA-256\")}),YTe=poe({name:\"sha2-512\",code:19,encode:goe(\"SHA-512\")});var JTe=Object.freeze({__proto__:null,sha256:ZTe,sha512:YTe});const moe=0,XTe=\"identity\",yoe=loe,QTe=t=>yP(moe,yoe(t)),ePe={code:moe,name:XTe,encode:yoe,digest:QTe};var tPe=Object.freeze({__proto__:null,identity:ePe});new TextEncoder,new TextDecoder;const nV={...GIe,...YIe,...XIe,...eTe,...rTe,...hTe,...mTe,...wTe,...STe,...PTe};({...JTe,...tPe});function boe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const rV=boe(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),J7=boe(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=aoe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),woe={utf8:rV,\"utf-8\":rV,hex:nV.base16,latin1:J7,ascii:J7,binary:J7,...nV};function n9(t,e=\"utf8\"){const n=woe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(\"utf8\"):n.encoder.encode(t).substring(1)}function Cy(t,e=\"utf8\"){const n=woe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?_k(globalThis.Buffer.from(t,\"utf-8\")):n.decoder.decode(`${n.prefix}${t}`)}function iV(t){return od(n9(Cy(t,e9),soe))}function o4(t){return n9(Cy(Al(t),soe),e9)}function Ck(t){const e=Cy(kIe,JH),n=RIe+n9(coe([e,t]),JH);return[OIe,NIe,n].join(PIe)}function nPe(t){return n9(t,e9)}function rPe(t){return Cy(t,e9)}function iPe(t){return Cy([o4(t.header),o4(t.payload)].join(s4),ooe)}function sPe(t){return[o4(t.header),o4(t.payload),nPe(t.signature)].join(s4)}function Lm(t){const e=t.split(s4),n=iV(e[0]),r=iV(e[1]),i=rPe(e[2]),s=Cy(e.slice(0,2).join(s4),ooe);return{header:n,payload:r,signature:i,data:s}}function a4(t=Gse(MIe)){const e=ioe.getPublicKey(t);return{secretKey:coe([t,e]),publicKey:e}}async function voe(t,e,n,r,i=ce.fromMiliseconds(Date.now())){const s={alg:IIe,typ:TIe},o=Ck(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=iPe({header:s,payload:c}),d=ioe.sign(l,r.secretKey.slice(0,32));return sPe({header:s,payload:c,signature:d})}function Eoe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function yl(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Eoe(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function oPe(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+\" is ambiguous\");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(b.length===0)return\"\";for(var y=0,E=0,v=0,_=b.length;v!==_&&b[v]===0;)v++,y++;for(var C=(_-v)*d+1>>>0,S=new Uint8Array(C);v!==_;){for(var A=b[v],I=0,O=C-1;(A!==0||I<E)&&O!==-1;O--,I++)A+=256*S[O]>>>0,S[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error(\"Non-zero carry\");E=I,v++}for(var D=C-E;D!==C&&S[D]===0;)D++;for(var N=c.repeat(y);D<C;++D)N+=t.charAt(S[D]);return N}function p(b){if(typeof b!=\"string\")throw new TypeError(\"Expected String\");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==\" \"){for(var E=0,v=0;b[y]===c;)E++,y++;for(var _=(b.length-y)*l+1>>>0,C=new Uint8Array(_);b[y];){var S=n[b.charCodeAt(y)];if(S===255)return;for(var A=0,I=_-1;(S!==0||A<v)&&I!==-1;I--,A++)S+=a*C[I]>>>0,C[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error(\"Non-zero carry\");v=A,y++}if(b[y]!==\" \"){for(var O=_-v;O!==_&&C[O]===0;)O++;for(var D=new Uint8Array(E+(_-O)),N=E;O!==_;)D[N++]=C[O++];return D}}}function m(b){var y=p(b);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var aPe=oPe,cPe=aPe;const lPe=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},uPe=t=>new TextEncoder().encode(t),dPe=t=>new TextDecoder().decode(t);class fPe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class hPe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return _oe(this,e)}}class pPe{constructor(e){this.decoders=e}or(e){return _oe(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const _oe=(t,e)=>new pPe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class gPe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new fPe(e,n,r),this.decoder=new hPe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const r9=({name:t,prefix:e,encode:n,decode:r})=>new gPe(t,e,n,r),l5=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=cPe(n,e);return r9({prefix:t,name:e,encode:r,decode:s=>lPe(i(s))})},mPe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]===\"=\";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},yPe=(t,e,n)=>{const r=e[e.length-1]===\"=\",i=(1<<n)-1;let s=\"\",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+=\"=\";return s},Fi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>r9({prefix:e,name:t,encode(i){return yPe(i,r,n)},decode(i){return mPe(i,r,n,t)}}),bPe=r9({prefix:\"\\0\",name:\"identity\",encode:t=>dPe(t),decode:t=>uPe(t)}),wPe=Object.freeze(Object.defineProperty({__proto__:null,identity:bPe},Symbol.toStringTag,{value:\"Module\"})),vPe=Fi({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1}),EPe=Object.freeze(Object.defineProperty({__proto__:null,base2:vPe},Symbol.toStringTag,{value:\"Module\"})),_Pe=Fi({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3}),CPe=Object.freeze(Object.defineProperty({__proto__:null,base8:_Pe},Symbol.toStringTag,{value:\"Module\"})),SPe=l5({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"}),xPe=Object.freeze(Object.defineProperty({__proto__:null,base10:SPe},Symbol.toStringTag,{value:\"Module\"})),APe=Fi({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),$Pe=Fi({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4}),IPe=Object.freeze(Object.defineProperty({__proto__:null,base16:APe,base16upper:$Pe},Symbol.toStringTag,{value:\"Module\"})),TPe=Fi({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),PPe=Fi({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),OPe=Fi({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),NPe=Fi({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),RPe=Fi({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),kPe=Fi({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),MPe=Fi({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),DPe=Fi({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),BPe=Fi({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5}),LPe=Object.freeze(Object.defineProperty({__proto__:null,base32:TPe,base32hex:RPe,base32hexpad:MPe,base32hexpadupper:DPe,base32hexupper:kPe,base32pad:OPe,base32padupper:NPe,base32upper:PPe,base32z:BPe},Symbol.toStringTag,{value:\"Module\"})),UPe=l5({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),jPe=l5({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"}),zPe=Object.freeze(Object.defineProperty({__proto__:null,base36:UPe,base36upper:jPe},Symbol.toStringTag,{value:\"Module\"})),FPe=l5({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),qPe=l5({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"}),HPe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:FPe,base58flickr:qPe},Symbol.toStringTag,{value:\"Module\"})),VPe=Fi({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),KPe=Fi({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),WPe=Fi({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),GPe=Fi({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6}),ZPe=Object.freeze(Object.defineProperty({__proto__:null,base64:VPe,base64pad:KPe,base64url:WPe,base64urlpad:GPe},Symbol.toStringTag,{value:\"Module\"})),Coe=Array.from(\"\"),YPe=Coe.reduce((t,e,n)=>(t[n]=e,t),[]),JPe=Coe.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function XPe(t){return t.reduce((e,n)=>(e+=YPe[n],e),\"\")}function QPe(t){const e=[];for(const n of t){const r=JPe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const eOe=r9({prefix:\"\",name:\"base256emoji\",encode:XPe,decode:QPe}),tOe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:eOe},Symbol.toStringTag,{value:\"Module\"}));new TextEncoder;new TextDecoder;const sV={...wPe,...EPe,...CPe,...xPe,...IPe,...LPe,...zPe,...HPe,...ZPe,...tOe};function Soe(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const oV=Soe(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),X7=Soe(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Eoe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),xoe={utf8:oV,\"utf-8\":oV,hex:sV.base16,latin1:X7,ascii:X7,binary:X7,...sV};function tr(t,e=\"utf8\"){const n=xoe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,\"utf8\"):n.decoder.decode(`${n.prefix}${t}`)}function Nn(t,e=\"utf8\"){const n=xoe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString(\"utf8\"):n.encoder.encode(t).substring(1)}const Aoe={waku:{publish:\"waku_publish\",batchPublish:\"waku_batchPublish\",subscribe:\"waku_subscribe\",batchSubscribe:\"waku_batchSubscribe\",subscription:\"waku_subscription\",unsubscribe:\"waku_unsubscribe\",batchUnsubscribe:\"waku_batchUnsubscribe\",batchFetchMessages:\"waku_batchFetchMessages\"},irn:{publish:\"irn_publish\",batchPublish:\"irn_batchPublish\",subscribe:\"irn_subscribe\",batchSubscribe:\"irn_batchSubscribe\",subscription:\"irn_subscription\",unsubscribe:\"irn_unsubscribe\",batchUnsubscribe:\"irn_batchUnsubscribe\",batchFetchMessages:\"irn_batchFetchMessages\"},iridium:{publish:\"iridium_publish\",batchPublish:\"iridium_batchPublish\",subscribe:\"iridium_subscribe\",batchSubscribe:\"iridium_batchSubscribe\",subscription:\"iridium_subscription\",unsubscribe:\"iridium_unsubscribe\",batchUnsubscribe:\"iridium_batchUnsubscribe\",batchFetchMessages:\"iridium_batchFetchMessages\"}};var nOe={};const rOe=\":\";function bm(t){const[e,n]=t.split(rOe);return{namespace:e,reference:n}}function aV(t,e=[]){const n=[];return Object.keys(t).forEach(r=>{if(e.length&&!e.includes(r))return;const i=t[r];n.push(...i.accounts)}),n}function $oe(t,e){return t.includes(\":\")?[t]:e.chains||[]}var iOe=Object.defineProperty,sOe=Object.defineProperties,oOe=Object.getOwnPropertyDescriptors,cV=Object.getOwnPropertySymbols,aOe=Object.prototype.hasOwnProperty,cOe=Object.prototype.propertyIsEnumerable,lV=(t,e,n)=>e in t?iOe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uV=(t,e)=>{for(var n in e||(e={}))aOe.call(e,n)&&lV(t,n,e[n]);if(cV)for(var n of cV(e))cOe.call(e,n)&&lV(t,n,e[n]);return t},lOe=(t,e)=>sOe(t,oOe(e));const uOe=\"ReactNative\",Ro={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},dOe=\"js\";function c4(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function hh(){return!wi.getDocument()&&!!wi.getNavigator()&&navigator.product===uOe}function fOe(){return hh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function hOe(){return hh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Sy(){return!c4()&&!!wi.getNavigator()&&!!wi.getDocument()}function u5(){return hh()?Ro.reactNative:c4()?Ro.node:Sy()?Ro.browser:Ro.unknown}function dV(){var t;try{return hh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function pOe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function gOe(t){var e,n;const r=Ioe();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!==\"\")),lOe(uV(uV({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn(\"Error populating app metadata\",i),t||r}}function Ioe(){return bse.getWindowMetadata()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function mOe(){if(u5()===Ro.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=pse();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function yOe(){var t;const e=u5();return e===Ro.browser?[e,((t=wi.getLocation())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function Toe(t,e,n){const r=mOe(),i=yOe();return[[t,e].join(\"-\"),[dOe,n].join(\"-\"),r,i].join(\"/\")}function bOe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split(\"?\"),d=Toe(t,e,r),h={auth:i,ua:d,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},p=pOe(l[1]||\"\",h);return l[0]+\"?\"+p}function b0(t,e){return t.filter(n=>e.includes(n)).length===t.length}function bP(t){return Object.fromEntries(t.entries())}function wP(t){return new Map(Object.entries(t))}function Qh(t=ce.FIVE_MINUTES,e){const n=ce.toMiliseconds(t||ce.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Of(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Poe(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function wOe(t){return Poe(\"topic\",t)}function vOe(t){return Poe(\"id\",t)}function Ooe(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function Ur(t,e){return ce.fromMiliseconds(Date.now()+ce.toMiliseconds(t))}function vf(t){return Date.now()>=ce.toMiliseconds(t)}function hn(t,e){return`${t}${e?`:${e}`:\"\"}`}function bl(t=[],e=[]){return[...new Set([...t,...e])]}async function EOe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n==\"string\"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!=\"string\")return;const o=_Oe(s,t,e),a=u5();if(a===Ro.browser){if(!((r=wi.getDocument())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}COe(o)}else a===Ro.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function _Oe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";i=`${i}${s}${$Oe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function COe(t){let e=\"_self\";AOe()?e=\"_top\":(xOe()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function SOe(t,e){let n=\"\";try{if(Sy()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function fV(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function hV(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function Sk(){return typeof process<\"u\"&&nOe.IS_VITEST===\"true\"}function xOe(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function AOe(){try{return window.self!==window.top}catch{return!1}}function $Oe(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function Noe(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function IOe(t){return new Promise(e=>setTimeout(e,t))}function Qv(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function TOe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function d5(t,...e){if(!TOe(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function xk(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");Qv(t.outputLen),Qv(t.blockLen)}function Um(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function Roe(t,e){d5(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const V3=BigInt(2**32-1),pV=BigInt(32);function POe(t,e=!1){return e?{h:Number(t&V3),l:Number(t>>pV&V3)}:{h:Number(t>>pV&V3)|0,l:Number(t&V3)|0}}function OOe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=POe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const NOe=(t,e,n)=>t<<n|e>>>32-n,ROe=(t,e,n)=>e<<n|t>>>32-n,kOe=(t,e,n)=>e<<n-32|t>>>64-n,MOe=(t,e,n)=>t<<n-32|e>>>64-n,Yg=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function DOe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Q7(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Hc(t,e){return t<<32-e|t>>>e}const gV=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function BOe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function mV(t){for(let e=0;e<t.length;e++)t[e]=BOe(t[e])}function LOe(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jm(t){return typeof t==\"string\"&&(t=LOe(t)),d5(t),t}function UOe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];d5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let Ak=class{clone(){return this._cloneInto()}};function koe(t){const e=r=>t().update(jm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function xy(t=32){if(Yg&&typeof Yg.getRandomValues==\"function\")return Yg.getRandomValues(new Uint8Array(t));if(Yg&&typeof Yg.randomBytes==\"function\")return Yg.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}const Moe=[],Doe=[],Boe=[],jOe=BigInt(0),Yb=BigInt(1),zOe=BigInt(2),FOe=BigInt(7),qOe=BigInt(256),HOe=BigInt(113);for(let t=0,e=Yb,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Moe.push(2*(5*r+n)),Doe.push((t+1)*(t+2)/2%64);let i=jOe;for(let s=0;s<7;s++)e=(e<<Yb^(e>>FOe)*HOe)%qOe,e&zOe&&(i^=Yb<<(Yb<<BigInt(s))-Yb);Boe.push(i)}const[VOe,KOe]=OOe(Boe,!0),yV=(t,e,n)=>n>32?kOe(t,e,n):NOe(t,e,n),bV=(t,e,n)=>n>32?MOe(t,e,n):ROe(t,e,n);function WOe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],d=n[c+1],h=yV(l,d,1)^n[a],p=bV(l,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Doe[o],c=yV(i,s,a),l=bV(i,s,a),d=Moe[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=VOe[r],t[1]^=KOe[r]}n.fill(0)}let GOe=class Loe extends Ak{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Qv(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=DOe(this.state)}keccak(){gV||mV(this.state32),WOe(this.state32,this.rounds),gV||mV(this.state32),this.posOut=0,this.pos=0}update(e){Um(this);const{blockLen:n,state:r}=this;e=jm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Um(this,!1),d5(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return Qv(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Roe(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Loe(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ZOe=(t,e,n)=>koe(()=>new GOe(e,t,n)),YOe=ZOe(1,136,256/8),JOe=\"https://rpc.walletconnect.org/v1\";function Uoe(t){const e=`Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(YOe(n)).toString(\"hex\")}async function XOe(t,e,n,r,i,s){switch(n.t){case\"eip191\":return await QOe(t,e,n.s);case\"eip1271\":return await eNe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function QOe(t,e,n){return(await Nse({hash:Uoe(e),signature:n})).toLowerCase()===t.toLowerCase()}async function eNe(t,e,n,r,i,s){const o=bm(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a=\"0x1626ba7e\",c=\"0000000000000000000000000000000000000000000000000000000000000040\",l=\"0000000000000000000000000000000000000000000000000000000000000041\",d=n.substring(2),h=Uoe(e).substring(2),p=a+h+c+l+d,m=await fetch(`${s||JOe}/?chainId=${r}&projectId=${i}`,{method:\"POST\",body:JSON.stringify({id:tNe(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:p},\"latest\"]})}),{result:b}=await m.json();return b?b.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error(\"isValidEip1271Signature: \",a),!1}}function tNe(){return Date.now()+Math.floor(Math.random()*1e3)}function nNe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const i=1+r*64;if(n.length<i)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return gk.encode(s)}var rNe=Object.defineProperty,iNe=Object.defineProperties,sNe=Object.getOwnPropertyDescriptors,wV=Object.getOwnPropertySymbols,oNe=Object.prototype.hasOwnProperty,aNe=Object.prototype.propertyIsEnumerable,vV=(t,e,n)=>e in t?rNe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cNe=(t,e)=>{for(var n in e||(e={}))oNe.call(e,n)&&vV(t,n,e[n]);if(wV)for(var n of wV(e))aNe.call(e,n)&&vV(t,n,e[n]);return t},lNe=(t,e)=>iNe(t,sNe(e));const uNe=\"did:pkh:\",$k=t=>t==null?void 0:t.split(\":\"),dNe=t=>{const e=t&&$k(t);if(e)return t.includes(uNe)?e[3]:e[1]},vP=t=>{const e=t&&$k(t);if(e)return e[2]+\":\"+e[3]},l4=t=>{const e=t&&$k(t);if(e)return e.pop()};async function EV(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=joe(i,i.iss),o=l4(i.iss);return await XOe(o,s,r,vP(i.iss),n)}const joe=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=l4(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${dNe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(y=>`\n- ${y}`).join(\"\")}`:void 0,b=KE(t.resources);if(b){const y=e2(b);i=vNe(i,y)}return[n,r,\"\",i,\"\",s,o,a,c,l,d,h,p,m].filter(y=>y!=null).join(`\n`)};function fNe(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function hNe(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function op(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!=\"object\")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function pNe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:gNe(e,n,r)}}}function gNe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function zoe(t){return op(t),`urn:recap:${fNe(t).replace(/=/g,\"\")}`}function e2(t){const e=hNe(t.replace(\"urn:recap:\",\"\"));return op(e),e}function mNe(t,e,n){const r=pNe(t,e,n);return zoe(r)}function yNe(t){return t&&t.includes(\"urn:recap:\")}function bNe(t,e){const n=e2(t),r=e2(e),i=wNe(n,r);return zoe(i)}function wNe(t,e){op(t),op(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=lNe(cNe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function vNe(t=\"\",e){op(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split(\"/\")[0],action:h.split(\"/\")[1]}));c.sort((h,p)=>h.action.localeCompare(p.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const d=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join(\"', '\")}' for '${a}'.`));r.push(d.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),o=`${n}${s}`;return`${t?t+\" \":\"\"}${o}`}function _V(t){var e;const n=e2(t);op(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split(\"/\")[1]):[]}function CV(t){const e=e2(t);op(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function KE(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return yNe(e)?e:void 0}function eA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Foe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function To(t,...e){if(!Foe(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function SV(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function ENe(t,e){To(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function xV(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}const Ff=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_Ne=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),CNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!CNe)throw new Error(\"Non little-endian hardware is not supported\");function SNe(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function EP(t){if(typeof t==\"string\")t=SNe(t);else if(Foe(t))t=_P(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function xNe(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function ANe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const $Ne=(t,e)=>{function n(r,...i){if(To(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error(\"nonce / iv required\");t.varSizeNonce?To(l):To(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&To(i[1]);const o=e(r,...i),a=(l,d)=>{if(d!==void 0){if(l!==2)throw new Error(\"cipher output not supported\");To(d)}};let c=!1;return{encrypt(l,d){if(c)throw new Error(\"cannot encrypt() twice with same key + nonce\");return c=!0,To(l),a(o.encrypt.length,d),o.encrypt(l,d)},decrypt(l,d){if(To(l),s&&l.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return a(o.decrypt.length,d),o.decrypt(l,d)}}}return Object.assign(n,t),n};function AV(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!INe(e))throw new Error(\"invalid output, must be aligned\");return e}function $V(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function INe(t){return t.byteOffset%4===0}function _P(t){return Uint8Array.from(t)}function zm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const qoe=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),TNe=qoe(\"expand 16-byte k\"),PNe=qoe(\"expand 32-byte k\"),ONe=Ff(TNe),NNe=Ff(PNe);function nn(t,e){return t<<e|t>>>32-e}function CP(t){return t.byteOffset%4===0}const K3=64,RNe=16,Hoe=2**32-1,IV=new Uint32Array;function kNe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(K3),d=Ff(l),h=CP(i)&&CP(s),p=h?Ff(i):IV,m=h?Ff(s):IV;for(let b=0;b<c;o++){if(t(e,n,r,d,o,a),o>=Hoe)throw new Error(\"arx: counter overflow\");const y=Math.min(K3,c-b);if(h&&y===K3){const E=b/4;if(b%4!==0)throw new Error(\"arx: invalid block position\");for(let v=0,_;v<RNe;v++)_=E+v,m[_]=p[_]^d[v];b+=K3;continue}for(let E=0,v;E<y;E++)v=b+E,s[v]=i[v]^l[E];b+=y}}function MNe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=xNe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return eA(i),eA(o),xV(s),xV(n),(a,c,l,d,h=0)=>{To(a),To(c),To(l);const p=l.length;if(d===void 0&&(d=new Uint8Array(p)),To(d),eA(h),h<0||h>=Hoe)throw new Error(\"arx: counter overflow\");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let b=a.length,y,E;if(b===32)m.push(y=_P(a)),E=NNe;else if(b===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),E=ONe,m.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);CP(c)||m.push(c=_P(c));const v=Ff(y);if(r){if(c.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(E,v,Ff(c.subarray(0,16)),v),c=c.subarray(16)}const _=16-i;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const S=new Uint8Array(12);S.set(c,s?0:12-c.length),c=S,m.push(c)}const C=Ff(c);return kNe(t,E,v,C,l,d,h,o),zm(...m),d}}const $i=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let DNe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=EP(e),To(e,32);const n=$i(e,0),r=$i(e,2),i=$i(e,4),s=$i(e,6),o=$i(e,8),a=$i(e,10),c=$i(e,12),l=$i(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=$i(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],d=o[3],h=o[4],p=o[5],m=o[6],b=o[7],y=o[8],E=o[9],v=$i(e,n+0),_=$i(e,n+2),C=$i(e,n+4),S=$i(e,n+6),A=$i(e,n+8),I=$i(e,n+10),O=$i(e,n+12),D=$i(e,n+14);let N=s[0]+(v&8191),U=s[1]+((v>>>13|_<<3)&8191),F=s[2]+((_>>>10|C<<6)&8191),H=s[3]+((C>>>7|S<<9)&8191),V=s[4]+((S>>>4|A<<12)&8191),M=s[5]+(A>>>1&8191),$=s[6]+((A>>>14|I<<2)&8191),P=s[7]+((I>>>11|O<<5)&8191),q=s[8]+((O>>>8|D<<8)&8191),T=s[9]+(D>>>5|i),k=0,z=k+N*a+U*(5*E)+F*(5*y)+H*(5*b)+V*(5*m);k=z>>>13,z&=8191,z+=M*(5*p)+$*(5*h)+P*(5*d)+q*(5*l)+T*(5*c),k+=z>>>13,z&=8191;let L=k+N*c+U*a+F*(5*E)+H*(5*y)+V*(5*b);k=L>>>13,L&=8191,L+=M*(5*m)+$*(5*p)+P*(5*h)+q*(5*d)+T*(5*l),k+=L>>>13,L&=8191;let B=k+N*l+U*c+F*a+H*(5*E)+V*(5*y);k=B>>>13,B&=8191,B+=M*(5*b)+$*(5*m)+P*(5*p)+q*(5*h)+T*(5*d),k+=B>>>13,B&=8191;let j=k+N*d+U*l+F*c+H*a+V*(5*E);k=j>>>13,j&=8191,j+=M*(5*y)+$*(5*b)+P*(5*m)+q*(5*p)+T*(5*h),k+=j>>>13,j&=8191;let K=k+N*h+U*d+F*l+H*c+V*a;k=K>>>13,K&=8191,K+=M*(5*E)+$*(5*y)+P*(5*b)+q*(5*m)+T*(5*p),k+=K>>>13,K&=8191;let G=k+N*p+U*h+F*d+H*l+V*c;k=G>>>13,G&=8191,G+=M*a+$*(5*E)+P*(5*y)+q*(5*b)+T*(5*m),k+=G>>>13,G&=8191;let Z=k+N*m+U*p+F*h+H*d+V*l;k=Z>>>13,Z&=8191,Z+=M*c+$*a+P*(5*E)+q*(5*y)+T*(5*b),k+=Z>>>13,Z&=8191;let Y=k+N*b+U*m+F*p+H*h+V*d;k=Y>>>13,Y&=8191,Y+=M*l+$*c+P*a+q*(5*E)+T*(5*y),k+=Y>>>13,Y&=8191;let X=k+N*y+U*b+F*m+H*p+V*h;k=X>>>13,X&=8191,X+=M*d+$*l+P*c+q*a+T*(5*E),k+=X>>>13,X&=8191;let Q=k+N*E+U*y+F*b+H*m+V*p;k=Q>>>13,Q&=8191,Q+=M*h+$*d+P*l+q*c+T*a,k+=Q>>>13,Q&=8191,k=(k<<2)+k|0,k=k+z|0,z=k&8191,k=k>>>13,L+=k,s[0]=z,s[1]=L,s[2]=B,s[3]=j,s[4]=K,s[5]=G,s[6]=Z,s[7]=Y,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;zm(r)}update(e){SV(this);const{buffer:n,blockLen:r}=this;e=EP(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){zm(this.h,this.r,this.buffer,this.pad)}digestInto(e){SV(this),ENe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}};function BNe(t){const e=(r,i)=>t(i).update(EP(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const LNe=BNe(t=>new DNe(t));function UNe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],d=e[0],h=e[1],p=e[2],m=e[3],b=e[4],y=e[5],E=e[6],v=e[7],_=i,C=n[0],S=n[1],A=n[2],I=o,O=a,D=c,N=l,U=d,F=h,H=p,V=m,M=b,$=y,P=E,q=v,T=_,k=C,z=S,L=A;for(let j=0;j<s;j+=2)I=I+U|0,T=nn(T^I,16),M=M+T|0,U=nn(U^M,12),I=I+U|0,T=nn(T^I,8),M=M+T|0,U=nn(U^M,7),O=O+F|0,k=nn(k^O,16),$=$+k|0,F=nn(F^$,12),O=O+F|0,k=nn(k^O,8),$=$+k|0,F=nn(F^$,7),D=D+H|0,z=nn(z^D,16),P=P+z|0,H=nn(H^P,12),D=D+H|0,z=nn(z^D,8),P=P+z|0,H=nn(H^P,7),N=N+V|0,L=nn(L^N,16),q=q+L|0,V=nn(V^q,12),N=N+V|0,L=nn(L^N,8),q=q+L|0,V=nn(V^q,7),I=I+F|0,L=nn(L^I,16),P=P+L|0,F=nn(F^P,12),I=I+F|0,L=nn(L^I,8),P=P+L|0,F=nn(F^P,7),O=O+H|0,T=nn(T^O,16),q=q+T|0,H=nn(H^q,12),O=O+H|0,T=nn(T^O,8),q=q+T|0,H=nn(H^q,7),D=D+V|0,k=nn(k^D,16),M=M+k|0,V=nn(V^M,12),D=D+V|0,k=nn(k^D,8),M=M+k|0,V=nn(V^M,7),N=N+U|0,z=nn(z^N,16),$=$+z|0,U=nn(U^$,12),N=N+U|0,z=nn(z^N,8),$=$+z|0,U=nn(U^$,7);let B=0;r[B++]=o+I|0,r[B++]=a+O|0,r[B++]=c+D|0,r[B++]=l+N|0,r[B++]=d+U|0,r[B++]=h+F|0,r[B++]=p+H|0,r[B++]=m+V|0,r[B++]=b+M|0,r[B++]=y+$|0,r[B++]=E+P|0,r[B++]=v+q|0,r[B++]=_+T|0,r[B++]=C+k|0,r[B++]=S+z|0,r[B++]=A+L|0}const jNe=MNe(UNe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),zNe=new Uint8Array(16),TV=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(zNe.subarray(n))},FNe=new Uint8Array(32);function PV(t,e,n,r,i){const s=t(e,n,FNe),o=LNe.create(s);i&&TV(o,i),TV(o,r);const a=new Uint8Array(16),c=_Ne(a);$V(c,0,BigInt(i?i.length:0),!0),$V(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return zm(s,a),l}const qNe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=AV(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=PV(t,e,n,a,r);return s.set(c,o),zm(c),s},decrypt(i,s){s=AV(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=PV(t,e,n,o,r);if(!ANe(a,c))throw new Error(\"invalid tag\");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),zm(c),s}}),Voe=$Ne({blockSize:64,nonceLength:12,tagLength:16},qNe(jNe));let Koe=class extends Ak{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,xk(e);const r=jm(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Um(this),this.iHash.update(e),this}digestInto(e){Um(this),d5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const i9=(t,e,n)=>new Koe(t,e).update(n).digest();i9.create=(t,e)=>new Koe(t,e);function HNe(t,e,n){return xk(t),n===void 0&&(n=new Uint8Array(t.outputLen)),i9(t,jm(n),jm(e))}const tA=new Uint8Array([0]),OV=new Uint8Array;function VNe(t,e,n,r=32){if(xk(t),Qv(r),r>255*t.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=OV);const s=new Uint8Array(i*t.outputLen),o=i9.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)tA[0]=l+1,a.update(l===0?OV:c).update(n).update(tA).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),tA.fill(0),s.slice(0,r)}const KNe=(t,e,n,r,i)=>VNe(t,HNe(t,e,n),r,i);function WNe(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function GNe(t,e,n){return t&e^~t&n}function ZNe(t,e,n){return t&e^t&n^e&n}let YNe=class extends Ak{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Q7(this.buffer)}update(e){Um(this);const{view:n,buffer:r,blockLen:i}=this;e=jm(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Q7(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Um(this),Roe(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;WNe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Q7(e),c=this.outputLen;if(c%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=c/4,d=this.get();if(l>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const JNe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),ef=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),tf=new Uint32Array(64);let XNe=class extends YNe{constructor(){super(64,32,8,!1),this.A=ef[0]|0,this.B=ef[1]|0,this.C=ef[2]|0,this.D=ef[3]|0,this.E=ef[4]|0,this.F=ef[5]|0,this.G=ef[6]|0,this.H=ef[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)tf[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=tf[h-15],m=tf[h-2],b=Hc(p,7)^Hc(p,18)^p>>>3,y=Hc(m,17)^Hc(m,19)^m>>>10;tf[h]=y+tf[h-7]+b+tf[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const p=Hc(a,6)^Hc(a,11)^Hc(a,25),m=d+p+GNe(a,c,l)+JNe[h]+tf[h]|0,b=(Hc(r,2)^Hc(r,13)^Hc(r,22))+ZNe(r,i,s)|0;d=l,l=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){tf.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const f5=koe(()=>new XNe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const s9=BigInt(0),o9=BigInt(1),QNe=BigInt(2);function ap(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function h5(t){if(!ap(t))throw new Error(\"Uint8Array expected\")}function Fm(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const eRe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function qm(t){h5(t);let e=\"\";for(let n=0;n<t.length;n++)e+=eRe[t[n]];return e}function em(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Ik(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?s9:BigInt(\"0x\"+t)}const du={_0:48,_9:57,A:65,F:70,a:97,f:102};function NV(t){if(t>=du._0&&t<=du._9)return t-du._0;if(t>=du.A&&t<=du.F)return t-(du.A-10);if(t>=du.a&&t<=du.f)return t-(du.a-10)}function Hm(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=NV(t.charCodeAt(s)),a=NV(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=o*16+a}return r}function O0(t){return Ik(qm(t))}function t2(t){return h5(t),Ik(qm(Uint8Array.from(t).reverse()))}function Vm(t,e){return Hm(t.toString(16).padStart(e*2,\"0\"))}function a9(t,e){return Vm(t,e).reverse()}function tRe(t){return Hm(em(t))}function Ao(t,e,n){let r;if(typeof e==\"string\")try{r=Hm(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(ap(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+i);return r}function n2(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];h5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function nRe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function rRe(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}const nA=t=>typeof t==\"bigint\"&&s9<=t;function c9(t,e,n){return nA(t)&&nA(e)&&nA(n)&&e<=t&&t<n}function Wu(t,e,n,r){if(!c9(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Woe(t){let e;for(e=0;t>s9;t>>=o9,e+=1);return e}function iRe(t,e){return t>>BigInt(e)&o9}function sRe(t,e,n){return t|(n?o9:s9)<<BigInt(e)}const Tk=t=>(QNe<<BigInt(t-1))-o9,rA=t=>new Uint8Array(t),RV=t=>Uint8Array.from(t);function Goe(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=rA(t),i=rA(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=rA())=>{i=a(RV([0]),d),r=a(),d.length!==0&&(i=a(RV([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return n2(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const oRe={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||ap(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Ay(t,e,n={}){const r=(i,s,o)=>{const a=oRe[s];if(typeof a!=\"function\")throw new Error(\"invalid validator function\");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(\"param \"+String(i)+\" is invalid. Expected \"+s+\", got \"+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const aRe=()=>{throw new Error(\"not implemented\")};function SP(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var cRe=Object.freeze({__proto__:null,isBytes:ap,abytes:h5,abool:Fm,bytesToHex:qm,numberToHexUnpadded:em,hexToNumber:Ik,hexToBytes:Hm,bytesToNumberBE:O0,bytesToNumberLE:t2,numberToBytesBE:Vm,numberToBytesLE:a9,numberToVarBytesBE:tRe,ensureBytes:Ao,concatBytes:n2,equalBytes:nRe,utf8ToBytes:rRe,inRange:c9,aInRange:Wu,bitLen:Woe,bitGet:iRe,bitSet:sRe,bitMask:Tk,createHmacDrbg:Goe,validateObject:Ay,notImplemented:aRe,memoized:SP});const yi=BigInt(0),br=BigInt(1),s0=BigInt(2),lRe=BigInt(3),xP=BigInt(4),kV=BigInt(5),MV=BigInt(8);function Ks(t,e){const n=t%e;return n>=yi?n:e+n}function Zoe(t,e,n){if(e<yi)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=yi)throw new Error(\"invalid modulus\");if(n===br)return yi;let r=br;for(;e>yi;)e&br&&(r=r*t%n),t=t*t%n,e>>=br;return r}function Ya(t,e,n){let r=t;for(;e-- >yi;)r*=r,r%=n;return r}function AP(t,e){if(t===yi)throw new Error(\"invert: expected non-zero number\");if(e<=yi)throw new Error(\"invert: expected positive modulus, got \"+e);let n=Ks(t,e),r=e,i=yi,s=br;for(;n!==yi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==br)throw new Error(\"invert: does not exist\");return Ks(i,e)}function uRe(t){const e=(t-br)/s0;let n,r,i;for(n=t-br,r=0;n%s0===yi;n/=s0,r++);for(i=s0;i<t&&Zoe(i,e,t)!==t-br;i++)if(i>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const o=(t+br)/xP;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error(\"Cannot find square root\");return l}}const s=(n+br)/s0;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error(\"Cannot find square root\");let c=r,l=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let b=o.sqr(h);p<c&&!o.eql(b,o.ONE);p++)b=o.sqr(b);const m=o.pow(l,br<<BigInt(c-p-1));l=o.sqr(m),d=o.mul(d,m),h=o.mul(h,l),c=p}return d}}function dRe(t){if(t%xP===lRe){const e=(t+br)/xP;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error(\"Cannot find square root\");return i}}if(t%MV===kV){const e=(t-kV)/MV;return function(n,r){const i=n.mul(r,s0),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,s0),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error(\"Cannot find square root\");return c}}return uRe(t)}const fRe=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function hRe(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=fRe.reduce((r,i)=>(r[i]=\"function\",r),e);return Ay(t,n)}function pRe(t,e,n){if(n<yi)throw new Error(\"invalid exponent, negatives unsupported\");if(n===yi)return t.ONE;if(n===br)return e;let r=t.ONE,i=e;for(;n>yi;)n&br&&(r=t.mul(r,i)),i=t.sqr(i),n>>=br;return r}function gRe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Yoe(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Joe(t,e,n=!1,r={}){if(t<=yi)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:i,nByteLength:s}=Yoe(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Tk(i),ZERO:yi,ONE:br,create:c=>Ks(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return yi<=c&&c<t},is0:c=>c===yi,isOdd:c=>(c&br)===br,neg:c=>Ks(-c,t),eql:(c,l)=>c===l,sqr:c=>Ks(c*c,t),add:(c,l)=>Ks(c+l,t),sub:(c,l)=>Ks(c-l,t),mul:(c,l)=>Ks(c*l,t),pow:(c,l)=>pRe(a,c,l),div:(c,l)=>Ks(c*AP(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>AP(c,t),sqrt:r.sqrt||(c=>(o||(o=dRe(t)),o(a,c))),invertBatch:c=>gRe(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?a9(c,s):Vm(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+c.length);return n?t2(c):O0(c)}});return Object.freeze(a)}function Xoe(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Qoe(t){const e=Xoe(t);return e+Math.ceil(e/2)}function mRe(t,e,n=!1){const r=t.length,i=Xoe(e),s=Qoe(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const o=n?t2(t):O0(t),a=Ks(o,e-br)+br;return n?a9(a,i):Vm(a,i)}const DV=BigInt(0),W3=BigInt(1);function iA(t,e){const n=e.negate();return t?n:e}function eae(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function sA(t,e){eae(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function yRe(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function bRe(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const oA=new WeakMap,tae=new WeakMap;function aA(t){return tae.get(t)||1}function wRe(t,e){return{constTimeNegate:iA,hasPrecomputes(n){return aA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>DV;)r&W3&&(i=i.add(s)),s=s.double(),r>>=W3;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=sA(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=sA(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let b=Number(i&l);i>>=h,b>o&&(b-=d,i+=W3);const y=m,E=m+Math.abs(b)-1,v=p%2!==0,_=b<0;b===0?c=c.add(iA(v,r[y])):a=a.add(iA(_,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=sA(n,e),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===DV)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=W3),m===0)continue;let b=r[p+Math.abs(m)-1];m<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=oA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&oA.set(r,i(s))),s},wNAFCached(n,r,i){const s=aA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=aA(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){eae(r,e),tae.set(n,r),oA.delete(n)}}}function vRe(t,e,n,r){if(yRe(n,t),bRe(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,s=Woe(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let d=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const b=r[m],y=Number(b>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,b=i;m>0;m--)b=b.add(c[m]),p=p.add(b);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function nae(t){return hRe(t.Fp),Ay(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...Yoe(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Jg=BigInt(0),cA=BigInt(1);function ERe(t){return Ay(t,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...t})}function _Re(t){const e=ERe(t),{P:n}=e,r=_=>Ks(_,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(_=>_),c=e.powPminus2||(_=>Zoe(_,n-BigInt(2),n));function l(_,C,S){const A=r(_*(C-S));return C=r(C-A),S=r(S+A),[C,S]}const d=(e.a-BigInt(2))/BigInt(4);function h(_,C){Wu(\"u\",_,Jg,n),Wu(\"scalar\",C,Jg,n);const S=C,A=_;let I=cA,O=Jg,D=_,N=cA,U=Jg,F;for(let V=BigInt(i-1);V>=Jg;V--){const M=S>>V&cA;U^=M,F=l(U,I,D),I=F[0],D=F[1],F=l(U,O,N),O=F[0],N=F[1],U=M;const $=I+O,P=r($*$),q=I-O,T=r(q*q),k=P-T,z=D+N,L=D-N,B=r(L*$),j=r(z*q),K=B+j,G=B-j;D=r(K*K),N=r(A*r(G*G)),I=r(P*T),O=r(k*(P+r(d*k)))}F=l(U,I,D),I=F[0],D=F[1],F=l(U,O,N),O=F[0],N=F[1];const H=c(O);return r(I*H)}function p(_){return a9(r(_),s)}function m(_){const C=Ao(\"u coordinate\",_,s);return o===32&&(C[31]&=127),t2(C)}function b(_){const C=Ao(\"scalar\",_),S=C.length;if(S!==s&&S!==o){let A=\"\"+s+\" or \"+o;throw new Error(\"invalid scalar, expected \"+A+\" bytes, got \"+S)}return t2(a(C))}function y(_,C){const S=m(C),A=b(_),I=h(S,A);if(I===Jg)throw new Error(\"invalid private or public key received\");return p(I)}const E=p(e.Gu);function v(_){return y(_,E)}return{scalarMult:y,scalarMultBase:v,getSharedSecret:(_,C)=>y(_,C),getPublicKey:_=>v(_),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:E}}const $P=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\");BigInt(0);const CRe=BigInt(1),BV=BigInt(2),SRe=BigInt(3),xRe=BigInt(5);BigInt(8);function ARe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=$P,o=t*t%s*t%s,a=Ya(o,BV,s)*o%s,c=Ya(a,CRe,s)*t%s,l=Ya(c,xRe,s)*c%s,d=Ya(l,e,s)*l%s,h=Ya(d,n,s)*d%s,p=Ya(h,r,s)*h%s,m=Ya(p,i,s)*p%s,b=Ya(m,i,s)*p%s,y=Ya(b,e,s)*l%s;return{pow_p_5_8:Ya(y,BV,s)*t%s,b2:o}}function $Re(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const IP=_Re({P:$P,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=$P,{pow_p_5_8:n,b2:r}=ARe(t);return Ks(Ya(n,SRe,e)*r,e)},adjustScalarBytes:$Re,randomBytes:xy});function LV(t){t.lowS!==void 0&&Fm(\"lowS\",t.lowS),t.prehash!==void 0&&Fm(\"prehash\",t.prehash)}function IRe(t){const e=nae(t);Ay(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error(\"invalid endomorphism, can only be defined for Koblitz curves that have a=0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error(\"invalid endomorphism, expected beta: bigint and splitScalar: function\")}return Object.freeze({...e})}const{bytesToNumberBE:TRe,hexToBytes:PRe}=cRe;let ORe=class extends Error{constructor(e=\"\"){super(e)}};const Iu={Err:ORe,_tlv:{encode:(t,e)=>{const{Err:n}=Iu;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,i=em(r);if(i.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?em(i.length/2|128):\"\";return em(t)+s+i+e},decode(t,e){const{Err:n}=Iu;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n(\"tlv.decode(long): indefinite length not supported\");if(c>4)throw new n(\"tlv.decode(long): byte length is too big\");const l=e.subarray(r,r+c);if(l.length!==c)throw new n(\"tlv.decode: length bytes not complete\");if(l[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const d of l)o=o<<8|d;if(r+=c,o<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n(\"tlv.decode: wrong value length\");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Iu;if(t<Ru)throw new e(\"integer: negative integers are not allowed\");let n=em(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=Iu;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return TRe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Iu,i=typeof t==\"string\"?PRe(t):t;h5(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:a,l:c}=r.decode(2,s),{v:l,l:d}=r.decode(2,c);if(d.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Iu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},Ru=BigInt(0),ii=BigInt(1);BigInt(2);const UV=BigInt(3);BigInt(4);function NRe(t){const e=IRe(t),{Fp:n}=e,r=Joe(e.n,e.nBitLength),i=e.toBytes||((y,E,v)=>{const _=E.toAffine();return n2(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(y=>{const E=y.subarray(1),v=n.fromBytes(E.subarray(0,n.BYTES)),_=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:v,y:_}});function o(y){const{a:E,b:v}=e,_=n.sqr(y),C=n.mul(_,y);return n.add(n.add(C,n.mul(y,E)),v)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function a(y){return c9(y,ii,e.n)}function c(y){const{allowedPrivateKeyLengths:E,nByteLength:v,wrapPrivateKey:_,n:C}=e;if(E&&typeof y!=\"bigint\"){if(ap(y)&&(y=qm(y)),typeof y!=\"string\"||!E.includes(y.length))throw new Error(\"invalid private key\");y=y.padStart(v*2,\"0\")}let S;try{S=typeof y==\"bigint\"?y:O0(Ao(\"private key\",y,v))}catch{throw new Error(\"invalid private key, expected hex or \"+v+\" bytes, got \"+typeof y)}return _&&(S=Ks(S,C)),Wu(\"private key\",S,ii,C),S}function l(y){if(!(y instanceof p))throw new Error(\"ProjectivePoint expected\")}const d=SP((y,E)=>{const{px:v,py:_,pz:C}=y;if(n.eql(C,n.ONE))return{x:v,y:_};const S=y.is0();E==null&&(E=S?n.ONE:n.inv(C));const A=n.mul(v,E),I=n.mul(_,E),O=n.mul(C,E);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:I}}),h=SP(y=>{if(y.is0()){if(e.allowInfinityPoint&&!n.is0(y.py))return;throw new Error(\"bad point: ZERO\")}const{x:E,y:v}=y.toAffine();if(!n.isValid(E)||!n.isValid(v))throw new Error(\"bad point: x or y not FE\");const _=n.sqr(v),C=o(E);if(!n.eql(_,C))throw new Error(\"bad point: equation left != right\");if(!y.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class p{constructor(E,v,_){if(this.px=E,this.py=v,this.pz=_,E==null||!n.isValid(E))throw new Error(\"x required\");if(v==null||!n.isValid(v))throw new Error(\"y required\");if(_==null||!n.isValid(_))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(E){const{x:v,y:_}=E||{};if(!E||!n.isValid(v)||!n.isValid(_))throw new Error(\"invalid affine point\");if(E instanceof p)throw new Error(\"projective point not allowed\");const C=S=>n.eql(S,n.ZERO);return C(v)&&C(_)?p.ZERO:new p(v,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const v=n.invertBatch(E.map(_=>_.pz));return E.map((_,C)=>_.toAffine(v[C])).map(p.fromAffine)}static fromHex(E){const v=p.fromAffine(s(Ao(\"pointHex\",E)));return v.assertValidity(),v}static fromPrivateKey(E){return p.BASE.multiply(c(E))}static msm(E,v){return vRe(p,r,E,v)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){h(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error(\"Field doesn't support isOdd\")}equals(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E,O=n.eql(n.mul(v,I),n.mul(S,C)),D=n.eql(n.mul(_,I),n.mul(A,C));return O&&D}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:v}=e,_=n.mul(v,UV),{px:C,py:S,pz:A}=this;let I=n.ZERO,O=n.ZERO,D=n.ZERO,N=n.mul(C,C),U=n.mul(S,S),F=n.mul(A,A),H=n.mul(C,S);return H=n.add(H,H),D=n.mul(C,A),D=n.add(D,D),I=n.mul(E,D),O=n.mul(_,F),O=n.add(I,O),I=n.sub(U,O),O=n.add(U,O),O=n.mul(I,O),I=n.mul(H,I),D=n.mul(_,D),F=n.mul(E,F),H=n.sub(N,F),H=n.mul(E,H),H=n.add(H,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,F),N=n.mul(N,H),O=n.add(O,N),F=n.mul(S,A),F=n.add(F,F),N=n.mul(F,H),I=n.sub(I,N),D=n.mul(F,U),D=n.add(D,D),D=n.add(D,D),new p(I,O,D)}add(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E;let O=n.ZERO,D=n.ZERO,N=n.ZERO;const U=e.a,F=n.mul(e.b,UV);let H=n.mul(v,S),V=n.mul(_,A),M=n.mul(C,I),$=n.add(v,_),P=n.add(S,A);$=n.mul($,P),P=n.add(H,V),$=n.sub($,P),P=n.add(v,C);let q=n.add(S,I);return P=n.mul(P,q),q=n.add(H,M),P=n.sub(P,q),q=n.add(_,C),O=n.add(A,I),q=n.mul(q,O),O=n.add(V,M),q=n.sub(q,O),N=n.mul(U,P),O=n.mul(F,M),N=n.add(O,N),O=n.sub(V,N),N=n.add(V,N),D=n.mul(O,N),V=n.add(H,H),V=n.add(V,H),M=n.mul(U,M),P=n.mul(F,P),V=n.add(V,M),M=n.sub(H,M),M=n.mul(U,M),P=n.add(P,M),H=n.mul(V,P),D=n.add(D,H),H=n.mul(q,P),O=n.mul($,O),O=n.sub(O,H),H=n.mul($,V),N=n.mul(q,N),N=n.add(N,H),new p(O,D,N)}subtract(E){return this.add(E.negate())}is0(){return this.equals(p.ZERO)}wNAF(E){return b.wNAFCached(this,E,p.normalizeZ)}multiplyUnsafe(E){const{endo:v,n:_}=e;Wu(\"scalar\",E,Ru,_);const C=p.ZERO;if(E===Ru)return C;if(this.is0()||E===ii)return this;if(!v||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,p.normalizeZ);let{k1neg:S,k1:A,k2neg:I,k2:O}=v.splitScalar(E),D=C,N=C,U=this;for(;A>Ru||O>Ru;)A&ii&&(D=D.add(U)),O&ii&&(N=N.add(U)),U=U.double(),A>>=ii,O>>=ii;return S&&(D=D.negate()),I&&(N=N.negate()),N=new p(n.mul(N.px,v.beta),N.py,N.pz),D.add(N)}multiply(E){const{endo:v,n:_}=e;Wu(\"scalar\",E,ii,_);let C,S;if(v){const{k1neg:A,k1:I,k2neg:O,k2:D}=v.splitScalar(E);let{p:N,f:U}=this.wNAF(I),{p:F,f:H}=this.wNAF(D);N=b.constTimeNegate(A,N),F=b.constTimeNegate(O,F),F=new p(n.mul(F.px,v.beta),F.py,F.pz),C=N.add(F),S=U.add(H)}else{const{p:A,f:I}=this.wNAF(E);C=A,S=I}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(E,v,_){const C=p.BASE,S=(I,O)=>O===Ru||O===ii||!I.equals(C)?I.multiplyUnsafe(O):I.multiply(O),A=S(this,v).add(S(E,_));return A.is0()?void 0:A}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:v}=e;if(E===ii)return!0;if(v)return v(p,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:E,clearCofactor:v}=e;return E===ii?this:v?v(p,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return Fm(\"isCompressed\",E),this.assertValidity(),i(p,this,E)}toHex(E=!0){return Fm(\"isCompressed\",E),qm(this.toRawBytes(E))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,b=wRe(p,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function RRe(t){const e=nae(t);return Ay(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function kRe(t){const e=RRe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(M){return Ks(M,r)}function a(M){return AP(M,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=NRe({...e,toBytes(M,$,P){const q=$.toAffine(),T=n.toBytes(q.x),k=n2;return Fm(\"isCompressed\",P),P?k(Uint8Array.from([$.hasEvenY()?2:3]),T):k(Uint8Array.from([4]),T,n.toBytes(q.y))},fromBytes(M){const $=M.length,P=M[0],q=M.subarray(1);if($===i&&(P===2||P===3)){const T=O0(q);if(!c9(T,ii,n.ORDER))throw new Error(\"Point is not on curve\");const k=d(T);let z;try{z=n.sqrt(k)}catch(B){const j=B instanceof Error?\": \"+B.message:\"\";throw new Error(\"Point is not on curve\"+j)}const L=(z&ii)===ii;return(P&1)===1!==L&&(z=n.neg(z)),{x:T,y:z}}else if($===s&&P===4){const T=n.fromBytes(q.subarray(0,n.BYTES)),k=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:T,y:k}}else{const T=i,k=s;throw new Error(\"invalid Point, expected length of \"+T+\", or uncompressed \"+k+\", got \"+$)}}}),p=M=>qm(Vm(M,e.nByteLength));function m(M){const $=r>>ii;return M>$}function b(M){return m(M)?o(-M):M}const y=(M,$,P)=>O0(M.slice($,P));class E{constructor($,P,q){this.r=$,this.s=P,this.recovery=q,this.assertValidity()}static fromCompact($){const P=e.nByteLength;return $=Ao(\"compactSignature\",$,P*2),new E(y($,0,P),y($,P,2*P))}static fromDER($){const{r:P,s:q}=Iu.toSig(Ao(\"DER\",$));return new E(P,q)}assertValidity(){Wu(\"r\",this.r,ii,r),Wu(\"s\",this.s,ii,r)}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:P,s:q,recovery:T}=this,k=I(Ao(\"msgHash\",$));if(T==null||![0,1,2,3].includes(T))throw new Error(\"recovery id invalid\");const z=T===2||T===3?P+e.n:P;if(z>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const L=(T&1)===0?\"02\":\"03\",B=c.fromHex(L+p(z)),j=a(z),K=o(-k*j),G=o(q*j),Z=c.BASE.multiplyAndAddUnsafe(B,K,G);if(!Z)throw new Error(\"point at infinify\");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Hm(this.toDERHex())}toDERHex(){return Iu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hm(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(M){try{return l(M),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const M=Qoe(e.n);return mRe(e.randomBytes(M),e.n)},precompute(M=8,$=c.BASE){return $._setWindowSize(M),$.multiply(BigInt(3)),$}};function _(M,$=!0){return c.fromPrivateKey(M).toRawBytes($)}function C(M){const $=ap(M),P=typeof M==\"string\",q=($||P)&&M.length;return $?q===i||q===s:P?q===2*i||q===2*s:M instanceof c}function S(M,$,P=!0){if(C(M))throw new Error(\"first arg must be private key\");if(!C($))throw new Error(\"second arg must be public key\");return c.fromHex($).multiply(l(M)).toRawBytes(P)}const A=e.bits2int||function(M){if(M.length>8192)throw new Error(\"input is too large\");const $=O0(M),P=M.length*8-e.nBitLength;return P>0?$>>BigInt(P):$},I=e.bits2int_modN||function(M){return o(A(M))},O=Tk(e.nBitLength);function D(M){return Wu(\"num < 2^\"+e.nBitLength,M,Ru,O),Vm(M,e.nByteLength)}function N(M,$,P=U){if([\"recovered\",\"canonical\"].some(X=>X in P))throw new Error(\"sign() legacy options not supported\");const{hash:q,randomBytes:T}=e;let{lowS:k,prehash:z,extraEntropy:L}=P;k==null&&(k=!0),M=Ao(\"msgHash\",M),LV(P),z&&(M=Ao(\"prehashed msgHash\",q(M)));const B=I(M),j=l($),K=[D(j),D(B)];if(L!=null&&L!==!1){const X=L===!0?T(n.BYTES):L;K.push(Ao(\"extraEntropy\",X))}const G=n2(...K),Z=B;function Y(X){const Q=A(X);if(!h(Q))return;const re=a(Q),oe=c.BASE.multiply(Q).toAffine(),ue=o(oe.x);if(ue===Ru)return;const ye=o(re*o(Z+ue*j));if(ye===Ru)return;let xe=(oe.x===ue?0:2)|Number(oe.y&ii),Be=ye;return k&&m(ye)&&(Be=b(ye),xe^=1),new E(ue,Be,xe)}return{seed:G,k2sig:Y}}const U={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function H(M,$,P=U){const{seed:q,k2sig:T}=N(M,$,P),k=e;return Goe(k.hash.outputLen,k.nByteLength,k.hmac)(q,T)}c.BASE._setWindowSize(8);function V(M,$,P,q=F){var ye;const T=M;$=Ao(\"msgHash\",$),P=Ao(\"publicKey\",P);const{lowS:k,prehash:z,format:L}=q;if(LV(q),\"strict\"in q)throw new Error(\"options.strict was renamed to lowS\");if(L!==void 0&&L!==\"compact\"&&L!==\"der\")throw new Error(\"format must be compact or der\");const B=typeof T==\"string\"||ap(T),j=!B&&!L&&typeof T==\"object\"&&T!==null&&typeof T.r==\"bigint\"&&typeof T.s==\"bigint\";if(!B&&!j)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let K,G;try{if(j&&(K=new E(T.r,T.s)),B){try{L!==\"compact\"&&(K=E.fromDER(T))}catch(xe){if(!(xe instanceof Iu.Err))throw xe}!K&&L!==\"der\"&&(K=E.fromCompact(T))}G=c.fromHex(P)}catch{return!1}if(!K||k&&K.hasHighS())return!1;z&&($=e.hash($));const{r:Z,s:Y}=K,X=I($),Q=a(Y),re=o(X*Q),oe=o(Z*Q),ue=(ye=c.BASE.multiplyAndAddUnsafe(G,re,oe))==null?void 0:ye.toAffine();return ue?o(ue.x)===Z:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:H,verify:V,ProjectivePoint:c,Signature:E,utils:v}}function MRe(t){return{hash:t,hmac:(e,...n)=>i9(t,e,UOe(...n)),randomBytes:xy}}function DRe(t,e){const n=r=>kRe({...t,...MRe(r)});return{...n(e),create:n}}const rae=Joe(BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\")),BRe=rae.create(BigInt(\"-3\")),LRe=BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),URe=DRe({a:BRe,b:LRe,Fp:rae,n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"),h:BigInt(1),lowS:!1},f5),iae=\"base10\",ws=\"base16\",ic=\"base64pad\",Af=\"base64url\",p5=\"utf8\",sae=0,Gu=1,g5=2,jRe=0,jV=1,Lw=12,Pk=32;function zRe(){const t=IP.utils.randomPrivateKey(),e=IP.getPublicKey(t);return{privateKey:Nn(t,ws),publicKey:Nn(e,ws)}}function TP(){const t=xy(Pk);return Nn(t,ws)}function FRe(t,e){const n=IP.getSharedSecret(tr(t,ws),tr(e,ws)),r=KNe(f5,n,void 0,void 0,Pk);return Nn(r,ws)}function WE(t){const e=f5(tr(t,ws));return Nn(e,ws)}function tl(t){const e=f5(tr(t,p5));return Nn(e,ws)}function oae(t){return tr(`${t}`,iae)}function cp(t){return Number(Nn(t,iae))}function aae(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function cae(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function qRe(t){const e=oae(typeof t.type<\"u\"?t.type:sae);if(cp(e)===Gu&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?tr(t.senderPublicKey,ws):void 0,r=typeof t.iv<\"u\"?tr(t.iv,ws):xy(Lw),i=tr(t.symKey,ws),s=Voe(i,r).encrypt(tr(t.message,p5)),o=lae({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Af?aae(o):o}function HRe(t){const e=tr(t.symKey,ws),{sealed:n,iv:r}=r2({encoded:t.encoded,encoding:t.encoding}),i=Voe(e,r).decrypt(n);if(i===null)throw new Error(\"Failed to decrypt\");return Nn(i,p5)}function VRe(t,e){const n=oae(g5),r=xy(Lw),i=tr(t,p5),s=lae({type:n,sealed:i,iv:r});return e===Af?aae(s):s}function KRe(t,e){const{sealed:n}=r2({encoded:t,encoding:e});return Nn(n,p5)}function lae(t){if(cp(t.type)===g5)return Nn(yl([t.type,t.sealed]),ic);if(cp(t.type)===Gu){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return Nn(yl([t.type,t.senderPublicKey,t.iv,t.sealed]),ic)}return Nn(yl([t.type,t.iv,t.sealed]),ic)}function r2(t){const e=(t.encoding||ic)===Af?cae(t.encoded):t.encoded,n=tr(e,ic),r=n.slice(jRe,jV),i=jV;if(cp(r)===Gu){const c=i+Pk,l=c+Lw,d=n.slice(i,c),h=n.slice(c,l),p=n.slice(l);return{type:r,sealed:p,iv:h,senderPublicKey:d}}if(cp(r)===g5){const c=n.slice(i),l=xy(Lw);return{type:r,sealed:c,iv:l}}const s=i+Lw,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function WRe(t,e){const n=r2({encoded:t,encoding:e==null?void 0:e.encoding});return uae({type:cp(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?Nn(n.senderPublicKey,ws):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function uae(t){const e=(t==null?void 0:t.type)||sae;if(e===Gu){if(typeof(t==null?void 0:t.senderPublicKey)>\"u\")throw new Error(\"missing sender public key\");if(typeof(t==null?void 0:t.receiverPublicKey)>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function zV(t){return t.type===Gu&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function FV(t){return t.type===g5}function GRe(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return yl([new Uint8Array([4]),e,n])}function ZRe(t,e){const[n,r,i]=t.split(\".\"),s=Buffer.from(cae(i),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=f5(c),d=GRe(e);if(!URe.verify(yl([o,a]),l,d))throw new Error(\"Invalid signature\");return Lm(t).payload}const YRe=\"irn\";function u4(t){return(t==null?void 0:t.relay)||{protocol:YRe}}function vw(t){const e=Aoe[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}function JRe(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,\"\"),o=t[i];n[s]=o}}),n}function qV(t){if(!t.includes(\"wc:\")){const l=Noe(t);l!=null&&l.includes(\"wc:\")&&(t=l)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",o=new URLSearchParams(s),a={};o.forEach((l,d)=>{a[d]=l});const c=typeof a.methods==\"string\"?a.methods.split(\",\"):void 0;return{protocol:r,topic:XRe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:JRe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function XRe(t){return t.startsWith(\"//\")?t.substring(2):t}function QRe(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function HV(t){const e=new URLSearchParams,n=QRe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set(\"symKey\",t.symKey),t.expiryTimestamp&&e.set(\"expiryTimestamp\",t.expiryTimestamp.toString()),t.methods&&e.set(\"methods\",t.methods.join(\",\"));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function G3(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var eke=Object.defineProperty,tke=Object.defineProperties,nke=Object.getOwnPropertyDescriptors,VV=Object.getOwnPropertySymbols,rke=Object.prototype.hasOwnProperty,ike=Object.prototype.propertyIsEnumerable,KV=(t,e,n)=>e in t?eke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ske=(t,e)=>{for(var n in e||(e={}))rke.call(e,n)&&KV(t,n,e[n]);if(VV)for(var n of VV(e))ike.call(e,n)&&KV(t,n,e[n]);return t},oke=(t,e)=>tke(t,nke(e));function $y(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(\":\");e.push(`${r}:${i}`)}),e}function ake(t){const e=[];return Object.values(t).forEach(n=>{e.push(...$y(n.accounts))}),e}function cke(t,e){const n=[];return Object.values(t).forEach(r=>{$y(r.accounts).includes(e)&&n.push(...r.methods)}),n}function lke(t,e){const n=[];return Object.values(t).forEach(r=>{$y(r.accounts).includes(e)&&n.push(...r.events)}),n}function l9(t){return t.includes(\":\")}function tm(t){return l9(t)?t.split(\":\")[0]:t}function WV(t){var e,n,r;const i={};if(!qf(t))return i;for(const[s,o]of Object.entries(t)){const a=l9(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],d=tm(s);i[d]=oke(ske({},i[d]),{chains:bl(a,(e=i[d])==null?void 0:e.chains),methods:bl(c,(n=i[d])==null?void 0:n.methods),events:bl(l,(r=i[d])==null?void 0:r.events)})}return i}function uke(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(\":\");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function GV(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=uke(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=bl(i.methods,t):i.methods=t,i.events=[\"chainChanged\",\"accountsChanged\"];return n}function dke(t,e){var n,r,i,s,o,a;const c=WV(t),l=WV(e),d={},h=Object.keys(c).concat(Object.keys(l));for(const p of h)d[p]={chains:bl((n=c[p])==null?void 0:n.chains,(r=l[p])==null?void 0:r.chains),methods:bl((i=c[p])==null?void 0:i.methods,(s=l[p])==null?void 0:s.methods),events:bl((o=c[p])==null?void 0:o.events,(a=l[p])==null?void 0:a.events)};return d}const fke={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},hke={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function ze(t,e){const{message:n,code:r}=hke[t];return{message:e?`${n} ${e}`:n,code:r}}function Cn(t,e){const{message:n,code:r}=fke[t];return{message:e?`${n} ${e}`:n,code:r}}function uc(t,e){return!!Array.isArray(t)}function qf(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Di(t){return typeof t>\"u\"}function Or(t,e){return e&&Di(t)?!0:typeof t==\"string\"&&!!t.trim().length}function Ok(t,e){return e&&Di(t)?!0:typeof t==\"number\"&&!isNaN(t)}function pke(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return b0(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],d=$y(a),h=n[o];(!b0($oe(o,h),d)||!b0(h.methods,c)||!b0(h.events,l))&&(s=!1)}),s):!1}function d4(t){return Or(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function gke(t){if(Or(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&d4(n)}}return!1}function mke(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(Or(t,!1)){if(e(t))return!0;const n=Noe(t);return e(n)}}catch{}return!1}function yke(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function bke(t){return t==null?void 0:t.topic}function wke(t,e){let n=null;return Or(t==null?void 0:t.publicKey,!1)||(n=ze(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function ZV(t){let e=!0;return uc(t)?t.length&&(e=t.every(n=>Or(n,!1))):e=!1,e}function vke(t,e,n){let r=null;return uc(e)&&e.length?e.forEach(i=>{r||d4(i)||(r=Cn(\"UNSUPPORTED_CHAINS\",`${n}, chain ${i} should be a string and conform to \"namespace:chainId\" format`))}):d4(t)||(r=Cn(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function Eke(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=vke(i,$oe(i,s),`${e} ${n}`);o&&(r=o)}),r}function _ke(t,e){let n=null;return uc(t)?t.forEach(r=>{n||gke(r)||(n=Cn(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=Cn(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function Cke(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=_ke(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function Ske(t,e){let n=null;return ZV(t==null?void 0:t.methods)?ZV(t==null?void 0:t.events)||(n=Cn(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=Cn(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function dae(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Ske(r,`${e}, namespace`);i&&(n=i)}),n}function xke(t,e,n){let r=null;if(t&&qf(t)){const i=dae(t,e);i&&(r=i);const s=Eke(t,e,n);s&&(r=s)}else r=ze(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function lA(t,e){let n=null;if(t&&qf(t)){const r=dae(t,e);r&&(n=r);const i=Cke(t,e);i&&(n=i)}else n=ze(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function fae(t){return Or(t.protocol,!0)}function Ake(t,e){let n=!1;return t?t&&uc(t)&&t.length&&t.forEach(r=>{n=fae(r)}):n=!0,n}function $ke(t){return typeof t==\"number\"}function Fs(t){return typeof t<\"u\"&&typeof t!==null}function Ike(t){return!(!t||typeof t!=\"object\"||!t.code||!Ok(t.code,!1)||!t.message||!Or(t.message,!1))}function Tke(t){return!(Di(t)||!Or(t.method,!1))}function Pke(t){return!(Di(t)||Di(t.result)&&Di(t.error)||!Ok(t.id,!1)||!Or(t.jsonrpc,!1))}function Oke(t){return!(Di(t)||!Or(t.name,!1))}function YV(t,e){return!(!d4(e)||!ake(t).includes(e))}function Nke(t,e,n){return Or(n,!1)?cke(t,e).includes(n):!1}function Rke(t,e,n){return Or(n,!1)?lke(t,e).includes(n):!1}function JV(t,e,n){let r=null;const i=kke(t),s=Mke(e),o=Object.keys(i),a=Object.keys(s),c=XV(Object.keys(t)),l=XV(Object.keys(e)),d=c.filter(h=>!l.includes(h));return d.length&&(r=ze(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${d.toString()}\n      Received: ${Object.keys(e).toString()}`)),b0(o,a)||(r=ze(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(\":\")||r)return;const p=$y(e[h].accounts);p.includes(h)||(r=ze(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${h}\n        Required: ${h}\n        Approved: ${p.toString()}`))}),o.forEach(h=>{r||(b0(i[h].methods,s[h].methods)?b0(i[h].events,s[h].events)||(r=ze(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=ze(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function kke(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function XV(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function Mke(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=$y(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Dke(t,e){return Ok(t,!1)&&t<=e.max&&t>=e.min}function QV(){const t=u5();return new Promise(e=>{switch(t){case Ro.browser:e(Bke());break;case Ro.reactNative:e(Lke());break;case Ro.node:e(Uke());break;default:e(!0)}})}function Bke(){return Sy()&&(navigator==null?void 0:navigator.onLine)}async function Lke(){if(hh()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function Uke(){return!0}function jke(t){switch(u5()){case Ro.browser:zke(t);break;case Ro.reactNative:Fke(t);break}}function zke(t){!hh()&&Sy()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function Fke(t){hh()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function qke(){var t;return Sy()&&wi.getDocument()?((t=wi.getDocument())==null?void 0:t.visibilityState)===\"visible\":!0}const uA={};let Jb=class{static get(e){return uA[e]}static set(e,n){uA[e]=n}static delete(e){delete uA[e]}};class Yo{}let Hke=class extends Yo{constructor(e){super()}};const eK=ce.FIVE_SECONDS,Jo={pulse:\"heartbeat_pulse\"};let hae=class pae extends Hke{constructor(e){super(e),this.events=new Dr.EventEmitter,this.interval=eK,this.interval=(e==null?void 0:e.interval)||eK}static async init(e){const n=new pae(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ce.toMiliseconds(this.interval))}pulse(){this.events.emit(Jo.pulse)}};const Vke=/\"(?:_|\\\\u0{2}5[Ff]){2}(?:p|\\\\u0{2}70)(?:r|\\\\u0{2}72)(?:o|\\\\u0{2}6[Ff])(?:t|\\\\u0{2}74)(?:o|\\\\u0{2}6[Ff])(?:_|\\\\u0{2}5[Ff]){2}\"\\s*:/,Kke=/\"(?:c|\\\\u0063)(?:o|\\\\u006[Ff])(?:n|\\\\u006[Ee])(?:s|\\\\u0073)(?:t|\\\\u0074)(?:r|\\\\u0072)(?:u|\\\\u0075)(?:c|\\\\u0063)(?:t|\\\\u0074)(?:o|\\\\u006[Ff])(?:r|\\\\u0072)\"\\s*:/,Wke=/^\\s*[\"[{]|^\\s*-?\\d{1,16}(\\.\\d{1,17})?([Ee][+-]?\\d+)?\\s*$/;function Gke(t,e){if(t===\"__proto__\"||t===\"constructor\"&&e&&typeof e==\"object\"&&\"prototype\"in e){Zke(t);return}return e}function Zke(t){console.warn(`[destr] Dropping \"${t}\" key to prevent prototype pollution.`)}function Z3(t,e={}){if(typeof t!=\"string\")return t;if(t[0]==='\"'&&t[t.length-1]==='\"'&&t.indexOf(\"\\\\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case\"true\":return!0;case\"false\":return!1;case\"undefined\":return;case\"null\":return null;case\"nan\":return Number.NaN;case\"infinity\":return Number.POSITIVE_INFINITY;case\"-infinity\":return Number.NEGATIVE_INFINITY}if(!Wke.test(t)){if(e.strict)throw new SyntaxError(\"[destr] Invalid JSON\");return t}try{if(Vke.test(t)||Kke.test(t)){if(e.strict)throw new Error(\"[destr] Possible prototype pollution\");return JSON.parse(t,Gke)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Yke(t){return!t||typeof t.then!=\"function\"?Promise.resolve(t):t}function ei(t,...e){try{return Yke(t(...e))}catch(n){return Promise.reject(n)}}function Jke(t){const e=typeof t;return t===null||e!==\"object\"&&e!==\"function\"}function Xke(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function GE(t){if(Jke(t))return String(t);if(Xke(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON==\"function\")return GE(t.toJSON());throw new Error(\"[unstorage] Cannot stringify value!\")}const PP=\"base64:\";function Qke(t){return typeof t==\"string\"?t:PP+nMe(t)}function eMe(t){return typeof t!=\"string\"||!t.startsWith(PP)?t:tMe(t.slice(PP.length))}function tMe(t){return globalThis.Buffer?Buffer.from(t,\"base64\"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function nMe(t){return globalThis.Buffer?Buffer.from(t).toString(\"base64\"):globalThis.btoa(String.fromCodePoint(...t))}function zs(t){var e;return t&&((e=t.split(\"?\")[0])==null?void 0:e.replace(/[/\\\\]/g,\":\").replace(/:+/g,\":\").replace(/^:|:$/g,\"\"))||\"\"}function rMe(...t){return zs(t.join(\":\"))}function Y3(t){return t=zs(t),t?t+\":\":\"\"}function iMe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(\":\");for(;r>-1;)n++,r=t.indexOf(\":\",r+1);return n<=e}function sMe(t,e){return e?t.startsWith(e)&&t[t.length-1]!==\"$\":t[t.length-1]!==\"$\"}const oMe=\"memory\",aMe=()=>{const t=new Map;return{name:oMe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function cMe(t={}){const e={mounts:{\"\":t.driver||aMe()},mountpoints:[\"\"],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const d of e.mountpoints)if(l.startsWith(d))return{base:d,relativeKey:l.slice(d.length),driver:e.mounts[d]};return{base:\"\",relativeKey:l,driver:e.mounts[\"\"]}},r=(l,d)=>e.mountpoints.filter(h=>h.startsWith(l)||d&&l.startsWith(h)).map(h=>({relativeBase:l.length>h.length?l.slice(h.length):void 0,mountpoint:h,driver:e.mounts[h]})),i=(l,d)=>{if(e.watching){d=zs(d);for(const h of e.watchListeners)h(l,d)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await tK(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,d,h)=>{const p=new Map,m=b=>{let y=p.get(b.base);return y||(y={driver:b.driver,base:b.base,items:[]},p.set(b.base,y)),y};for(const b of l){const y=typeof b==\"string\",E=zs(y?b:b.key),v=y?void 0:b.value,_=y||!b.options?d:{...d,...b.options},C=n(E);m(C).items.push({key:E,value:v,relativeKey:C.relativeKey,options:_})}return Promise.all([...p.values()].map(b=>h(b))).then(b=>b.flat())},c={hasItem(l,d={}){l=zs(l);const{relativeKey:h,driver:p}=n(l);return ei(p.hasItem,h,d)},getItem(l,d={}){l=zs(l);const{relativeKey:h,driver:p}=n(l);return ei(p.getItem,h,d).then(m=>Z3(m))},getItems(l,d={}){return a(l,d,h=>h.driver.getItems?ei(h.driver.getItems,h.items.map(p=>({key:p.relativeKey,options:p.options})),d).then(p=>p.map(m=>({key:rMe(h.base,m.key),value:Z3(m.value)}))):Promise.all(h.items.map(p=>ei(h.driver.getItem,p.relativeKey,p.options).then(m=>({key:p.key,value:Z3(m)})))))},getItemRaw(l,d={}){l=zs(l);const{relativeKey:h,driver:p}=n(l);return p.getItemRaw?ei(p.getItemRaw,h,d):ei(p.getItem,h,d).then(m=>eMe(m))},async setItem(l,d,h={}){if(d===void 0)return c.removeItem(l);l=zs(l);const{relativeKey:p,driver:m}=n(l);m.setItem&&(await ei(m.setItem,p,GE(d),h),m.watch||i(\"update\",l))},async setItems(l,d){await a(l,d,async h=>{if(h.driver.setItems)return ei(h.driver.setItems,h.items.map(p=>({key:p.relativeKey,value:GE(p.value),options:p.options})),d);h.driver.setItem&&await Promise.all(h.items.map(p=>ei(h.driver.setItem,p.relativeKey,GE(p.value),p.options)))})},async setItemRaw(l,d,h={}){if(d===void 0)return c.removeItem(l,h);l=zs(l);const{relativeKey:p,driver:m}=n(l);if(m.setItemRaw)await ei(m.setItemRaw,p,d,h);else if(m.setItem)await ei(m.setItem,p,Qke(d),h);else return;m.watch||i(\"update\",l)},async removeItem(l,d={}){typeof d==\"boolean\"&&(d={removeMeta:d}),l=zs(l);const{relativeKey:h,driver:p}=n(l);p.removeItem&&(await ei(p.removeItem,h,d),(d.removeMeta||d.removeMata)&&await ei(p.removeItem,h+\"$\",d),p.watch||i(\"remove\",l))},async getMeta(l,d={}){typeof d==\"boolean\"&&(d={nativeOnly:d}),l=zs(l);const{relativeKey:h,driver:p}=n(l),m=Object.create(null);if(p.getMeta&&Object.assign(m,await ei(p.getMeta,h,d)),!d.nativeOnly){const b=await ei(p.getItem,h+\"$\",d).then(y=>Z3(y));b&&typeof b==\"object\"&&(typeof b.atime==\"string\"&&(b.atime=new Date(b.atime)),typeof b.mtime==\"string\"&&(b.mtime=new Date(b.mtime)),Object.assign(m,b))}return m},setMeta(l,d,h={}){return this.setItem(l+\"$\",d,h)},removeMeta(l,d={}){return this.removeItem(l+\"$\",d)},async getKeys(l,d={}){var E;l=Y3(l);const h=r(l,!0);let p=[];const m=[];let b=!0;for(const v of h){(E=v.driver.flags)!=null&&E.maxDepth||(b=!1);const _=await ei(v.driver.getKeys,v.relativeBase,d);for(const C of _){const S=v.mountpoint+zs(C);p.some(A=>S.startsWith(A))||m.push(S)}p=[v.mountpoint,...p.filter(C=>!C.startsWith(v.mountpoint))]}const y=d.maxDepth!==void 0&&!b;return m.filter(v=>(!y||iMe(v,d.maxDepth))&&sMe(v,l))},async clear(l,d={}){l=Y3(l),await Promise.all(r(l,!1).map(async h=>{if(h.driver.clear)return ei(h.driver.clear,h.relativeBase,d);if(h.driver.removeItem){const p=await h.driver.getKeys(h.relativeBase||\"\",d);return Promise.all(p.map(m=>h.driver.removeItem(m,d)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>nK(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(d=>d!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,d){if(l=Y3(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((h,p)=>p.length-h.length)),e.mounts[l]=d,e.watching&&Promise.resolve(tK(d,i,l)).then(h=>{e.unwatch[l]=h}).catch(console.error),c},async unmount(l,d=!0){var h,p;l=Y3(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((p=(h=e.unwatch)[l])==null||p.call(h),delete e.unwatch[l]),d&&await nK(e.mounts[l]),e.mountpoints=e.mountpoints.filter(m=>m!==l),delete e.mounts[l])},getMount(l=\"\"){l=zs(l)+\":\";const d=n(l);return{driver:d.driver,base:d.base}},getMounts(l=\"\",d={}){return l=zs(l),r(l,d.parents).map(p=>({driver:p.driver,base:p.mountpoint}))},keys:(l,d={})=>c.getKeys(l,d),get:(l,d={})=>c.getItem(l,d),set:(l,d,h={})=>c.setItem(l,d,h),has:(l,d={})=>c.hasItem(l,d),del:(l,d={})=>c.removeItem(l,d),remove:(l,d={})=>c.removeItem(l,d)};return c}function tK(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function nK(t){typeof t.dispose==\"function\"&&await ei(t.dispose)}const lMe=\"idb-keyval\";var uMe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:\"\",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=AQ(t.dbName,t.storeName)),{name:lMe,options:t,async hasItem(i){return!(typeof await kj(n(i),r)>\"u\")},async getItem(i){return await kj(n(i),r)??null},setItem(i,s){return mwe(n(i),s,r)},removeItem(i){return ywe(n(i),r)},getKeys(){return vwe(r)},clear(){return bwe(r)}}};const dMe=\"WALLET_CONNECT_V2_INDEXED_DB\",fMe=\"keyvaluestorage\";let hMe=class{constructor(){this.indexedDb=cMe({driver:uMe({dbName:dMe,storeName:fMe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Al(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var dA=typeof globalThis<\"u\"?globalThis:typeof window<\"u\"?window:typeof global<\"u\"?global:typeof self<\"u\"?self:{},ZE={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__(\"length\",function(){return Object.keys(this).length}),typeof dA<\"u\"&&dA.localStorage?ZE.exports=dA.localStorage:typeof window<\"u\"&&window.localStorage?ZE.exports=window.localStorage:ZE.exports=new e})();function pMe(t){var e;return[t[0],od((e=t[1])!=null?e:\"\")]}let gMe=class{constructor(){this.localStorage=ZE.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(pMe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return od(n)}async setItem(e,n){this.localStorage.setItem(e,Al(n))}async removeItem(e){this.localStorage.removeItem(e)}};const mMe=\"wc_storage_version\",rK=1,yMe=async(t,e,n)=>{const r=mMe,i=await e.getItem(r);if(i&&i>=rK){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes(\"wc@\")||c.includes(\"walletconnect\")||c.includes(\"wc_\")||c.includes(\"wallet_connect\")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,rK),n(e),bMe(t,o)},bMe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let gae=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new gMe;this.storage=e;try{const n=new hMe;yMe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};var fA,iK;function wMe(){if(iK)return fA;iK=1;function t(n){try{return JSON.stringify(n)}catch{return'\"[Circular]\"'}}fA=e;function e(n,r,i){var s=i&&i.stringify||t,o=1;if(typeof n==\"object\"&&n!==null){var a=r.length+o;if(a===1)return n;var c=new Array(a);c[0]=s(n);for(var l=1;l<a;l++)c[l]=s(r[l]);return c.join(\" \")}if(typeof n!=\"string\")return n;var d=r.length;if(d===0)return n;for(var h=\"\",p=1-o,m=-1,b=n&&n.length||0,y=0;y<b;){if(n.charCodeAt(y)===37&&y+1<b){switch(m=m>-1?m:0,n.charCodeAt(y+1)){case 100:case 102:if(p>=d||r[p]==null)break;m<y&&(h+=n.slice(m,y)),h+=Number(r[p]),m=y+2,y++;break;case 105:if(p>=d||r[p]==null)break;m<y&&(h+=n.slice(m,y)),h+=Math.floor(Number(r[p])),m=y+2,y++;break;case 79:case 111:case 106:if(p>=d||r[p]===void 0)break;m<y&&(h+=n.slice(m,y));var E=typeof r[p];if(E===\"string\"){h+=\"'\"+r[p]+\"'\",m=y+2,y++;break}if(E===\"function\"){h+=r[p].name||\"<anonymous>\",m=y+2,y++;break}h+=s(r[p]),m=y+2,y++;break;case 115:if(p>=d)break;m<y&&(h+=n.slice(m,y)),h+=String(r[p]),m=y+2,y++;break;case 37:m<y&&(h+=n.slice(m,y)),h+=\"%\",m=y+2,y++,p--;break}++p}++y}return m===-1?n:(m<b&&(h+=n.slice(m)),h)}return fA}var hA,sK;function vMe(){if(sK)return hA;sK=1;const t=wMe();hA=i;const e=A().console||{},n={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:y,wrapResponseSerializer:y,wrapErrorSerializer:y,req:b,res:b,err:p};function r(I,O){return Array.isArray(I)?I.filter(function(N){return N!==\"!stdSerializers.err\"}):I===!0?Object.keys(O):!1}function i(I){I=I||{},I.browser=I.browser||{};const O=I.browser.transmit;if(O&&typeof O.send!=\"function\")throw Error(\"pino: transmit option must have a send function\");const D=I.browser.write||e;I.browser.write&&(I.browser.asObject=!0);const N=I.serializers||{},U=r(I.browser.serialize,N);let F=I.browser.serialize;Array.isArray(I.browser.serialize)&&I.browser.serialize.indexOf(\"!stdSerializers.err\")>-1&&(F=!1);const H=[\"error\",\"fatal\",\"warn\",\"info\",\"debug\",\"trace\"];typeof D==\"function\"&&(D.error=D.fatal=D.warn=D.info=D.debug=D.trace=D),I.enabled===!1&&(I.level=\"silent\");const V=I.level||\"info\",M=Object.create(D);M.log||(M.log=E),Object.defineProperty(M,\"levelVal\",{get:P}),Object.defineProperty(M,\"level\",{get:q,set:T});const $={transmit:O,serialize:U,asObject:I.browser.asObject,levels:H,timestamp:m(I)};M.levels=i.levels,M.level=V,M.setMaxListeners=M.getMaxListeners=M.emit=M.addListener=M.on=M.prependListener=M.once=M.prependOnceListener=M.removeListener=M.removeAllListeners=M.listeners=M.listenerCount=M.eventNames=M.write=M.flush=E,M.serializers=N,M._serialize=U,M._stdErrSerialize=F,M.child=k,O&&(M._logEvent=h());function P(){return this.level===\"silent\"?1/0:this.levels.values[this.level]}function q(){return this._level}function T(z){if(z!==\"silent\"&&!this.levels.values[z])throw Error(\"unknown level \"+z);this._level=z,s($,M,\"error\",\"log\"),s($,M,\"fatal\",\"error\"),s($,M,\"warn\",\"error\"),s($,M,\"info\",\"log\"),s($,M,\"debug\",\"log\"),s($,M,\"trace\",\"log\")}function k(z,L){if(!z)throw new Error(\"missing bindings for child Pino\");L=L||{},U&&z.serializers&&(L.serializers=z.serializers);const B=L.serializers;if(U&&B){var j=Object.assign({},N,B),K=I.browser.serialize===!0?Object.keys(j):U;delete z.serializers,c([z],K,j,this._stdErrSerialize)}function G(Z){this._childLevel=(Z._childLevel|0)+1,this.error=l(Z,z,\"error\"),this.fatal=l(Z,z,\"fatal\"),this.warn=l(Z,z,\"warn\"),this.info=l(Z,z,\"info\"),this.debug=l(Z,z,\"debug\"),this.trace=l(Z,z,\"trace\"),j&&(this.serializers=j,this._serialize=K),O&&(this._logEvent=h([].concat(Z._logEvent.bindings,z)))}return G.prototype=this,new G(this)}return M}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:\"trace\",20:\"debug\",30:\"info\",40:\"warn\",50:\"error\",60:\"fatal\"}},i.stdSerializers=n,i.stdTimeFunctions=Object.assign({},{nullTime:v,epochTime:_,unixTime:C,isoTime:S});function s(I,O,D,N){const U=Object.getPrototypeOf(O);O[D]=O.levelVal>O.levels.values[D]?E:U[D]?U[D]:e[D]||e[N]||E,o(I,O,D)}function o(I,O,D){!I.transmit&&O[D]===E||(O[D]=(function(N){return function(){const F=I.timestamp(),H=new Array(arguments.length),V=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var M=0;M<H.length;M++)H[M]=arguments[M];if(I.serialize&&!I.asObject&&c(H,this._serialize,this.serializers,this._stdErrSerialize),I.asObject?N.call(V,a(this,D,H,F)):N.apply(V,H),I.transmit){const $=I.transmit.level||O.level,P=i.levels.values[$],q=i.levels.values[D];if(q<P)return;d(this,{ts:F,methodLevel:D,methodValue:q,transmitValue:i.levels.values[I.transmit.level||O.level],send:I.transmit.send,val:O.levelVal},H)}}})(O[D]))}function a(I,O,D,N){I._serialize&&c(D,I._serialize,I.serializers,I._stdErrSerialize);const U=D.slice();let F=U[0];const H={};N&&(H.time=N),H.level=i.levels.values[O];let V=(I._childLevel|0)+1;if(V<1&&(V=1),F!==null&&typeof F==\"object\"){for(;V--&&typeof U[0]==\"object\";)Object.assign(H,U.shift());F=U.length?t(U.shift(),U):void 0}else typeof F==\"string\"&&(F=t(U.shift(),U));return F!==void 0&&(H.msg=F),H}function c(I,O,D,N){for(const U in I)if(N&&I[U]instanceof Error)I[U]=i.stdSerializers.err(I[U]);else if(typeof I[U]==\"object\"&&!Array.isArray(I[U]))for(const F in I[U])O&&O.indexOf(F)>-1&&F in D&&(I[U][F]=D[F](I[U][F]))}function l(I,O,D){return function(){const N=new Array(1+arguments.length);N[0]=O;for(var U=1;U<N.length;U++)N[U]=arguments[U-1];return I[D].apply(this,N)}}function d(I,O,D){const N=O.send,U=O.ts,F=O.methodLevel,H=O.methodValue,V=O.val,M=I._logEvent.bindings;c(D,I._serialize||Object.keys(I.serializers),I.serializers,I._stdErrSerialize===void 0?!0:I._stdErrSerialize),I._logEvent.ts=U,I._logEvent.messages=D.filter(function($){return M.indexOf($)===-1}),I._logEvent.level.label=F,I._logEvent.level.value=H,N(F,I._logEvent,V),I._logEvent=h(M)}function h(I){return{ts:0,messages:[],bindings:I||[],level:{label:\"\",value:0}}}function p(I){const O={type:I.constructor.name,msg:I.message,stack:I.stack};for(const D in I)O[D]===void 0&&(O[D]=I[D]);return O}function m(I){return typeof I.timestamp==\"function\"?I.timestamp:I.timestamp===!1?v:_}function b(){return{}}function y(I){return I}function E(){}function v(){return!1}function _(){return Date.now()}function C(){return Math.round(Date.now()/1e3)}function S(){return new Date(Date.now()).toISOString()}function A(){function I(O){return typeof O<\"u\"&&O}try{return typeof globalThis<\"u\"||Object.defineProperty(Object.prototype,\"globalThis\",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return I(self)||I(window)||I(this)||{}}}return hA}var k1=vMe();const ph=ah(k1),EMe={level:\"info\"},m5=\"custom_context\",Nk=1e3*1024;let _Me=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},oK=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new _Me(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},mae=class{constructor(e,n=Nk){this.level=e??\"error\",this.levelValue=k1.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new oK(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===k1.levels.values.error?console.error(e):n===k1.levels.values.warn?console.warn(e):n===k1.levels.values.debug?console.debug(e):n===k1.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Al({timestamp:new Date().toISOString(),log:e}));const n=typeof e==\"string\"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new oK(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Al({extraMetadata:e})),new Blob(n,{type:\"application/json\"})}},CMe=class{constructor(e,n=Nk){this.baseChunkLogger=new mae(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement(\"a\");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},SMe=class{constructor(e,n=Nk){this.baseChunkLogger=new mae(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var xMe=Object.defineProperty,AMe=Object.defineProperties,$Me=Object.getOwnPropertyDescriptors,aK=Object.getOwnPropertySymbols,IMe=Object.prototype.hasOwnProperty,TMe=Object.prototype.propertyIsEnumerable,cK=(t,e,n)=>e in t?xMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,f4=(t,e)=>{for(var n in e||(e={}))IMe.call(e,n)&&cK(t,n,e[n]);if(aK)for(var n of aK(e))TMe.call(e,n)&&cK(t,n,e[n]);return t},h4=(t,e)=>AMe(t,$Me(e));function pd(t){return h4(f4({},t),{level:(t==null?void 0:t.level)||EMe.level})}function PMe(t,e=m5){return t[e]||\"\"}function OMe(t,e,n=m5){return t[n]=e,t}function jn(t,e=m5){let n=\"\";return typeof t.bindings>\"u\"?n=PMe(t,e):n=t.bindings().context||\"\",n}function NMe(t,e,n=m5){const r=jn(t,n);return r.trim()?`${r}/${e}`:e}function wn(t,e,n=m5){const r=NMe(t,e,n),i=t.child({context:r});return OMe(i,r,n)}function RMe(t){var e,n;const r=new CMe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ph(h4(f4({},t.opts),{level:\"trace\",browser:h4(f4({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function kMe(t){var e;const n=new SMe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:ph(h4(f4({},t.opts),{level:\"trace\"}),n),chunkLoggerController:n}}function Rk(t){return typeof t.loggerOverride<\"u\"&&typeof t.loggerOverride!=\"string\"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<\"u\"?RMe(t):kMe(t)}var MMe=Object.defineProperty,DMe=(t,e,n)=>e in t?MMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lK=(t,e,n)=>DMe(t,typeof e!=\"symbol\"?e+\"\":e,n);let BMe=class extends Yo{constructor(e){super(),this.opts=e,lK(this,\"protocol\",\"wc\"),lK(this,\"version\",2)}};var LMe=Object.defineProperty,UMe=(t,e,n)=>e in t?LMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jMe=(t,e,n)=>UMe(t,e+\"\",n);let zMe=class extends Yo{constructor(e,n){super(),this.core=e,this.logger=n,jMe(this,\"records\",new Map)}},FMe=class{constructor(e,n){this.logger=e,this.core=n}},qMe=class extends Yo{constructor(e,n){super(),this.relayer=e,this.logger=n}},HMe=class extends Yo{constructor(e){super()}},VMe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},KMe=class extends Yo{constructor(e,n){super(),this.relayer=e,this.logger=n}},WMe=class extends Yo{constructor(e,n){super(),this.core=e,this.logger=n}},GMe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},ZMe=class{constructor(e,n){this.projectId=e,this.logger=n}},YMe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var JMe=Object.defineProperty,XMe=(t,e,n)=>e in t?JMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uK=(t,e,n)=>XMe(t,typeof e!=\"symbol\"?e+\"\":e,n);let QMe=class{constructor(e){this.opts=e,uK(this,\"protocol\",\"wc\"),uK(this,\"version\",2)}},eDe=class{constructor(e){this.client=e}};const tDe=\"PARSE_ERROR\",nDe=\"INVALID_REQUEST\",rDe=\"METHOD_NOT_FOUND\",iDe=\"INVALID_PARAMS\",yae=\"INTERNAL_ERROR\",kk=\"SERVER_ERROR\",sDe=[-32700,-32600,-32601,-32602,-32603],Uw={[tDe]:{code:-32700,message:\"Parse error\"},[nDe]:{code:-32600,message:\"Invalid Request\"},[rDe]:{code:-32601,message:\"Method not found\"},[iDe]:{code:-32602,message:\"Invalid params\"},[yae]:{code:-32603,message:\"Internal error\"},[kk]:{code:-32e3,message:\"Server error\"}},bae=kk;function oDe(t){return sDe.includes(t)}function dK(t){return Object.keys(Uw).includes(t)?Uw[t]:Uw[bae]}function aDe(t){const e=Object.values(Uw).find(n=>n.code===t);return e||Uw[bae]}function wae(t,e,n){return t.message.includes(\"getaddrinfo ENOTFOUND\")||t.message.includes(\"connect ECONNREFUSED\")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var pA={},fu={},fK;function cDe(){if(fK)return fu;fK=1,Object.defineProperty(fu,\"__esModule\",{value:!0}),fu.isBrowserCryptoAvailable=fu.getSubtleCrypto=fu.getBrowerCrypto=void 0;function t(){return(Gs==null?void 0:Gs.crypto)||(Gs==null?void 0:Gs.msCrypto)||{}}fu.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}fu.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return fu.isBrowserCryptoAvailable=n,fu}var hu={},hK;function lDe(){if(hK)return hu;hK=1,Object.defineProperty(hu,\"__esModule\",{value:!0}),hu.isBrowser=hu.isNode=hu.isReactNative=void 0;function t(){return typeof document>\"u\"&&typeof navigator<\"u\"&&navigator.product===\"ReactNative\"}hu.isReactNative=t;function e(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}hu.isNode=e;function n(){return!t()&&!e()}return hu.isBrowser=n,hu}var pK;function uDe(){return pK||(pK=1,(function(t){Object.defineProperty(t,\"__esModule\",{value:!0});const e=i5;e.__exportStar(cDe(),t),e.__exportStar(lDe(),t)})(pA)),pA}var dDe=uDe();function ai(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function ko(t=6){return BigInt(ai(t))}function ms(t,e,n){return{id:n||ai(),jsonrpc:\"2.0\",method:t,params:e}}function gh(t,e){return{id:t,jsonrpc:\"2.0\",result:e}}function Iy(t,e,n){return{id:t,jsonrpc:\"2.0\",error:fDe(e)}}function fDe(t,e){return typeof t>\"u\"?dK(yae):(typeof t==\"string\"&&(t=Object.assign(Object.assign({},dK(kk)),{message:t})),oDe(t.code)&&(t=aDe(t.code)),t)}let hDe=class{},pDe=class extends hDe{constructor(){super()}},gDe=class extends pDe{constructor(e){super()}};const mDe=\"^https?:\",yDe=\"^wss?:\";function bDe(t){const e=t.match(new RegExp(/^\\w+:/,\"gi\"));if(!(!e||!e.length))return e[0]}function vae(t,e){const n=bDe(t);return typeof n>\"u\"?!1:new RegExp(e).test(n)}function gK(t){return vae(t,mDe)}function mK(t){return vae(t,yDe)}function wDe(t){return new RegExp(\"wss?://localhost(:d{2,5})?\").test(t)}function Eae(t){return typeof t==\"object\"&&\"id\"in t&&\"jsonrpc\"in t&&t.jsonrpc===\"2.0\"}function Ty(t){return Eae(t)&&\"method\"in t}function jp(t){return Eae(t)&&(Fr(t)||dr(t))}function Fr(t){return\"result\"in t}function dr(t){return\"error\"in t}let nr=class extends gDe{constructor(e){super(e),this.events=new Dr.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(ms(e.method,e.params||[],e.id||ko().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{dr(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit(\"payload\",e),jp(e)?this.events.emit(`${e.id}`,e):this.events.emit(\"message\",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit(\"error\",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:\"\"}`)),this.events.emit(\"disconnect\")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e==\"string\"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit(\"connect\"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on(\"payload\",e=>this.onPayload(e)),this.connection.on(\"close\",e=>this.onClose(e)),this.connection.on(\"error\",e=>this.events.emit(\"error\",e)),this.connection.on(\"register_error\",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const vDe=()=>typeof WebSocket<\"u\"?WebSocket:typeof global<\"u\"&&typeof global.WebSocket<\"u\"?global.WebSocket:typeof window<\"u\"&&typeof window.WebSocket<\"u\"?window.WebSocket:typeof self<\"u\"&&typeof self.WebSocket<\"u\"?self.WebSocket:require(\"ws\"),EDe=()=>typeof WebSocket<\"u\"||typeof global<\"u\"&&typeof global.WebSocket<\"u\"||typeof window<\"u\"&&typeof window.WebSocket<\"u\"||typeof self<\"u\"&&typeof self.WebSocket<\"u\",yK=t=>t.split(\"?\")[0],bK=10,_De=vDe();let _ae=class{constructor(e){if(this.url=e,this.events=new Dr.EventEmitter,this.registering=!1,!mK(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<\"u\"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>\"u\"){n(new Error(\"Connection already closed\"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>\"u\"&&(this.socket=await this.register());try{this.socket.send(Al(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!mK(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=n||this.events.listenerCount(\"open\")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once(\"register_error\",s=>{this.resetMaxListeners(),i(s)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.socket>\"u\")return i(new Error(\"WebSocket connection is missing or invalid\"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=dDe.isReactNative()?void 0:{rejectUnauthorized:!wDe(e)},s=new _De(e,[],i);EDe()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on(\"error\",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit(\"open\")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit(\"close\",e)}onPayload(e){if(typeof e.data>\"u\")return;const n=typeof e.data==\"string\"?od(e.data):e.data;this.events.emit(\"payload\",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Iy(e,i);this.events.emit(\"payload\",s)}parseError(e,n=this.url){return wae(e,yK(n),\"WS\")}resetMaxListeners(){this.events.getMaxListeners()>bK&&this.events.setMaxListeners(bK)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${yK(this.url)}`));return this.events.emit(\"register_error\",n),n}};var CDe={};const Cae=\"wc\",Sae=2,OP=\"core\",$l=`${Cae}@2:${OP}:`,SDe={logger:\"error\"},xDe={database:\":memory:\"},ADe=\"crypto\",wK=\"client_ed25519_seed\",$De=ce.ONE_DAY,IDe=\"keychain\",TDe=\"0.3\",PDe=\"messages\",ODe=\"0.3\",vK=ce.SIX_HOURS,NDe=\"publisher\",xae=\"irn\",RDe=\"error\",Aae=\"wss://relay.walletconnect.org\",kDe=\"relayer\",li={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},MDe=\"_subscription\",ha={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},DDe=.1,NP=\"2.21.1\",Gn={link_mode:\"link_mode\",relay:\"relay\"},YE={inbound:\"inbound\",outbound:\"outbound\"},BDe=\"0.3\",LDe=\"WALLETCONNECT_CLIENT_ID\",EK=\"WALLETCONNECT_LINK_MODE_APPS\",Eo={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},UDe=\"subscription\",jDe=\"0.3\",zDe=\"pairing\",FDe=\"0.3\",Xb={wc_pairingDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:ce.ONE_DAY,prompt:!1,tag:0}}},o0={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},Fa={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},qDe=\"history\",HDe=\"0.3\",VDe=\"expirer\",_a={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},KDe=\"0.3\",WDe=\"verify-api\",GDe=\"https://verify.walletconnect.com\",$ae=\"https://verify.walletconnect.org\",jw=$ae,ZDe=`${jw}/v3`,YDe=[GDe,$ae],JDe=\"echo\",XDe=\"https://echo.walletconnect.com\",Qc={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},wu={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},qa={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},Hh={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},Vh={authenticated_session_approve_started:\"authenticated_session_approve_started\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\"},Qb={no_internet_connection:\"no_internet_connection\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},QDe=.1,eBe=\"event-client\",tBe=86400,nBe=\"https://pulse.walletconnect.org/batch\";function rBe(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+\" is ambiguous\");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(b.length===0)return\"\";for(var y=0,E=0,v=0,_=b.length;v!==_&&b[v]===0;)v++,y++;for(var C=(_-v)*d+1>>>0,S=new Uint8Array(C);v!==_;){for(var A=b[v],I=0,O=C-1;(A!==0||I<E)&&O!==-1;O--,I++)A+=256*S[O]>>>0,S[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error(\"Non-zero carry\");E=I,v++}for(var D=C-E;D!==C&&S[D]===0;)D++;for(var N=c.repeat(y);D<C;++D)N+=t.charAt(S[D]);return N}function p(b){if(typeof b!=\"string\")throw new TypeError(\"Expected String\");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==\" \"){for(var E=0,v=0;b[y]===c;)E++,y++;for(var _=(b.length-y)*l+1>>>0,C=new Uint8Array(_);b[y];){var S=n[b.charCodeAt(y)];if(S===255)return;for(var A=0,I=_-1;(S!==0||A<v)&&I!==-1;I--,A++)S+=a*C[I]>>>0,C[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error(\"Non-zero carry\");v=A,y++}if(b[y]!==\" \"){for(var O=_-v;O!==_&&C[O]===0;)O++;for(var D=new Uint8Array(E+(_-O)),N=E;O!==_;)D[N++]=C[O++];return D}}}function m(b){var y=p(b);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var iBe=rBe,sBe=iBe;const Iae=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},oBe=t=>new TextEncoder().encode(t),aBe=t=>new TextDecoder().decode(t);let cBe=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}},lBe=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return Tae(this,e)}},uBe=class{constructor(e){this.decoders=e}or(e){return Tae(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const Tae=(t,e)=>new uBe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let dBe=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new cBe(e,n,r),this.decoder=new lBe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const u9=({name:t,prefix:e,encode:n,decode:r})=>new dBe(t,e,n,r),y5=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=sBe(n,e);return u9({prefix:t,name:e,encode:r,decode:s=>Iae(i(s))})},fBe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]===\"=\";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},hBe=(t,e,n)=>{const r=e[e.length-1]===\"=\",i=(1<<n)-1;let s=\"\",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+=\"=\";return s},qi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>u9({prefix:e,name:t,encode(i){return hBe(i,r,n)},decode(i){return fBe(i,r,n,t)}}),pBe=u9({prefix:\"\\0\",name:\"identity\",encode:t=>aBe(t),decode:t=>oBe(t)});var gBe=Object.freeze({__proto__:null,identity:pBe});const mBe=qi({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var yBe=Object.freeze({__proto__:null,base2:mBe});const bBe=qi({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var wBe=Object.freeze({__proto__:null,base8:bBe});const vBe=y5({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var EBe=Object.freeze({__proto__:null,base10:vBe});const _Be=qi({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),CBe=qi({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var SBe=Object.freeze({__proto__:null,base16:_Be,base16upper:CBe});const xBe=qi({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),ABe=qi({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),$Be=qi({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),IBe=qi({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),TBe=qi({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),PBe=qi({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),OBe=qi({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),NBe=qi({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),RBe=qi({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var kBe=Object.freeze({__proto__:null,base32:xBe,base32upper:ABe,base32pad:$Be,base32padupper:IBe,base32hex:TBe,base32hexupper:PBe,base32hexpad:OBe,base32hexpadupper:NBe,base32z:RBe});const MBe=y5({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),DBe=y5({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var BBe=Object.freeze({__proto__:null,base36:MBe,base36upper:DBe});const LBe=y5({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),UBe=y5({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var jBe=Object.freeze({__proto__:null,base58btc:LBe,base58flickr:UBe});const zBe=qi({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),FBe=qi({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),qBe=qi({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),HBe=qi({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var VBe=Object.freeze({__proto__:null,base64:zBe,base64pad:FBe,base64url:qBe,base64urlpad:HBe});const Pae=Array.from(\"\"),KBe=Pae.reduce((t,e,n)=>(t[n]=e,t),[]),WBe=Pae.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function GBe(t){return t.reduce((e,n)=>(e+=KBe[n],e),\"\")}function ZBe(t){const e=[];for(const n of t){const r=WBe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const YBe=u9({prefix:\"\",name:\"base256emoji\",encode:GBe,decode:ZBe});var JBe=Object.freeze({__proto__:null,base256emoji:YBe}),XBe=Oae,_K=128,QBe=-128,eLe=Math.pow(2,31);function Oae(t,e,n){e=e||[],n=n||0;for(var r=n;t>=eLe;)e[n++]=t&255|_K,t/=128;for(;t&QBe;)e[n++]=t&255|_K,t>>>=7;return e[n]=t|0,Oae.bytes=n-r+1,e}var tLe=RP,nLe=128,CK=127;function RP(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw RP.bytes=0,new RangeError(\"Could not decode varint\");o=t[s++],n+=i<28?(o&CK)<<i:(o&CK)*Math.pow(2,i),i+=7}while(o>=nLe);return RP.bytes=s-r,n}var rLe=Math.pow(2,7),iLe=Math.pow(2,14),sLe=Math.pow(2,21),oLe=Math.pow(2,28),aLe=Math.pow(2,35),cLe=Math.pow(2,42),lLe=Math.pow(2,49),uLe=Math.pow(2,56),dLe=Math.pow(2,63),fLe=function(t){return t<rLe?1:t<iLe?2:t<sLe?3:t<oLe?4:t<aLe?5:t<cLe?6:t<lLe?7:t<uLe?8:t<dLe?9:10},hLe={encode:XBe,decode:tLe,encodingLength:fLe},Nae=hLe;const SK=(t,e,n=0)=>(Nae.encode(t,e,n),e),xK=t=>Nae.encodingLength(t),kP=(t,e)=>{const n=e.byteLength,r=xK(t),i=r+xK(n),s=new Uint8Array(i+n);return SK(t,s,0),SK(n,s,r),s.set(e,i),new pLe(t,n,e,s)};let pLe=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const Rae=({name:t,code:e,encode:n})=>new gLe(t,e,n);let gLe=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?kP(this.code,n):n.then(r=>kP(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}};const kae=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),mLe=Rae({name:\"sha2-256\",code:18,encode:kae(\"SHA-256\")}),yLe=Rae({name:\"sha2-512\",code:19,encode:kae(\"SHA-512\")});var bLe=Object.freeze({__proto__:null,sha256:mLe,sha512:yLe});const Mae=0,wLe=\"identity\",Dae=Iae,vLe=t=>kP(Mae,Dae(t)),ELe={code:Mae,name:wLe,encode:Dae,digest:vLe};var _Le=Object.freeze({__proto__:null,identity:ELe});new TextEncoder,new TextDecoder;const AK={...gBe,...yBe,...wBe,...EBe,...SBe,...kBe,...BBe,...jBe,...VBe,...JBe};({...bLe,..._Le});function CLe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Bae(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const $K=Bae(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),gA=Bae(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=CLe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),SLe={utf8:$K,\"utf-8\":$K,hex:AK.base16,latin1:gA,ascii:gA,binary:gA,...AK};function xLe(t,e=\"utf8\"){const n=SLe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,\"utf8\"):n.decoder.decode(`${n.prefix}${t}`)}var ALe=Object.defineProperty,$Le=(t,e,n)=>e in t?ALe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vc=(t,e,n)=>$Le(t,typeof e!=\"symbol\"?e+\"\":e,n);let ILe=class{constructor(e,n){this.core=e,this.logger=n,Vc(this,\"keychain\",new Map),Vc(this,\"name\",IDe),Vc(this,\"version\",TDe),Vc(this,\"initialized\",!1),Vc(this,\"storagePrefix\",$l),Vc(this,\"init\",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<\"u\"&&(this.keychain=r),this.initialized=!0}}),Vc(this,\"has\",r=>(this.isInitialized(),this.keychain.has(r))),Vc(this,\"set\",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Vc(this,\"get\",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>\"u\"){const{message:s}=ze(\"NO_MATCHING_KEY\",`${this.name}: ${r}`);throw new Error(s)}return i}),Vc(this,\"del\",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,bP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?wP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var TLe=Object.defineProperty,PLe=(t,e,n)=>e in t?TLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ii=(t,e,n)=>PLe(t,typeof e!=\"symbol\"?e+\"\":e,n);let OLe=class{constructor(e,n,r){this.core=e,this.logger=n,Ii(this,\"name\",ADe),Ii(this,\"keychain\"),Ii(this,\"randomSessionIdentifier\",TP()),Ii(this,\"initialized\",!1),Ii(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ii(this,\"hasKeys\",i=>(this.isInitialized(),this.keychain.has(i))),Ii(this,\"getClientId\",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=a4(i);return Ck(s.publicKey)}),Ii(this,\"generateKeyPair\",()=>{this.isInitialized();const i=zRe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ii(this,\"signJWT\",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=a4(s),a=this.randomSessionIdentifier;return await voe(a,i,$De,o)}),Ii(this,\"generateSharedKey\",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=FRe(a,s);return this.setSymKey(c,o)}),Ii(this,\"setSymKey\",async(i,s)=>{this.isInitialized();const o=s||WE(i);return await this.keychain.set(o,i),o}),Ii(this,\"deleteKeyPair\",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ii(this,\"deleteSymKey\",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ii(this,\"encode\",async(i,s,o)=>{this.isInitialized();const a=uae(o),c=Al(s);if(FV(a))return VRe(c,o==null?void 0:o.encoding);if(zV(a)){const p=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(p,m)}const l=this.getSymKey(i),{type:d,senderPublicKey:h}=a;return qRe({type:d,symKey:l,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Ii(this,\"decode\",async(i,s,o)=>{this.isInitialized();const a=WRe(s,o);if(FV(a)){const c=KRe(s,o==null?void 0:o.encoding);return od(c)}if(zV(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=HRe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return od(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Ii(this,\"getPayloadType\",(i,s=ic)=>{const o=r2({encoded:i,encoding:s});return cp(o.type)}),Ii(this,\"getPayloadSenderPublicKey\",(i,s=ic)=>{const o=r2({encoded:i,encoding:s});return o.senderPublicKey?Nn(o.senderPublicKey,ws):void 0}),this.core=e,this.logger=wn(n,this.name),this.keychain=r||new ILe(this.core,this.logger)}get context(){return jn(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(wK)}catch{e=TP(),await this.keychain.set(wK,e)}return xLe(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var NLe=Object.defineProperty,RLe=Object.defineProperties,kLe=Object.getOwnPropertyDescriptors,IK=Object.getOwnPropertySymbols,MLe=Object.prototype.hasOwnProperty,DLe=Object.prototype.propertyIsEnumerable,MP=(t,e,n)=>e in t?NLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,BLe=(t,e)=>{for(var n in e||(e={}))MLe.call(e,n)&&MP(t,n,e[n]);if(IK)for(var n of IK(e))DLe.call(e,n)&&MP(t,n,e[n]);return t},LLe=(t,e)=>RLe(t,kLe(e)),yo=(t,e,n)=>MP(t,typeof e!=\"symbol\"?e+\"\":e,n);let ULe=class extends FMe{constructor(e,n){super(e,n),this.logger=e,this.core=n,yo(this,\"messages\",new Map),yo(this,\"messagesWithoutClientAck\",new Map),yo(this,\"name\",PDe),yo(this,\"version\",ODe),yo(this,\"initialized\",!1),yo(this,\"storagePrefix\",$l),yo(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const r=await this.getRelayerMessages();typeof r<\"u\"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<\"u\"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),yo(this,\"set\",async(r,i,s)=>{this.isInitialized();const o=tl(i);let a=this.messages.get(r);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=i,this.messages.set(r,a),s===YE.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,LLe(BLe({},c),{[o]:i}))}return await this.persist(),o}),yo(this,\"get\",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>\"u\"&&(i={}),i}),yo(this,\"getWithoutAck\",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),yo(this,\"has\",(r,i)=>{this.isInitialized();const s=this.get(r),o=tl(i);return typeof s[o]<\"u\"}),yo(this,\"ack\",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>\"u\")return;const o=tl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),yo(this,\"del\",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=wn(e,this.name),this.core=n}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,bP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,bP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?wP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?wP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var jLe=Object.defineProperty,zLe=Object.defineProperties,FLe=Object.getOwnPropertyDescriptors,TK=Object.getOwnPropertySymbols,qLe=Object.prototype.hasOwnProperty,HLe=Object.prototype.propertyIsEnumerable,DP=(t,e,n)=>e in t?jLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,J3=(t,e)=>{for(var n in e||(e={}))qLe.call(e,n)&&DP(t,n,e[n]);if(TK)for(var n of TK(e))HLe.call(e,n)&&DP(t,n,e[n]);return t},mA=(t,e)=>zLe(t,FLe(e)),Ha=(t,e,n)=>DP(t,typeof e!=\"symbol\"?e+\"\":e,n);let VLe=class extends qMe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ha(this,\"events\",new Dr.EventEmitter),Ha(this,\"name\",NDe),Ha(this,\"queue\",new Map),Ha(this,\"publishTimeout\",ce.toMiliseconds(ce.ONE_MINUTE)),Ha(this,\"initialPublishTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),Ha(this,\"needsTransportRestart\",!1),Ha(this,\"publish\",async(r,i,s)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||vK,c=u4(s),l=(s==null?void 0:s.prompt)||!1,d=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||ko().toString(),p={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:d,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},m=`Failed to publish payload, please try again. id:${h} tag:${d}`;try{const b=new Promise(async y=>{const E=({id:_})=>{p.opts.id===_&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(li.publish,E),y(p))};this.relayer.events.on(li.publish,E);const v=Of(new Promise((_,C)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:d,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(_).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),C(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${d}`);try{await v,this.events.removeListener(li.publish,E)}catch(_){this.queue.set(h,mA(J3({},p),{attempt:1})),this.logger.warn(_,_==null?void 0:_.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:h,topic:r,message:i,opts:s}}),await Of(b,this.publishTimeout,m)}catch(b){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(b),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw b}finally{this.queue.delete(h)}}),Ha(this,\"on\",(r,i)=>{this.events.on(r,i)}),Ha(this,\"once\",(r,i)=>{this.events.once(r,i)}),Ha(this,\"off\",(r,i)=>{this.events.off(r,i)}),Ha(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=wn(n,this.name),this.registerEventListeners()}get context(){return jn(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=vK,prompt:l,tag:d,id:h,attestation:p,tvf:m}=e,b={method:vw(u4().protocol).publish,params:J3({topic:o,message:a,ttl:c,prompt:l,tag:d,attestation:p},m),id:h};Di((n=b.params)==null?void 0:n.prompt)&&((r=b.params)==null||delete r.prompt),Di((i=b.params)==null?void 0:i.tag)&&((s=b.params)==null||delete s.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:b});const y=await this.relayer.request(b);return this.relayer.events.emit(li.publish,e),this.logger.debug(\"Successfully Published Payload\"),y}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,mA(J3({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(mA(J3({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Jo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(li.connection_stalled);return}this.checkQueue()}),this.relayer.on(li.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var KLe=Object.defineProperty,WLe=(t,e,n)=>e in t?KLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Xg=(t,e,n)=>WLe(t,typeof e!=\"symbol\"?e+\"\":e,n);let GLe=class{constructor(){Xg(this,\"map\",new Map),Xg(this,\"set\",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Xg(this,\"get\",e=>this.map.get(e)||[]),Xg(this,\"exists\",(e,n)=>this.get(e).includes(n)),Xg(this,\"delete\",(e,n)=>{if(typeof n>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Xg(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var ZLe=Object.defineProperty,YLe=Object.defineProperties,JLe=Object.getOwnPropertyDescriptors,PK=Object.getOwnPropertySymbols,XLe=Object.prototype.hasOwnProperty,QLe=Object.prototype.propertyIsEnumerable,BP=(t,e,n)=>e in t?ZLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ew=(t,e)=>{for(var n in e||(e={}))XLe.call(e,n)&&BP(t,n,e[n]);if(PK)for(var n of PK(e))QLe.call(e,n)&&BP(t,n,e[n]);return t},yA=(t,e)=>YLe(t,JLe(e)),Mn=(t,e,n)=>BP(t,typeof e!=\"symbol\"?e+\"\":e,n);let eUe=class extends KMe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Mn(this,\"subscriptions\",new Map),Mn(this,\"topicMap\",new GLe),Mn(this,\"events\",new Dr.EventEmitter),Mn(this,\"name\",UDe),Mn(this,\"version\",jDe),Mn(this,\"pending\",new Map),Mn(this,\"cached\",[]),Mn(this,\"initialized\",!1),Mn(this,\"storagePrefix\",$l),Mn(this,\"subscribeTimeout\",ce.toMiliseconds(ce.ONE_MINUTE)),Mn(this,\"initialSubscribeTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),Mn(this,\"clientId\"),Mn(this,\"batchSubscribeTopicsLimit\",500),Mn(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Mn(this,\"subscribe\",async(r,i)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:r,opts:i}});try{const s=u4(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(s),s}}),Mn(this,\"unsubscribe\",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<\"u\"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Mn(this,\"isSubscribed\",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Mn(this,\"isKnownTopic\",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Mn(this,\"on\",(r,i)=>{this.events.on(r,i)}),Mn(this,\"once\",(r,i)=>{this.events.once(r,i)}),Mn(this,\"off\",(r,i)=>{this.events.off(r,i)}),Mn(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),Mn(this,\"start\",async()=>{await this.onConnect()}),Mn(this,\"stop\",async()=>{await this.onDisconnect()}),Mn(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),Mn(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Mn(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(Jo.pulse,async()=>{await this.checkPending()}),this.events.on(Eo.created,async r=>{const i=Eo.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:r}),await this.persist()}),this.events.on(Eo.deleted,async r=>{const i=Eo.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=wn(n,this.name),this.clientId=\"\"}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:n,opts:r}});try{const i=u4(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Cn(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===Gn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:vw(n.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Gn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(d=>this.logger.warn(d))},ce.toMiliseconds(ce.ONE_SECOND)),a;const c=new Promise(async d=>{const h=p=>{p.topic===e&&(this.events.removeListener(Eo.created,h),d(p.id))};this.events.on(Eo.created,h);try{const p=await Of(new Promise((m,b)=>{this.relayer.request(s).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),b(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(Eo.created,h),d(p)}catch{}}),l=await Of(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(li.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:vw(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:r});try{await await Of(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(li.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:vw(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:r});let i;try{i=await await Of(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(li.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:vw(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,yA(ew({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,ew({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,ew({},n)),this.topicMap.set(n.topic,e),this.events.emit(Eo.created,n)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=ze(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(Eo.deleted,yA(ew({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Eo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(Eo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:n}=ze(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>yA(ew({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await IOe(ce.toMiliseconds(ce.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return tl(e+await this.getClientId())}};var tUe=Object.defineProperty,OK=Object.getOwnPropertySymbols,nUe=Object.prototype.hasOwnProperty,rUe=Object.prototype.propertyIsEnumerable,LP=(t,e,n)=>e in t?tUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NK=(t,e)=>{for(var n in e||(e={}))nUe.call(e,n)&&LP(t,n,e[n]);if(OK)for(var n of OK(e))rUe.call(e,n)&&LP(t,n,e[n]);return t},rn=(t,e,n)=>LP(t,typeof e!=\"symbol\"?e+\"\":e,n);let iUe=class extends HMe{constructor(e){super(e),rn(this,\"protocol\",\"wc\"),rn(this,\"version\",2),rn(this,\"core\"),rn(this,\"logger\"),rn(this,\"events\",new Dr.EventEmitter),rn(this,\"provider\"),rn(this,\"messages\"),rn(this,\"subscriber\"),rn(this,\"publisher\"),rn(this,\"name\",kDe),rn(this,\"transportExplicitlyClosed\",!1),rn(this,\"initialized\",!1),rn(this,\"connectionAttemptInProgress\",!1),rn(this,\"relayUrl\"),rn(this,\"projectId\"),rn(this,\"packageName\"),rn(this,\"bundleId\"),rn(this,\"hasExperiencedNetworkDisruption\",!1),rn(this,\"pingTimeout\"),rn(this,\"heartBeatTimeout\",ce.toMiliseconds(ce.THIRTY_SECONDS+ce.FIVE_SECONDS)),rn(this,\"reconnectTimeout\"),rn(this,\"connectPromise\"),rn(this,\"reconnectInProgress\",!1),rn(this,\"requestsInFlight\",[]),rn(this,\"connectTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),rn(this,\"request\",async n=>{var r,i;this.logger.debug(\"Publishing Request Payload\");const s=n.id||ko().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},\"relayer.request - publishing...\");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),rn(this,\"resetPingTimeout\",()=>{c4()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),rn(this,\"onPayloadHandler\",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),rn(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \"),this.startPingTimeout(),this.events.emit(li.connect)}),rn(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \"),this.requestsInFlight=[],this.onProviderDisconnect()}),rn(this,\"onProviderErrorHandler\",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(li.error,n),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),rn(this,\"registerProviderListeners\",()=>{this.provider.on(ha.payload,this.onPayloadHandler),this.provider.on(ha.connect,this.onConnectHandler),this.provider.on(ha.disconnect,this.onDisconnectHandler),this.provider.on(ha.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?wn(e.logger,this.name):ph(pd({level:e.logger||RDe})),this.messages=new ULe(this.logger,e.core),this.subscriber=new eUe(this,this.logger),this.publisher=new VLe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||Aae,this.projectId=e.projectId,fOe()?this.packageName=dV():hOe()&&(this.bundleId=dV()),this.provider={}}async init(){if(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return jn(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Gn.relay},YE.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)===\"relay\")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>\"u\"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||\"\",c;const l=d=>{d.topic===e&&(this.subscriber.off(Eo.created,l),c())};return await Promise.all([new Promise(d=>{c=d,this.subscriber.on(Eo.created,l)}),new Promise(async(d,h)=>{a=await this.subscriber.subscribe(e,NK({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&h(p)})||a,d()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Of(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await QV())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,\"Error while processing batch message event: \"+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=Ur(ce.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(li.message,e),await this.recordMessageEvent(e,YE.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(ha.disconnect,s),await Of(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(ha.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(ha.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ha.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ce.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(c4())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new nr(new _ae(bOe({sdkVersion:NP,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),Ty(e)){if(!e.method.endsWith(MDe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Gn.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(NK({type:\"event\",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else jp(e)&&this.events.emit(li.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,YE.inbound),this.events.emit(li.message,e))}async acknowledgePayload(e){const n=gh(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ha.payload,this.onPayloadHandler),this.provider.off(ha.connect,this.onConnectHandler),this.provider.off(ha.disconnect,this.onDisconnectHandler),this.provider.off(ha.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await QV();jke(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Jo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&qke())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(li.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ce.toMiliseconds(DDe)))))}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function sUe(){}function RK(t){if(!t||typeof t!=\"object\")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)===\"[object Object]\":!1}function kK(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function MK(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const oUe=\"[object RegExp]\",aUe=\"[object String]\",cUe=\"[object Number]\",lUe=\"[object Boolean]\",DK=\"[object Arguments]\",uUe=\"[object Symbol]\",dUe=\"[object Date]\",fUe=\"[object Map]\",hUe=\"[object Set]\",pUe=\"[object Array]\",gUe=\"[object Function]\",mUe=\"[object ArrayBuffer]\",bA=\"[object Object]\",yUe=\"[object Error]\",bUe=\"[object DataView]\",wUe=\"[object Uint8Array]\",vUe=\"[object Uint8ClampedArray]\",EUe=\"[object Uint16Array]\",_Ue=\"[object Uint32Array]\",CUe=\"[object BigUint64Array]\",SUe=\"[object Int8Array]\",xUe=\"[object Int16Array]\",AUe=\"[object Int32Array]\",$Ue=\"[object BigInt64Array]\",IUe=\"[object Float32Array]\",TUe=\"[object Float64Array]\";function PUe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function OUe(t,e,n){return Ew(t,e,void 0,void 0,void 0,void 0,n)}function Ew(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return t===e;case\"number\":return t===e||Object.is(t,e);case\"function\":return t===e;case\"object\":return zw(t,e,s,o)}return zw(t,e,s,o)}function zw(t,e,n,r){if(Object.is(t,e))return!0;let i=MK(t),s=MK(e);if(i===DK&&(i=bA),s===DK&&(s=bA),i!==s)return!1;switch(i){case aUe:return t.toString()===e.toString();case cUe:{const c=t.valueOf(),l=e.valueOf();return PUe(c,l)}case lUe:case dUe:case uUe:return Object.is(t.valueOf(),e.valueOf());case oUe:return t.source===e.source&&t.flags===e.flags;case gUe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case fUe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Ew(l,e.get(c),c,t,e,n,r))return!1;return!0}case hUe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let d=0;d<c.length;d++){const h=c[d],p=l.findIndex(m=>Ew(h,m,void 0,t,e,n,r));if(p===-1)return!1;l.splice(p,1)}return!0}case pUe:case wUe:case vUe:case EUe:case _Ue:case CUe:case SUe:case xUe:case AUe:case $Ue:case IUe:case TUe:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Ew(t[c],e[c],c,t,e,n,r))return!1;return!0}case mUe:return t.byteLength!==e.byteLength?!1:zw(new Uint8Array(t),new Uint8Array(e),n,r);case bUe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:zw(new Uint8Array(t),new Uint8Array(e),n,r);case yUe:return t.name===e.name&&t.message===e.message;case bA:{if(!(zw(t.constructor,e.constructor,n,r)||RK(t)&&RK(e)))return!1;const c=[...Object.keys(t),...kK(t)],l=[...Object.keys(e),...kK(e)];if(c.length!==l.length)return!1;for(let d=0;d<c.length;d++){const h=c[d],p=t[h];if(!Object.hasOwn(e,h))return!1;const m=e[h];if(!Ew(p,m,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function NUe(t,e){return OUe(t,e,sUe)}var RUe=Object.defineProperty,BK=Object.getOwnPropertySymbols,kUe=Object.prototype.hasOwnProperty,MUe=Object.prototype.propertyIsEnumerable,UP=(t,e,n)=>e in t?RUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LK=(t,e)=>{for(var n in e||(e={}))kUe.call(e,n)&&UP(t,n,e[n]);if(BK)for(var n of BK(e))MUe.call(e,n)&&UP(t,n,e[n]);return t},Ms=(t,e,n)=>UP(t,typeof e!=\"symbol\"?e+\"\":e,n);let zp=class extends VMe{constructor(e,n,r,i=$l,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Ms(this,\"map\",new Map),Ms(this,\"version\",BDe),Ms(this,\"cached\",[]),Ms(this,\"initialized\",!1),Ms(this,\"getKey\"),Ms(this,\"storagePrefix\",$l),Ms(this,\"recentlyDeleted\",[]),Ms(this,\"recentlyDeletedLimit\",200),Ms(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Di(o)?this.map.set(this.getKey(o),o):yke(o)?this.map.set(o.id,o):bke(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Ms(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),Ms(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),Ms(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>NUe(a[c],o[c]))):this.values)),Ms(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=LK(LK({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Ms(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=wn(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=ze(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=ze(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:n}=ze(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var DUe=Object.defineProperty,BUe=(t,e,n)=>e in t?DUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ft=(t,e,n)=>BUe(t,typeof e!=\"symbol\"?e+\"\":e,n);let LUe=class{constructor(e,n){this.core=e,this.logger=n,Ft(this,\"name\",zDe),Ft(this,\"version\",FDe),Ft(this,\"events\",new vy),Ft(this,\"pairings\"),Ft(this,\"initialized\",!1),Ft(this,\"storagePrefix\",$l),Ft(this,\"ignoredPayloadTypes\",[Gu]),Ft(this,\"registeredMethods\",[]),Ft(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),Ft(this,\"register\",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ft(this,\"create\",async r=>{this.isInitialized();const i=TP(),s=await this.core.crypto.setSymKey(i),o=Ur(ce.FIVE_MINUTES),a={protocol:xae},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=HV({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(o0.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),Ft(this,\"pair\",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Qc.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=qV(r.uri);i.props.properties.topic=s,i.addTrace(Qc.pairing_uri_validation_success),i.addTrace(Qc.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(s)){if(d=this.pairings.get(s),i.addTrace(Qc.existing_pairing),d.active)throw i.setError(wu.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Qc.pairing_not_expired)}const h=c||Ur(ce.FIVE_MINUTES),p={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,p),i.addTrace(Qc.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(o0.create,p),i.addTrace(Qc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Qc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(wu.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(wu.subscribe_pairing_topic_failure),m}return i.addTrace(Qc.subscribe_pairing_topic_success),p}),Ft(this,\"activate\",async({topic:r})=>{this.isInitialized();const i=Ur(ce.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ft(this,\"ping\",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=Qh();this.events.once(hn(\"pairing_ping\",s),({error:l})=>{l?c(l):a()}),await o()}}),Ft(this,\"updateExpiry\",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ft(this,\"updateMetadata\",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ft(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),Ft(this,\"disconnect\",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,\"wc_pairingDelete\",Cn(\"USER_DISCONNECTED\")),await this.deletePairing(i))}),Ft(this,\"formatUriFromPairing\",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return HV({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Ft(this,\"sendRequest\",async(r,i,s)=>{const o=ms(i,s),a=await this.core.crypto.encode(r,o),c=Xb[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Ft(this,\"sendResult\",async(r,i,s)=>{const o=gh(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Xb[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ft(this,\"sendError\",async(r,i,s)=>{const o=Iy(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=Xb[c]?Xb[c].res:Xb.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ft(this,\"deletePairing\",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Cn(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ft(this,\"cleanup\",async()=>{const r=this.pairings.getAll().filter(i=>vf(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ft(this,\"onRelayEventRequest\",async r=>{const{topic:i,payload:s}=r;switch(s.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(i,s);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ft(this,\"onRelayEventResponse\",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Ft(this,\"onPairingPingRequest\",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(o0.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Ft(this,\"onPairingPingResponse\",(r,i)=>{const{id:s}=i;setTimeout(()=>{Fr(i)?this.events.emit(hn(\"pairing_ping\",s),{}):dr(i)&&this.events.emit(hn(\"pairing_ping\",s),{error:i.error})},500)}),Ft(this,\"onPairingDeleteRequest\",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(o0.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Ft(this,\"onUnknownRpcMethodRequest\",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Cn(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Ft(this,\"onUnknownRpcMethodResponse\",r=>{this.registeredMethods.includes(r)||this.logger.error(Cn(\"WC_METHOD_UNSUPPORTED\",r))}),Ft(this,\"isValidPair\",(r,i)=>{var s;if(!Fs(r)){const{message:a}=ze(\"MISSING_OR_INVALID\",`pair() params: ${r}`);throw i.setError(wu.malformed_pairing_uri),new Error(a)}if(!mke(r.uri)){const{message:a}=ze(\"MISSING_OR_INVALID\",`pair() uri: ${r.uri}`);throw i.setError(wu.malformed_pairing_uri),new Error(a)}const o=qV(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ze(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw i.setError(wu.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ze(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw i.setError(wu.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ce.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(wu.pairing_expired);const{message:a}=ze(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),Ft(this,\"isValidPing\",async r=>{if(!Fs(r)){const{message:s}=ze(\"MISSING_OR_INVALID\",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ft(this,\"isValidDisconnect\",async r=>{if(!Fs(r)){const{message:s}=ze(\"MISSING_OR_INVALID\",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ft(this,\"isValidPairingTopic\",async r=>{if(!Or(r,!1)){const{message:i}=ze(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=ze(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(vf(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=ze(\"EXPIRED\",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=wn(n,this.name),this.pairings=new zp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return jn(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(li.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Gn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);Ty(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):jp(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(_a.expired,async e=>{const{topic:n}=Ooe(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(o0.expire,{topic:n}))})}};var UUe=Object.defineProperty,jUe=(t,e,n)=>e in t?UUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ti=(t,e,n)=>jUe(t,typeof e!=\"symbol\"?e+\"\":e,n);let zUe=class extends zMe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ti(this,\"records\",new Map),Ti(this,\"events\",new Dr.EventEmitter),Ti(this,\"name\",qDe),Ti(this,\"version\",HDe),Ti(this,\"cached\",[]),Ti(this,\"initialized\",!1),Ti(this,\"storagePrefix\",$l),Ti(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ti(this,\"set\",(r,i,s)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:Ur(ce.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Fa.created,o)}),Ti(this,\"resolve\",async r=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>\"u\"&&(i.response=dr(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Fa.updated,i))}),Ti(this,\"get\",async(r,i)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:r,id:i}),await this.getRecord(i))),Ti(this,\"delete\",(r,i)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<\"u\"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Fa.deleted,s)}}),this.persist()}),Ti(this,\"exists\",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ti(this,\"on\",(r,i)=>{this.events.on(r,i)}),Ti(this,\"once\",(r,i)=>{this.events.once(r,i)}),Ti(this,\"off\",(r,i)=>{this.events.off(r,i)}),Ti(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<\"u\")return;const r={topic:n.topic,request:ms(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=ze(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Fa.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:n}=ze(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Fa.created,e=>{const n=Fa.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.events.on(Fa.updated,e=>{const n=Fa.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.events.on(Fa.deleted,e=>{const n=Fa.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.core.heartbeat.on(Jo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ce.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Fa.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var FUe=Object.defineProperty,qUe=(t,e,n)=>e in t?FUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zi=(t,e,n)=>qUe(t,typeof e!=\"symbol\"?e+\"\":e,n);let HUe=class extends WMe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Zi(this,\"expirations\",new Map),Zi(this,\"events\",new Dr.EventEmitter),Zi(this,\"name\",VDe),Zi(this,\"version\",KDe),Zi(this,\"cached\",[]),Zi(this,\"initialized\",!1),Zi(this,\"storagePrefix\",$l),Zi(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Zi(this,\"has\",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<\"u\"}catch{return!1}}),Zi(this,\"set\",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(_a.created,{target:s,expiration:o})}),Zi(this,\"get\",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Zi(this,\"del\",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(_a.deleted,{target:i,expiration:s})}}),Zi(this,\"on\",(r,i)=>{this.events.on(r,i)}),Zi(this,\"once\",(r,i)=>{this.events.once(r,i)}),Zi(this,\"off\",(r,i)=>{this.events.off(r,i)}),Zi(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return wOe(e);if(typeof e==\"number\")return vOe(e);const{message:n}=ze(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(_a.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:n}=ze(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=ze(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ce.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(_a.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Jo.pulse,()=>this.checkExpirations()),this.events.on(_a.created,e=>{const n=_a.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()}),this.events.on(_a.expired,e=>{const n=_a.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()}),this.events.on(_a.deleted,e=>{const n=_a.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}};var VUe=Object.defineProperty,KUe=(t,e,n)=>e in t?VUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ir=(t,e,n)=>KUe(t,typeof e!=\"symbol\"?e+\"\":e,n);let WUe=class extends GMe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Ir(this,\"name\",WDe),Ir(this,\"abortController\"),Ir(this,\"isDevEnv\"),Ir(this,\"verifyUrlV3\",ZDe),Ir(this,\"storagePrefix\",$l),Ir(this,\"version\",Sae),Ir(this,\"publicKey\"),Ir(this,\"fetchPromise\"),Ir(this,\"init\",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ce.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),Ir(this,\"register\",async i=>{if(!Sy()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=wi.getDocument(),d=this.startAbortTimer(ce.ONE_SECOND*5),h=await new Promise((p,m)=>{const b=()=>{window.removeEventListener(\"message\",E),l.body.removeChild(y),m(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",b);const y=l.createElement(\"iframe\");y.src=c,y.style.display=\"none\",y.addEventListener(\"error\",b,{signal:this.abortController.signal});const E=v=>{if(v.data&&typeof v.data==\"string\")try{const _=JSON.parse(v.data);if(_.type===\"verify_attestation\"){if(Lm(_.attestation).payload.id!==o)return;clearInterval(d),l.body.removeChild(y),this.abortController.signal.removeEventListener(\"abort\",b),window.removeEventListener(\"message\",E),p(_.attestation===null?\"\":_.attestation)}}catch(_){this.logger.warn(_)}};l.body.appendChild(y),window.addEventListener(\"message\",E,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",h),h}catch(l){this.logger.warn(l)}return\"\"}),Ir(this,\"resolve\",async i=>{if(this.isDevEnv)return\"\";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(s){if(Lm(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Ir(this,\"fetchAttestation\",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ce.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Ir(this,\"getVerifyUrl\",i=>{let s=i||jw;return YDe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${jw}`),s=jw),s}),Ir(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ce.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Ir(this,\"persistPublicKey\",async i=>{this.logger.debug(\"persisting public key to local storage\",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Ir(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Ir(this,\"isValidJwtAttestation\",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),Ir(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Ir(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Ir(this,\"validateAttestation\",(i,s)=>{const o=ZRe(i,s.publicKey),a={hasExpired:ce.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=wn(n,this.name),this.abortController=new AbortController,this.isDevEnv=Sk(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return jn(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ce.toMiliseconds(e))}};var GUe=Object.defineProperty,ZUe=(t,e,n)=>e in t?GUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UK=(t,e,n)=>ZUe(t,typeof e!=\"symbol\"?e+\"\":e,n);let YUe=class extends ZMe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,UK(this,\"context\",JDe),UK(this,\"registerDeviceToken\",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${XDe}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=wn(n,this.context)}};var JUe=Object.defineProperty,jK=Object.getOwnPropertySymbols,XUe=Object.prototype.hasOwnProperty,QUe=Object.prototype.propertyIsEnumerable,jP=(t,e,n)=>e in t?JUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tw=(t,e)=>{for(var n in e||(e={}))XUe.call(e,n)&&jP(t,n,e[n]);if(jK)for(var n of jK(e))QUe.call(e,n)&&jP(t,n,e[n]);return t},Yr=(t,e,n)=>jP(t,typeof e!=\"symbol\"?e+\"\":e,n);let eje=class extends YMe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Yr(this,\"context\",eBe),Yr(this,\"storagePrefix\",$l),Yr(this,\"storageVersion\",QDe),Yr(this,\"events\",new Map),Yr(this,\"shouldPersist\",!1),Yr(this,\"init\",async()=>{if(!Sk())try{const i={eventId:hV(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Toe(this.core.relayer.protocol,this.core.relayer.version,NP)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Yr(this,\"createEvent\",i=>{const{event:s=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=i,l=hV(),d=this.core.projectId||\"\",h=Date.now(),p=tw({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:d,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,p),this.shouldPersist=!0),p}),Yr(this,\"getEvent\",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return tw(tw({},a),this.setMethods(a.eventId))}),Yr(this,\"deleteEvent\",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Yr(this,\"setEventListeners\",()=>{this.core.heartbeat.on(Jo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ce.fromMiliseconds(Date.now())-ce.fromMiliseconds(i.timestamp)>tBe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Yr(this,\"setMethods\",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Yr(this,\"addTrace\",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Yr(this,\"setError\",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Yr(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Yr(this,\"restore\",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,tw(tw({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Yr(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Yr(this,\"sendEvent\",async i=>{const s=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${nBe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${NP}${s}`,{method:\"POST\",body:JSON.stringify(i)})}),Yr(this,\"getAppDomain\",()=>Ioe().url),this.logger=wn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}};var tje=Object.defineProperty,zK=Object.getOwnPropertySymbols,nje=Object.prototype.hasOwnProperty,rje=Object.prototype.propertyIsEnumerable,zP=(t,e,n)=>e in t?tje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FK=(t,e)=>{for(var n in e||(e={}))nje.call(e,n)&&zP(t,n,e[n]);if(zK)for(var n of zK(e))rje.call(e,n)&&zP(t,n,e[n]);return t},zn=(t,e,n)=>zP(t,typeof e!=\"symbol\"?e+\"\":e,n);let ije=class Lae extends BMe{constructor(e){var n;super(e),zn(this,\"protocol\",Cae),zn(this,\"version\",Sae),zn(this,\"name\",OP),zn(this,\"relayUrl\"),zn(this,\"projectId\"),zn(this,\"customStoragePrefix\"),zn(this,\"events\",new Dr.EventEmitter),zn(this,\"logger\"),zn(this,\"heartbeat\"),zn(this,\"relayer\"),zn(this,\"crypto\"),zn(this,\"storage\"),zn(this,\"history\"),zn(this,\"expirer\"),zn(this,\"pairing\"),zn(this,\"verify\"),zn(this,\"echoClient\"),zn(this,\"linkModeSupportedApps\"),zn(this,\"eventClient\"),zn(this,\"initialized\",!1),zn(this,\"logChunkController\"),zn(this,\"on\",(a,c)=>this.events.on(a,c)),zn(this,\"once\",(a,c)=>this.events.once(a,c)),zn(this,\"off\",(a,c)=>this.events.off(a,c)),zn(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),zn(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const d={topic:a,message:c,publishedAt:Date.now(),transportType:Gn.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||Aae,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const i=pd({level:typeof(e==null?void 0:e.logger)==\"string\"&&e.logger?e.logger:SDe.logger,name:OP}),{logger:s,chunkLoggerController:o}=Rk({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=wn(s,this.name),this.heartbeat=new hae,this.crypto=new OLe(this,this.logger,e==null?void 0:e.keychain),this.history=new zUe(this,this.logger),this.expirer=new HUe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new gae(FK(FK({},xDe),e==null?void 0:e.storageOptions)),this.relayer=new iUe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new LUe(this,this.logger),this.verify=new WUe(this,this.logger,this.storage),this.echoClient=new YUe(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new eje(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new Lae(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(LDe,r),n}get context(){return jn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(EK,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(EK)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn(\"Failed to get global WalletConnect core\",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||\"\"}`;globalThis[r]=e}catch(r){console.warn(\"Failed to set global WalletConnect core\",r)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&CDe.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}};const sje=ije,Uae=\"wc\",jae=2,zae=\"client\",Mk=`${Uae}@${jae}:${zae}:`,wA={name:zae,logger:\"error\"},qK=\"WALLETCONNECT_DEEPLINK_CHOICE\",oje=\"proposal\",HK=\"Proposal expired\",aje=\"session\",Qg=ce.SEVEN_DAYS,cje=\"engine\",Jr={wc_sessionPropose:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1119}}},vA={min:ce.FIVE_MINUTES,max:ce.SEVEN_DAYS},Kc={idle:\"IDLE\",active:\"ACTIVE\"},VK={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"}},lje=\"request\",uje=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],dje=\"wc\",fje=\"auth\",hje=\"authKeys\",pje=\"pairingTopics\",gje=\"requests\",d9=`${dje}@${1.5}:${fje}:`,JE=`${d9}:PUB_KEY`;var mje=Object.defineProperty,yje=Object.defineProperties,bje=Object.getOwnPropertyDescriptors,KK=Object.getOwnPropertySymbols,wje=Object.prototype.hasOwnProperty,vje=Object.prototype.propertyIsEnumerable,FP=(t,e,n)=>e in t?mje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dn=(t,e)=>{for(var n in e||(e={}))wje.call(e,n)&&FP(t,n,e[n]);if(KK)for(var n of KK(e))vje.call(e,n)&&FP(t,n,e[n]);return t},os=(t,e)=>yje(t,bje(e)),Te=(t,e,n)=>FP(t,typeof e!=\"symbol\"?e+\"\":e,n);let Eje=class extends eDe{constructor(e){super(e),Te(this,\"name\",cje),Te(this,\"events\",new vy),Te(this,\"initialized\",!1),Te(this,\"requestQueue\",{state:Kc.idle,queue:[]}),Te(this,\"sessionRequestQueue\",{state:Kc.idle,queue:[]}),Te(this,\"requestQueueDelay\",ce.ONE_SECOND),Te(this,\"expectedPairingMethodMap\",new Map),Te(this,\"recentlyDeletedMap\",new Map),Te(this,\"recentlyDeletedLimit\",200),Te(this,\"relayMessageCache\",[]),Te(this,\"pendingSessions\",new Map),Te(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Jr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ce.toMiliseconds(this.requestQueueDelay)))}),Te(this,\"connect\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=os(Dn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=dke(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let d=i,h,p=!1;try{if(d){const I=this.client.core.pairing.pairings.get(d);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),p=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),I}if(!d||!p){const{topic:I,uri:O}=await this.client.core.pairing.create();d=I,h=O}if(!d){const{message:I}=ze(\"NO_MATCHING_KEY\",`connect() pairing topic: ${d}`);throw new Error(I)}const m=await this.client.core.crypto.generateKeyPair(),b=Jr.wc_sessionPropose.req.ttl||ce.FIVE_MINUTES,y=Ur(b),E=os(Dn(Dn({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:xae}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:d},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ai()}),v=hn(\"session_connect\",E.id),{reject:_,resolve:C,done:S}=Qh(b,HK),A=({id:I})=>{I===E.id&&(this.client.events.off(\"proposal_expire\",A),this.pendingSessions.delete(E.id),this.events.emit(v,{error:{message:HK,code:0}}))};return this.client.events.on(\"proposal_expire\",A),this.events.once(v,({error:I,session:O})=>{this.client.events.off(\"proposal_expire\",A),I?_(I):O&&C(O)}),await this.sendRequest({topic:d,method:\"wc_sessionPropose\",params:E,throwOnFailedPublish:!0,clientRpcId:E.id}),await this.setProposal(E.id,E),{uri:h,approval:S}}),Te(this,\"pair\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error(\"pair() failed\"),r}}),Te(this,\"approve\",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[qa.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Hh.no_internet_connection),N}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Hh.proposal_not_found),N}try{await this.isValidApprove(n)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),o.setError(Hh.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:d,scopedProperties:h,sessionConfig:p}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:b,proposer:y,requiredNamespaces:E,optionalNamespaces:v}=m;let _=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});_||(_=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:qa.session_approve_started,properties:{topic:b,trace:[qa.session_approve_started,qa.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),S=y.publicKey,A=await this.client.core.crypto.generateSharedKey(C,S),I=Dn(Dn(Dn({relay:{protocol:c??\"irn\"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:Ur(Qg)},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),O=Gn.relay;_.addTrace(qa.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:O})}catch(N){throw _.setError(Hh.subscribe_session_topic_failure),N}_.addTrace(qa.subscribe_session_topic_success);const D=os(Dn({},I),{topic:A,requiredNamespaces:E,optionalNamespaces:v,pairingTopic:b,acknowledged:!1,self:I.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:C,transportType:Gn.relay});await this.client.session.set(A,D),_.addTrace(qa.store_session);try{_.addTrace(qa.publishing_session_settle),await this.sendRequest({topic:A,method:\"wc_sessionSettle\",params:I,throwOnFailedPublish:!0}).catch(N=>{throw _==null||_.setError(Hh.session_settle_publish_failure),N}),_.addTrace(qa.session_settle_publish_success),_.addTrace(qa.publishing_session_approve),await this.sendResult({id:a,topic:b,result:{relay:{protocol:c??\"irn\"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(N=>{throw _==null||_.setError(Hh.session_approve_publish_failure),N}),_.addTrace(qa.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(A,Cn(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(A),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:y.metadata}),await this.client.proposal.delete(a,Cn(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(A,Ur(Qg)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),Te(this,\"reject\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Jr.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Cn(\"USER_DISCONNECTED\")))}),Te(this,\"update\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=Qh(),c=ai(),l=ko().toString(),d=this.client.session.get(r).namespaces;return this.events.once(hn(\"session_update\",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:\"wc_sessionUpdate\",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:d}),a(h)}),{acknowledged:s}}),Te(this,\"extend\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),c}const{topic:r}=n,i=ai(),{done:s,resolve:o,reject:a}=Qh();return this.events.once(hn(\"session_extend\",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,Ur(Qg)),this.sendRequest({topic:r,method:\"wc_sessionExtend\",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Te(this,\"request\",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(v){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),v}const{chainId:r,request:i,topic:s,expiry:o=Jr.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Gn.relay&&await this.confirmOnlineStateOrThrow();const c=ai(),l=ko().toString(),{done:d,resolve:h,reject:p}=Qh(o,\"Request expired. Please try again.\");this.events.once(hn(\"session_request\",c),({error:v,result:_})=>{v?p(v):h(_)});const m=\"wc_sessionRequest\",b=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(b)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:m,params:{request:os(Dn({},i),{expiryTimestamp:Ur(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:b}).catch(v=>p(v)),this.client.events.emit(\"session_request_sent\",{topic:s,request:i,chainId:r,id:c}),await d();const y={request:os(Dn({},i),{expiryTimestamp:Ur(o)}),chainId:r},E=this.shouldSetTVF(m,y);return await Promise.all([new Promise(async v=>{await this.sendRequest(Dn({clientRpcId:c,relayRpcId:l,topic:s,method:m,params:y,expiry:o,throwOnFailedPublish:!0},E&&{tvf:this.getTVFParams(c,y)})).catch(_=>p(_)),this.client.events.emit(\"session_request_sent\",{topic:s,request:i,chainId:r,id:c}),v()}),new Promise(async v=>{var _;if(!((_=a.sessionConfig)!=null&&_.disableDeepLink)){const C=await SOe(this.client.core.storage,qK);await EOe({id:c,topic:s,wcDeepLink:C})}v()}),d()]).then(v=>v[2])}),Te(this,\"respond\",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Gn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Fr(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):dr(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Te(this,\"ping\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=ai(),s=ko().toString(),{done:o,resolve:a,reject:c}=Qh();this.events.once(hn(\"session_ping\",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:r}))}),Te(this,\"emit\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=ko().toString(),a=ai();await this.sendRequest({topic:r,method:\"wc_sessionEvent\",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Te(this,\"disconnect\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:\"wc_sessionDelete\",params:Cn(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=ze(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Te(this,\"find\",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>pke(r,n)))),Te(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),Te(this,\"authenticate\",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Gn.link_mode:Gn.relay;o===Gn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c=\"\",uri:l,domain:d,nonce:h,type:p,exp:m,nbf:b,methods:y=[],expiry:E}=n,v=[...n.resources||[]],{topic:_,uri:C}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:o});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:C}});const S=await this.client.core.crypto.generateKeyPair(),A=WE(S);if(await Promise.all([this.client.auth.authKeys.set(JE,{responseTopic:A,publicKey:S}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:_})]),await this.client.core.relayer.subscribe(A,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),y.length>0){const{namespace:k}=bm(a[0]);let z=mNe(k,\"request\",y);KE(v)&&(z=bNe(z,v.pop())),v.push(z)}const I=E&&E>Jr.wc_sessionAuthenticate.req.ttl?E:Jr.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:p??\"caip122\",chains:a,statement:c,aud:l,domain:d,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:m,nbf:b,resources:v},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Ur(I)},D={eip155:{chains:a,methods:[...new Set([\"personal_sign\",...y])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:D,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:Ur(Jr.wc_sessionPropose.req.ttl),id:ai()},{done:U,resolve:F,reject:H}=Qh(I,\"Request expired\"),V=ai(),M=hn(\"session_connect\",N.id),$=hn(\"session_request\",V),P=async({error:k,session:z})=>{this.events.off($,q),k?H(k):z&&F({session:z})},q=async k=>{var z,L,B;if(await this.deletePendingAuthRequest(V,{message:\"fulfilled\",code:0}),k.error){const Q=Cn(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return k.error.code===Q.code?void 0:(this.events.off(M,P),H(k.error.message))}await this.deleteProposal(N.id),this.events.off(M,P);const{cacaos:j,responder:K}=k.result,G=[],Z=[];for(const Q of j){await EV({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,\"Signature verification failed\"),H(Cn(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:re}=Q,oe=KE(re.resources),ue=[vP(re.iss)],ye=l4(re.iss);if(oe){const xe=_V(oe),Be=CV(oe);G.push(...xe),ue.push(...Be)}for(const xe of ue)Z.push(`${xe}:${ye}`)}const Y=await this.client.core.crypto.generateSharedKey(S,K.publicKey);let X;G.length>0&&(X={topic:Y,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:Ur(Qg),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:GV([...new Set(G)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(Y,{transportType:o}),await this.client.session.set(Y,X),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:K.metadata}),X=this.client.session.get(Y)),(z=this.client.metadata.redirect)!=null&&z.linkMode&&(L=K.metadata.redirect)!=null&&L.linkMode&&(B=K.metadata.redirect)!=null&&B.universal&&r&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(Y,{transportType:Gn.link_mode})),F({auths:j,session:X})};this.events.once(M,P),this.events.once($,q);let T;try{if(s){const k=ms(\"wc_sessionAuthenticate\",O,V);this.client.core.history.set(_,k);const z=await this.client.core.crypto.encode(\"\",k,{type:g5,encoding:Af});T=G3(r,_,z)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:O,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:V}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:Jr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(k){throw this.events.off(M,P),this.events.off($,q),k}return await this.setProposal(N.id,N),await this.setAuthRequest(V,{request:os(Dn({},O),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:T??C,response:U}}),Te(this,\"approveSessionAuthenticate\",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Vh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(Qb.no_internet_connection),E}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(Qb.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Gn.relay;a===Gn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),d=WE(c),h={type:Gu,receiverPublicKey:c,senderPublicKey:l},p=[],m=[];for(const E of i){if(!await EV({cacao:E,projectId:this.client.core.projectId})){s.setError(Qb.invalid_cacao);const A=Cn(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:r,topic:d,error:A,encodeOpts:h}),new Error(A.message)}s.addTrace(Vh.cacaos_verified);const{p:v}=E,_=KE(v.resources),C=[vP(v.iss)],S=l4(v.iss);if(_){const A=_V(_),I=CV(_);p.push(...A),C.push(...I)}for(const A of C)m.push(`${A}:${S}`)}const b=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Vh.create_authenticated_session_topic);let y;if((p==null?void 0:p.length)>0){y={topic:b,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Ur(Qg),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:o.pairingTopic,namespaces:GV([...new Set(p)],[...new Set(m)]),transportType:a},s.addTrace(Vh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:a})}catch(E){throw s.setError(Qb.subscribe_authenticated_session_topic_failure),E}s.addTrace(Vh.subscribe_authenticated_session_topic_success),await this.client.session.set(b,y),s.addTrace(Vh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Vh.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(E){throw s.setError(Qb.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),Te(this,\"rejectSessionAuthenticate\",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Gn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=WE(o),l={type:Gu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Jr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:\"rejected\",code:0}),await this.client.proposal.delete(r,Cn(\"USER_DISCONNECTED\"))}),Te(this,\"formatAuthMessage\",n=>{this.isInitialized();const{request:r,iss:i}=n;return joe(r,i)}),Te(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Te(this,\"cleanupDuplicatePairings\",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(r){this.client.logger.error(r)}}),Te(this,\"deleteSession\",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Cn(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(i,\"session\"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(qK).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Cn(\"USER_DISCONNECTED\"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Kc.idle),o&&this.client.events.emit(\"session_delete\",{id:a,topic:i})}),Te(this,\"deleteProposal\",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Hh.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Cn(\"USER_DISCONNECTED\")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,\"proposal\")}),Te(this,\"deletePendingSessionRequest\",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Kc.idle,this.client.events.emit(\"session_request_expire\",{id:n}))}),Te(this,\"deletePendingAuthRequest\",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Te(this,\"setExpiry\",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Te(this,\"setProposal\",async(n,r)=>{this.client.core.expirer.set(n,Ur(Jr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Te(this,\"setAuthRequest\",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Gn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Te(this,\"setPendingSessionRequest\",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||Ur(Jr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Te(this,\"sendRequest\",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:d,tvf:h}=n,p=ms(i,s,c);let m;const b=!!d;try{const v=b?Af:ic;m=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let y;if(uje.includes(i)){const v=tl(JSON.stringify(p)),_=tl(m);y=await this.client.core.verify.register({id:_,decryptedId:v})}const E=Jr[i].req;if(E.attestation=y,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(r,p),b){const v=G3(d,r,m);await global.Linking.openURL(v,this.client.name)}else{const v=Jr[i].req;o&&(v.ttl=o),a&&(v.id=a),v.tvf=os(Dn({},h),{correlationId:p.id}),l?(v.internal=os(Dn({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,v)):this.client.core.relayer.publish(r,m,v).catch(_=>this.client.logger.error(_))}return p.id}),Te(this,\"sendResult\",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=gh(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<\"u\";try{const b=h?Af:ic;d=await this.client.core.crypto.encode(i,l,os(Dn({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let p,m;try{p=await this.client.core.history.get(i,r);const b=p.request;try{this.shouldSetTVF(b.method,b.params)&&(m=this.getTVFParams(r,b.params,s))}catch(y){this.client.logger.warn(\"sendResult() -> getTVFParams() failed\",y)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(h){const b=G3(c,i,d);await global.Linking.openURL(b,this.client.name)}else{const b=p.request.method,y=Jr[b].res;y.tvf=os(Dn({},m),{correlationId:r}),o?(y.internal=os(Dn({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,y)):this.client.core.relayer.publish(i,d,y).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(l)}),Te(this,\"sendError\",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Iy(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<\"u\";try{const m=h?Af:ic;d=await this.client.core.crypto.encode(i,l,os(Dn({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let p;try{p=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(h){const m=G3(c,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=p.request.method,b=a||Jr[m].res;this.client.core.relayer.publish(i,d,b)}await this.client.core.history.resolve(l)}),Te(this,\"cleanup\",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;vf(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{vf(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Te(this,\"onProviderMessageEvent\",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Te(this,\"onRelayEventRequest\",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Te(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===Kc.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Kc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Kc.idle}),Te(this,\"processRequest\",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(r,i);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(r,i);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(r,i);case\"wc_sessionPing\":return await this.onSessionPingRequest(r,i);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(r,i);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case\"wc_sessionEvent\":return await this.onSessionEventRequest(r,i);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Te(this,\"onRelayEventResponse\",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case\"wc_sessionPropose\":return this.onSessionProposeResponse(r,i,s);case\"wc_sessionSettle\":return this.onSessionSettleResponse(r,i);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(r,i);case\"wc_sessionExtend\":return this.onSessionExtendResponse(r,i);case\"wc_sessionPing\":return this.onSessionPingResponse(r,i);case\"wc_sessionRequest\":return this.onSessionRequestResponse(r,i);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Te(this,\"onRelayEventUnknownPayload\",n=>{const{topic:r}=n,{message:i}=ze(\"MISSING_OR_INVALID\",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Te(this,\"shouldIgnorePairingRequest\",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),Te(this,\"onSessionProposeRequest\",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l==null||l.setError(wu.proposal_listener_not_found)),this.isValidConnect(Dn({},i.params));const d=a.expiryTimestamp||Ur(Jr.wc_sessionPropose.req.ttl),h=Dn({id:c,pairingTopic:r,expiryTimestamp:d},a);await this.setProposal(c,h);const p=await this.getVerifyContext({attestationId:s,hash:tl(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(Qc.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:c,params:h,verifyContext:p})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Jr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Te(this,\"onSessionProposeResponse\",async(n,r,i)=>{const{id:s}=r;if(Fr(r)){const{result:o}=r;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const d=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:d,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(dr(r)){await this.client.proposal.delete(s,Cn(\"USER_DISCONNECTED\"));const o=hn(\"session_connect\",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Te(this,\"onSessionSettleRequest\",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:d,scopedProperties:h,sessionConfig:p}=r.params,m=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(m.proposalId),y=os(Dn(Dn(Dn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),{transportType:Gn.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit(\"session_connect\",{session:y}),this.events.emit(hn(\"session_connect\",m.proposalId),{session:y}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Te(this,\"onSessionSettleResponse\",async(n,r)=>{const{id:i}=r;Fr(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(hn(\"session_approve\",i),{})):dr(r)&&(await this.client.session.delete(n,Cn(\"USER_DISCONNECTED\")),this.events.emit(hn(\"session_approve\",i),{error:r.error}))}),Te(this,\"onSessionUpdateRequest\",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=Jb.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Cn(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(Dn({topic:n},i));try{Jb.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw Jb.delete(o),c}this.client.events.emit(\"session_update\",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Te(this,\"isRequestOutOfSync\",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Te(this,\"onSessionUpdateResponse\",(n,r)=>{const{id:i}=r,s=hn(\"session_update\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(hn(\"session_update\",i),{}):dr(r)&&this.events.emit(hn(\"session_update\",i),{error:r.error})}),Te(this,\"onSessionExtendRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,Ur(Qg)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Te(this,\"onSessionExtendResponse\",(n,r)=>{const{id:i}=r,s=hn(\"session_extend\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(hn(\"session_extend\",i),{}):dr(r)&&this.events.emit(hn(\"session_extend\",i),{error:r.error})}),Te(this,\"onSessionPingRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Te(this,\"onSessionPingResponse\",(n,r)=>{const{id:i}=r,s=hn(\"session_ping\",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Fr(r)?this.events.emit(hn(\"session_ping\",i),{}):dr(r)&&this.events.emit(hn(\"session_ping\",i),{error:r.error})},500)}),Te(this,\"onSessionDeleteRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(li.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Cn(\"USER_DISCONNECTED\")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Te(this,\"onSessionRequest\",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:d}=n,{id:h,params:p}=a;try{await this.isValidRequest(Dn({topic:o},p));const m=this.client.session.get(o),b=await this.getVerifyContext({attestationId:c,hash:tl(JSON.stringify(ms(\"wc_sessionRequest\",p,h))),encryptedId:l,metadata:m.peer.metadata,transportType:d}),y={id:h,topic:o,params:p,verifyContext:b};await this.setPendingSessionRequest(y),d===Gn.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(m){await this.sendError({id:h,topic:o,error:m}),this.client.logger.error(m)}}),Te(this,\"onSessionRequestResponse\",(n,r)=>{const{id:i}=r,s=hn(\"session_request\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(hn(\"session_request\",i),{result:r.result}):dr(r)&&this.events.emit(hn(\"session_request\",i),{error:r.error})}),Te(this,\"onSessionEventRequest\",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=Jb.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Dn({topic:n},s)),this.client.events.emit(\"session_event\",{id:i,topic:n,params:s}),Jb.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Te(this,\"onSessionAuthenticateResponse\",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:n,payload:r}),Fr(r)?this.events.emit(hn(\"session_request\",i),{result:r.result}):dr(r)&&this.events.emit(hn(\"session_request\",i),{error:r.error})}),Te(this,\"onSessionAuthenticateRequest\",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:d,expiryTimestamp:h}=s.params,p=await this.getVerifyContext({attestationId:o,hash:tl(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),m={requester:l,pairingTopic:i,id:s.id,authPayload:d,verifyContext:p,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===Gn.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(l){this.client.logger.error(l);const d=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:Gu,receiverPublicKey:d,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:m,rpcOpts:Jr.wc_sessionAuthenticate.autoReject,appLink:p})}}),Te(this,\"addSessionRequestToSessionRequestQueue\",n=>{this.sessionRequestQueue.queue.push(n)}),Te(this,\"cleanupAfterResponse\",n=>{this.deletePendingSessionRequest(n.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Kc.idle,this.processSessionRequestQueue()},ce.toMiliseconds(this.requestQueueDelay))}),Te(this,\"cleanupPendingSentRequestsForTopic\",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method===\"wc_sessionRequest\").forEach(s=>{const o=s.request.id,a=hn(\"session_request\",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(hn(\"session_request\",s.request.id),{error:r})})}),Te(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===Kc.active){this.client.logger.info(\"session request queue is already active.\");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=Kc.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Te(this,\"emitSessionRequest\",n=>{this.client.events.emit(\"session_request\",n)}),Te(this,\"onPairingCreated\",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ms(\"wc_sessionPropose\",os(Dn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Te(this,\"isValidConnect\",async n=>{if(!Fs(n)){const{message:l}=ze(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Di(r)||await this.isValidPairingTopic(r),!Ake(c)){const{message:l}=ze(\"MISSING_OR_INVALID\",`connect() relays: ${c}`);throw new Error(l)}if(!Di(i)&&qf(i)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,\"requiredNamespaces\")}if(!Di(s)&&qf(s)!==0&&this.validateNamespaces(s,\"optionalNamespaces\"),Di(o)||this.validateSessionProps(o,\"sessionProperties\"),!Di(a)){this.validateSessionProps(a,\"scopedProperties\");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(d=>l.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Te(this,\"validateNamespaces\",(n,r)=>{const i=xke(n,\"connect()\",r);if(i)throw new Error(i.message)}),Te(this,\"isValidApprove\",async n=>{if(!Fs(n))throw new Error(ze(\"MISSING_OR_INVALID\",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=lA(i,\"approve()\");if(l)throw new Error(l.message);const d=JV(c.requiredNamespaces,i,\"approve()\");if(d)throw new Error(d.message);if(!Or(s,!0)){const{message:h}=ze(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Di(o)||this.validateSessionProps(o,\"sessionProperties\"),!Di(a)){this.validateSessionProps(a,\"scopedProperties\");const h=new Set(Object.keys(i));if(!Object.keys(a).every(p=>h.has(p)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),Te(this,\"isValidReject\",async n=>{if(!Fs(n)){const{message:s}=ze(\"MISSING_OR_INVALID\",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Ike(i)){const{message:s}=ze(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Te(this,\"isValidSessionSettleRequest\",n=>{if(!Fs(n)){const{message:l}=ze(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!fae(r)){const{message:l}=ze(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const a=wke(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);const c=lA(s,\"onSessionSettleRequest()\");if(c)throw new Error(c.message);if(vf(o)){const{message:l}=ze(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),Te(this,\"isValidUpdate\",async n=>{if(!Fs(n)){const{message:c}=ze(\"MISSING_OR_INVALID\",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=lA(i,\"update()\");if(o)throw new Error(o.message);const a=JV(s.requiredNamespaces,i,\"update()\");if(a)throw new Error(a.message)}),Te(this,\"isValidExtend\",async n=>{if(!Fs(n)){const{message:i}=ze(\"MISSING_OR_INVALID\",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Te(this,\"isValidRequest\",async n=>{if(!Fs(n)){const{message:c}=ze(\"MISSING_OR_INVALID\",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!YV(a,s)){const{message:c}=ze(\"MISSING_OR_INVALID\",`request() chainId: ${s}`);throw new Error(c)}if(!Tke(i)){const{message:c}=ze(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Nke(a,s,i.method)){const{message:c}=ze(\"MISSING_OR_INVALID\",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Dke(o,vA)){const{message:c}=ze(\"MISSING_OR_INVALID\",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${vA.min} and ${vA.max}`);throw new Error(c)}}),Te(this,\"isValidRespond\",async n=>{var r;if(!Fs(n)){const{message:o}=ze(\"MISSING_OR_INVALID\",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Pke(s)){const{message:o}=ze(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Te(this,\"isValidPing\",async n=>{if(!Fs(n)){const{message:i}=ze(\"MISSING_OR_INVALID\",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Te(this,\"isValidEmit\",async n=>{if(!Fs(n)){const{message:a}=ze(\"MISSING_OR_INVALID\",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!YV(o,s)){const{message:a}=ze(\"MISSING_OR_INVALID\",`emit() chainId: ${s}`);throw new Error(a)}if(!Oke(i)){const{message:a}=ze(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Rke(o,s,i.name)){const{message:a}=ze(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Te(this,\"isValidDisconnect\",async n=>{if(!Fs(n)){const{message:i}=ze(\"MISSING_OR_INVALID\",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Te(this,\"isValidAuthenticate\",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!Or(i,!1))throw new Error(\"uri is required parameter\");if(!Or(s,!1))throw new Error(\"domain is required parameter\");if(!Or(o,!1))throw new Error(\"nonce is required parameter\");if([...new Set(r.map(c=>bm(c).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:a}=bm(r[0]);if(a!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),Te(this,\"getVerifyContext\",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||jw,validation:\"UNKNOWN\",origin:o.url||\"\"}};try{if(a===Gn.link_mode){const d=this.getAppLinkIfEnabled(o,a);return c.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?\"VALID\":\"INVALID\",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Te(this,\"validateSessionProps\",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=ze(\"MISSING_OR_INVALID\",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Te(this,\"getPendingAuthRequest\",n=>{const r=this.client.auth.requests.get(n);return typeof r==\"object\"?r:void 0}),Te(this,\"addToRecentlyDeleted\",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Te(this,\"checkRecentlyDeleted\",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=ze(\"MISSING_OR_INVALID\",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Te(this,\"isLinkModeEnabled\",(n,r)=>{var i,s,o,a,c,l,d,h,p;return!n||r!==Gn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==\"\"&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==\"\"&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),Te(this,\"getAppLinkIfEnabled\",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),Te(this,\"handleLinkModeMessage\",({url:n})=>{if(!n||!n.includes(\"wc_ev\")||!n.includes(\"topic\"))return;const r=fV(n,\"topic\")||\"\",i=decodeURIComponent(fV(n,\"wc_ev\")||\"\"),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Gn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Te(this,\"registerLinkModeListeners\",async()=>{var n;if(Sk()||hh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<\"u\"){r.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Te(this,\"shouldSetTVF\",(n,r)=>{if(!r||n!==\"wc_sessionRequest\")return!1;const{request:i}=r;return Object.keys(VK).includes(i.method)}),Te(this,\"getTVFParams\",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return os(Dn({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn(\"Error getting TVF params\",a)}return{}}),Te(this,\"isValidContractData\",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith(\"0x\"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Te(this,\"extractTxHashesFromResult\",(n,r)=>{try{const i=VK[n];if(typeof r==\"string\")return[r];const s=r[i.key];if(uc(s))return n===\"solana_signAllTransactions\"?s.map(o=>nNe(o)):s;if(typeof s==\"string\")return[s]}catch(i){this.client.logger.warn(\"Error extracting tx hashes from result\",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(\"processPendingMessageEvents failed\",e)}}isInitialized(){if(!this.initialized){const{message:e}=ze(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(li.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(JE)?this.client.auth.authKeys.get(JE):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Gn.link_mode?Af:ic});Ty(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:tl(r)})):jp(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(_a.expired,async e=>{const{topic:n,id:r}=Ooe(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,ze(\"EXPIRED\"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,ze(\"EXPIRED\"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit(\"proposal_expire\",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(o0.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(o0.delete,e=>{this.addToRecentlyDeleted(e.topic,\"pairing\")})}isValidPairingTopic(e){if(!Or(e,!1)){const{message:n}=ze(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=ze(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(vf(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=ze(\"EXPIRED\",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Or(e,!1)){const{message:n}=ze(\"MISSING_OR_INVALID\",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=ze(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${e}`);throw new Error(n)}if(vf(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=ze(\"EXPIRED\",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=ze(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Or(e,!1)){const{message:n}=ze(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=ze(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!$ke(e)){const{message:n}=ze(\"MISSING_OR_INVALID\",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=ze(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(vf(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=ze(\"EXPIRED\",`proposal id: ${e}`);throw new Error(n)}}},_je=class extends zp{constructor(e,n){super(e,n,oje,Mk),this.core=e,this.logger=n}},Cje=class extends zp{constructor(e,n){super(e,n,aje,Mk),this.core=e,this.logger=n}},Sje=class extends zp{constructor(e,n){super(e,n,lje,Mk,r=>r.id),this.core=e,this.logger=n}},xje=class extends zp{constructor(e,n){super(e,n,hje,d9,()=>JE),this.core=e,this.logger=n}},Aje=class extends zp{constructor(e,n){super(e,n,pje,d9),this.core=e,this.logger=n}},$je=class extends zp{constructor(e,n){super(e,n,gje,d9,r=>r.id),this.core=e,this.logger=n}};var Ije=Object.defineProperty,Tje=(t,e,n)=>e in t?Ije(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EA=(t,e,n)=>Tje(t,typeof e!=\"symbol\"?e+\"\":e,n);let Pje=class{constructor(e,n){this.core=e,this.logger=n,EA(this,\"authKeys\"),EA(this,\"pairingTopics\"),EA(this,\"requests\"),this.authKeys=new xje(this.core,this.logger),this.pairingTopics=new Aje(this.core,this.logger),this.requests=new $je(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var Oje=Object.defineProperty,Nje=(t,e,n)=>e in t?Oje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qt=(t,e,n)=>Nje(t,typeof e!=\"symbol\"?e+\"\":e,n);let Rje=class Fae extends QMe{constructor(e){super(e),qt(this,\"protocol\",Uae),qt(this,\"version\",jae),qt(this,\"name\",wA.name),qt(this,\"metadata\"),qt(this,\"core\"),qt(this,\"logger\"),qt(this,\"events\",new Dr.EventEmitter),qt(this,\"engine\"),qt(this,\"session\"),qt(this,\"proposal\"),qt(this,\"pendingRequest\"),qt(this,\"auth\"),qt(this,\"signConfig\"),qt(this,\"on\",(r,i)=>this.events.on(r,i)),qt(this,\"once\",(r,i)=>this.events.once(r,i)),qt(this,\"off\",(r,i)=>this.events.off(r,i)),qt(this,\"removeListener\",(r,i)=>this.events.removeListener(r,i)),qt(this,\"removeAllListeners\",r=>this.events.removeAllListeners(r)),qt(this,\"connect\",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"pair\",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"approve\",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"reject\",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"update\",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"extend\",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"request\",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"respond\",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"ping\",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"emit\",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"disconnect\",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"find\",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),qt(this,\"authenticate\",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),qt(this,\"formatAuthMessage\",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"approveSessionAuthenticate\",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),qt(this,\"rejectSessionAuthenticate\",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||wA.name,this.metadata=gOe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<\"u\"&&typeof(e==null?void 0:e.logger)!=\"string\"?e.logger:ph(pd({level:(e==null?void 0:e.logger)||wA.logger}));this.core=(e==null?void 0:e.core)||new sje(e),this.logger=wn(n,this.name),this.session=new Cje(this.core,this.logger),this.proposal=new _je(this.core,this.logger),this.pendingRequest=new Sje(this.core,this.logger),this.engine=new Eje(this),this.auth=new Pje(this.core,this.logger)}static async init(e){const n=new Fae(e);return await n.initialize(),n}get context(){return jn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},ce.toMiliseconds(ce.ONE_SECOND))}catch(e){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(e.message),e}}};var X3={exports:{}},WK;function kje(){return WK||(WK=1,(function(t,e){var n=typeof globalThis<\"u\"&&globalThis||typeof self<\"u\"&&self||typeof Gs<\"u\"&&Gs,r=(function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s})();(function(s){(function(o){var a=typeof s<\"u\"&&s||typeof self<\"u\"&&self||typeof Gs<\"u\"&&Gs||{},c={searchParams:\"URLSearchParams\"in a,iterable:\"Symbol\"in a&&\"iterator\"in Symbol,blob:\"FileReader\"in a&&\"Blob\"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:\"FormData\"in a,arrayBuffer:\"ArrayBuffer\"in a};function l($){return $&&DataView.prototype.isPrototypeOf($)}if(c.arrayBuffer)var d=[\"[object Int8Array]\",\"[object Uint8Array]\",\"[object Uint8ClampedArray]\",\"[object Int16Array]\",\"[object Uint16Array]\",\"[object Int32Array]\",\"[object Uint32Array]\",\"[object Float32Array]\",\"[object Float64Array]\"],h=ArrayBuffer.isView||function($){return $&&d.indexOf(Object.prototype.toString.call($))>-1};function p($){if(typeof $!=\"string\"&&($=String($)),/[^a-z0-9\\-#$%&'*+.^_`|~!]/i.test($)||$===\"\")throw new TypeError('Invalid character in header field name: \"'+$+'\"');return $.toLowerCase()}function m($){return typeof $!=\"string\"&&($=String($)),$}function b($){var P={next:function(){var q=$.shift();return{done:q===void 0,value:q}}};return c.iterable&&(P[Symbol.iterator]=function(){return P}),P}function y($){this.map={},$ instanceof y?$.forEach(function(P,q){this.append(q,P)},this):Array.isArray($)?$.forEach(function(P){if(P.length!=2)throw new TypeError(\"Headers constructor: expected name/value pair to be length 2, found\"+P.length);this.append(P[0],P[1])},this):$&&Object.getOwnPropertyNames($).forEach(function(P){this.append(P,$[P])},this)}y.prototype.append=function($,P){$=p($),P=m(P);var q=this.map[$];this.map[$]=q?q+\", \"+P:P},y.prototype.delete=function($){delete this.map[p($)]},y.prototype.get=function($){return $=p($),this.has($)?this.map[$]:null},y.prototype.has=function($){return this.map.hasOwnProperty(p($))},y.prototype.set=function($,P){this.map[p($)]=m(P)},y.prototype.forEach=function($,P){for(var q in this.map)this.map.hasOwnProperty(q)&&$.call(P,this.map[q],q,this)},y.prototype.keys=function(){var $=[];return this.forEach(function(P,q){$.push(q)}),b($)},y.prototype.values=function(){var $=[];return this.forEach(function(P){$.push(P)}),b($)},y.prototype.entries=function(){var $=[];return this.forEach(function(P,q){$.push([q,P])}),b($)},c.iterable&&(y.prototype[Symbol.iterator]=y.prototype.entries);function E($){if(!$._noBody){if($.bodyUsed)return Promise.reject(new TypeError(\"Already read\"));$.bodyUsed=!0}}function v($){return new Promise(function(P,q){$.onload=function(){P($.result)},$.onerror=function(){q($.error)}})}function _($){var P=new FileReader,q=v(P);return P.readAsArrayBuffer($),q}function C($){var P=new FileReader,q=v(P),T=/charset=([A-Za-z0-9_-]+)/.exec($.type),k=T?T[1]:\"utf-8\";return P.readAsText($,k),q}function S($){for(var P=new Uint8Array($),q=new Array(P.length),T=0;T<P.length;T++)q[T]=String.fromCharCode(P[T]);return q.join(\"\")}function A($){if($.slice)return $.slice(0);var P=new Uint8Array($.byteLength);return P.set(new Uint8Array($)),P.buffer}function I(){return this.bodyUsed=!1,this._initBody=function($){this.bodyUsed=this.bodyUsed,this._bodyInit=$,$?typeof $==\"string\"?this._bodyText=$:c.blob&&Blob.prototype.isPrototypeOf($)?this._bodyBlob=$:c.formData&&FormData.prototype.isPrototypeOf($)?this._bodyFormData=$:c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)?this._bodyText=$.toString():c.arrayBuffer&&c.blob&&l($)?(this._bodyArrayBuffer=A($.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf($)||h($))?this._bodyArrayBuffer=A($):this._bodyText=$=Object.prototype.toString.call($):(this._noBody=!0,this._bodyText=\"\"),this.headers.get(\"content-type\")||(typeof $==\"string\"?this.headers.set(\"content-type\",\"text/plain;charset=UTF-8\"):this._bodyBlob&&this._bodyBlob.type?this.headers.set(\"content-type\",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf($)&&this.headers.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"))},c.blob&&(this.blob=function(){var $=E(this);if($)return $;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error(\"could not read FormData body as blob\");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var $=E(this);return $||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(_);throw new Error(\"could not read as ArrayBuffer\")}},this.text=function(){var $=E(this);if($)return $;if(this._bodyBlob)return C(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(S(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error(\"could not read FormData body as text\");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(U)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=[\"CONNECT\",\"DELETE\",\"GET\",\"HEAD\",\"OPTIONS\",\"PATCH\",\"POST\",\"PUT\",\"TRACE\"];function D($){var P=$.toUpperCase();return O.indexOf(P)>-1?P:$}function N($,P){if(!(this instanceof N))throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.');P=P||{};var q=P.body;if($ instanceof N){if($.bodyUsed)throw new TypeError(\"Already read\");this.url=$.url,this.credentials=$.credentials,P.headers||(this.headers=new y($.headers)),this.method=$.method,this.mode=$.mode,this.signal=$.signal,!q&&$._bodyInit!=null&&(q=$._bodyInit,$.bodyUsed=!0)}else this.url=String($);if(this.credentials=P.credentials||this.credentials||\"same-origin\",(P.headers||!this.headers)&&(this.headers=new y(P.headers)),this.method=D(P.method||this.method||\"GET\"),this.mode=P.mode||this.mode||null,this.signal=P.signal||this.signal||(function(){if(\"AbortController\"in a){var z=new AbortController;return z.signal}})(),this.referrer=null,(this.method===\"GET\"||this.method===\"HEAD\")&&q)throw new TypeError(\"Body not allowed for GET or HEAD requests\");if(this._initBody(q),(this.method===\"GET\"||this.method===\"HEAD\")&&(P.cache===\"no-store\"||P.cache===\"no-cache\")){var T=/([?&])_=[^&]*/;if(T.test(this.url))this.url=this.url.replace(T,\"$1_=\"+new Date().getTime());else{var k=/\\?/;this.url+=(k.test(this.url)?\"&\":\"?\")+\"_=\"+new Date().getTime()}}}N.prototype.clone=function(){return new N(this,{body:this._bodyInit})};function U($){var P=new FormData;return $.trim().split(\"&\").forEach(function(q){if(q){var T=q.split(\"=\"),k=T.shift().replace(/\\+/g,\" \"),z=T.join(\"=\").replace(/\\+/g,\" \");P.append(decodeURIComponent(k),decodeURIComponent(z))}}),P}function F($){var P=new y,q=$.replace(/\\r?\\n[\\t ]+/g,\" \");return q.split(\"\\r\").map(function(T){return T.indexOf(`\n`)===0?T.substr(1,T.length):T}).forEach(function(T){var k=T.split(\":\"),z=k.shift().trim();if(z){var L=k.join(\":\").trim();try{P.append(z,L)}catch(B){console.warn(\"Response \"+B.message)}}}),P}I.call(N.prototype);function H($,P){if(!(this instanceof H))throw new TypeError('Please use the \"new\" operator, this DOM object constructor cannot be called as a function.');if(P||(P={}),this.type=\"default\",this.status=P.status===void 0?200:P.status,this.status<200||this.status>599)throw new RangeError(\"Failed to construct 'Response': The status provided (0) is outside the range [200, 599].\");this.ok=this.status>=200&&this.status<300,this.statusText=P.statusText===void 0?\"\":\"\"+P.statusText,this.headers=new y(P.headers),this.url=P.url||\"\",this._initBody($)}I.call(H.prototype),H.prototype.clone=function(){return new H(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new y(this.headers),url:this.url})},H.error=function(){var $=new H(null,{status:200,statusText:\"\"});return $.ok=!1,$.status=0,$.type=\"error\",$};var V=[301,302,303,307,308];H.redirect=function($,P){if(V.indexOf(P)===-1)throw new RangeError(\"Invalid status code\");return new H(null,{status:P,headers:{location:$}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(P,q){this.message=P,this.name=q;var T=Error(P);this.stack=T.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function M($,P){return new Promise(function(q,T){var k=new N($,P);if(k.signal&&k.signal.aborted)return T(new o.DOMException(\"Aborted\",\"AbortError\"));var z=new XMLHttpRequest;function L(){z.abort()}z.onload=function(){var K={statusText:z.statusText,headers:F(z.getAllResponseHeaders()||\"\")};k.url.indexOf(\"file://\")===0&&(z.status<200||z.status>599)?K.status=200:K.status=z.status,K.url=\"responseURL\"in z?z.responseURL:K.headers.get(\"X-Request-URL\");var G=\"response\"in z?z.response:z.responseText;setTimeout(function(){q(new H(G,K))},0)},z.onerror=function(){setTimeout(function(){T(new TypeError(\"Network request failed\"))},0)},z.ontimeout=function(){setTimeout(function(){T(new TypeError(\"Network request timed out\"))},0)},z.onabort=function(){setTimeout(function(){T(new o.DOMException(\"Aborted\",\"AbortError\"))},0)};function B(K){try{return K===\"\"&&a.location.href?a.location.href:K}catch{return K}}if(z.open(k.method,B(k.url),!0),k.credentials===\"include\"?z.withCredentials=!0:k.credentials===\"omit\"&&(z.withCredentials=!1),\"responseType\"in z&&(c.blob?z.responseType=\"blob\":c.arrayBuffer&&(z.responseType=\"arraybuffer\")),P&&typeof P.headers==\"object\"&&!(P.headers instanceof y||a.Headers&&P.headers instanceof a.Headers)){var j=[];Object.getOwnPropertyNames(P.headers).forEach(function(K){j.push(p(K)),z.setRequestHeader(K,m(P.headers[K]))}),k.headers.forEach(function(K,G){j.indexOf(G)===-1&&z.setRequestHeader(G,K)})}else k.headers.forEach(function(K,G){z.setRequestHeader(G,K)});k.signal&&(k.signal.addEventListener(\"abort\",L),z.onreadystatechange=function(){z.readyState===4&&k.signal.removeEventListener(\"abort\",L)}),z.send(typeof k._bodyInit>\"u\"?null:k._bodyInit)})}return M.polyfill=!0,a.fetch||(a.fetch=M,a.Headers=y,a.Request=N,a.Response=H),o.Headers=y,o.Request=N,o.Response=H,o.fetch=M,Object.defineProperty(o,\"__esModule\",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(X3,X3.exports)),X3.exports}var Mje=kje();const GK=ah(Mje);var Dje=Object.defineProperty,Bje=Object.defineProperties,Lje=Object.getOwnPropertyDescriptors,ZK=Object.getOwnPropertySymbols,Uje=Object.prototype.hasOwnProperty,jje=Object.prototype.propertyIsEnumerable,YK=(t,e,n)=>e in t?Dje(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JK=(t,e)=>{for(var n in e||(e={}))Uje.call(e,n)&&YK(t,n,e[n]);if(ZK)for(var n of ZK(e))jje.call(e,n)&&YK(t,n,e[n]);return t},XK=(t,e)=>Bje(t,Lje(e));const zje={Accept:\"application/json\",\"Content-Type\":\"application/json\"},Fje=\"POST\",QK={headers:zje,method:Fje},eW=10;let fr=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new Dr.EventEmitter,this.isAvailable=!1,this.registering=!1,!gK(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error(\"Connection already closed\");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Al(e),r=await(await GK(this.url,XK(JK({},QK),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!gK(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount(\"register_error\")>=n||this.events.listenerCount(\"open\")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once(\"register_error\",s=>{this.resetMaxListeners(),i(s)}),this.events.once(\"open\",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>\"u\")return i(new Error(\"HTTP connection is missing or invalid\"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Al({id:1,jsonrpc:\"2.0\",method:\"test\",params:[]});await GK(e,XK(JK({},QK),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit(\"register_error\",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit(\"open\")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit(\"close\")}onPayload(e){if(typeof e.data>\"u\")return;const n=typeof e.data==\"string\"?od(e.data):e.data;this.events.emit(\"payload\",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=Iy(e,i);this.events.emit(\"payload\",s)}parseError(e,n=this.url){return wae(e,n,\"HTTP\")}resetMaxListeners(){this.events.getMaxListeners()>eW&&this.events.setMaxListeners(eW)}};const tW=\"error\",qje=\"wss://relay.walletconnect.org\",Hje=\"wc\",Vje=\"universal_provider\",Q3=`${Hje}@2:${Vje}:`,qae=\"https://rpc.walletconnect.org/v1/\",M1=\"generic\",Kje=`${qae}bundler`,ka={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function Wje(){}function Dk(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function Bk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Gje(t){if(Dk(t))return t;if(Array.isArray(t)||Bk(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<\"u\"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const r=Object.create(e);return Object.assign(r,t)}return t}function nW(t){return typeof t==\"object\"&&t!==null}function Hae(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function Vae(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const Zje=\"[object RegExp]\",Kae=\"[object String]\",Wae=\"[object Number]\",Gae=\"[object Boolean]\",Zae=\"[object Arguments]\",Yje=\"[object Symbol]\",Jje=\"[object Date]\",Xje=\"[object Map]\",Qje=\"[object Set]\",eze=\"[object Array]\",tze=\"[object ArrayBuffer]\",nze=\"[object Object]\",rze=\"[object DataView]\",ize=\"[object Uint8Array]\",sze=\"[object Uint8ClampedArray]\",oze=\"[object Uint16Array]\",aze=\"[object Uint32Array]\",cze=\"[object Int8Array]\",lze=\"[object Int16Array]\",uze=\"[object Int32Array]\",dze=\"[object Float32Array]\",fze=\"[object Float64Array]\";function hze(t,e){return nm(t,void 0,t,new Map,e)}function nm(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(Dk(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=nm(t[a],a,n,r,i);return Object.hasOwn(t,\"index\")&&(o.index=t.index),Object.hasOwn(t,\"input\")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,nm(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(nm(a,void 0,n,r,i));return o}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(Bk(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=nm(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),a0(o,t,n,r,i),o}if(typeof File<\"u\"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),a0(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),a0(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,a0(o,t,n,r,i),o}if(typeof t==\"object\"&&pze(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),a0(o,t,n,r,i),o}return t}function a0(t,e,n=t,r,i){const s=[...Object.keys(e),...Hae(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=nm(e[a],a,n,r,i))}}function pze(t){switch(Vae(t)){case Zae:case eze:case tze:case rze:case Gae:case Jje:case dze:case fze:case cze:case lze:case uze:case Xje:case Wae:case nze:case Zje:case Qje:case Kae:case Yje:case ize:case sze:case oze:case aze:return!0;default:return!1}}function gze(t,e){return hze(t,(n,r,i,s)=>{if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case Wae:case Kae:case Gae:{const o=new t.constructor(t==null?void 0:t.valueOf());return a0(o,t),o}case Zae:{const o={};return a0(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function rW(t){return gze(t)}function iW(t){return t!==null&&typeof t==\"object\"&&Vae(t)===\"[object Arguments]\"}function mze(t){return Bk(t)}function yze(t){var n;if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function bze(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=qP(i,o,r,new Map)}return i}function qP(t,e,n,r){if(Dk(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(r.has(e))return Gje(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...Hae(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(iW(a)&&(a={...a}),iW(c)&&(c={...c}),typeof Buffer<\"u\"&&Buffer.isBuffer(a)&&(a=rW(a)),Array.isArray(a))if(typeof c==\"object\"&&c!=null){const d=[],h=Reflect.ownKeys(c);for(let p=0;p<h.length;p++){const m=h[p];d[m]=c[m]}c=d}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||nW(c)&&nW(a)?t[o]=qP(c,a,n,r):c==null&&yze(a)?t[o]=qP({},a,n,r):c==null&&mze(a)?t[o]=rW(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function wze(t,...e){return bze(t,...e,Wje)}var vze=Object.defineProperty,Eze=Object.defineProperties,_ze=Object.getOwnPropertyDescriptors,sW=Object.getOwnPropertySymbols,Cze=Object.prototype.hasOwnProperty,Sze=Object.prototype.propertyIsEnumerable,oW=(t,e,n)=>e in t?vze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,eE=(t,e)=>{for(var n in e||(e={}))Cze.call(e,n)&&oW(t,n,e[n]);if(sW)for(var n of sW(e))Sze.call(e,n)&&oW(t,n,e[n]);return t},xze=(t,e)=>Eze(t,_ze(e));function qo(t,e,n){var r;const i=bm(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${qae}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Fp(t){return t.includes(\":\")?t.split(\":\")[1]:t}function Yae(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function Aze(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function tE(t={},e={}){const n=aW(t),r=aW(e);return wze(n,r)}function aW(t){var e,n,r,i,s;const o={};if(!qf(t))return o;for(const[a,c]of Object.entries(t)){const l=l9(a)?[a]:c.chains,d=c.methods||[],h=c.events||[],p=c.rpcMap||{},m=tm(a);o[m]=xze(eE(eE({},o[m]),c),{chains:bl(l,(e=o[m])==null?void 0:e.chains),methods:bl(d,(n=o[m])==null?void 0:n.methods),events:bl(h,(r=o[m])==null?void 0:r.events)}),(qf(p)||qf(((i=o[m])==null?void 0:i.rpcMap)||{}))&&(o[m].rpcMap=eE(eE({},p),(s=o[m])==null?void 0:s.rpcMap))}return o}function cW(t){return t.includes(\":\")?t.split(\":\")[2]:t}function lW(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=l9(n)?[n]:r.chains?r.chains:Yae(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function _A(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}const Jae={},cn=t=>Jae[t],CA=(t,e)=>{Jae[t]=e};var $ze=Object.defineProperty,Ize=(t,e,n)=>e in t?$ze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e1=(t,e,n)=>Ize(t,typeof e!=\"symbol\"?e+\"\":e,n);let Tze=class{constructor(e){e1(this,\"name\",\"polkadot\"),e1(this,\"client\"),e1(this,\"httpProviders\"),e1(this,\"events\"),e1(this,\"namespace\"),e1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Fp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var Pze=Object.defineProperty,Oze=Object.defineProperties,Nze=Object.getOwnPropertyDescriptors,uW=Object.getOwnPropertySymbols,Rze=Object.prototype.hasOwnProperty,kze=Object.prototype.propertyIsEnumerable,HP=(t,e,n)=>e in t?Pze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dW=(t,e)=>{for(var n in e||(e={}))Rze.call(e,n)&&HP(t,n,e[n]);if(uW)for(var n of uW(e))kze.call(e,n)&&HP(t,n,e[n]);return t},fW=(t,e)=>Oze(t,Nze(e)),t1=(t,e,n)=>HP(t,typeof e!=\"symbol\"?e+\"\":e,n);let Mze=class{constructor(e){t1(this,\"name\",\"eip155\"),t1(this,\"client\"),t1(this,\"chainId\"),t1(this,\"namespace\"),t1(this,\"httpProviders\"),t1(this,\"events\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,n){const r=n||qo(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Fp(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:\"0x0\";i=i.startsWith(\"0x\")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(\",\")}`;if(!a)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const d=this.client.session.get(e.topic),h=((o=d==null?void 0:d.sessionProperties)==null?void 0:o.capabilities)||{};if(h!=null&&h[l])return h==null?void 0:h[l];const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:fW(dW({},d.sessionProperties||{}),{capabilities:fW(dW({},h||{}),{[l]:p})})})}catch(m){console.warn(\"Failed to update session with capabilities\",m)}return p}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn(\"Failed to fetch call status from bundler\",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn(\"Failed to fetch call status from custom bundler\",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(ms(\"eth_getUserOperationReceipt\",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${Kje}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}};var Dze=Object.defineProperty,Bze=(t,e,n)=>e in t?Dze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,n1=(t,e,n)=>Bze(t,typeof e!=\"symbol\"?e+\"\":e,n);let Lze=class{constructor(e){n1(this,\"name\",\"solana\"),n1(this,\"client\"),n1(this,\"httpProviders\"),n1(this,\"events\"),n1(this,\"namespace\"),n1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Fp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var Uze=Object.defineProperty,jze=(t,e,n)=>e in t?Uze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,r1=(t,e,n)=>jze(t,typeof e!=\"symbol\"?e+\"\":e,n);let zze=class{constructor(e){r1(this,\"name\",\"cosmos\"),r1(this,\"client\"),r1(this,\"httpProviders\"),r1(this,\"events\"),r1(this,\"namespace\"),r1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Fp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var Fze=Object.defineProperty,qze=(t,e,n)=>e in t?Fze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,i1=(t,e,n)=>qze(t,typeof e!=\"symbol\"?e+\"\":e,n);let Hze=class{constructor(e){i1(this,\"name\",\"algorand\"),i1(this,\"client\"),i1(this,\"httpProviders\"),i1(this,\"events\"),i1(this,\"namespace\"),i1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||qo(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);return typeof r>\"u\"?void 0:new nr(new fr(r,cn(\"disableProviderPing\")))}};var Vze=Object.defineProperty,Kze=(t,e,n)=>e in t?Vze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,s1=(t,e,n)=>Kze(t,typeof e!=\"symbol\"?e+\"\":e,n);let Wze=class{constructor(e){s1(this,\"name\",\"cip34\"),s1(this,\"client\"),s1(this,\"httpProviders\"),s1(this,\"events\"),s1(this,\"namespace\"),s1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Fp(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var Gze=Object.defineProperty,Zze=(t,e,n)=>e in t?Gze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o1=(t,e,n)=>Zze(t,typeof e!=\"symbol\"?e+\"\":e,n);let Yze=class{constructor(e){o1(this,\"name\",\"elrond\"),o1(this,\"client\"),o1(this,\"httpProviders\"),o1(this,\"events\"),o1(this,\"namespace\"),o1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Fp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var Jze=Object.defineProperty,Xze=(t,e,n)=>e in t?Jze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,a1=(t,e,n)=>Xze(t,typeof e!=\"symbol\"?e+\"\":e,n);let Qze=class{constructor(e){a1(this,\"name\",\"multiversx\"),a1(this,\"client\"),a1(this,\"httpProviders\"),a1(this,\"events\"),a1(this,\"namespace\"),a1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Fp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var eFe=Object.defineProperty,tFe=(t,e,n)=>e in t?eFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c1=(t,e,n)=>tFe(t,typeof e!=\"symbol\"?e+\"\":e,n);let nFe=class{constructor(e){c1(this,\"name\",\"near\"),c1(this,\"client\"),c1(this,\"httpProviders\"),c1(this,\"events\"),c1(this,\"namespace\"),c1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||qo(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace);return typeof r>\"u\"?void 0:new nr(new fr(r,cn(\"disableProviderPing\")))}};var rFe=Object.defineProperty,iFe=(t,e,n)=>e in t?rFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,l1=(t,e,n)=>iFe(t,typeof e!=\"symbol\"?e+\"\":e,n);let sFe=class{constructor(e){l1(this,\"name\",\"tezos\"),l1(this,\"client\"),l1(this,\"httpProviders\"),l1(this,\"events\"),l1(this,\"namespace\"),l1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||qo(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace);return typeof r>\"u\"?void 0:new nr(new fr(r))}};var oFe=Object.defineProperty,aFe=(t,e,n)=>e in t?oFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,u1=(t,e,n)=>aFe(t,typeof e!=\"symbol\"?e+\"\":e,n);let cFe=class{constructor(e){u1(this,\"name\",M1),u1(this,\"client\"),u1(this,\"httpProviders\"),u1(this,\"events\"),u1(this,\"namespace\"),u1(this,\"chainId\"),this.namespace=e.namespace,this.events=cn(\"events\"),this.client=cn(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(ka.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=bm(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||qo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,cn(\"disableProviderPing\")))}};var lFe=Object.defineProperty,uFe=Object.defineProperties,dFe=Object.getOwnPropertyDescriptors,hW=Object.getOwnPropertySymbols,fFe=Object.prototype.hasOwnProperty,hFe=Object.prototype.propertyIsEnumerable,VP=(t,e,n)=>e in t?lFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nE=(t,e)=>{for(var n in e||(e={}))fFe.call(e,n)&&VP(t,n,e[n]);if(hW)for(var n of hW(e))hFe.call(e,n)&&VP(t,n,e[n]);return t},SA=(t,e)=>uFe(t,dFe(e)),pa=(t,e,n)=>VP(t,typeof e!=\"symbol\"?e+\"\":e,n);let pFe=class Xae{constructor(e){pa(this,\"client\"),pa(this,\"namespaces\"),pa(this,\"optionalNamespaces\"),pa(this,\"sessionProperties\"),pa(this,\"scopedProperties\"),pa(this,\"events\",new vy),pa(this,\"rpcProviders\",{}),pa(this,\"session\"),pa(this,\"providerOpts\"),pa(this,\"logger\"),pa(this,\"uri\"),pa(this,\"disableProviderPing\",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<\"u\"&&typeof(e==null?void 0:e.logger)!=\"string\"?e.logger:ph(pd({level:(e==null?void 0:e.logger)||tW})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Xae(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(i).request({request:nE({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,gh(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Cn(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit(\"display_uri\",r));const s=await i();if(this.session=s.session,this.session){const o=lW(this.session.namespaces);this.namespaces=tE(this.namespaces,o),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit(\"display_uri\",n));const i=await r();this.session=i;const s=lW(i.namespaces);return this.namespaces=tE(this.namespaces,s),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===M1?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info(\"Cleaning up inactive pairings...\");const n=this.client.pairing.getAll();if(uc(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await Rje.init({core:this.providerOpts.core,logger:this.providerOpts.logger||tW,relayUrl:this.providerOpts.relayUrl||qje,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(\"Failed to get session\",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>tm(n)))];CA(\"client\",this.client),CA(\"events\",this.events),CA(\"disableProviderPing\",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Aze(n,this.session),i=Yae(r),s=tE(this.namespaces,this.optionalNamespaces),o=SA(nE({},s[n]),{accounts:r,chains:i});switch(n){case\"eip155\":this.rpcProviders[n]=new Mze({namespace:o});break;case\"algorand\":this.rpcProviders[n]=new Hze({namespace:o});break;case\"solana\":this.rpcProviders[n]=new Lze({namespace:o});break;case\"cosmos\":this.rpcProviders[n]=new zze({namespace:o});break;case\"polkadot\":this.rpcProviders[n]=new Tze({namespace:o});break;case\"cip34\":this.rpcProviders[n]=new Wze({namespace:o});break;case\"elrond\":this.rpcProviders[n]=new Yze({namespace:o});break;case\"multiversx\":this.rpcProviders[n]=new Qze({namespace:o});break;case\"near\":this.rpcProviders[n]=new nFe({namespace:o});break;case\"tezos\":this.rpcProviders[n]=new sFe({namespace:o});break;default:this.rpcProviders[M1]?this.rpcProviders[M1].updateNamespace(o):this.rpcProviders[M1]=new cFe({namespace:o})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name===\"accountsChanged\"){const o=s.data;o&&uc(o)&&this.events.emit(\"accountsChanged\",o.map(cW))}else if(s.name===\"chainChanged\"){const o=r.chainId,a=r.event.data,c=tm(o),l=_A(o)!==_A(a)?`${c}:${_A(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=SA(nE({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:n})}),this.client.on(\"session_delete\",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",SA(nE({},Cn(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(ka.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[M1]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=tE(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(\":\"))||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>tm(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=tm(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit(\"chainChanged\",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist(\"namespaces\",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(cW);if(!uc(a))return;this.events.emit(\"accountsChanged\",a)}catch(o){this.logger.warn(\"Failed to emit accountsChanged on chain change\",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||\"\";await this.client.core.storage.setItem(`${Q3}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||\"\";return await this.client.core.storage.getItem(`${Q3}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||\"\";await this.client.core.storage.removeItem(`${Q3}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Q3)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(\"Failed to cleanup storage\",n)}}};const gFe=pFe,mFe=\"wc\",yFe=\"ethereum_provider\",bFe=`${mFe}@2:${yFe}:`,wFe=\"https://rpc.walletconnect.org/v1/\",p4=[\"eth_sendTransaction\",\"personal_sign\"],Qae=[\"eth_accounts\",\"eth_requestAccounts\",\"eth_sendRawTransaction\",\"eth_sign\",\"eth_signTransaction\",\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sendTransaction\",\"personal_sign\",\"wallet_switchEthereumChain\",\"wallet_addEthereumChain\",\"wallet_getPermissions\",\"wallet_requestPermissions\",\"wallet_registerOnboarding\",\"wallet_watchAsset\",\"wallet_scanQRCode\",\"wallet_sendCalls\",\"wallet_getCapabilities\",\"wallet_getCallsStatus\",\"wallet_showCallsStatus\"],g4=[\"chainChanged\",\"accountsChanged\"],ece=[\"chainChanged\",\"accountsChanged\",\"message\",\"disconnect\",\"connect\"],vFe=async()=>{const{createAppKit:t}=await De(()=>Promise.resolve().then(()=>cet),void 0,import.meta.url);return t};var EFe=Object.defineProperty,_Fe=Object.defineProperties,CFe=Object.getOwnPropertyDescriptors,pW=Object.getOwnPropertySymbols,SFe=Object.prototype.hasOwnProperty,xFe=Object.prototype.propertyIsEnumerable,KP=(t,e,n)=>e in t?EFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,e0=(t,e)=>{for(var n in e||(e={}))SFe.call(e,n)&&KP(t,n,e[n]);if(pW)for(var n of pW(e))xFe.call(e,n)&&KP(t,n,e[n]);return t},nw=(t,e)=>_Fe(t,CFe(e)),bo=(t,e,n)=>KP(t,typeof e!=\"symbol\"?e+\"\":e,n);function m4(t){return Number(t[0].split(\":\")[1])}function rE(t){return`0x${t.toString(16)}`}function AFe(t){const{chains:e,optionalChains:n,methods:r,optionalMethods:i,events:s,optionalEvents:o,rpcMap:a}=t;if(!uc(e))throw new Error(\"Invalid chains\");const c={chains:e,methods:r||p4,events:s||g4,rpcMap:e0({},e.length?{[m4(e)]:a[m4(e)]}:{})},l=s==null?void 0:s.filter(m=>!g4.includes(m)),d=r==null?void 0:r.filter(m=>!p4.includes(m));if(!n&&!o&&!i&&!(l!=null&&l.length)&&!(d!=null&&d.length))return{required:e.length?c:void 0};const h=(l==null?void 0:l.length)&&(d==null?void 0:d.length)||!n,p={chains:[...new Set(h?c.chains.concat(n||[]):n)],methods:[...new Set(c.methods.concat(i!=null&&i.length?i:Qae))],events:[...new Set(c.events.concat(o!=null&&o.length?o:ece))],rpcMap:a};return{required:e.length?c:void 0,optional:n.length?p:void 0}}let tce=class nce{constructor(){bo(this,\"events\",new Dr.EventEmitter),bo(this,\"namespace\",\"eip155\"),bo(this,\"accounts\",[]),bo(this,\"signer\"),bo(this,\"chainId\",1),bo(this,\"modal\"),bo(this,\"rpc\"),bo(this,\"STORAGE_KEY\",bFe),bo(this,\"on\",(e,n)=>(this.events.on(e,n),this)),bo(this,\"once\",(e,n)=>(this.events.once(e,n),this)),bo(this,\"removeListener\",(e,n)=>(this.events.removeListener(e,n),this)),bo(this,\"off\",(e,n)=>(this.events.off(e,n),this)),bo(this,\"parseAccount\",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const n=new nce;return await n.initialize(e),n}async request(e,n){return await this.signer.request(e,this.formatChainId(this.chainId),n)}sendAsync(e,n,r){this.signer.sendAsync(e,n,this.formatChainId(this.chainId),r)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:\"eth_requestAccounts\"})}async connect(e){var n;if(!this.signer.client)throw new Error(\"Provider not initialized. Call init() first\");this.loadConnectOpts(e);const{required:r,optional:i}=AFe(this.rpc);try{const s=await new Promise(async(a,c)=>{var l,d;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(d=this.modal)==null||d.subscribeState(p=>{!p.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),c(new Error(\"Connection request reset. Please try again.\")))}));const h=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(nw(e0({namespaces:e0({},r&&{[this.namespace]:r})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:h})).then(p=>{a(p)}).catch(p=>{var m;(m=this.modal)==null||m.showErrorMessage(\"Unable to connect\"),c(new Error(p.message))})});if(!s)return;const o=aV(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit(\"connect\",{chainId:rE(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(n=this.modal)==null||n.close()}}async authenticate(e,n){var r;if(!this.signer.client)throw new Error(\"Provider not initialized. Call init() first\");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(o,a)=>{var c,l;this.rpc.showQrModal&&((c=this.modal)==null||c.open(),(l=this.modal)==null||l.subscribeState(d=>{!d.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),a(new Error(\"Connection request reset. Please try again.\")))})),await this.signer.authenticate(nw(e0({},e),{chains:this.rpc.chains}),n).then(d=>{o(d)}).catch(d=>{var h;(h=this.modal)==null||h.showErrorMessage(\"Unable to connect\"),a(new Error(d.message))})}),s=i.session;if(s){const o=aV(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:o),this.setAccounts(o),this.events.emit(\"connect\",{chainId:rE(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(r=this.modal)==null||r.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on(\"session_event\",e=>{const{params:n}=e,{event:r}=n;r.name===\"accountsChanged\"?(this.accounts=this.parseAccounts(r.data),this.events.emit(\"accountsChanged\",this.accounts)):r.name===\"chainChanged\"?this.setChainId(this.formatChainId(r.data)):this.events.emit(r.name,r.data),this.events.emit(\"session_event\",e)}),this.signer.on(\"accountsChanged\",e=>{this.accounts=this.parseAccounts(e),this.events.emit(\"accountsChanged\",this.accounts)}),this.signer.on(\"chainChanged\",e=>{const n=parseInt(e);this.chainId=n,this.events.emit(\"chainChanged\",rE(this.chainId)),this.persist()}),this.signer.on(\"session_update\",e=>{this.events.emit(\"session_update\",e)}),this.signer.on(\"session_delete\",e=>{this.reset(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",nw(e0({},Cn(\"USER_DISCONNECTED\")),{data:e.topic,name:\"USER_DISCONNECTED\"}))}),this.signer.on(\"display_uri\",e=>{this.events.emit(\"display_uri\",e)})}switchEthereumChain(e){this.request({method:\"wallet_switchEthereumChain\",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e==\"string\"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(\":\")[1])}setChainIds(e){const n=e.filter(r=>this.isCompatibleChainId(r)).map(r=>this.parseChainId(r));n.length&&(this.chainId=n[0],this.events.emit(\"chainChanged\",rE(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const n=this.parseChainId(e);this.chainId=n,this.switchEthereumChain(n)}}parseAccountId(e){const[n,r,i]=e.split(\":\");return{chainId:`${n}:${r}`,address:i}}setAccounts(e){this.accounts=e.filter(n=>this.parseChainId(this.parseAccountId(n).chainId)===this.chainId).map(n=>this.parseAccountId(n).address),this.events.emit(\"accountsChanged\",this.accounts)}getRpcConfig(e){var n,r;const i=(n=e==null?void 0:e.chains)!=null?n:[],s=(r=e==null?void 0:e.optionalChains)!=null?r:[],o=i.concat(s);if(!o.length)throw new Error(\"No chains specified in either `chains` or `optionalChains`\");const a=i.length?(e==null?void 0:e.methods)||p4:[],c=i.length?(e==null?void 0:e.events)||g4:[],l=(e==null?void 0:e.optionalMethods)||[],d=(e==null?void 0:e.optionalEvents)||[],h=(e==null?void 0:e.rpcMap)||this.buildRpcMap(o,e.projectId),p=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(m=>this.formatChainId(m)),optionalChains:s.map(m=>this.formatChainId(m)),methods:a,events:c,optionalMethods:l,optionalEvents:d,rpcMap:h,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:p,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,n){const r={};return e.forEach(i=>{r[i]=this.getRpcUrl(i,n)}),r}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?m4(this.rpc.chains):m4(this.rpc.optionalChains),this.signer=await gFe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let n;try{const r=await vFe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return BFe}),s=i(nw(e0({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error(\"No networks found for WalletConnect\");n=r(nw(e0({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(r){throw console.warn(r),new Error(\"To use QR modal, please install @reown/appkit package\")}if(n)try{this.modal=n}catch(r){throw this.signer.logger.error(r),new Error(\"Could not generate WalletConnectModal Instance\")}}}loadConnectOpts(e){if(!e)return;const{chains:n,optionalChains:r,rpcMap:i}=e;n&&uc(n)&&(this.rpc.chains=n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),r&&uc(r)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=r==null?void 0:r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,n){var r;return((r=this.rpc.rpcMap)==null?void 0:r[e])||`${wFe}?chainId=eip155:${e}&projectId=${n||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),n=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:n==null?void 0:n.accounts),this.setAccounts(n==null?void 0:n.accounts)}catch(e){this.signer.logger.error(\"Failed to load persisted session, clearing state...\"),this.signer.logger.error(e),await this.disconnect().catch(n=>this.signer.logger.warn(n))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e==\"string\"||e instanceof String?[this.parseAccount(e)]:e.map(n=>this.parseAccount(n))}};const $Fe=tce;var IFe=Object.defineProperty,TFe=Object.defineProperties,PFe=Object.getOwnPropertyDescriptors,gW=Object.getOwnPropertySymbols,OFe=Object.prototype.hasOwnProperty,NFe=Object.prototype.propertyIsEnumerable,mW=(t,e,n)=>e in t?IFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rce=(t,e)=>{for(var n in e||(e={}))OFe.call(e,n)&&mW(t,n,e[n]);if(gW)for(var n of gW(e))NFe.call(e,n)&&mW(t,n,e[n]);return t},RFe=(t,e)=>TFe(t,PFe(e));function kFe(t){if(t)return{\"--w3m-font-family\":t[\"--wcm-font-family\"],\"--w3m-accent\":t[\"--wcm-accent-color\"],\"--w3m-color-mix\":t[\"--wcm-background-color\"],\"--w3m-z-index\":t[\"--wcm-z-index\"]?Number(t[\"--wcm-z-index\"]):void 0,\"--w3m-qr-color\":t[\"--wcm-accent-color\"],\"--w3m-font-size-master\":t[\"--wcm-text-medium-regular-size\"],\"--w3m-border-radius-master\":t[\"--wcm-container-border-radius\"],\"--w3m-color-mix-strength\":0}}const MFe=t=>{const[e,n]=t.split(\":\");return ice({id:n,caipNetworkId:t,chainNamespace:e,name:\"\",nativeCurrency:{name:\"\",symbol:\"\",decimals:8},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}}})};function DFe(t){var e,n,r,i,s,o,a;const c=(e=t.chains)==null?void 0:e.map(MFe).filter(Boolean);if(c.length===0)throw new Error(\"At least one chain must be specified\");const l=c.find(h=>{var p;return h.id===((p=t.defaultChain)==null?void 0:p.id)}),d={projectId:t.projectId,networks:c,themeMode:t.themeMode,themeVariables:kFe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:l,metadata:RFe(rce({},t.metadata),{name:((n=t.metadata)==null?void 0:n.name)||\"WalletConnect\",description:((r=t.metadata)==null?void 0:r.description)||\"Connect to WalletConnect-compatible wallets\",url:((i=t.metadata)==null?void 0:i.url)||\"https://walletconnect.org\",icons:((s=t.metadata)==null?void 0:s.icons)||[\"https://walletconnect.org/walletconnect-logo.png\"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds===\"NONE\"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds===\"ALL\"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((o=t.mobileWallets)!=null&&o.length||(a=t.desktopWallets)!=null&&a.length){const h=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],p=[...d.featuredWalletIds||[],...d.excludeWalletIds||[]],m=h.filter(b=>!p.includes(b.id));m.length&&(d.customWallets=m)}return d}function ice(t){return rce({formatters:void 0,fees:void 0,serializers:void 0},t)}var BFe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:DFe,defineChain:ice});const LFe=Object.freeze(Object.defineProperty({__proto__:null,EthereumProvider:$Fe,OPTIONAL_EVENTS:ece,OPTIONAL_METHODS:Qae,REQUIRED_EVENTS:g4,REQUIRED_METHODS:p4,default:tce},Symbol.toStringTag,{value:\"Module\"}));var yW={};const ft={WC_NAME_SUFFIX:\".reown.id\",WC_NAME_SUFFIX_LEGACY:\".wcn.id\",BLOCKCHAIN_API_RPC_URL:\"https://rpc.walletconnect.org\",PULSE_API_URL:\"https://pulse.walletconnect.org\",W3M_API_URL:\"https://api.web3modal.org\",CONNECTOR_ID:{WALLET_CONNECT:\"walletConnect\",INJECTED:\"injected\",WALLET_STANDARD:\"announced\",COINBASE:\"coinbaseWallet\",COINBASE_SDK:\"coinbaseWalletSDK\",SAFE:\"safe\",LEDGER:\"ledger\",OKX:\"okx\",EIP6963:\"eip6963\",AUTH:\"ID_AUTH\"},CONNECTOR_NAMES:{AUTH:\"Auth\"},AUTH_CONNECTOR_SUPPORTED_CHAINS:[\"eip155\",\"solana\"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:\"eip155\",SOLANA:\"solana\",POLKADOT:\"polkadot\",BITCOIN:\"bip122\"},CHAIN_NAME_MAP:{eip155:\"EVM Networks\",solana:\"Solana\",polkadot:\"Polkadot\",bip122:\"Bitcoin\",cosmos:\"Cosmos\"},ADAPTER_TYPES:{BITCOIN:\"bitcoin\",SOLANA:\"solana\",WAGMI:\"wagmi\",ETHERS:\"ethers\",ETHERS5:\"ethers5\"},USDT_CONTRACT_ADDRESSES:[\"0xdac17f958d2ee523a2206206994597c13d831ec7\",\"0xc2132d05d31c914a87c6611c10748aeb04b58e8f\",\"0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7\",\"0x919C1c267BC06a7039e03fcc2eF738525769109c\",\"0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e\",\"0x55d398326f99059fF775485246999027B3197955\",\"0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9\"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:\"Unknown Network\",SECURE_SITE_SDK_ORIGIN:(typeof process<\"u\"&&typeof yW<\"u\"?yW.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||\"https://secure.walletconnect.org\"},sce={caipNetworkIdToNumber(t){return t?Number(t.split(\":\")[1]):void 0},parseEvmChainId(t){return typeof t==\"string\"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){var i;if(!e)return;const n=t.find(s=>s.caipNetworkId===e);if(n)return n.name;const[r]=e.split(\":\");return((i=ft.CHAIN_NAME_MAP)==null?void 0:i[r])||void 0}};var UFe=20,jFe=1,lp=1e6,bW=1e6,zFe=-7,FFe=21,qFe=!1,b5=\"[big.js] \",qp=b5+\"Invalid \",f9=qp+\"decimal places\",HFe=qp+\"rounding mode\",oce=b5+\"Division by zero\",xn={},wl=void 0,VFe=/^-?(\\d+(\\.\\d*)?|\\.\\d+)(e[+-]?\\d+)?$/i;function ace(){function t(e){var n=this;if(!(n instanceof t))return e===wl?ace():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!=\"string\"){if(t.strict===!0&&typeof e!=\"bigint\")throw TypeError(qp+\"value\");e=e===0&&1/e<0?\"-0\":String(e)}KFe(n,e)}n.constructor=t}return t.prototype=xn,t.DP=UFe,t.RM=jFe,t.NE=zFe,t.PE=FFe,t.strict=qFe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function KFe(t,e){var n,r,i;if(!VFe.test(e))throw Error(qp+\"number\");for(t.s=e.charAt(0)==\"-\"?(e=e.slice(1),-1):1,(n=e.indexOf(\".\"))>-1&&(e=e.replace(\".\",\"\")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)==\"0\";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)==\"0\";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function Hp(t,e,n,r){var i=t.c;if(n===wl&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(HFe);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==wl))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==wl||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Vp(t,e,n){var r=t.e,i=t.c.join(\"\"),s=i.length;if(e)i=i.charAt(0)+(s>1?\".\"+i.slice(1):\"\")+(r<0?\"e\":\"e+\")+r;else if(r<0){for(;++r;)i=\"0\"+i;i=\"0.\"+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+=\"0\";else r<s&&(i=i.slice(0,r)+\".\"+i.slice(r));else s>1&&(i=i.charAt(0)+\".\"+i.slice(1));return t.s<0&&n?\"-\"+i:i}xn.abs=function(){var t=new this.constructor(this);return t.s=1,t};xn.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};xn.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>lp)throw Error(f9);if(!i[0])throw Error(oce);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,d,h,p=i.slice(),m=a=i.length,b=r.length,y=r.slice(0,a),E=y.length,v=t,_=v.c=[],C=0,S=o+(v.e=e.e-t.e)+1;for(v.s=s,s=S<0?0:S,p.unshift(0);E++<a;)y.push(0);do{for(l=0;l<10;l++){if(a!=(E=y.length))d=a>E?1:-1;else for(h=-1,d=0;++h<a;)if(i[h]!=y[h]){d=i[h]>y[h]?1:-1;break}if(d<0){for(c=E==a?i:p;E;){if(y[--E]<c[E]){for(h=E;h&&!y[--h];)y[h]=9;--y[h],y[E]+=10}y[E]-=c[E]}for(;!y[0];)y.shift()}else break}_[C++]=d?l:++l,y[0]&&d?y[E]=r[m]||0:y=[r[m]]}while((m++<b||y[0]!==wl)&&s--);return!_[0]&&C!=1&&(_.shift(),v.e--,S--),C>S&&Hp(v,S,n.RM,y[0]!==wl),v};xn.eq=function(t){return this.cmp(t)===0};xn.gt=function(t){return this.cmp(t)>0};xn.gte=function(t){return this.cmp(t)>-1};xn.lt=function(t){return this.cmp(t)<0};xn.lte=function(t){return this.cmp(t)<1};xn.minus=xn.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),d=s.e,h=t.c,p=t.e;if(!l[0]||!h[0])return h[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=d-p){for((i=a<0)?(a=-a,r=l):(p=d,r=h),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<h.length)?l:h).length,a=c=0;c<n;c++)if(l[c]!=h[c]){i=l[c]<h[c];break}if(i&&(r=l,l=h,h=r,t.s=-t.s),(c=(n=h.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<h[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=h[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--p;return l[0]||(t.s=1,l=[p=0]),t.c=l,t.e=p,t};xn.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(oce);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};xn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};xn.plus=xn.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};xn.pow=function(t){var e=this,n=new e.constructor(\"1\"),r=n,i=t<0;if(t!==~~t||t<-bW||t>bW)throw Error(qp+\"exponent\");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};xn.prec=function(t,e){if(t!==~~t||t<1||t>lp)throw Error(qp+\"precision\");return Hp(new this.constructor(this),t,e)};xn.round=function(t,e){if(t===wl)t=0;else if(t!==~~t||t<-lp||t>lp)throw Error(f9);return Hp(new this.constructor(this),t+this.e+1,e)};xn.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i(\"0.5\");if(!r.c[0])return new i(r);if(s<0)throw Error(b5+\"No square root\");s=Math.sqrt(+Vp(r,!0,!0)),s===0||s===1/0?(e=r.c.join(\"\"),e.length+o&1||(e+=\"0\"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?\"5e\":(s=s.toExponential()).slice(0,s.indexOf(\"e\")+1))+o)):t=new i(s+\"\"),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join(\"\")!==t.c.slice(0,o).join(\"\"));return Hp(t,(i.DP-=4)+t.e+1,i.RM)};xn.times=xn.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};xn.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==wl){if(t!==~~t||t<0||t>lp)throw Error(f9);for(n=Hp(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Vp(n,!0,!!r)};xn.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==wl){if(t!==~~t||t<0||t>lp)throw Error(f9);for(n=Hp(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Vp(n,!1,!!r)};xn[Symbol.for(\"nodejs.util.inspect.custom\")]=xn.toJSON=xn.toString=function(){var t=this,e=t.constructor;return Vp(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};xn.toNumber=function(){var t=+Vp(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(b5+\"Imprecise conversion\");return t};xn.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==wl){if(t!==~~t||t<1||t>lp)throw Error(qp+\"precision\");for(n=Hp(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Vp(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};xn.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(b5+\"valueOf disallowed\");return Vp(t,t.e<=e.NE||t.e>=e.PE,!0)};var rw=ace();const WFe={bigNumber(t){return t?new rw(t):new rw(0)},multiply(t,e){if(t===void 0||e===void 0)return new rw(0);const n=new rw(t),r=new rw(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?\"0.00\":typeof t==\"number\"?t.toLocaleString(\"en-US\",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString(\"en-US\",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,\"\"))}},GFe=[{type:\"function\",name:\"transfer\",stateMutability:\"nonpayable\",inputs:[{name:\"_to\",type:\"address\"},{name:\"_value\",type:\"uint256\"}],outputs:[{name:\"\",type:\"bool\"}]},{type:\"function\",name:\"transferFrom\",stateMutability:\"nonpayable\",inputs:[{name:\"_from\",type:\"address\"},{name:\"_to\",type:\"address\"},{name:\"_value\",type:\"uint256\"}],outputs:[{name:\"\",type:\"bool\"}]}],ZFe=[{type:\"function\",name:\"approve\",stateMutability:\"nonpayable\",inputs:[{name:\"spender\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{type:\"bool\"}]}],YFe=[{type:\"function\",name:\"transfer\",stateMutability:\"nonpayable\",inputs:[{name:\"recipient\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[]},{type:\"function\",name:\"transferFrom\",stateMutability:\"nonpayable\",inputs:[{name:\"sender\",type:\"address\"},{name:\"recipient\",type:\"address\"},{name:\"amount\",type:\"uint256\"}],outputs:[{name:\"\",type:\"bool\"}]}],JFe={getERC20Abi:t=>ft.USDT_CONTRACT_ADDRESSES.includes(t)?YFe:GFe,getSwapAbi:()=>ZFe},nf={validateCaipAddress(t){var e;if(((e=t.split(\":\"))==null?void 0:e.length)!==3)throw new Error(\"Invalid CAIP Address\");return t},parseCaipAddress(t){const e=t.split(\":\");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(\":\");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Tt={WALLET_ID:\"@appkit/wallet_id\",WALLET_NAME:\"@appkit/wallet_name\",SOLANA_WALLET:\"@appkit/solana_wallet\",SOLANA_CAIP_CHAIN:\"@appkit/solana_caip_chain\",ACTIVE_CAIP_NETWORK_ID:\"@appkit/active_caip_network_id\",CONNECTED_SOCIAL:\"@appkit/connected_social\",CONNECTED_SOCIAL_USERNAME:\"@appkit-wallet/SOCIAL_USERNAME\",RECENT_WALLETS:\"@appkit/recent_wallets\",DEEPLINK_CHOICE:\"WALLETCONNECT_DEEPLINK_CHOICE\",ACTIVE_NAMESPACE:\"@appkit/active_namespace\",CONNECTED_NAMESPACES:\"@appkit/connected_namespaces\",CONNECTION_STATUS:\"@appkit/connection_status\",SIWX_AUTH_TOKEN:\"@appkit/siwx-auth-token\",SIWX_NONCE_TOKEN:\"@appkit/siwx-nonce-token\",TELEGRAM_SOCIAL_PROVIDER:\"@appkit/social_provider\",NATIVE_BALANCE_CACHE:\"@appkit/native_balance_cache\",PORTFOLIO_CACHE:\"@appkit/portfolio_cache\",ENS_CACHE:\"@appkit/ens_cache\",IDENTITY_CACHE:\"@appkit/identity_cache\",PREFERRED_ACCOUNT_TYPES:\"@appkit/preferred_account_types\",CONNECTIONS:\"@appkit/connections\"};function xA(t){if(!t)throw new Error(\"Namespace is required for CONNECTED_CONNECTOR_ID\");return`@appkit/${t}:connected_connector_id`}const Ct={setItem(t,e){_w()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(_w())return localStorage.getItem(t)||void 0},removeItem(t){_w()&&localStorage.removeItem(t)},clear(){_w()&&localStorage.clear()}};function _w(){return typeof window<\"u\"&&typeof localStorage<\"u\"}function Nf(t,e){return e===\"light\"?{\"--w3m-accent\":(t==null?void 0:t[\"--w3m-accent\"])||\"hsla(231, 100%, 70%, 1)\",\"--w3m-background\":\"#fff\"}:{\"--w3m-accent\":(t==null?void 0:t[\"--w3m-accent\"])||\"hsla(230, 100%, 67%, 1)\",\"--w3m-background\":\"#121313\"}}const XFe=Symbol(),wW=Object.getPrototypeOf,WP=new WeakMap,QFe=t=>t&&(WP.has(t)?WP.get(t):wW(t)===Object.prototype||wW(t)===Array.prototype),eqe=t=>QFe(t)&&t[XFe]||null,vW=(t,e=!0)=>{WP.set(t,e)},y4={},AA=t=>typeof t==\"object\"&&t!==null,Ef=new WeakMap,Cw=new WeakSet,tqe=(t=Object.is,e=(l,d)=>new Proxy(l,d),n=l=>AA(l)&&!Cw.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case\"fulfilled\":return l.value;case\"rejected\":throw l.reason;default:throw l}},i=new WeakMap,s=(l,d,h=r)=>{const p=i.get(l);if((p==null?void 0:p[0])===d)return p[1];const m=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return vW(m,!0),i.set(l,[d,m]),Reflect.ownKeys(l).forEach(b=>{if(Object.getOwnPropertyDescriptor(m,b))return;const y=Reflect.get(l,b),{enumerable:E}=Reflect.getOwnPropertyDescriptor(l,b),v={value:y,enumerable:E,configurable:!0};if(Cw.has(y))vW(y,!1);else if(y instanceof Promise)delete v.value,v.get=()=>h(y);else if(Ef.has(y)){const[_,C]=Ef.get(y);v.value=s(_,C(),h)}Object.defineProperty(m,b,v)}),Object.preventExtensions(m)},o=new WeakMap,a=[1,1],c=l=>{if(!AA(l))throw new Error(\"object required\");const d=o.get(l);if(d)return d;let h=a[0];const p=new Set,m=(N,U=++a[0])=>{h!==U&&(h=U,p.forEach(F=>F(N,U)))};let b=a[1];const y=(N=++a[1])=>(b!==N&&!p.size&&(b=N,v.forEach(([U])=>{const F=U[1](N);F>h&&(h=F)})),h),E=N=>(U,F)=>{const H=[...U];H[1]=[N,...H[1]],m(H,F)},v=new Map,_=(N,U)=>{if((y4?\"production\":void 0)!==\"production\"&&v.has(N))throw new Error(\"prop listener already exists\");if(p.size){const F=U[3](E(N));v.set(N,[U,F])}else v.set(N,[U])},C=N=>{var U;const F=v.get(N);F&&(v.delete(N),(U=F[1])==null||U.call(F))},S=N=>(p.add(N),p.size===1&&v.forEach(([F,H],V)=>{if((y4?\"production\":void 0)!==\"production\"&&H)throw new Error(\"remove already exists\");const M=F[3](E(V));v.set(V,[F,M])}),()=>{p.delete(N),p.size===0&&v.forEach(([F,H],V)=>{H&&(H(),v.set(V,[F]))})}),A=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),O=e(A,{deleteProperty(N,U){const F=Reflect.get(N,U);C(U);const H=Reflect.deleteProperty(N,U);return H&&m([\"delete\",[U],F]),H},set(N,U,F,H){const V=Reflect.has(N,U),M=Reflect.get(N,U,H);if(V&&(t(M,F)||o.has(F)&&t(M,o.get(F))))return!0;C(U),AA(F)&&(F=eqe(F)||F);let $=F;if(F instanceof Promise)F.then(P=>{F.status=\"fulfilled\",F.value=P,m([\"resolve\",[U],P])}).catch(P=>{F.status=\"rejected\",F.reason=P,m([\"reject\",[U],P])});else{!Ef.has(F)&&n(F)&&($=c(F));const P=!Cw.has($)&&Ef.get($);P&&_(U,P)}return Reflect.set(N,U,$,H),m([\"set\",[U],F,M]),!0}});o.set(l,O);const D=[A,y,s,S];return Ef.set(O,D),Reflect.ownKeys(l).forEach(N=>{const U=Object.getOwnPropertyDescriptor(l,N);\"value\"in U&&(O[N]=l[N],delete U.value,delete U.writable),Object.defineProperty(A,N,U)}),O})=>[c,Ef,Cw,t,e,n,r,i,s,o,a],[nqe]=tqe();function Vn(t={}){return nqe(t)}function ji(t,e,n){const r=Ef.get(t);(y4?\"production\":void 0)!==\"production\"&&!r&&console.warn(\"Please use proxy object\");let i;const s=[],o=r[3];let a=!1;const l=o(d=>{s.push(d),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function i2(t,e){const n=Ef.get(t);(y4?\"production\":void 0)!==\"production\"&&!n&&console.warn(\"Please use proxy object\");const[r,i,s]=n;return s(r,i(),e)}function up(t){return Cw.add(t),t}function Hi(t,e,n,r){let i=t[e];return ji(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function rqe(t){const e=Vn({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return\"Map\"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const cce=[{label:\"Coinbase\",name:\"coinbase\",feeRange:\"1-2%\",url:\"\",supportedChains:[\"eip155\"]},{label:\"Meld.io\",name:\"meld\",feeRange:\"1-2%\",url:\"https://meldcrypto.com\",supportedChains:[\"eip155\",\"solana\"]}],iqe=\"WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU\",Sn={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,ONE_SEC_MS:1e3,BALANCE_SUPPORTED_CHAINS:[\"eip155\",\"solana\"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[\"eip155\"],NATIVE_TOKEN_ADDRESS:{eip155:\"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee\",solana:\"So11111111111111111111111111111111111111111\",polkadot:\"0x\",bip122:\"0x\",cosmos:\"0x\"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:\"Open and continue in the wallet app\"},SEND_SUPPORTED_NAMESPACES:[\"eip155\",\"solana\"],DEFAULT_REMOTE_FEATURES:{swaps:[\"1inch\"],onramp:[\"coinbase\",\"meld\"],email:!0,socials:[\"google\",\"x\",\"discord\",\"farcaster\",\"github\",\"apple\",\"facebook\"],activity:!0,reownBranding:!0},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:[\"walletConnect\",\"recent\",\"injected\",\"featured\",\"custom\",\"external\",\"recommended\"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:[\"onramp\",\"swaps\",\"receive\",\"send\"],connectMethodsOrder:void 0,pay:!1},DEFAULT_ACCOUNT_TYPES:{bip122:\"payment\",eip155:\"smartAccount\",polkadot:\"eoa\",solana:\"eoa\"},ADAPTER_TYPES:{UNIVERSAL:\"universal\"}},nt={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=nt.getActiveNamespace(),e=nt.getActiveCaipNetworkId(),n=e?e.split(\":\")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{Ct.setItem(Tt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info(\"Unable to set WalletConnect deep link\")}},getWalletConnectDeepLink(){try{const t=Ct.getItem(Tt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info(\"Unable to get WalletConnect deep link\")}},deleteWalletConnectDeepLink(){try{Ct.removeItem(Tt.DEEPLINK_CHOICE)}catch{console.info(\"Unable to delete WalletConnect deep link\")}},setActiveNamespace(t){try{Ct.setItem(Tt.ACTIVE_NAMESPACE,t)}catch{console.info(\"Unable to set active namespace\")}},setActiveCaipNetworkId(t){try{Ct.setItem(Tt.ACTIVE_CAIP_NETWORK_ID,t),nt.setActiveNamespace(t.split(\":\")[0])}catch{console.info(\"Unable to set active caip network id\")}},getActiveCaipNetworkId(){try{return Ct.getItem(Tt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info(\"Unable to get active caip network id\");return}},deleteActiveCaipNetworkId(){try{Ct.removeItem(Tt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info(\"Unable to delete active caip network id\")}},deleteConnectedConnectorId(t){try{const e=xA(t);Ct.removeItem(e)}catch{console.info(\"Unable to delete connected connector id\")}},setAppKitRecent(t){try{const e=nt.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),Ct.setItem(Tt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info(\"Unable to set AppKit recent\")}},getRecentWallets(){try{const t=Ct.getItem(Tt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info(\"Unable to get AppKit recent\")}return[]},setConnectedConnectorId(t,e){try{const n=xA(t);Ct.setItem(n,e)}catch{console.info(\"Unable to set Connected Connector Id\")}},getActiveNamespace(){try{return Ct.getItem(Tt.ACTIVE_NAMESPACE)}catch{console.info(\"Unable to get active namespace\")}},getConnectedConnectorId(t){if(t)try{const e=xA(t);return Ct.getItem(e)}catch{console.info(\"Unable to get connected connector id in namespace \",t)}},setConnectedSocialProvider(t){try{Ct.setItem(Tt.CONNECTED_SOCIAL,t)}catch{console.info(\"Unable to set connected social provider\")}},getConnectedSocialProvider(){try{return Ct.getItem(Tt.CONNECTED_SOCIAL)}catch{console.info(\"Unable to get connected social provider\")}},deleteConnectedSocialProvider(){try{Ct.removeItem(Tt.CONNECTED_SOCIAL)}catch{console.info(\"Unable to delete connected social provider\")}},getConnectedSocialUsername(){try{return Ct.getItem(Tt.CONNECTED_SOCIAL_USERNAME)}catch{console.info(\"Unable to get connected social username\")}},getStoredActiveCaipNetworkId(){var n;const t=Ct.getItem(Tt.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(\":\"))==null?void 0:n[1]},setConnectionStatus(t){try{Ct.setItem(Tt.CONNECTION_STATUS,t)}catch{console.info(\"Unable to set connection status\")}},getConnectionStatus(){try{return Ct.getItem(Tt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=Ct.getItem(Tt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(\",\"):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));Ct.setItem(Tt.CONNECTED_NAMESPACES,e.join(\",\"))}catch{console.info(\"Unable to set namespaces in storage\")}},addConnectedNamespace(t){try{const e=nt.getConnectedNamespaces();e.includes(t)||(e.push(t),nt.setConnectedNamespaces(e))}catch{console.info(\"Unable to add connected namespace\")}},removeConnectedNamespace(t){try{const e=nt.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),nt.setConnectedNamespaces(e))}catch{console.info(\"Unable to remove connected namespace\")}},getTelegramSocialProvider(){try{return Ct.getItem(Tt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info(\"Unable to get telegram social provider\"),null}},setTelegramSocialProvider(t){try{Ct.setItem(Tt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info(\"Unable to set telegram social provider\")}},removeTelegramSocialProvider(){try{Ct.removeItem(Tt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info(\"Unable to remove telegram social provider\")}},getBalanceCache(){let t={};try{const e=Ct.getItem(Tt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info(\"Unable to get balance cache\")}return t},removeAddressFromBalanceCache(t){try{const e=nt.getBalanceCache();Ct.setItem(Tt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info(\"Unable to remove address from balance cache\",t)}},getBalanceCacheForCaipAddress(t){try{const n=nt.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;nt.removeAddressFromBalanceCache(t)}catch{console.info(\"Unable to get balance cache for address\",t)}},updateBalanceCache(t){try{const e=nt.getBalanceCache();e[t.caipAddress]=t,Ct.setItem(Tt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info(\"Unable to update balance cache\",t)}},getNativeBalanceCache(){let t={};try{const e=Ct.getItem(Tt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info(\"Unable to get balance cache\")}return t},removeAddressFromNativeBalanceCache(t){try{const e=nt.getBalanceCache();Ct.setItem(Tt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info(\"Unable to remove address from balance cache\",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=nt.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info(\"Discarding cache for address\",t),nt.removeAddressFromBalanceCache(t)}catch{console.info(\"Unable to get balance cache for address\",t)}},updateNativeBalanceCache(t){try{const e=nt.getNativeBalanceCache();e[t.caipAddress]=t,Ct.setItem(Tt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info(\"Unable to update balance cache\",t)}},getEnsCache(){let t={};try{const e=Ct.getItem(Tt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info(\"Unable to get ens name cache\")}return t},getEnsFromCacheForAddress(t){try{const n=nt.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;nt.removeEnsFromCache(t)}catch{console.info(\"Unable to get ens name from cache\",t)}},updateEnsCache(t){try{const e=nt.getEnsCache();e[t.address]=t,Ct.setItem(Tt.ENS_CACHE,JSON.stringify(e))}catch{console.info(\"Unable to update ens name cache\",t)}},removeEnsFromCache(t){try{const e=nt.getEnsCache();Ct.setItem(Tt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info(\"Unable to remove ens name from cache\",t)}},getIdentityCache(){let t={};try{const e=Ct.getItem(Tt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info(\"Unable to get identity cache\")}return t},getIdentityFromCacheForAddress(t){try{const n=nt.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;nt.removeIdentityFromCache(t)}catch{console.info(\"Unable to get identity from cache\",t)}},updateIdentityCache(t){try{const e=nt.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},Ct.setItem(Tt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info(\"Unable to update identity cache\",t)}},removeIdentityFromCache(t){try{const e=nt.getIdentityCache();Ct.setItem(Tt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info(\"Unable to remove identity from cache\",t)}},clearAddressCache(){try{Ct.removeItem(Tt.PORTFOLIO_CACHE),Ct.removeItem(Tt.NATIVE_BALANCE_CACHE),Ct.removeItem(Tt.ENS_CACHE),Ct.removeItem(Tt.IDENTITY_CACHE)}catch{console.info(\"Unable to clear address cache\")}},setPreferredAccountTypes(t){try{Ct.setItem(Tt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info(\"Unable to set preferred account types\",t)}},getPreferredAccountTypes(){try{const t=Ct.getItem(Tt.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info(\"Unable to get preferred account types\")}return{}},setConnections(t,e){try{const n={...nt.getConnections(),[e]:t};Ct.setItem(Tt.CONNECTIONS,JSON.stringify(n))}catch(n){console.error(\"Unable to sync connections to storage\",n)}},getConnections(){try{const t=Ct.getItem(Tt.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error(\"Unable to get connections from storage\",t),{}}}},Me={isMobile(){var t;return this.isClient()?!!(typeof(window==null?void 0:window.matchMedia)==\"function\"&&((t=window==null?void 0:window.matchMedia(\"(pointer:coarse)\"))!=null&&t.matches)||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=\"\"){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return Me.isMobile()&&t.includes(\"android\")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes(\"iphone\")||t.includes(\"ipad\")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes(\"safari\"):!1},isClient(){return typeof window<\"u\"},isPairingExpired(t){return t?t-Date.now()<=Sn.TEN_SEC_MS:!0},isAllowedRetry(t,e=Sn.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},isSafeApp(){var t,e;if(Me.isClient()&&window.self!==window.top)try{const n=(e=(t=window==null?void 0:window.location)==null?void 0:t.ancestorOrigins)==null?void 0:e[0],r=\"https://app.safe.global\";if(n){const i=new URL(n),s=new URL(r);return i.hostname===s.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+Sn.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(\":\")[1]},getPlainAddress(t){return t==null?void 0:t.split(\":\")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith(\"http://\")||t.startsWith(\"https://\")},formatNativeUrl(t,e,n=null){if(Me.isHttpUrl(t))return this.formatUniversalUrl(t,e);let r=t,i=n;r.includes(\"://\")||(r=t.replaceAll(\"/\",\"\").replaceAll(\":\",\"\"),r=`${r}://`),r.endsWith(\"/\")||(r=`${r}/`),i&&!(i!=null&&i.endsWith(\"/\"))&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${r}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:r}},formatUniversalUrl(t,e){if(!Me.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith(\"/\")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t===\"popupWindow\"?t:this.isTelegram()?nt.getTelegramSocialProvider()?\"_top\":\"_blank\":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||\"noreferrer noopener\")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||\"noreferrer noopener\")},isTelegram(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){var n,r,i;if(typeof window>\"u\")return!1;const t=(r=(n=window.matchMedia)==null?void 0:n.call(window,\"(display-mode: standalone)\"))==null?void 0:r.matches,e=(i=window==null?void 0:window.navigator)==null?void 0:i.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin=\"anonymous\",i.src=t});return Promise.race([e,Me.wait(2e3)])},formatBalance(t,e){let n=\"0.000\";if(typeof t==\"string\"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:\"\"}`},formatBalance2(t,e){var r;let n;if(t===\"0\")n=\"0\";else if(typeof t==\"string\"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\\d+(?:\\.\\d{0,3})?/u))==null?void 0:r[0])}return{value:n??\"0\",rest:n===\"0\"?\"000\":\"\",symbol:e}},getApiUrl(){return ft.W3M_API_URL},getBlockchainApiUrl(){return ft.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return ft.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t==\"string\"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)==\"string\"?t.issues[0].message:t instanceof Error?t.message:\"Unknown error\"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(\".\");return{dollars:n,pennies:r}},isAddress(t,e=\"eip155\"){switch(e){case\"eip155\":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case\"solana\":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?Sn.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(\",\");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!=\"string\")return!1;const e=t.split(\":\"),n=e[0];return e.filter(Boolean).length===3&&n in ft.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes(\"macintosh\")&&!t.includes(\"safari\")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n=\"state=\";if(new URL(t).host===\"auth.magic.link\"){const i=\"provider_authorization_url=\",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf(\"&\",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),d=c+n;return a+d+l}};async function iw(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class w5{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await iw(s,{method:\"GET\",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await iw(i,{method:\"GET\",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await iw(s,{method:\"POST\",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await iw(s,{method:\"PUT\",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await iw(s,{method:\"DELETE\",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append(\"clientId\",this.clientId),r}}const sqe={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?Sn.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Me.isTelegram()){if(Me.isIos())return t.filter(e=>e!==\"google\");if(Me.isMac())return t.filter(e=>e!==\"x\");if(Me.isAndroid())return t.filter(e=>![\"facebook\",\"x\"].includes(e))}return t}},mt=Vn({features:Sn.DEFAULT_FEATURES,projectId:\"\",sdkType:\"appkit\",sdkVersion:\"html-wagmi-undefined\",defaultAccountTypes:Sn.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Se={state:mt,subscribeKey(t,e){return Hi(mt,t,e)},setOptions(t){Object.assign(mt,t)},setRemoteFeatures(t){var n;if(!t)return;const e={...mt.remoteFeatures,...t};mt.remoteFeatures=e,(n=mt.remoteFeatures)!=null&&n.socials&&(mt.remoteFeatures.socials=sqe.filterSocialsByPlatform(mt.remoteFeatures.socials))},setFeatures(t){if(!t)return;mt.features||(mt.features=Sn.DEFAULT_FEATURES);const e={...mt.features,...t};mt.features=e},setProjectId(t){mt.projectId=t},setCustomRpcUrls(t){mt.customRpcUrls=t},setAllWallets(t){mt.allWallets=t},setIncludeWalletIds(t){mt.includeWalletIds=t},setExcludeWalletIds(t){mt.excludeWalletIds=t},setFeaturedWalletIds(t){mt.featuredWalletIds=t},setTokens(t){mt.tokens=t},setTermsConditionsUrl(t){mt.termsConditionsUrl=t},setPrivacyPolicyUrl(t){mt.privacyPolicyUrl=t},setCustomWallets(t){mt.customWallets=t},setIsSiweEnabled(t){mt.isSiweEnabled=t},setIsUniversalProvider(t){mt.isUniversalProvider=t},setSdkVersion(t){mt.sdkVersion=t},setMetadata(t){mt.metadata=t},setDisableAppend(t){mt.disableAppend=t},setEIP6963Enabled(t){mt.enableEIP6963=t},setDebug(t){mt.debug=t},setEnableWalletConnect(t){mt.enableWalletConnect=t},setEnableWalletGuide(t){mt.enableWalletGuide=t},setEnableAuthLogger(t){mt.enableAuthLogger=t},setEnableWallets(t){mt.enableWallets=t},setPreferUniversalLinks(t){mt.experimental_preferUniversalLinks=t},setHasMultipleAddresses(t){mt.hasMultipleAddresses=t},setSIWX(t){mt.siwx=t},setConnectMethodsOrder(t){mt.features={...mt.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){mt.features={...mt.features,walletFeaturesOrder:t}},setSocialsOrder(t){mt.remoteFeatures={...mt.remoteFeatures,socials:t}},setCollapseWallets(t){mt.features={...mt.features,collapseWallets:t}},setEnableEmbedded(t){mt.enableEmbedded=t},setAllowUnsupportedChain(t){mt.allowUnsupportedChain=t},setManualWCControl(t){mt.manualWCControl=t},setEnableNetworkSwitch(t){mt.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(mt.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){mt.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return mt.universalProviderConfigOverride},getSnapshot(){return i2(mt)}},oqe=Object.freeze({enabled:!0,events:[]}),aqe=new w5({baseUrl:Me.getAnalyticsUrl(),clientId:null}),cqe=5,lqe=60*1e3,rf=Vn({...oqe}),uqe={state:rf,subscribeKey(t,e){return Hi(rf,t,e)},async sendError(t,e){if(!rf.enabled)return;const n=Date.now();if(rf.events.filter(s=>{const o=new Date(s.properties.timestamp||\"\").getTime();return n-o<lqe}).length>=cqe)return;const i={type:\"error\",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};rf.events.push(i);try{if(typeof window>\"u\")return;const{projectId:s,sdkType:o,sdkVersion:a}=Se.state;await aqe.post({path:\"/e\",params:{projectId:s,st:o,sv:a||\"html-wagmi-4.2.2\"},body:{eventId:Me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:\"error\",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){rf.enabled=!0},disable(){rf.enabled=!1},clearEvents(){rf.events=[]}};class Km extends Error{constructor(e,n,r){super(e),this.name=\"AppKitError\",this.category=n,this.originalError=r,Object.setPrototypeOf(this,Km.prototype);let i=!1;if(r instanceof Error&&typeof r.stack==\"string\"&&r.stack){const s=r.stack,o=s.indexOf(`\n`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}\n${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,Km):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function EW(t,e){const n=t instanceof Km?t:new Km(t instanceof Error?t.message:String(t),e,t);throw uqe.sendError(n,n.category),n}function so(t,e=\"INTERNAL_SDK_ERROR\"){const n={};return Object.keys(t).forEach(r=>{const i=t[r];if(typeof i==\"function\"){let s=i;i.constructor.name===\"AsyncFunction\"?s=async(...o)=>{try{return await i(...o)}catch(a){return EW(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return EW(a,e)}},n[r]=s}else n[r]=i}),n}const nl={PHANTOM:{id:\"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393\",url:\"https://phantom.app\"},SOLFLARE:{id:\"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79\",url:\"https://solflare.com\"},COINBASE:{id:\"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa\",url:\"https://go.cb-w.com\"}},dqe={handleMobileDeeplinkRedirect(t,e){const n=window.location.href,r=encodeURIComponent(n);if(t===nl.PHANTOM.id&&!(\"phantom\"in window)){const i=n.startsWith(\"https\")?\"https\":\"http\",s=n.split(\"/\")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${nl.PHANTOM.url}/ul/browse/${r}?ref=${o}`}t===nl.SOLFLARE.id&&!(\"solflare\"in window)&&(window.location.href=`${nl.SOLFLARE.url}/ul/v1/browse/${r}?ref=${r}`),e===ft.CHAIN.SOLANA&&t===nl.COINBASE.id&&!(\"coinbaseSolana\"in window)&&(window.location.href=`${nl.COINBASE.url}/dapp?cb_url=${r}`)}},wo=Vn({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),fqe={state:wo,subscribeNetworkImages(t){return ji(wo.networkImages,()=>t(wo.networkImages))},subscribeKey(t,e){return Hi(wo,t,e)},subscribe(t){return ji(wo,()=>t(wo))},setWalletImage(t,e){wo.walletImages[t]=e},setNetworkImage(t,e){wo.networkImages[t]=e},setChainImage(t,e){wo.chainImages[t]=e},setConnectorImage(t,e){wo.connectorImages={...wo.connectorImages,[t]:e}},setTokenImage(t,e){wo.tokenImages[t]=e},setCurrencyImage(t,e){wo.currencyImages[t]=e}},Zs=so(fqe),hqe={eip155:\"ba0ba0cd-17c6-4806-ad93-f9d174f17900\",solana:\"a1b58899-f671-4276-6a5e-56ca5bd59700\",polkadot:\"\",bip122:\"0b4838db-0161-4ffe-022d-532bf03dba00\",cosmos:\"\"},$A=Vn({networkImagePromises:{}}),Hr={async fetchWalletImage(t){if(t)return await Ue._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||($A.networkImagePromises[t]||($A.networkImagePromises[t]=Ue._fetchNetworkImage(t)),await $A.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return Zs.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return Zs.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return Zs.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return Zs.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return Zs.state.connectorImages[t.imageId]},getChainImage(t){return Zs.state.networkImages[hqe[t]]}},sf=Vn({message:\"\",variant:\"info\",open:!1}),pqe={state:sf,subscribeKey(t,e){return Hi(sf,t,e)},open(t,e){const{debug:n}=Se.state,{shortMessage:r,longMessage:i}=t;n&&(sf.message=r,sf.variant=e,sf.open=!0),i&&console.error(typeof i==\"function\"?i():i)},close(){sf.open=!1,sf.message=\"\",sf.variant=\"info\"}},nc=so(pqe),gqe=Me.getAnalyticsUrl(),mqe=new w5({baseUrl:gqe,clientId:null}),yqe=[\"MODAL_CREATED\"],pu=Vn({timestamp:Date.now(),reportedErrors:{},data:{type:\"track\",event:\"MODAL_CREATED\"}}),jt={state:pu,subscribe(t){return ji(pu,()=>t(pu))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Se.state;return{projectId:t,st:e,sv:n||\"html-wagmi-4.2.2\"}},async _sendAnalyticsEvent(t){try{const e=at.state.address;if(yqe.includes(t.data.event)||typeof window>\"u\")return;await mqe.post({path:\"/e\",params:jt.getSdkProperties(),body:{eventId:Me.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),pu.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===ft.HTTP_STATUS_CODES.FORBIDDEN&&!pu.reportedErrors.FORBIDDEN&&(nc.open({shortMessage:\"Invalid App Configuration\",longMessage:`Origin ${_w()?window.origin:\"uknown\"} not found on Allowlist - update configuration on cloud.reown.com`},\"error\"),pu.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;pu.timestamp=Date.now(),pu.data=t,(e=Se.state.features)!=null&&e.analytics&&jt._sendAnalyticsEvent(pu)}},bqe=Me.getApiUrl(),Ds=new w5({baseUrl:bqe,clientId:null}),wqe=40,_W=4,vqe=20,Pt=Vn({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Ue={state:Pt,subscribeKey(t,e){return Hi(Pt,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=Se.state;return{projectId:t,st:e||\"appkit\",sv:n||\"html-wagmi-4.2.2\"}},_filterOutExtensions(t){return Se.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Ds.baseUrl}/getWalletImage/${t}`,n=await Ds.getBlob({path:e,params:Ue._getSdkProperties()});Zs.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Ds.baseUrl}/public/getAssetImage/${t}`,n=await Ds.getBlob({path:e,params:Ue._getSdkProperties()});Zs.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Ds.baseUrl}/public/getAssetImage/${t}`,n=await Ds.getBlob({path:e,params:Ue._getSdkProperties()});Zs.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Ds.baseUrl}/public/getCurrencyImage/${t}`,n=await Ds.getBlob({path:e,params:Ue._getSdkProperties()});Zs.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Ds.baseUrl}/public/getTokenImage/${t}`,n=await Ds.getBlob({path:e,params:Ue._getSdkProperties()});Zs.setTokenImage(t,URL.createObjectURL(n))},_filterWalletsByPlatform(t){return Me.isMobile()?t==null?void 0:t.filter(n=>n.mobile_link||n.id===nl.COINBASE.id?!0:ee.state.activeChain===\"solana\"&&(n.id===nl.SOLFLARE.id||n.id===nl.PHANTOM.id)):t},async fetchProjectConfig(){return(await Ds.get({path:\"/appkit/v1/config\",params:Ue._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await Ds.get({path:\"/projects/v1/origins\",params:Ue._getSdkProperties()});return t}catch{return[]}},async fetchNetworkImages(){const t=ee.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!Hr.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Ue._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Ne.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Ue._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Ue._fetchTokenImage(e)))},async fetchWallets(t){var s;const e=t.exclude??[];Ue._getSdkProperties().sv.startsWith(\"html-core-\")&&e.push(...Object.values(nl).map(o=>o.id));const r=await Ds.get({path:\"/getWallets\",params:{...Ue._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(s=t.include)==null?void 0:s.join(\",\"),exclude:e.join(\",\")}});return{data:Ue._filterWalletsByPlatform(r==null?void 0:r.data)||[],count:r==null?void 0:r.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Se.state;if(t!=null&&t.length){const e={...Ue._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??_W,include:t},{data:n}=await Ue.fetchWallets(e),r=[...n].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=r.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>Ue._fetchWalletImage(s))),Pt.featured=r,Pt.allFeatured=r}},async fetchRecommendedWallets(){try{Pt.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=Se.state,r=[...e??[],...n??[]].filter(Boolean),i=ee.getRequestedCaipNetworkIds().join(\",\"),s={page:1,entries:_W,include:t,exclude:r,chains:i},{data:o,count:a}=await Ue.fetchWallets(s),c=nt.getRecentWallets(),l=o.map(h=>h.image_id).filter(Boolean),d=c.map(h=>h.image_id).filter(Boolean);await Promise.allSettled([...l,...d].map(h=>Ue._fetchWalletImage(h))),Pt.recommended=o,Pt.allRecommended=o,Pt.count=a??0}catch{}finally{Pt.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=Se.state,i=ee.getRequestedCaipNetworkIds().join(\",\"),s=[...Pt.recommended.map(({id:d})=>d),...n??[],...r??[]].filter(Boolean),o={page:t,entries:wqe,include:e,exclude:s,chains:i},{data:a,count:c}=await Ue.fetchWallets(o),l=a.slice(0,vqe).map(d=>d.image_id).filter(Boolean);await Promise.allSettled(l.map(d=>Ue._fetchWalletImage(d))),Pt.wallets=Me.uniqueBy([...Pt.wallets,...Ue._filterOutExtensions(a)],\"id\").filter(d=>{var h;return(h=d.chains)==null?void 0:h.some(p=>i.includes(p))}),Pt.count=c>Pt.count?c:Pt.count,Pt.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:n}=await Ue.fetchWallets(e);n&&n.forEach(r=>{Pt.excludedWallets.push({rdns:r.rdns,name:r.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=Se.state,i=ee.getRequestedCaipNetworkIds().join(\",\");Pt.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Ue.fetchWallets(s);jt.sendEvent({type:\"track\",event:\"SEARCH_WALLET\",properties:{badge:e??\"\",search:t??\"\"}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Ue._fetchWalletImage(c)),Me.wait(300)]),Pt.search=Ue._filterOutExtensions(o)},initPromise(t,e){const n=Pt.promises[t];return n||(Pt.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&Ue.initPromise(\"connectorImages\",Ue.fetchConnectorImages),e&&Ue.initPromise(\"featuredWallets\",Ue.fetchFeaturedWallets),n&&Ue.initPromise(\"recommendedWallets\",Ue.fetchRecommendedWallets),r&&Ue.initPromise(\"networkImages\",Ue.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=Se.state.features)!=null&&t.analytics&&Ue.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Ds.get({path:\"/getAnalyticsConfig\",params:Ue._getSdkProperties()});Se.setFeatures({analytics:t})}catch{Se.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!(t!=null&&t.length)){Pt.featured=Pt.allFeatured,Pt.recommended=Pt.allRecommended;return}const e=ee.getRequestedCaipNetworkIds().join(\",\");Pt.featured=Pt.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Pt.recommended=Pt.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Pt.filteredWallets=Pt.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})},clearFilterByNamespaces(){Pt.filteredWallets=[]},setFilterByNamespace(t){if(!t){Pt.featured=Pt.allFeatured,Pt.recommended=Pt.allRecommended;return}const e=ee.getRequestedCaipNetworkIds().join(\",\");Pt.featured=Pt.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Pt.recommended=Pt.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Pt.filteredWallets=Pt.wallets.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},Pn=Vn({view:\"Connect\",history:[\"Connect\"],transactionStack:[]}),Eqe={state:Pn,subscribeKey(t,e){return Hi(Pn,t,e)},pushTransactionStack(t){Pn.transactionStack.push(t)},popTransactionStack(t){const e=Pn.transactionStack.pop();if(!e)return;const{onSuccess:n,onError:r,onCancel:i}=e;switch(t){case\"success\":n==null||n();break;case\"error\":r==null||r(),Le.goBack();break;case\"cancel\":i==null||i(),Le.goBack();break}},push(t,e){t!==Pn.view&&(Pn.view=t,Pn.history.push(t),Pn.data=e)},reset(t,e){Pn.view=t,Pn.history=[t],Pn.data=e},replace(t,e){Pn.history.at(-1)===t||(Pn.view=t,Pn.history[Pn.history.length-1]=t,Pn.data=e)},goBack(){var r;const t=ee.state.activeCaipAddress,e=Le.state.view===\"ConnectingFarcaster\",n=!t&&e;if(Pn.history.length>1){Pn.history.pop();const[i]=Pn.history.slice(-1);i&&(t&&i===\"Connect\"?Pn.view=\"Account\":Pn.view=i)}else bn.close();(r=Pn.data)!=null&&r.wallet&&(Pn.data.wallet=void 0),setTimeout(()=>{var i,s,o;if(n){at.setFarcasterUrl(void 0,ee.state.activeChain);const a=Ne.getAuthConnector();(i=a==null?void 0:a.provider)==null||i.reload();const c=i2(Se.state);(o=(s=a==null?void 0:a.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:c.metadata,sdkVersion:c.sdkVersion,projectId:c.projectId,sdkType:c.sdkType})}},100)},goBackToIndex(t){if(Pn.history.length>1){Pn.history=Pn.history.slice(0,t+1);const[e]=Pn.history.slice(-1);e&&(Pn.view=e)}},goBackOrCloseModal(){Le.state.history.length>1?Le.goBack():bn.close()}},Le=so(Eqe),gu=Vn({themeMode:\"dark\",themeVariables:{},w3mThemeVariables:void 0}),GP={state:gu,subscribe(t){return ji(gu,()=>t(gu))},setThemeMode(t){gu.themeMode=t;try{const e=Ne.getAuthConnector();if(e){const n=GP.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:Nf(n,t)})}}catch{console.info(\"Unable to sync theme to auth connector\")}},setThemeVariables(t){gu.themeVariables={...gu.themeVariables,...t};try{const e=Ne.getAuthConnector();if(e){const n=GP.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:Nf(gu.themeVariables,gu.themeMode)})}}catch{console.info(\"Unable to sync theme to auth connector\")}},getSnapshot(){return i2(gu)}},ki=so(GP),lce={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},sn=Vn({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...lce},filterByNamespaceMap:{eip155:!0,solana:!0,polkadot:!0,bip122:!0,cosmos:!0}}),_qe={state:sn,subscribe(t){return ji(sn,()=>{t(sn)})},subscribeKey(t,e){return Hi(sn,t,e)},initialize(t){t.forEach(e=>{const n=nt.getConnectedConnectorId(e);n&&Ne.setConnectorId(n,e)})},setActiveConnector(t){t&&(sn.activeConnector=up(t))},setConnectors(t){t.filter(i=>!sn.allConnectors.some(s=>s.id===i.id&&Ne.getConnectorName(s.name)===Ne.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!==\"MULTI_CHAIN\"&&sn.allConnectors.push(up(i))});const n=Ne.getEnabledNamespaces(),r=Ne.getEnabledConnectors(n);sn.connectors=Ne.mergeMultiChainConnectors(r)},filterByNamespaces(t){Object.keys(sn.filterByNamespaceMap).forEach(e=>{sn.filterByNamespaceMap[e]=!1}),t.forEach(e=>{sn.filterByNamespaceMap[e]=!0}),Ne.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){sn.filterByNamespaceMap[t]=e,Ne.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Ne.getEnabledNamespaces(),e=Ne.getEnabledConnectors(t),n=Ne.areAllNamespacesEnabled();sn.connectors=Ne.mergeMultiChainConnectors(e),n?Ue.clearFilterByNamespaces():Ue.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(sn.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return sn.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(sn.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Ne.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===ft.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?\"AUTH\":\"MULTI_CHAIN\",chain:\"eip155\",id:(i==null?void 0:i.id)||\"\"}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=Ne.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({\"Trust Wallet\":\"Trust\"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===ft.CONNECTOR_ID.AUTH){const i=t,s=i2(Se.state),o=ki.getSnapshot().themeMode,a=ki.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:Nf(a,o)}),Ne.setConnectors([t])}else Ne.setConnectors([t])},getAuthConnector(t){var r;const e=t||ee.state.activeChain,n=sn.connectors.find(i=>i.id===ft.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return sn.connectors.filter(t=>t.type===\"ANNOUNCED\").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return sn.allConnectors.find(e=>e.id===t)},getConnector(t,e){return sn.allConnectors.filter(r=>r.chain===ee.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!==\"ID_AUTH\")return;const e=t,n=i2(Se.state),r=ki.getSnapshot().themeMode,i=ki.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:Nf(i,r)})},getConnectorsByNamespace(t){const e=sn.allConnectors.filter(n=>n.chain===t);return Ne.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Ne.getConnector(t.id,t.rdns),n=ee.state.activeChain;dqe.handleMobileDeeplinkRedirect((e==null?void 0:e.explorerId)||t.id,n),e?Le.push(\"ConnectingExternal\",{connector:e}):Le.push(\"ConnectingWalletConnect\",{wallet:t})},getConnectors(t){return t?Ne.getConnectorsByNamespace(t):Ne.mergeMultiChainConnectors(sn.allConnectors)},setFilterByNamespace(t){sn.filterByNamespace=t,sn.connectors=Ne.getConnectors(t),Ue.setFilterByNamespace(t)},setConnectorId(t,e){t&&(sn.activeConnectorIds={...sn.activeConnectorIds,[e]:t},nt.setConnectedConnectorId(e,t))},removeConnectorId(t){sn.activeConnectorIds={...sn.activeConnectorIds,[t]:void 0},nt.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return sn.activeConnectorIds[t]},isConnected(t){return t?!!sn.activeConnectorIds[t]:Object.values(sn.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){sn.activeConnectorIds={...lce}}},Ne=so(_qe),Fw={ACCOUNT_TYPES:{SMART_ACCOUNT:\"smartAccount\"}},t0=Object.freeze({message:\"\",variant:\"success\",svg:void 0,open:!1,autoClose:!0}),Lr=Vn({...t0}),Cqe={state:Lr,subscribeKey(t,e){return Hi(Lr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:\"loading\",...e})},showSuccess(t){this._showMessage({message:t,variant:\"success\"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Me.parseError(t);this._showMessage({message:e,variant:\"error\"})},hide(){Lr.message=t0.message,Lr.variant=t0.variant,Lr.svg=t0.svg,Lr.open=t0.open,Lr.autoClose=t0.autoClose},_showMessage({message:t,svg:e,variant:n=\"success\",autoClose:r=t0.autoClose}){Lr.open?(Lr.open=!1,setTimeout(()=>{Lr.message=t,Lr.variant=n,Lr.svg=e,Lr.open=!0,Lr.autoClose=r},150)):(Lr.message=t,Lr.variant=n,Lr.svg=e,Lr.open=!0,Lr.autoClose=r)}},Er=Cqe,Fn=Vn({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Sqe={state:Fn,subscribe(t){return ji(Fn,()=>t(Fn))},setLastNetworkInView(t){Fn.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error(\"Transactions can't be fetched without an accountAddress\");Fn.loading=!0;try{const i=await vt.fetchTransactions({account:t,cursor:Fn.next,onramp:e,cache:e===\"coinbase\"?\"no-cache\":void 0,chainId:(n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=Sw.filterSpamTransactions(i.data),o=Sw.filterByConnectedChain(s),a=[...Fn.transactions,...o];Fn.loading=!1,e===\"coinbase\"?Fn.coinbaseTransactions=Sw.groupTransactionsByYearAndMonth(Fn.coinbaseTransactions,i.data):(Fn.transactions=a,Fn.transactionsByYear=Sw.groupTransactionsByYearAndMonth(Fn.transactionsByYear,o)),Fn.empty=a.length===0,Fn.next=i.next?i.next:void 0}catch{const s=ee.state.activeChain;jt.sendEvent({type:\"track\",event:\"ERROR_FETCH_TRANSACTIONS\",properties:{address:t,projectId:Se.state.projectId,cursor:Fn.next,isSmartAccount:((r=at.state.preferredAccountTypes)==null?void 0:r[s])===Fw.ACCOUNT_TYPES.SMART_ACCOUNT}}),Er.showError(\"Failed to fetch transactions\"),Fn.loading=!1,Fn.empty=!0,Fn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,d)=>new Date(d.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Fn.next=void 0},resetTransactions(){Fn.transactions=[],Fn.transactionsByYear={},Fn.lastNetworkInView=void 0,Fn.loading=!1,Fn.empty=!1,Fn.next=void 0}},Sw=so(Sqe,\"API_ERROR\"),Bn=Vn({connections:new Map,wcError:!1,buffering:!1,status:\"disconnected\"});let Kh;const xqe={state:Bn,subscribeKey(t,e){return Hi(Bn,t,e)},_getClient(){return Bn._client},setClient(t){Bn._client=up(t)},async connectWalletConnect(){var t,e,n,r;if(Me.isTelegram()||Me.isSafari()&&Me.isIos()){if(Kh){await Kh,Kh=void 0;return}if(!Me.isPairingExpired(Bn==null?void 0:Bn.wcPairingExpiry)){const i=Bn.wcUri;Bn.wcUri=i;return}Kh=(e=(t=He._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),He.state.status=\"connecting\",await Kh,Kh=void 0,Bn.wcPairingExpiry=void 0,He.state.status=\"connected\"}else await((r=(n=He._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=He._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&ee.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=He._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||ee.state.activeChain;e&&Ne.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;bn.setLoading(!0,ee.state.activeChain);const n=Ne.getAuthConnector();n&&(at.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),nt.setPreferredAccountTypes(at.state.preferredAccountTypes??{[e]:t}),await He.reconnectExternal(n),bn.setLoading(!1,ee.state.activeChain),jt.sendEvent({type:\"track\",event:\"SET_PREFERRED_ACCOUNT_TYPE\",properties:{accountType:t,network:((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||\"\"}}))},async signMessage(t){var e;return(e=He._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=He._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=He._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=He._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=He._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=He._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=He._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=He._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=He._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=He._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=He._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=He._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Bn.wcUri=void 0,Bn.wcPairingExpiry=void 0,Bn.wcLinking=void 0,Bn.recentWallet=void 0,Bn.status=\"disconnected\",Sw.resetTransactions(),nt.deleteWalletConnectDeepLink()},resetUri(){Bn.wcUri=void 0,Bn.wcPairingExpiry=void 0,Kh=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=He.state;t&&nt.setWalletConnectDeepLink(t),e&&nt.setAppKitRecent(e),jt.sendEvent({type:\"track\",event:\"CONNECT_SUCCESS\",properties:{method:t?\"mobile\":\"qrcode\",name:((r=(n=Le.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||\"Unknown\"}})},setWcBasic(t){Bn.wcBasic=t},setUri(t){Bn.wcUri=t,Bn.wcPairingExpiry=Me.getPairingExpiry()},setWcLinking(t){Bn.wcLinking=t},setWcError(t){Bn.wcError=t,Bn.buffering=!1},setRecentWallet(t){Bn.recentWallet=t},setBuffering(t){Bn.buffering=t},setStatus(t){Bn.status=t},async disconnect(t){var e;try{await((e=He._getClient())==null?void 0:e.disconnect(t))}catch(n){throw new Km(\"Failed to disconnect\",\"INTERNAL_SDK_ERROR\",n)}},setConnections(t,e){Bn.connections.set(e,t)},switchAccount({connection:t,address:e,namespace:n}){if(Ne.state.activeConnectorIds[n]===t.connectorId){const s=ee.state.activeCaipNetwork;if(s){const o=`${n}:${s.id}:${e}`;at.setCaipAddress(o,n)}else console.warn(`No current network found for namespace \"${n}\"`)}else{const s=Ne.getConnector(t.connectorId);s?He.connectExternal(s,n):console.warn(`No connector found for namespace \"${n}\"`)}}},He=so(xqe),d1=Vn({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),Hf={state:d1,subscribe(t){return ji(d1,()=>t(d1))},subscribeOpen(t){return Hi(d1,\"open\",t)},set(t){Object.assign(d1,{...d1,...t})}},IA={createBalance(t,e){const n={name:t.metadata.name||\"\",symbol:t.metadata.symbol||\"\",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||\"\"};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address===\"native\"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return jO(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(\":\");if(e.length<2||!e[1])return\"0x0\";const n=e[1],r=parseInt(n,10);return isNaN(r)?\"0x0\":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!=\"object\"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t==\"object\"&&t!==null&&typeof t.address==\"string\"&&typeof t.balance==\"string\"&&(t.type===\"ERC20\"||t.type===\"NATIVE\")&&typeof t.metadata==\"object\"&&t.metadata!==null&&typeof t.metadata.name==\"string\"&&typeof t.metadata.symbol==\"string\"&&typeof t.metadata.decimals==\"number\"&&typeof t.metadata.price==\"number\"&&typeof t.metadata.iconUrl==\"string\"}},CW={async getMyTokensWithBalance(t){const e=at.state.address,n=ee.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace===\"eip155\"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await vt.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=IA.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await He.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await He.walletGetAssets({account:t,chainFilter:[i]});return IA.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>IA.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!==\"0\")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:ee.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},_n=Vn({tokenBalances:[],loading:!1}),Aqe={state:_n,subscribe(t){return ji(_n,()=>t(_n))},subscribeKey(t,e){return Hi(_n,t,e)},setToken(t){t&&(_n.token=up(t))},setTokenAmount(t){_n.sendTokenAmount=t},setReceiverAddress(t){_n.receiverAddress=t},setReceiverProfileImageUrl(t){_n.receiverProfileImageUrl=t},setReceiverProfileName(t){_n.receiverProfileName=t},setNetworkBalanceInUsd(t){_n.networkBalanceInUSD=t},setLoading(t){_n.loading=t},async sendToken(){var t;try{switch(dn.setLoading(!0),(t=ee.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case\"eip155\":await dn.sendEvmToken();return;case\"solana\":await dn.sendSolanaToken();return;default:throw new Error(\"Unsupported chain\")}}finally{dn.setLoading(!1)}},async sendEvmToken(){var n,r,i,s;const t=ee.state.activeChain,e=(n=at.state.preferredAccountTypes)==null?void 0:n[t];if(!dn.state.sendTokenAmount||!dn.state.receiverAddress)throw new Error(\"An amount and receiver address are required\");if(!dn.state.token)throw new Error(\"A token is required\");(r=dn.state.token)!=null&&r.address?(jt.sendEvent({type:\"track\",event:\"SEND_INITIATED\",properties:{isSmartAccount:e===Fw.ACCOUNT_TYPES.SMART_ACCOUNT,token:dn.state.token.address,amount:dn.state.sendTokenAmount,network:((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||\"\"}}),await dn.sendERC20Token({receiverAddress:dn.state.receiverAddress,tokenAddress:dn.state.token.address,sendTokenAmount:dn.state.sendTokenAmount,decimals:dn.state.token.quantity.decimals})):(jt.sendEvent({type:\"track\",event:\"SEND_INITIATED\",properties:{isSmartAccount:e===Fw.ACCOUNT_TYPES.SMART_ACCOUNT,token:dn.state.token.symbol||\"\",amount:dn.state.sendTokenAmount,network:((s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)||\"\"}}),await dn.sendNativeToken({receiverAddress:dn.state.receiverAddress,sendTokenAmount:dn.state.sendTokenAmount,decimals:dn.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;_n.loading=!0;const e=(s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=ee.state.activeCaipAddress,i=r?Me.getPlainAddress(r):void 0;if(_n.lastRetry&&!Me.isAllowedRetry(_n.lastRetry,30*Sn.ONE_SEC_MS))return _n.loading=!1,[];try{if(i&&e&&n){const a=await CW.getMyTokensWithBalance();return _n.tokenBalances=a,_n.lastRetry=void 0,a}}catch(a){_n.lastRetry=Date.now(),t==null||t(a),Er.showError(\"Token Balance Unavailable\")}finally{_n.loading=!1}return[]},fetchNetworkBalance(){if(_n.tokenBalances.length===0)return;const t=CW.mapBalancesToSwapTokens(_n.tokenBalances);if(!t)return;const e=t.find(n=>n.address===ee.getActiveNetworkTokenAddress());e&&(_n.networkBalanceInUSD=e?WFe.multiply(e.quantity.numeric,e.price).toString():\"0\")},async sendNativeToken(t){var s,o,a,c;Le.pushTransactionStack({});const e=t.receiverAddress,n=at.state.address,r=He.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await He.sendTransaction({chainNamespace:\"eip155\",to:e,address:n,data:\"0x\",value:r??BigInt(0)}),jt.sendEvent({type:\"track\",event:\"SEND_SUCCESS\",properties:{isSmartAccount:((s=at.state.preferredAccountTypes)==null?void 0:s.eip155)===Fw.ACCOUNT_TYPES.SMART_ACCOUNT,token:((o=dn.state.token)==null?void 0:o.symbol)||\"\",amount:t.sendTokenAmount,network:((a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||\"\"}}),(c=He._getClient())==null||c.updateBalance(\"eip155\"),dn.resetSend()},async sendERC20Token(t){Le.pushTransactionStack({onSuccess(){Le.replace(\"Account\")}});const e=He.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(at.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const n=Me.getPlainAddress(t.tokenAddress);await He.writeContract({fromAddress:at.state.address,tokenAddress:n,args:[t.receiverAddress,e??BigInt(0)],method:\"transfer\",abi:JFe.getERC20Abi(n),chainNamespace:\"eip155\"}),dn.resetSend()}},async sendSolanaToken(){var t;if(!dn.state.sendTokenAmount||!dn.state.receiverAddress)throw new Error(\"An amount and receiver address are required\");Le.pushTransactionStack({onSuccess(){Le.replace(\"Account\")}}),await He.sendTransaction({chainNamespace:\"solana\",to:dn.state.receiverAddress,value:dn.state.sendTokenAmount}),(t=He._getClient())==null||t.updateBalance(\"solana\"),dn.resetSend()},resetSend(){_n.token=void 0,_n.sendTokenAmount=void 0,_n.receiverAddress=void 0,_n.receiverProfileImageUrl=void 0,_n.receiverProfileName=void 0,_n.loading=!1,_n.tokenBalances=[]}},dn=so(Aqe),TA={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},iE={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ge=Vn({chains:rqe(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),$qe={state:Ge,subscribe(t){return ji(Ge,()=>{t(Ge)})},subscribeKey(t,e){return Hi(Ge,t,e)},subscribeChainProp(t,e,n){let r;return ji(Ge.chains,()=>{var s;const i=n||Ge.activeChain;if(i){const o=(s=Ge.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=nt.getActiveNetworkProps(),s=e==null?void 0:e.find(d=>d.id.toString()===(r==null?void 0:r.toString())),a=t.find(d=>(d==null?void 0:d.namespace)===i)||(t==null?void 0:t[0]),c=t.map(d=>d.namespace).filter(d=>d!==void 0),l=Se.state.enableEmbedded?new Set([...c]):new Set([...(e==null?void 0:e.map(d=>d.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Ge.noAdapters=!0),Ge.noAdapters||(Ge.activeChain=a==null?void 0:a.namespace,Ge.activeCaipNetwork=s,ee.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Ge.activeChain&&Hf.set({activeChain:a==null?void 0:a.namespace})),l.forEach(d=>{const h=e==null?void 0:e.filter(p=>p.chainNamespace===d);ee.state.chains.set(d,{namespace:d,networkState:Vn({...iE,caipNetwork:h==null?void 0:h[0]}),accountState:Vn(TA),caipNetworks:h??[],...n}),ee.setRequestedCaipNetworks(h??[],d)})},removeAdapter(t){var e,n;if(Ge.activeChain===t){const r=Array.from(Ge.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&ee.setActiveCaipNetwork(i)}}Ge.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Ge.chains.set(t.namespace,{namespace:t.namespace,networkState:{...iE,caipNetwork:r[0]},accountState:TA,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),ee.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Ge.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),Ge.chains.set(t.chainNamespace,{...e,caipNetworks:r}),ee.setRequestedCaipNetworks(r,t.chainNamespace),Ne.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){var r,i,s;const n=Ge.chains.get(t);if(n){const o=((r=Ge.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&ee.setActiveCaipNetwork(n.caipNetworks[0]),Ge.chains.set(t,{...n,caipNetworks:a}),ee.setRequestedCaipNetworks(a||[],t),a.length===0&&Ne.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const n=Ge.chains.get(t);n&&(n.networkState={...n.networkState||iE,...e},Ge.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error(\"Chain is required to update chain account data\");const r=Ge.chains.get(t);if(r){const i={...r.accountState||TA,...e};Ge.chains.set(t,{...r,accountState:i}),(Ge.chains.size===1||Ge.activeChain===t)&&(e.caipAddress&&(Ge.activeCaipAddress=e.caipAddress),at.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ge.chains.get(t);if(n){const r={...n.networkState||iE,...e};Ge.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){ee.setChainAccountData(n,{[t]:e},r),t===\"status\"&&e===\"disconnected\"&&n&&Ne.removeConnectorId(n)},setActiveNamespace(t){var r,i;Ge.activeChain=t;const e=t?Ge.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Ge.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Ge.activeCaipNetwork=n,ee.setChainNetworkData(t,{caipNetwork:n}),nt.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),Hf.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;Ge.activeChain!==t.chainNamespace&&ee.setIsSwitchingNamespace(!0);const e=Ge.chains.get(t.chainNamespace);Ge.activeChain=t.chainNamespace,Ge.activeCaipNetwork=t,ee.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Ge.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Ge.activeCaipAddress=void 0,ee.setAccountProp(\"caipAddress\",Ge.activeCaipAddress,t.chainNamespace),e&&at.replaceState(e.accountState),dn.resetSend(),Hf.set({activeChain:Ge.activeChain,selectedNetworkId:(s=Ge.activeCaipNetwork)==null?void 0:s.caipNetworkId}),nt.setActiveCaipNetworkId(t.caipNetworkId),!ee.checkIfSupportedNetwork(t.chainNamespace)&&Se.state.enableNetworkSwitch&&!Se.state.allowUnsupportedChain&&!He.state.wcBasic&&ee.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Ge.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==ee.state.activeChain,n=(i=ee.getNetworkData(t))==null?void 0:i.caipNetwork,r=ee.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await ee.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=ee.state.chains.get(ee.state.activeChain),n=!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Ge.activeCaipNetwork)==null?void 0:o.id)})),r=ee.getNetworkControllerClient(t.chainNamespace);if(r){try{await r.switchCaipNetwork(t),n&&bn.close()}catch{Le.goBack()}jt.sendEvent({type:\"track\",event:\"SWITCH_NETWORK\",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ge.activeChain,n=Ge.chains.get(e);if(!n)throw new Error(\"Chain adapter not found\");if(!n.networkControllerClient)throw new Error(\"NetworkController client not set\");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ge.activeChain;if(!e)throw new Error(\"Chain is required to get connection controller client\");const n=Ge.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error(\"ConnectionController client not set\");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=Ge.activeChain;if(e&&(n=e),!n)return;const r=(i=Ge.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Ge.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ge.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return Me.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Ge.chains.forEach(e=>{const n=ee.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){ee.setAdapterNetworkState(e,{requestedCaipNetworks:t});const r=ee.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(r));Ne.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ge.chains.forEach(e=>{const n=ee.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Ge.activeCaipNetwork},getActiveCaipAddress(){return Ge.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Ge.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=ee.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());ee.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ge.activeCaipNetwork,r=ee.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Ge.activeChain)return!0;const e=ee.getRequestedCaipNetworks(Ge.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){ee.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=sce.caipNetworkIdToNumber((r=Ge.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Ge.activeChain;if(!e||!t)return!1;const n=ee.getNetworkProp(\"smartAccountEnabledNetworks\",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=Ge.activeCaipNetwork)==null?void 0:r.chainNamespace)||\"eip155\",e=((i=Ge.activeCaipNetwork)==null?void 0:i.id)||1,n=Sn.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){bn.open({view:\"UnsupportedChain\"})},checkIfNamesSupported(){const t=Ge.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&Sn.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){ee.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error(\"Chain is required to set account prop\");Ge.activeCaipAddress=void 0,ee.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:\"disconnected\"}),Ne.removeConnectorId(e)},setIsSwitchingNamespace(t){Ge.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Ge.chains.forEach(i=>{ft.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=Ge.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=ee.state.chains.get(t))==null?void 0:e.accountState:at.state},getNetworkData(t){var n;const e=t||Ge.activeChain;if(e)return(n=ee.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=ee.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Ne.state.filterByNamespace;return(t?[Ge.chains.get(t)]:Array.from(Ge.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?ee.getRequestedCaipNetworks(t):ee.getAllRequestedCaipNetworks()}},ee=so($qe),Iqe={purchaseCurrencies:[{id:\"2b92315d-eab7-5bef-84fa-089a131333f5\",name:\"USD Coin\",symbol:\"USDC\",networks:[{name:\"ethereum-mainnet\",display_name:\"Ethereum\",chain_id:\"1\",contract_address:\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"},{name:\"polygon-mainnet\",display_name:\"Polygon\",chain_id:\"137\",contract_address:\"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\"}]},{id:\"2b92315d-eab7-5bef-84fa-089a131333f5\",name:\"Ether\",symbol:\"ETH\",networks:[{name:\"ethereum-mainnet\",display_name:\"Ethereum\",chain_id:\"1\",contract_address:\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"},{name:\"polygon-mainnet\",display_name:\"Polygon\",chain_id:\"137\",contract_address:\"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\"}]}],paymentCurrencies:[{id:\"USD\",payment_method_limits:[{id:\"card\",min:\"10.00\",max:\"7500.00\"},{id:\"ach_bank_account\",min:\"10.00\",max:\"25000.00\"}]},{id:\"EUR\",payment_method_limits:[{id:\"card\",min:\"10.00\",max:\"7500.00\"},{id:\"ach_bank_account\",min:\"10.00\",max:\"25000.00\"}]}]},uce=Me.getBlockchainApiUrl(),Bs=Vn({clientId:null,api:new w5({baseUrl:uce,clientId:null}),supportedChains:{http:[],ws:[]}}),vt={state:Bs,async get(t){const{st:e,sv:n}=vt.getSdkProperties(),r=Se.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return Bs.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Se.state;return{st:t||\"unknown\",sv:e||\"unknown\"}},async isNetworkSupported(t){if(!t)return!1;try{Bs.supportedChains.http.length||await vt.getSupportedNetworks()}catch{return!1}return Bs.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await vt.get({path:\"v1/supported-chains\"});return Bs.supportedChains=t,t}catch{return Bs.supportedChains}},async fetchIdentity({address:t,caipNetworkId:e}){if(!await vt.isNetworkSupported(e))return{avatar:\"\",name:\"\"};const r=nt.getIdentityFromCacheForAddress(t);if(r)return r;const i=await vt.get({path:`/v1/identity/${t}`,params:{sender:ee.state.activeCaipAddress?Me.getPlainAddress(ee.state.activeCaipAddress):void 0}});return nt.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await vt.isNetworkSupported((a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?vt.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await vt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?vt.get({path:\"/v1/convert/quotes\",headers:{\"Content-Type\":\"application/json\"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?vt.get({path:\"/v1/convert/tokens\",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?Bs.api.post({path:\"/v1/fungible/price\",body:{currency:\"usd\",addresses:t,projectId:Se.state.projectId},headers:{\"Content-Type\":\"application/json\"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await vt.isNetworkSupported((r=ee.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?vt.get({path:\"/v1/convert/allowance\",params:{tokenAddress:t,userAddress:e},headers:{\"Content-Type\":\"application/json\"}}):{allowance:\"0\"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=vt.getSdkProperties();if(!await vt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error(\"Network not supported for Gas Price\");return vt.get({path:\"/v1/convert/gas-price\",headers:{\"Content-Type\":\"application/json\"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await vt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error(\"Network not supported for Swaps\");return Bs.api.post({path:\"/v1/convert/build-transaction\",headers:{\"Content-Type\":\"application/json\"},body:{amount:t,eip155:{slippage:Sn.CONVERT_SLIPPAGE_TOLERANCE},projectId:Se.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=vt.getSdkProperties();if(!await vt.isNetworkSupported((o=ee.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error(\"Network not supported for Swaps\");return vt.get({path:\"/v1/convert/build-approve\",headers:{\"Content-Type\":\"application/json\"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=vt.getSdkProperties();if(!await vt.isNetworkSupported((l=ee.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return Er.showError(\"Token Balance Unavailable\"),{balances:[]};const o=`${e}:${t}`,a=nt.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await vt.get({path:`/v1/account/${t}/balance`,params:{currency:\"usd\",chainId:e,forceUpdate:n,st:r,sv:i}});return nt.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?vt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:\"2\"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?vt.get({path:`/v1/profile/reverse/${t}`,params:{sender:at.state.address,apiVersion:\"2\"}}):[]},async getEnsNameSuggestions(t){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?vt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:\"reown.id\"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await vt.isNetworkSupported((s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?Bs.api.post({path:\"/v1/profile/account\",body:{coin_type:t,address:e,message:n,signature:r},headers:{\"Content-Type\":\"application/json\"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await vt.isNetworkSupported((a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await Bs.api.post({path:\"/v1/generators/onrampurl\",params:{projectId:Se.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:\"buy\",presetCryptoAmount:r,presetFiatAmount:i}})).url:\"\"},async getOnrampOptions(){var e;if(!await vt.isNetworkSupported((e=ee.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await vt.get({path:\"/v1/onramp/options\"})}catch{return Iqe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await vt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await Bs.api.post({path:\"/v1/onramp/quote\",params:{projectId:Se.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:\"mocked-quote-id\"}}},async getSmartSessions(t){var n;return await vt.isNetworkSupported((n=ee.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?vt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await vt.isNetworkSupported((i=ee.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?Bs.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Se.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){Bs.clientId=t,Bs.api=new w5({baseUrl:uce,clientId:t})}},ga=Vn({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),Tqe={state:ga,replaceState(t){t&&Object.assign(ga,up(t))},subscribe(t){return ee.subscribeChainProp(\"accountState\",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return ee.subscribeChainProp(\"accountState\",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){ee.setAccountProp(\"status\",t,e)},getCaipAddress(t){return ee.getAccountProp(\"caipAddress\",t)},setCaipAddress(t,e){const n=t?Me.getPlainAddress(t):void 0;e===ee.state.activeChain&&(ee.state.activeCaipAddress=t),ee.setAccountProp(\"caipAddress\",t,e),ee.setAccountProp(\"address\",n,e)},setBalance(t,e,n){ee.setAccountProp(\"balance\",t,n),ee.setAccountProp(\"balanceSymbol\",e,n)},setProfileName(t,e){ee.setAccountProp(\"profileName\",t,e)},setProfileImage(t,e){ee.setAccountProp(\"profileImage\",t,e)},setUser(t,e){ee.setAccountProp(\"user\",t,e)},setAddressExplorerUrl(t,e){ee.setAccountProp(\"addressExplorerUrl\",t,e)},setSmartAccountDeployed(t,e){ee.setAccountProp(\"smartAccountDeployed\",t,e)},setCurrentTab(t){ee.setAccountProp(\"currentTab\",t,ee.state.activeChain)},setTokenBalance(t,e){t&&ee.setAccountProp(\"tokenBalance\",t,e)},setShouldUpdateToAddress(t,e){ee.setAccountProp(\"shouldUpdateToAddress\",t,e)},setAllAccounts(t,e){ee.setAccountProp(\"allAccounts\",t,e)},addAddressLabel(t,e,n){const r=ee.getAccountProp(\"addressLabels\",n)||new Map;r.set(t,e),ee.setAccountProp(\"addressLabels\",r,n)},removeAddressLabel(t,e){const n=ee.getAccountProp(\"addressLabels\",e)||new Map;n.delete(t),ee.setAccountProp(\"addressLabels\",n,e)},setConnectedWalletInfo(t,e){ee.setAccountProp(\"connectedWalletInfo\",t,e,!1)},setPreferredAccountType(t,e){ee.setAccountProp(\"preferredAccountTypes\",{...ga.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){ga.preferredAccountTypes=t},setSocialProvider(t,e){t&&ee.setAccountProp(\"socialProvider\",t,e)},setSocialWindow(t,e){ee.setAccountProp(\"socialWindow\",t?up(t):void 0,e)},setFarcasterUrl(t,e){ee.setAccountProp(\"farcasterUrl\",t,e)},async fetchTokenBalance(t){var s,o;ga.balanceLoading=!0;const e=(s=ee.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=ee.state.activeCaipAddress,i=r?Me.getPlainAddress(r):void 0;if(ga.lastRetry&&!Me.isAllowedRetry(ga.lastRetry,30*Sn.ONE_SEC_MS))return ga.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await vt.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!==\"0\");return at.setTokenBalance(c,n),ga.lastRetry=void 0,ga.balanceLoading=!1,c}}catch(a){ga.lastRetry=Date.now(),t==null||t(a),Er.showError(\"Token Balance Unavailable\")}finally{ga.balanceLoading=!1}return[]},resetAccount(t){ee.resetAccount(t)}},at=so(Tqe),Pqe={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const n=ee.state.activeCaipNetwork,r=Le.state.data;if(t.id===(n==null?void 0:n.id))return;const s=at.getCaipAddress(ee.state.activeChain),o=t.chainNamespace!==ee.state.activeChain,a=at.getCaipAddress(t.chainNamespace),l=Ne.getConnectorId(ee.state.activeChain)===ft.CONNECTOR_ID.AUTH,d=ft.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(h=>h===t.chainNamespace);e||l&&d?Le.push(\"SwitchNetwork\",{...r,network:t}):s&&o&&!a?Le.push(\"SwitchActiveChain\",{switchToChain:t.chainNamespace,navigateTo:\"Connect\",navigateWithReplace:!0,network:t}):Le.push(\"SwitchNetwork\",{...r,network:t})}},Ls=Vn({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Oqe={state:Ls,subscribe(t){return ji(Ls,()=>t(Ls))},subscribeKey(t,e){return Hi(Ls,t,e)},async open(t){var o,a;const e=at.state.status===\"connected\",n=t==null?void 0:t.namespace,r=ee.state.activeChain,i=n&&n!==r,s=(o=ee.getAccountData(t==null?void 0:t.namespace))==null?void 0:o.caipAddress;if(He.state.wcBasic?Ue.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Ue.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),Ne.setFilterByNamespace(t==null?void 0:t.namespace),bn.setLoading(!0,n),n&&i){const c=((a=ee.getNetworkData(n))==null?void 0:a.caipNetwork)||ee.getRequestedCaipNetworks(n)[0];c&&Pqe.onSwitchNetwork({network:c,ignoreSwitchConfirmation:!0})}else{const c=ee.state.noAdapters;Se.state.manualWCControl||c&&!s?Me.isMobile()?Le.reset(\"AllWallets\"):Le.reset(\"ConnectingWalletConnectBasic\"):t!=null&&t.view?Le.reset(t.view,t.data):s?Le.reset(\"Account\"):Le.reset(\"Connect\")}Ls.open=!0,Hf.set({open:!0}),jt.sendEvent({type:\"track\",event:\"MODAL_OPEN\",properties:{connected:!!s}})},close(){const t=Se.state.enableEmbedded,e=!!ee.state.activeCaipAddress;Ls.open&&jt.sendEvent({type:\"track\",event:\"MODAL_CLOSE\",properties:{connected:e}}),Ls.open=!1,Le.reset(\"Connect\"),bn.clearLoading(),t?e?Le.replace(\"Account\"):Le.push(\"Connect\"):Hf.set({open:!1}),He.resetUri()},setLoading(t,e){e&&Ls.loadingNamespaceMap.set(e,t),Ls.loading=t,Hf.set({loading:t})},clearLoading(){Ls.loadingNamespaceMap.clear(),Ls.loading=!1},shake(){Ls.shake||(Ls.shake=!0,setTimeout(()=>{Ls.shake=!1},500))}},bn=so(Oqe),qw={id:\"2b92315d-eab7-5bef-84fa-089a131333f5\",name:\"USD Coin\",symbol:\"USDC\",networks:[{name:\"ethereum-mainnet\",display_name:\"Ethereum\",chain_id:\"1\",contract_address:\"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48\"},{name:\"polygon-mainnet\",display_name:\"Polygon\",chain_id:\"137\",contract_address:\"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174\"}]},ZP={id:\"USD\",payment_method_limits:[{id:\"card\",min:\"10.00\",max:\"7500.00\"},{id:\"ach_bank_account\",min:\"10.00\",max:\"25000.00\"}]},Nqe={providers:cce,selectedProvider:null,error:null,purchaseCurrency:qw,paymentCurrency:ZP,purchaseCurrencies:[qw],paymentCurrencies:[],quotesLoading:!1},Jt=Vn(Nqe),Rqe={state:Jt,subscribe(t){return ji(Jt,()=>t(Jt))},subscribeKey(t,e){return Hi(Jt,t,e)},setSelectedProvider(t){if(t&&t.name===\"meld\"){const e=ee.state.activeChain===ft.CHAIN.SOLANA?\"SOL\":\"USDC\",n=at.state.address??\"\",r=new URL(t.url);r.searchParams.append(\"publicKey\",iqe),r.searchParams.append(\"destinationCurrencyCode\",e),r.searchParams.append(\"walletAddress\",n),r.searchParams.append(\"externalCustomerId\",Se.state.projectId),Jt.selectedProvider={...t,url:r.toString()}}else Jt.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e==\"string\")){const e=t,n=cce.filter(r=>e.includes(r.name));Jt.providers=n}else Jt.providers=[]},setPurchaseCurrency(t){Jt.purchaseCurrency=t},setPaymentCurrency(t){Jt.paymentCurrency=t},setPurchaseAmount(t){YP.state.purchaseAmount=t},setPaymentAmount(t){YP.state.paymentAmount=t},async getAvailableCurrencies(){const t=await vt.getOnrampOptions();Jt.purchaseCurrencies=t.purchaseCurrencies,Jt.paymentCurrencies=t.paymentCurrencies,Jt.paymentCurrency=t.paymentCurrencies[0]||ZP,Jt.purchaseCurrency=t.purchaseCurrencies[0]||qw,await Ue.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await Ue.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){var t,e;Jt.quotesLoading=!0;try{const n=await vt.getOnrampQuote({purchaseCurrency:Jt.purchaseCurrency,paymentCurrency:Jt.paymentCurrency,amount:((t=Jt.paymentAmount)==null?void 0:t.toString())||\"0\",network:(e=Jt.purchaseCurrency)==null?void 0:e.symbol});return Jt.quotesLoading=!1,Jt.purchaseAmount=Number(n==null?void 0:n.purchaseAmount.amount),n}catch(n){return Jt.error=n.message,Jt.quotesLoading=!1,null}finally{Jt.quotesLoading=!1}},resetState(){Jt.selectedProvider=null,Jt.error=null,Jt.purchaseCurrency=qw,Jt.paymentCurrency=ZP,Jt.purchaseCurrencies=[qw],Jt.paymentCurrencies=[],Jt.paymentAmount=void 0,Jt.purchaseAmount=void 0,Jt.quotesLoading=!1}},YP=so(Rqe),Va=Vn({message:\"\",open:!1,triggerRect:{width:0,height:0,top:0,left:0},variant:\"shade\"}),kqe={state:Va,subscribe(t){return ji(Va,()=>t(Va))},subscribeKey(t,e){return Hi(Va,t,e)},showTooltip({message:t,triggerRect:e,variant:n}){Va.open=!0,Va.message=t,Va.triggerRect=e,Va.variant=n},hide(){Va.open=!1,Va.message=\"\",Va.triggerRect={width:0,height:0,top:0,left:0}}},D1=so(kqe),SW=2147483648,Mqe={convertEVMChainIdToCoinType(t){if(t>=SW)throw new Error(\"Invalid chainId\");return(SW|t)>>>0}},ma=Vn({suggestions:[],loading:!1}),Dqe={state:ma,subscribe(t){return ji(ma,()=>t(ma))},subscribeKey(t,e){return Hi(ma,t,e)},async resolveName(t){var e,n;try{return await vt.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||\"Error resolving name\")}},async isNameRegistered(t){try{return await vt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ma.loading=!0,ma.suggestions=[];const e=await vt.getEnsNameSuggestions(t);return ma.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ma.suggestions}catch(e){const n=Hw.parseEnsApiError(e,\"Error fetching name suggestions\");throw new Error(n)}finally{ma.loading=!1}},async getNamesForAddress(t){try{if(!ee.state.activeCaipNetwork)return[];const n=nt.getEnsFromCacheForAddress(t);if(n)return n;const r=await vt.reverseLookupEnsName({address:t});return nt.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=Hw.parseEnsApiError(e,\"Error fetching names for address\");throw new Error(n)}},async registerName(t){const e=ee.state.activeCaipNetwork;if(!e)throw new Error(\"Network not found\");const n=at.state.address,r=Ne.getAuthConnector();if(!n||!r)throw new Error(\"Address or auth connector not found\");ma.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Le.pushTransactionStack({onCancel(){Le.replace(\"RegisterAccountName\")}});const s=await He.signMessage(i);ma.loading=!1;const o=e.id;if(!o)throw new Error(\"Network not found\");const a=Mqe.convertEVMChainIdToCoinType(Number(o));await vt.registerEnsName({coinType:a,address:n,signature:s,message:i}),at.setProfileName(t,e.chainNamespace),Le.replace(\"RegisterAccountNameSuccess\")}catch(i){const s=Hw.parseEnsApiError(i,`Error registering name ${t}`);throw Le.replace(\"RegisterAccountName\"),new Error(s)}finally{ma.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}},Hw=so(Dqe);var Bqe=Object.defineProperty,Lqe=(t,e,n)=>e in t?Bqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xW=(t,e,n)=>Lqe(t,typeof e!=\"symbol\"?e+\"\":e,n);let Uqe=class extends Yo{constructor(e){super(),this.opts=e,xW(this,\"protocol\",\"wc\"),xW(this,\"version\",2)}};var jqe=Object.defineProperty,zqe=(t,e,n)=>e in t?jqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fqe=(t,e,n)=>zqe(t,e+\"\",n);let qqe=class extends Yo{constructor(e,n){super(),this.core=e,this.logger=n,Fqe(this,\"records\",new Map)}},Hqe=class{constructor(e,n){this.logger=e,this.core=n}},Vqe=class extends Yo{constructor(e,n){super(),this.relayer=e,this.logger=n}},Kqe=class extends Yo{constructor(e){super()}},Wqe=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},Gqe=class extends Yo{constructor(e,n){super(),this.relayer=e,this.logger=n}},Zqe=class extends Yo{constructor(e,n){super(),this.core=e,this.logger=n}},Yqe=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},Jqe=class{constructor(e,n){this.projectId=e,this.logger=n}},Xqe=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var Qqe=Object.defineProperty,eHe=(t,e,n)=>e in t?Qqe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AW=(t,e,n)=>eHe(t,typeof e!=\"symbol\"?e+\"\":e,n);let tHe=class{constructor(e){this.opts=e,AW(this,\"protocol\",\"wc\"),AW(this,\"version\",2)}},nHe=class{constructor(e){this.client=e}};var rHe={};const iHe=\":\";function wm(t){const[e,n]=t.split(iHe);return{namespace:e,reference:n}}function dce(t,e){return t.includes(\":\")?[t]:e.chains||[]}var sHe=Object.defineProperty,oHe=Object.defineProperties,aHe=Object.getOwnPropertyDescriptors,$W=Object.getOwnPropertySymbols,cHe=Object.prototype.hasOwnProperty,lHe=Object.prototype.propertyIsEnumerable,IW=(t,e,n)=>e in t?sHe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,TW=(t,e)=>{for(var n in e||(e={}))cHe.call(e,n)&&IW(t,n,e[n]);if($W)for(var n of $W(e))lHe.call(e,n)&&IW(t,n,e[n]);return t},uHe=(t,e)=>oHe(t,aHe(e));const dHe=\"ReactNative\",Mo={reactNative:\"react-native\",node:\"node\",browser:\"browser\",unknown:\"unknown\"},fHe=\"js\";function b4(){return typeof process<\"u\"&&typeof process.versions<\"u\"&&typeof process.versions.node<\"u\"}function mh(){return!wi.getDocument()&&!!wi.getNavigator()&&navigator.product===dHe}function hHe(){return mh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"android\"}function pHe(){return mh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"&&(global==null?void 0:global.Platform.OS)===\"ios\"}function Py(){return!b4()&&!!wi.getNavigator()&&!!wi.getDocument()}function v5(){return mh()?Mo.reactNative:b4()?Mo.node:Py()?Mo.browser:Mo.unknown}function PW(){var t;try{return mh()&&typeof global<\"u\"&&typeof(global==null?void 0:global.Application)<\"u\"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function gHe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function mHe(t){var e,n;const r=fce();try{return t!=null&&t.url&&r.url&&new URL(t.url).host!==new URL(r.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!==\"\")),uHe(TW(TW({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn(\"Error populating app metadata\",i),t||r}}function fce(){return bse.getWindowMetadata()||{name:\"\",description:\"\",url:\"\",icons:[\"\"]}}function yHe(){if(v5()===Mo.reactNative&&typeof global<\"u\"&&typeof(global==null?void 0:global.Platform)<\"u\"){const{OS:n,Version:r}=global.Platform;return[n,r].join(\"-\")}const t=pse();if(t===null)return\"unknown\";const e=t.os?t.os.replace(\" \",\"\").toLowerCase():\"unknown\";return t.type===\"browser\"?[e,t.name,t.version].join(\"-\"):[e,t.version].join(\"-\")}function bHe(){var t;const e=v5();return e===Mo.browser?[e,((t=wi.getLocation())==null?void 0:t.host)||\"unknown\"].join(\":\"):e}function hce(t,e,n){const r=yHe(),i=bHe();return[[t,e].join(\"-\"),[fHe,n].join(\"-\"),r,i].join(\"/\")}function wHe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split(\"?\"),d=hce(t,e,r),h={auth:i,ua:d,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},p=gHe(l[1]||\"\",h);return l[0]+\"?\"+p}function w0(t,e){return t.filter(n=>e.includes(n)).length===t.length}function JP(t){return Object.fromEntries(t.entries())}function XP(t){return new Map(Object.entries(t))}function n0(t=ce.FIVE_MINUTES,e){const n=ce.toMiliseconds(t||ce.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Rf(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function pce(t,e){if(typeof e==\"string\"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()===\"topic\"){if(typeof e!=\"string\")throw new Error('Value must be \"string\" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()===\"id\"){if(typeof e!=\"number\")throw new Error('Value must be \"number\" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function vHe(t){return pce(\"topic\",t)}function EHe(t){return pce(\"id\",t)}function gce(t){const[e,n]=t.split(\":\"),r={id:void 0,topic:void 0};if(e===\"topic\"&&typeof n==\"string\")r.topic=n;else if(e===\"id\"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function jr(t,e){return ce.fromMiliseconds(Date.now()+ce.toMiliseconds(t))}function _f(t){return Date.now()>=ce.toMiliseconds(t)}function pn(t,e){return`${t}${e?`:${e}`:\"\"}`}function vl(t=[],e=[]){return[...new Set([...t,...e])]}async function _He({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n==\"string\"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!=\"string\")return;const o=CHe(s,t,e),a=v5();if(a===Mo.browser){if(!((r=wi.getDocument())!=null&&r.hasFocus())){console.warn(\"Document does not have focus, skipping deeplink.\");return}SHe(o)}else a===Mo.reactNative&&typeof(global==null?void 0:global.Linking)<\"u\"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function CHe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith(\"/\")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith(\"https://t.me\")){const s=t.includes(\"?\")?\"&startapp=\":\"?startapp=\";i=`${i}${s}${IHe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function SHe(t){let e=\"_self\";$He()?e=\"_top\":(AHe()||t.startsWith(\"https://\")||t.startsWith(\"http://\"))&&(e=\"_blank\"),window.open(t,e,\"noreferrer noopener\")}async function xHe(t,e){let n=\"\";try{if(Py()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function OW(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function NW(){return typeof crypto<\"u\"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t===\"x\"?e:e&3|8).toString(16)})}function Lk(){return typeof process<\"u\"&&rHe.IS_VITEST===\"true\"}function AHe(){return typeof window<\"u\"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function $He(){try{return window.self!==window.top}catch{return!1}}function IHe(t,e=!1){const n=Buffer.from(t).toString(\"base64\");return e?n.replace(/[=]/g,\"\"):n}function mce(t){return Buffer.from(t,\"base64\").toString(\"utf-8\")}function THe(t){return new Promise(e=>setTimeout(e,t))}function s2(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function PHe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function E5(t,...e){if(!PHe(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function Uk(t){if(typeof t!=\"function\"||typeof t.create!=\"function\")throw new Error(\"Hash should be wrapped by utils.wrapConstructor\");s2(t.outputLen),s2(t.blockLen)}function Wm(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function yce(t,e){E5(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}const sE=BigInt(2**32-1),RW=BigInt(32);function OHe(t,e=!1){return e?{h:Number(t&sE),l:Number(t>>RW&sE)}:{h:Number(t>>RW&sE)|0,l:Number(t&sE)|0}}function NHe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=OHe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const RHe=(t,e,n)=>t<<n|e>>>32-n,kHe=(t,e,n)=>e<<n|t>>>32-n,MHe=(t,e,n)=>e<<n-32|t>>>64-n,DHe=(t,e,n)=>t<<n-32|e>>>64-n,f1=typeof globalThis==\"object\"&&\"crypto\"in globalThis?globalThis.crypto:void 0;function BHe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function PA(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Wc(t,e){return t<<32-e|t>>>e}const kW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function LHe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function MW(t){for(let e=0;e<t.length;e++)t[e]=LHe(t[e])}function UHe(t){if(typeof t!=\"string\")throw new Error(\"utf8ToBytes expected string, got \"+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Gm(t){return typeof t==\"string\"&&(t=UHe(t)),E5(t),t}function jHe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];E5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let jk=class{clone(){return this._cloneInto()}};function bce(t){const e=r=>t().update(Gm(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Oy(t=32){if(f1&&typeof f1.getRandomValues==\"function\")return f1.getRandomValues(new Uint8Array(t));if(f1&&typeof f1.randomBytes==\"function\")return f1.randomBytes(t);throw new Error(\"crypto.getRandomValues must be defined\")}const wce=[],vce=[],Ece=[],zHe=BigInt(0),sw=BigInt(1),FHe=BigInt(2),qHe=BigInt(7),HHe=BigInt(256),VHe=BigInt(113);for(let t=0,e=sw,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],wce.push(2*(5*r+n)),vce.push((t+1)*(t+2)/2%64);let i=zHe;for(let s=0;s<7;s++)e=(e<<sw^(e>>qHe)*VHe)%HHe,e&FHe&&(i^=sw<<(sw<<BigInt(s))-sw);Ece.push(i)}const[KHe,WHe]=NHe(Ece,!0),DW=(t,e,n)=>n>32?MHe(t,e,n):RHe(t,e,n),BW=(t,e,n)=>n>32?DHe(t,e,n):kHe(t,e,n);function GHe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],d=n[c+1],h=DW(l,d,1)^n[a],p=BW(l,d,1)^n[a+1];for(let m=0;m<50;m+=10)t[o+m]^=h,t[o+m+1]^=p}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=vce[o],c=DW(i,s,a),l=BW(i,s,a),d=wce[o];i=t[d],s=t[d+1],t[d]=c,t[d+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=KHe[r],t[1]^=WHe[r]}n.fill(0)}let ZHe=class _ce extends jk{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,s2(r),0>=this.blockLen||this.blockLen>=200)throw new Error(\"Sha3 supports only keccak-f1600 function\");this.state=new Uint8Array(200),this.state32=BHe(this.state)}keccak(){kW||MW(this.state32),GHe(this.state32,this.rounds),kW||MW(this.state32),this.posOut=0,this.pos=0}update(e){Wm(this);const{blockLen:n,state:r}=this;e=Gm(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,(n&128)!==0&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Wm(this,!1),E5(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error(\"XOF is not possible for this instance\");return this.writeInto(e)}xof(e){return s2(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(yce(e,this),this.finished)throw new Error(\"digest() was already called\");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new _ce(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const YHe=(t,e,n)=>bce(()=>new ZHe(e,t,n)),JHe=YHe(1,136,256/8),XHe=\"https://rpc.walletconnect.org/v1\";function Cce(t){const e=`Ethereum Signed Message:\n${t.length}`,n=new TextEncoder().encode(e+t);return\"0x\"+Buffer.from(JHe(n)).toString(\"hex\")}async function QHe(t,e,n,r,i,s){switch(n.t){case\"eip191\":return await eVe(t,e,n.s);case\"eip1271\":return await tVe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function eVe(t,e,n){return(await Nse({hash:Cce(e),signature:n})).toLowerCase()===t.toLowerCase()}async function tVe(t,e,n,r,i,s){const o=wm(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a=\"0x1626ba7e\",c=\"0000000000000000000000000000000000000000000000000000000000000040\",l=\"0000000000000000000000000000000000000000000000000000000000000041\",d=n.substring(2),h=Cce(e).substring(2),p=a+h+c+l+d,m=await fetch(`${s||XHe}/?chainId=${r}&projectId=${i}`,{method:\"POST\",body:JSON.stringify({id:nVe(),jsonrpc:\"2.0\",method:\"eth_call\",params:[{to:t,data:p},\"latest\"]})}),{result:b}=await m.json();return b?b.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error(\"isValidEip1271Signature: \",a),!1}}function nVe(){return Date.now()+Math.floor(Math.random()*1e3)}function rVe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error(\"No signatures found\");const i=1+r*64;if(n.length<i)throw new Error(\"Transaction data too short for claimed signature count\");if(n.length<100)throw new Error(\"Transaction too short\");const s=Buffer.from(t,\"base64\").slice(1,65);return gk.encode(s)}var iVe=Object.defineProperty,sVe=Object.defineProperties,oVe=Object.getOwnPropertyDescriptors,LW=Object.getOwnPropertySymbols,aVe=Object.prototype.hasOwnProperty,cVe=Object.prototype.propertyIsEnumerable,UW=(t,e,n)=>e in t?iVe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lVe=(t,e)=>{for(var n in e||(e={}))aVe.call(e,n)&&UW(t,n,e[n]);if(LW)for(var n of LW(e))cVe.call(e,n)&&UW(t,n,e[n]);return t},uVe=(t,e)=>sVe(t,oVe(e));const dVe=\"did:pkh:\",zk=t=>t==null?void 0:t.split(\":\"),fVe=t=>{const e=t&&zk(t);if(e)return t.includes(dVe)?e[3]:e[1]},QP=t=>{const e=t&&zk(t);if(e)return e[2]+\":\"+e[3]},w4=t=>{const e=t&&zk(t);if(e)return e.pop()};async function jW(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=Sce(i,i.iss),o=w4(i.iss);return await QHe(o,s,r,QP(i.iss),n)}const Sce=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=w4(e);if(!t.aud&&!t.uri)throw new Error(\"Either `aud` or `uri` is required to construct the message\");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${fVe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,d=t.exp?`Expiration Time: ${t.exp}`:void 0,h=t.nbf?`Not Before: ${t.nbf}`:void 0,p=t.requestId?`Request ID: ${t.requestId}`:void 0,m=t.resources?`Resources:${t.resources.map(y=>`\n- ${y}`).join(\"\")}`:void 0,b=XE(t.resources);if(b){const y=o2(b);i=EVe(i,y)}return[n,r,\"\",i,\"\",s,o,a,c,l,d,h,p,m].filter(y=>y!=null).join(`\n`)};function hVe(t){return Buffer.from(JSON.stringify(t)).toString(\"base64\")}function pVe(t){return JSON.parse(Buffer.from(t,\"base64\").toString(\"utf-8\"))}function dp(t){if(!t)throw new Error(\"No recap provided, value is undefined\");if(!t.att)throw new Error(\"No `att` property found\");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error(\"No resources found in `att` property\");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!=\"object\")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!=\"object\")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function gVe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:mVe(e,n,r)}}}function mVe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function xce(t){return dp(t),`urn:recap:${hVe(t).replace(/=/g,\"\")}`}function o2(t){const e=pVe(t.replace(\"urn:recap:\",\"\"));return dp(e),e}function yVe(t,e,n){const r=gVe(t,e,n);return xce(r)}function bVe(t){return t&&t.includes(\"urn:recap:\")}function wVe(t,e){const n=o2(t),r=o2(e),i=vVe(n,r);return xce(i)}function vVe(t,e){dp(t),dp(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=uVe(lVe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function EVe(t=\"\",e){dp(e);const n=\"I further authorize the stated URI to perform the following actions on my behalf: \";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(h=>({ability:h.split(\"/\")[0],action:h.split(\"/\")[1]}));c.sort((h,p)=>h.action.localeCompare(p.action));const l={};c.forEach(h=>{l[h.ability]||(l[h.ability]=[]),l[h.ability].push(h.action)});const d=Object.keys(l).map(h=>(i++,`(${i}) '${h}': '${l[h].join(\"', '\")}' for '${a}'.`));r.push(d.join(\", \").replace(\".,\",\".\"))});const s=r.join(\" \"),o=`${n}${s}`;return`${t?t+\" \":\"\"}${o}`}function zW(t){var e;const n=o2(t);dp(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split(\"/\")[1]):[]}function FW(t){const e=o2(t);dp(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function XE(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return bVe(e)?e:void 0}function OA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(\"positive integer expected, got \"+t)}function Ace(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function Po(t,...e){if(!Ace(t))throw new Error(\"Uint8Array expected\");if(e.length>0&&!e.includes(t.length))throw new Error(\"Uint8Array expected of length \"+e+\", got length=\"+t.length)}function qW(t,e=!0){if(t.destroyed)throw new Error(\"Hash instance has been destroyed\");if(e&&t.finished)throw new Error(\"Hash#digest() has already been called\")}function _Ve(t,e){Po(t);const n=e.outputLen;if(t.length<n)throw new Error(\"digestInto() expects output buffer of length at least \"+n)}function HW(t){if(typeof t!=\"boolean\")throw new Error(`boolean expected, not ${t}`)}const Vf=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),CVe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),SVe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!SVe)throw new Error(\"Non little-endian hardware is not supported\");function xVe(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}function eO(t){if(typeof t==\"string\")t=xVe(t);else if(Ace(t))t=tO(t);else throw new Error(\"Uint8Array expected, got \"+typeof t);return t}function AVe(t,e){if(e==null||typeof e!=\"object\")throw new Error(\"options must be defined\");return Object.assign(t,e)}function $Ve(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const IVe=(t,e)=>{function n(r,...i){if(Po(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error(\"nonce / iv required\");t.varSizeNonce?Po(l):Po(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Po(i[1]);const o=e(r,...i),a=(l,d)=>{if(d!==void 0){if(l!==2)throw new Error(\"cipher output not supported\");Po(d)}};let c=!1;return{encrypt(l,d){if(c)throw new Error(\"cannot encrypt() twice with same key + nonce\");return c=!0,Po(l),a(o.encrypt.length,d),o.encrypt(l,d)},decrypt(l,d){if(Po(l),s&&l.length<s)throw new Error(\"invalid ciphertext length: smaller than tagLength=\"+s);return a(o.decrypt.length,d),o.decrypt(l,d)}}}return Object.assign(n,t),n};function VW(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error(\"invalid output length, expected \"+t+\", got: \"+e.length);if(n&&!TVe(e))throw new Error(\"invalid output, must be aligned\");return e}function KW(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function TVe(t){return t.byteOffset%4===0}function tO(t){return Uint8Array.from(t)}function Zm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const $ce=t=>Uint8Array.from(t.split(\"\").map(e=>e.charCodeAt(0))),PVe=$ce(\"expand 16-byte k\"),OVe=$ce(\"expand 32-byte k\"),NVe=Vf(PVe),RVe=Vf(OVe);function on(t,e){return t<<e|t>>>32-e}function nO(t){return t.byteOffset%4===0}const oE=64,kVe=16,Ice=2**32-1,WW=new Uint32Array;function MVe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(oE),d=Vf(l),h=nO(i)&&nO(s),p=h?Vf(i):WW,m=h?Vf(s):WW;for(let b=0;b<c;o++){if(t(e,n,r,d,o,a),o>=Ice)throw new Error(\"arx: counter overflow\");const y=Math.min(oE,c-b);if(h&&y===oE){const E=b/4;if(b%4!==0)throw new Error(\"arx: invalid block position\");for(let v=0,_;v<kVe;v++)_=E+v,m[_]=p[_]^d[v];b+=oE;continue}for(let E=0,v;E<y;E++)v=b+E,s[v]=i[v]^l[E];b+=y}}function DVe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=AVe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!=\"function\")throw new Error(\"core must be a function\");return OA(i),OA(o),HW(s),HW(n),(a,c,l,d,h=0)=>{Po(a),Po(c),Po(l);const p=l.length;if(d===void 0&&(d=new Uint8Array(p)),Po(d),OA(h),h<0||h>=Ice)throw new Error(\"arx: counter overflow\");if(d.length<p)throw new Error(`arx: output (${d.length}) is shorter than data (${p})`);const m=[];let b=a.length,y,E;if(b===32)m.push(y=tO(a)),E=RVe;else if(b===16&&n)y=new Uint8Array(32),y.set(a),y.set(a,16),E=NVe,m.push(y);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);nO(c)||m.push(c=tO(c));const v=Vf(y);if(r){if(c.length!==24)throw new Error(\"arx: extended nonce must be 24 bytes\");r(E,v,Vf(c.subarray(0,16)),v),c=c.subarray(16)}const _=16-i;if(_!==c.length)throw new Error(`arx: nonce must be ${_} or 16 bytes`);if(_!==12){const S=new Uint8Array(12);S.set(c,s?0:12-c.length),c=S,m.push(c)}const C=Vf(c);return MVe(t,E,v,C,l,d,h,o),Zm(...m),d}}const Pi=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class BVe{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=eO(e),Po(e,32);const n=Pi(e,0),r=Pi(e,2),i=Pi(e,4),s=Pi(e,6),o=Pi(e,8),a=Pi(e,10),c=Pi(e,12),l=Pi(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let d=0;d<8;d++)this.pad[d]=Pi(e,16+2*d)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],d=o[3],h=o[4],p=o[5],m=o[6],b=o[7],y=o[8],E=o[9],v=Pi(e,n+0),_=Pi(e,n+2),C=Pi(e,n+4),S=Pi(e,n+6),A=Pi(e,n+8),I=Pi(e,n+10),O=Pi(e,n+12),D=Pi(e,n+14);let N=s[0]+(v&8191),U=s[1]+((v>>>13|_<<3)&8191),F=s[2]+((_>>>10|C<<6)&8191),H=s[3]+((C>>>7|S<<9)&8191),V=s[4]+((S>>>4|A<<12)&8191),M=s[5]+(A>>>1&8191),$=s[6]+((A>>>14|I<<2)&8191),P=s[7]+((I>>>11|O<<5)&8191),q=s[8]+((O>>>8|D<<8)&8191),T=s[9]+(D>>>5|i),k=0,z=k+N*a+U*(5*E)+F*(5*y)+H*(5*b)+V*(5*m);k=z>>>13,z&=8191,z+=M*(5*p)+$*(5*h)+P*(5*d)+q*(5*l)+T*(5*c),k+=z>>>13,z&=8191;let L=k+N*c+U*a+F*(5*E)+H*(5*y)+V*(5*b);k=L>>>13,L&=8191,L+=M*(5*m)+$*(5*p)+P*(5*h)+q*(5*d)+T*(5*l),k+=L>>>13,L&=8191;let B=k+N*l+U*c+F*a+H*(5*E)+V*(5*y);k=B>>>13,B&=8191,B+=M*(5*b)+$*(5*m)+P*(5*p)+q*(5*h)+T*(5*d),k+=B>>>13,B&=8191;let j=k+N*d+U*l+F*c+H*a+V*(5*E);k=j>>>13,j&=8191,j+=M*(5*y)+$*(5*b)+P*(5*m)+q*(5*p)+T*(5*h),k+=j>>>13,j&=8191;let K=k+N*h+U*d+F*l+H*c+V*a;k=K>>>13,K&=8191,K+=M*(5*E)+$*(5*y)+P*(5*b)+q*(5*m)+T*(5*p),k+=K>>>13,K&=8191;let G=k+N*p+U*h+F*d+H*l+V*c;k=G>>>13,G&=8191,G+=M*a+$*(5*E)+P*(5*y)+q*(5*b)+T*(5*m),k+=G>>>13,G&=8191;let Z=k+N*m+U*p+F*h+H*d+V*l;k=Z>>>13,Z&=8191,Z+=M*c+$*a+P*(5*E)+q*(5*y)+T*(5*b),k+=Z>>>13,Z&=8191;let Y=k+N*b+U*m+F*p+H*h+V*d;k=Y>>>13,Y&=8191,Y+=M*l+$*c+P*a+q*(5*E)+T*(5*y),k+=Y>>>13,Y&=8191;let X=k+N*y+U*b+F*m+H*p+V*h;k=X>>>13,X&=8191,X+=M*d+$*l+P*c+q*a+T*(5*E),k+=X>>>13,X&=8191;let Q=k+N*E+U*y+F*b+H*m+V*p;k=Q>>>13,Q&=8191,Q+=M*h+$*d+P*l+q*c+T*a,k+=Q>>>13,Q&=8191,k=(k<<2)+k|0,k=k+z|0,z=k&8191,k=k>>>13,L+=k,s[0]=z,s[1]=L,s[2]=B,s[3]=j,s[4]=K,s[5]=G,s[6]=Z,s[7]=Y,s[8]=X,s[9]=Q}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;Zm(r)}update(e){qW(this);const{buffer:n,blockLen:r}=this;e=eO(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){Zm(this.h,this.r,this.buffer,this.pad)}digestInto(e){qW(this),_Ve(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function LVe(t){const e=(r,i)=>t(i).update(eO(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const UVe=LVe(t=>new BVe(t));function jVe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],d=e[0],h=e[1],p=e[2],m=e[3],b=e[4],y=e[5],E=e[6],v=e[7],_=i,C=n[0],S=n[1],A=n[2],I=o,O=a,D=c,N=l,U=d,F=h,H=p,V=m,M=b,$=y,P=E,q=v,T=_,k=C,z=S,L=A;for(let j=0;j<s;j+=2)I=I+U|0,T=on(T^I,16),M=M+T|0,U=on(U^M,12),I=I+U|0,T=on(T^I,8),M=M+T|0,U=on(U^M,7),O=O+F|0,k=on(k^O,16),$=$+k|0,F=on(F^$,12),O=O+F|0,k=on(k^O,8),$=$+k|0,F=on(F^$,7),D=D+H|0,z=on(z^D,16),P=P+z|0,H=on(H^P,12),D=D+H|0,z=on(z^D,8),P=P+z|0,H=on(H^P,7),N=N+V|0,L=on(L^N,16),q=q+L|0,V=on(V^q,12),N=N+V|0,L=on(L^N,8),q=q+L|0,V=on(V^q,7),I=I+F|0,L=on(L^I,16),P=P+L|0,F=on(F^P,12),I=I+F|0,L=on(L^I,8),P=P+L|0,F=on(F^P,7),O=O+H|0,T=on(T^O,16),q=q+T|0,H=on(H^q,12),O=O+H|0,T=on(T^O,8),q=q+T|0,H=on(H^q,7),D=D+V|0,k=on(k^D,16),M=M+k|0,V=on(V^M,12),D=D+V|0,k=on(k^D,8),M=M+k|0,V=on(V^M,7),N=N+U|0,z=on(z^N,16),$=$+z|0,U=on(U^$,12),N=N+U|0,z=on(z^N,8),$=$+z|0,U=on(U^$,7);let B=0;r[B++]=o+I|0,r[B++]=a+O|0,r[B++]=c+D|0,r[B++]=l+N|0,r[B++]=d+U|0,r[B++]=h+F|0,r[B++]=p+H|0,r[B++]=m+V|0,r[B++]=b+M|0,r[B++]=y+$|0,r[B++]=E+P|0,r[B++]=v+q|0,r[B++]=_+T|0,r[B++]=C+k|0,r[B++]=S+z|0,r[B++]=A+L|0}const zVe=DVe(jVe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),FVe=new Uint8Array(16),GW=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(FVe.subarray(n))},qVe=new Uint8Array(32);function ZW(t,e,n,r,i){const s=t(e,n,qVe),o=UVe.create(s);i&&GW(o,i),GW(o,r);const a=new Uint8Array(16),c=CVe(a);KW(c,0,BigInt(i?i.length:0),!0),KW(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return Zm(s,a),l}const HVe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=VW(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=ZW(t,e,n,a,r);return s.set(c,o),Zm(c),s},decrypt(i,s){s=VW(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=ZW(t,e,n,o,r);if(!$Ve(a,c))throw new Error(\"invalid tag\");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),Zm(c),s}}),Tce=IVe({blockSize:64,nonceLength:12,tagLength:16},HVe(zVe));let Pce=class extends jk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Uk(e);const r=Gm(n);if(this.iHash=e.create(),typeof this.iHash.update!=\"function\")throw new Error(\"Expected instance of class which extends utils.Hash\");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Wm(this),this.iHash.update(e),this}digestInto(e){Wm(this),E5(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const h9=(t,e,n)=>new Pce(t,e).update(n).digest();h9.create=(t,e)=>new Pce(t,e);function VVe(t,e,n){return Uk(t),n===void 0&&(n=new Uint8Array(t.outputLen)),h9(t,Gm(n),Gm(e))}const NA=new Uint8Array([0]),YW=new Uint8Array;function KVe(t,e,n,r=32){if(Uk(t),s2(r),r>255*t.outputLen)throw new Error(\"Length should be <= 255*HashLen\");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=YW);const s=new Uint8Array(i*t.outputLen),o=h9.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)NA[0]=l+1,a.update(l===0?YW:c).update(n).update(NA).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),NA.fill(0),s.slice(0,r)}const WVe=(t,e,n,r,i)=>KVe(t,VVe(t,e,n),r,i);function GVe(t,e,n,r){if(typeof t.setBigUint64==\"function\")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function ZVe(t,e,n){return t&e^~t&n}function YVe(t,e,n){return t&e^t&n^e&n}let JVe=class extends jk{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=PA(this.buffer)}update(e){Wm(this);const{view:n,buffer:r,blockLen:i}=this;e=Gm(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=PA(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Wm(this),yce(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let h=o;h<i;h++)n[h]=0;GVe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=PA(e),c=this.outputLen;if(c%4)throw new Error(\"_sha2: outputLen should be aligned to 32bit\");const l=c/4,d=this.get();if(l>d.length)throw new Error(\"_sha2: outputLen bigger than state\");for(let h=0;h<l;h++)a.setUint32(4*h,d[h],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const XVe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),of=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),af=new Uint32Array(64);class QVe extends JVe{constructor(){super(64,32,8,!1),this.A=of[0]|0,this.B=of[1]|0,this.C=of[2]|0,this.D=of[3]|0,this.E=of[4]|0,this.F=of[5]|0,this.G=of[6]|0,this.H=of[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let h=0;h<16;h++,n+=4)af[h]=e.getUint32(n,!1);for(let h=16;h<64;h++){const p=af[h-15],m=af[h-2],b=Wc(p,7)^Wc(p,18)^p>>>3,y=Wc(m,17)^Wc(m,19)^m>>>10;af[h]=y+af[h-7]+b+af[h-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:d}=this;for(let h=0;h<64;h++){const p=Wc(a,6)^Wc(a,11)^Wc(a,25),m=d+p+ZVe(a,c,l)+XVe[h]+af[h]|0,b=(Wc(r,2)^Wc(r,13)^Wc(r,22))+YVe(r,i,s)|0;d=l,l=c,c=a,a=o+m|0,o=s,s=i,i=r,r=m+b|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,d=d+this.H|0,this.set(r,i,s,o,a,c,l,d)}roundClean(){af.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const _5=bce(()=>new QVe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const p9=BigInt(0),g9=BigInt(1),eKe=BigInt(2);function fp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name===\"Uint8Array\"}function C5(t){if(!fp(t))throw new Error(\"Uint8Array expected\")}function Ym(t,e){if(typeof e!=\"boolean\")throw new Error(t+\" boolean expected, got \"+e)}const tKe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,\"0\"));function Jm(t){C5(t);let e=\"\";for(let n=0;n<t.length;n++)e+=tKe[t[n]];return e}function rm(t){const e=t.toString(16);return e.length&1?\"0\"+e:e}function Fk(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);return t===\"\"?p9:BigInt(\"0x\"+t)}const mu={_0:48,_9:57,A:65,F:70,a:97,f:102};function JW(t){if(t>=mu._0&&t<=mu._9)return t-mu._0;if(t>=mu.A&&t<=mu.F)return t-(mu.A-10);if(t>=mu.a&&t<=mu.f)return t-(mu.a-10)}function Xm(t){if(typeof t!=\"string\")throw new Error(\"hex string expected, got \"+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error(\"hex string expected, got unpadded hex of length \"+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=JW(t.charCodeAt(s)),a=JW(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character \"'+c+'\" at index '+s)}r[i]=o*16+a}return r}function N0(t){return Fk(Jm(t))}function a2(t){return C5(t),Fk(Jm(Uint8Array.from(t).reverse()))}function Qm(t,e){return Xm(t.toString(16).padStart(e*2,\"0\"))}function m9(t,e){return Qm(t,e).reverse()}function nKe(t){return Xm(rm(t))}function $o(t,e,n){let r;if(typeof e==\"string\")try{r=Xm(e)}catch(s){throw new Error(t+\" must be hex string or Uint8Array, cause: \"+s)}else if(fp(e))r=Uint8Array.from(e);else throw new Error(t+\" must be hex string or Uint8Array\");const i=r.length;if(typeof n==\"number\"&&i!==n)throw new Error(t+\" of length \"+n+\" expected, got \"+i);return r}function c2(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];C5(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function rKe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function iKe(t){if(typeof t!=\"string\")throw new Error(\"string expected\");return new Uint8Array(new TextEncoder().encode(t))}const RA=t=>typeof t==\"bigint\"&&p9<=t;function y9(t,e,n){return RA(t)&&RA(e)&&RA(n)&&e<=t&&t<n}function Zu(t,e,n,r){if(!y9(e,n,r))throw new Error(\"expected valid \"+t+\": \"+n+\" <= n < \"+r+\", got \"+e)}function Oce(t){let e;for(e=0;t>p9;t>>=g9,e+=1);return e}function sKe(t,e){return t>>BigInt(e)&g9}function oKe(t,e,n){return t|(n?g9:p9)<<BigInt(e)}const qk=t=>(eKe<<BigInt(t-1))-g9,kA=t=>new Uint8Array(t),XW=t=>Uint8Array.from(t);function Nce(t,e,n){if(typeof t!=\"number\"||t<2)throw new Error(\"hashLen must be a number\");if(typeof e!=\"number\"||e<2)throw new Error(\"qByteLen must be a number\");if(typeof n!=\"function\")throw new Error(\"hmacFn must be a function\");let r=kA(t),i=kA(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=kA())=>{i=a(XW([0]),d),r=a(),d.length!==0&&(i=a(XW([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error(\"drbg: tried 1000 values\");let d=0;const h=[];for(;d<e;){r=a();const p=r.slice();h.push(p),d+=r.length}return c2(...h)};return(d,h)=>{o(),c(d);let p;for(;!(p=h(l()));)c();return o(),p}}const aKe={bigint:t=>typeof t==\"bigint\",function:t=>typeof t==\"function\",boolean:t=>typeof t==\"boolean\",string:t=>typeof t==\"string\",stringOrUint8Array:t=>typeof t==\"string\"||fp(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t==\"function\"&&Number.isSafeInteger(t.outputLen)};function Ny(t,e,n={}){const r=(i,s,o)=>{const a=aKe[s];if(typeof a!=\"function\")throw new Error(\"invalid validator function\");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(\"param \"+String(i)+\" is invalid. Expected \"+s+\", got \"+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const cKe=()=>{throw new Error(\"not implemented\")};function rO(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var lKe=Object.freeze({__proto__:null,isBytes:fp,abytes:C5,abool:Ym,bytesToHex:Jm,numberToHexUnpadded:rm,hexToNumber:Fk,hexToBytes:Xm,bytesToNumberBE:N0,bytesToNumberLE:a2,numberToBytesBE:Qm,numberToBytesLE:m9,numberToVarBytesBE:nKe,ensureBytes:$o,concatBytes:c2,equalBytes:rKe,utf8ToBytes:iKe,inRange:y9,aInRange:Zu,bitLen:Oce,bitGet:sKe,bitSet:oKe,bitMask:qk,createHmacDrbg:Nce,validateObject:Ny,notImplemented:cKe,memoized:rO});const bi=BigInt(0),wr=BigInt(1),c0=BigInt(2),uKe=BigInt(3),iO=BigInt(4),QW=BigInt(5),eG=BigInt(8);function Ws(t,e){const n=t%e;return n>=bi?n:e+n}function Rce(t,e,n){if(e<bi)throw new Error(\"invalid exponent, negatives unsupported\");if(n<=bi)throw new Error(\"invalid modulus\");if(n===wr)return bi;let r=wr;for(;e>bi;)e&wr&&(r=r*t%n),t=t*t%n,e>>=wr;return r}function Ja(t,e,n){let r=t;for(;e-- >bi;)r*=r,r%=n;return r}function sO(t,e){if(t===bi)throw new Error(\"invert: expected non-zero number\");if(e<=bi)throw new Error(\"invert: expected positive modulus, got \"+e);let n=Ws(t,e),r=e,i=bi,s=wr;for(;n!==bi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==wr)throw new Error(\"invert: does not exist\");return Ws(i,e)}function dKe(t){const e=(t-wr)/c0;let n,r,i;for(n=t-wr,r=0;n%c0===bi;n/=c0,r++);for(i=c0;i<t&&Rce(i,e,t)!==t-wr;i++)if(i>1e3)throw new Error(\"Cannot find square root: likely non-prime P\");if(r===1){const o=(t+wr)/iO;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error(\"Cannot find square root\");return l}}const s=(n+wr)/c0;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error(\"Cannot find square root\");let c=r,l=o.pow(o.mul(o.ONE,i),n),d=o.pow(a,s),h=o.pow(a,n);for(;!o.eql(h,o.ONE);){if(o.eql(h,o.ZERO))return o.ZERO;let p=1;for(let b=o.sqr(h);p<c&&!o.eql(b,o.ONE);p++)b=o.sqr(b);const m=o.pow(l,wr<<BigInt(c-p-1));l=o.sqr(m),d=o.mul(d,m),h=o.mul(h,l),c=p}return d}}function fKe(t){if(t%iO===uKe){const e=(t+wr)/iO;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error(\"Cannot find square root\");return i}}if(t%eG===QW){const e=(t-QW)/eG;return function(n,r){const i=n.mul(r,c0),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,c0),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error(\"Cannot find square root\");return c}}return dKe(t)}const hKe=[\"create\",\"isValid\",\"is0\",\"neg\",\"inv\",\"sqrt\",\"sqr\",\"eql\",\"add\",\"sub\",\"mul\",\"pow\",\"div\",\"addN\",\"subN\",\"mulN\",\"sqrN\"];function pKe(t){const e={ORDER:\"bigint\",MASK:\"bigint\",BYTES:\"isSafeInteger\",BITS:\"isSafeInteger\"},n=hKe.reduce((r,i)=>(r[i]=\"function\",r),e);return Ny(t,n)}function gKe(t,e,n){if(n<bi)throw new Error(\"invalid exponent, negatives unsupported\");if(n===bi)return t.ONE;if(n===wr)return e;let r=t.ONE,i=e;for(;n>bi;)n&wr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=wr;return r}function mKe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function kce(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Mce(t,e,n=!1,r={}){if(t<=bi)throw new Error(\"invalid field: expected ORDER > 0, got \"+t);const{nBitLength:i,nByteLength:s}=kce(t,e);if(s>2048)throw new Error(\"invalid field: expected ORDER of <= 2048 bytes\");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:qk(i),ZERO:bi,ONE:wr,create:c=>Ws(c,t),isValid:c=>{if(typeof c!=\"bigint\")throw new Error(\"invalid field element: expected bigint, got \"+typeof c);return bi<=c&&c<t},is0:c=>c===bi,isOdd:c=>(c&wr)===wr,neg:c=>Ws(-c,t),eql:(c,l)=>c===l,sqr:c=>Ws(c*c,t),add:(c,l)=>Ws(c+l,t),sub:(c,l)=>Ws(c-l,t),mul:(c,l)=>Ws(c*l,t),pow:(c,l)=>gKe(a,c,l),div:(c,l)=>Ws(c*sO(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>sO(c,t),sqrt:r.sqrt||(c=>(o||(o=fKe(t)),o(a,c))),invertBatch:c=>mKe(a,c),cmov:(c,l,d)=>d?l:c,toBytes:c=>n?m9(c,s):Qm(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(\"Field.fromBytes: expected \"+s+\" bytes, got \"+c.length);return n?a2(c):N0(c)}});return Object.freeze(a)}function Dce(t){if(typeof t!=\"bigint\")throw new Error(\"field order must be bigint\");const e=t.toString(2).length;return Math.ceil(e/8)}function Bce(t){const e=Dce(t);return e+Math.ceil(e/2)}function yKe(t,e,n=!1){const r=t.length,i=Dce(e),s=Bce(e);if(r<16||r<s||r>1024)throw new Error(\"expected \"+s+\"-1024 bytes of input, got \"+r);const o=n?a2(t):N0(t),a=Ws(o,e-wr)+wr;return n?m9(a,i):Qm(a,i)}const tG=BigInt(0),aE=BigInt(1);function MA(t,e){const n=e.negate();return t?n:e}function Lce(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error(\"invalid window size, expected [1..\"+e+\"], got W=\"+t)}function DA(t,e){Lce(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function bKe(t,e){if(!Array.isArray(t))throw new Error(\"array expected\");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error(\"invalid point at index \"+r)})}function wKe(t,e){if(!Array.isArray(t))throw new Error(\"array of scalars expected\");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error(\"invalid scalar at index \"+r)})}const BA=new WeakMap,Uce=new WeakMap;function LA(t){return Uce.get(t)||1}function vKe(t,e){return{constTimeNegate:MA,hasPrecomputes(n){return LA(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>tG;)r&aE&&(i=i.add(s)),s=s.double(),r>>=aE;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=DA(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let d=1;d<s;d++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=DA(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),d=2**n,h=BigInt(n);for(let p=0;p<s;p++){const m=p*o;let b=Number(i&l);i>>=h,b>o&&(b-=d,i+=aE);const y=m,E=m+Math.abs(b)-1,v=p%2!==0,_=b<0;b===0?c=c.add(MA(v,r[y])):a=a.add(MA(_,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=DA(n,e),c=BigInt(2**n-1),l=2**n,d=BigInt(n);for(let h=0;h<o;h++){const p=h*a;if(i===tG)break;let m=Number(i&c);if(i>>=d,m>a&&(m-=l,i+=aE),m===0)continue;let b=r[p+Math.abs(m)-1];m<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(n,r,i){let s=BA.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&BA.set(r,i(s))),s},wNAFCached(n,r,i){const s=LA(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=LA(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){Lce(r,e),Uce.set(n,r),BA.delete(n)}}}function EKe(t,e,n,r){if(bKe(n,t),wKe(r,e),n.length!==r.length)throw new Error(\"arrays of points and scalars must have equal length\");const i=t.ZERO,s=Oce(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let d=i;for(let h=l;h>=0;h-=o){c.fill(i);for(let m=0;m<r.length;m++){const b=r[m],y=Number(b>>BigInt(h)&BigInt(a));c[y]=c[y].add(n[m])}let p=i;for(let m=c.length-1,b=i;m>0;m--)b=b.add(c[m]),p=p.add(b);if(d=d.add(p),h!==0)for(let m=0;m<o;m++)d=d.double()}return d}function jce(t){return pKe(t.Fp),Ny(t,{n:\"bigint\",h:\"bigint\",Gx:\"field\",Gy:\"field\"},{nBitLength:\"isSafeInteger\",nByteLength:\"isSafeInteger\"}),Object.freeze({...kce(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const h1=BigInt(0),UA=BigInt(1);function _Ke(t){return Ny(t,{a:\"bigint\"},{montgomeryBits:\"isSafeInteger\",nByteLength:\"isSafeInteger\",adjustScalarBytes:\"function\",domain:\"function\",powPminus2:\"function\",Gu:\"bigint\"}),Object.freeze({...t})}function CKe(t){const e=_Ke(t),{P:n}=e,r=_=>Ws(_,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(_=>_),c=e.powPminus2||(_=>Rce(_,n-BigInt(2),n));function l(_,C,S){const A=r(_*(C-S));return C=r(C-A),S=r(S+A),[C,S]}const d=(e.a-BigInt(2))/BigInt(4);function h(_,C){Zu(\"u\",_,h1,n),Zu(\"scalar\",C,h1,n);const S=C,A=_;let I=UA,O=h1,D=_,N=UA,U=h1,F;for(let V=BigInt(i-1);V>=h1;V--){const M=S>>V&UA;U^=M,F=l(U,I,D),I=F[0],D=F[1],F=l(U,O,N),O=F[0],N=F[1],U=M;const $=I+O,P=r($*$),q=I-O,T=r(q*q),k=P-T,z=D+N,L=D-N,B=r(L*$),j=r(z*q),K=B+j,G=B-j;D=r(K*K),N=r(A*r(G*G)),I=r(P*T),O=r(k*(P+r(d*k)))}F=l(U,I,D),I=F[0],D=F[1],F=l(U,O,N),O=F[0],N=F[1];const H=c(O);return r(I*H)}function p(_){return m9(r(_),s)}function m(_){const C=$o(\"u coordinate\",_,s);return o===32&&(C[31]&=127),a2(C)}function b(_){const C=$o(\"scalar\",_),S=C.length;if(S!==s&&S!==o){let A=\"\"+s+\" or \"+o;throw new Error(\"invalid scalar, expected \"+A+\" bytes, got \"+S)}return a2(a(C))}function y(_,C){const S=m(C),A=b(_),I=h(S,A);if(I===h1)throw new Error(\"invalid private or public key received\");return p(I)}const E=p(e.Gu);function v(_){return y(_,E)}return{scalarMult:y,scalarMultBase:v,getSharedSecret:(_,C)=>y(_,C),getPublicKey:_=>v(_),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:E}}const oO=BigInt(\"57896044618658097711785492504343953926634992332820282019728792003956564819949\");BigInt(0);const SKe=BigInt(1),nG=BigInt(2),xKe=BigInt(3),AKe=BigInt(5);BigInt(8);function $Ke(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=oO,o=t*t%s*t%s,a=Ja(o,nG,s)*o%s,c=Ja(a,SKe,s)*t%s,l=Ja(c,AKe,s)*c%s,d=Ja(l,e,s)*l%s,h=Ja(d,n,s)*d%s,p=Ja(h,r,s)*h%s,m=Ja(p,i,s)*p%s,b=Ja(m,i,s)*p%s,y=Ja(b,e,s)*l%s;return{pow_p_5_8:Ja(y,nG,s)*t%s,b2:o}}function IKe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const aO=CKe({P:oO,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=oO,{pow_p_5_8:n,b2:r}=$Ke(t);return Ws(Ja(n,xKe,e)*r,e)},adjustScalarBytes:IKe,randomBytes:Oy});function rG(t){t.lowS!==void 0&&Ym(\"lowS\",t.lowS),t.prehash!==void 0&&Ym(\"prehash\",t.prehash)}function TKe(t){const e=jce(t);Ny(e,{a:\"field\",b:\"field\"},{allowedPrivateKeyLengths:\"array\",wrapPrivateKey:\"boolean\",isTorsionFree:\"function\",clearCofactor:\"function\",allowInfinityPoint:\"boolean\",fromBytes:\"function\",toBytes:\"function\"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error(\"invalid endomorphism, can only be defined for Koblitz curves that have a=0\");if(typeof n!=\"object\"||typeof n.beta!=\"bigint\"||typeof n.splitScalar!=\"function\")throw new Error(\"invalid endomorphism, expected beta: bigint and splitScalar: function\")}return Object.freeze({...e})}const{bytesToNumberBE:PKe,hexToBytes:OKe}=lKe;class NKe extends Error{constructor(e=\"\"){super(e)}}const Tu={Err:NKe,_tlv:{encode:(t,e)=>{const{Err:n}=Tu;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length&1)throw new n(\"tlv.encode: unpadded data\");const r=e.length/2,i=rm(r);if(i.length/2&128)throw new n(\"tlv.encode: long form length too big\");const s=r>127?rm(i.length/2|128):\"\";return rm(t)+s+i+e},decode(t,e){const{Err:n}=Tu;let r=0;if(t<0||t>256)throw new n(\"tlv.encode: wrong tag\");if(e.length<2||e[r++]!==t)throw new n(\"tlv.decode: wrong tlv\");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n(\"tlv.decode(long): indefinite length not supported\");if(c>4)throw new n(\"tlv.decode(long): byte length is too big\");const l=e.subarray(r,r+c);if(l.length!==c)throw new n(\"tlv.decode: length bytes not complete\");if(l[0]===0)throw new n(\"tlv.decode(long): zero leftmost byte\");for(const d of l)o=o<<8|d;if(r+=c,o<128)throw new n(\"tlv.decode(long): not minimal encoding\")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n(\"tlv.decode: wrong value length\");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=Tu;if(t<ku)throw new e(\"integer: negative integers are not allowed\");let n=rm(t);if(Number.parseInt(n[0],16)&8&&(n=\"00\"+n),n.length&1)throw new e(\"unexpected DER parsing assertion: unpadded hex\");return n},decode(t){const{Err:e}=Tu;if(t[0]&128)throw new e(\"invalid signature integer: negative\");if(t[0]===0&&!(t[1]&128))throw new e(\"invalid signature integer: unnecessary leading zero\");return PKe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=Tu,i=typeof t==\"string\"?OKe(t):t;C5(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e(\"invalid signature: left bytes after parsing\");const{v:a,l:c}=r.decode(2,s),{v:l,l:d}=r.decode(2,c);if(d.length)throw new e(\"invalid signature: left bytes after parsing\");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=Tu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},ku=BigInt(0),si=BigInt(1);BigInt(2);const iG=BigInt(3);BigInt(4);function RKe(t){const e=TKe(t),{Fp:n}=e,r=Mce(e.n,e.nBitLength),i=e.toBytes||((y,E,v)=>{const _=E.toAffine();return c2(Uint8Array.from([4]),n.toBytes(_.x),n.toBytes(_.y))}),s=e.fromBytes||(y=>{const E=y.subarray(1),v=n.fromBytes(E.subarray(0,n.BYTES)),_=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:v,y:_}});function o(y){const{a:E,b:v}=e,_=n.sqr(y),C=n.mul(_,y);return n.add(n.add(C,n.mul(y,E)),v)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error(\"bad generator point: equation left != right\");function a(y){return y9(y,si,e.n)}function c(y){const{allowedPrivateKeyLengths:E,nByteLength:v,wrapPrivateKey:_,n:C}=e;if(E&&typeof y!=\"bigint\"){if(fp(y)&&(y=Jm(y)),typeof y!=\"string\"||!E.includes(y.length))throw new Error(\"invalid private key\");y=y.padStart(v*2,\"0\")}let S;try{S=typeof y==\"bigint\"?y:N0($o(\"private key\",y,v))}catch{throw new Error(\"invalid private key, expected hex or \"+v+\" bytes, got \"+typeof y)}return _&&(S=Ws(S,C)),Zu(\"private key\",S,si,C),S}function l(y){if(!(y instanceof p))throw new Error(\"ProjectivePoint expected\")}const d=rO((y,E)=>{const{px:v,py:_,pz:C}=y;if(n.eql(C,n.ONE))return{x:v,y:_};const S=y.is0();E==null&&(E=S?n.ONE:n.inv(C));const A=n.mul(v,E),I=n.mul(_,E),O=n.mul(C,E);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error(\"invZ was invalid\");return{x:A,y:I}}),h=rO(y=>{if(y.is0()){if(e.allowInfinityPoint&&!n.is0(y.py))return;throw new Error(\"bad point: ZERO\")}const{x:E,y:v}=y.toAffine();if(!n.isValid(E)||!n.isValid(v))throw new Error(\"bad point: x or y not FE\");const _=n.sqr(v),C=o(E);if(!n.eql(_,C))throw new Error(\"bad point: equation left != right\");if(!y.isTorsionFree())throw new Error(\"bad point: not in prime-order subgroup\");return!0});class p{constructor(E,v,_){if(this.px=E,this.py=v,this.pz=_,E==null||!n.isValid(E))throw new Error(\"x required\");if(v==null||!n.isValid(v))throw new Error(\"y required\");if(_==null||!n.isValid(_))throw new Error(\"z required\");Object.freeze(this)}static fromAffine(E){const{x:v,y:_}=E||{};if(!E||!n.isValid(v)||!n.isValid(_))throw new Error(\"invalid affine point\");if(E instanceof p)throw new Error(\"projective point not allowed\");const C=S=>n.eql(S,n.ZERO);return C(v)&&C(_)?p.ZERO:new p(v,_,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const v=n.invertBatch(E.map(_=>_.pz));return E.map((_,C)=>_.toAffine(v[C])).map(p.fromAffine)}static fromHex(E){const v=p.fromAffine(s($o(\"pointHex\",E)));return v.assertValidity(),v}static fromPrivateKey(E){return p.BASE.multiply(c(E))}static msm(E,v){return EKe(p,r,E,v)}_setWindowSize(E){b.setWindowSize(this,E)}assertValidity(){h(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error(\"Field doesn't support isOdd\")}equals(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E,O=n.eql(n.mul(v,I),n.mul(S,C)),D=n.eql(n.mul(_,I),n.mul(A,C));return O&&D}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:v}=e,_=n.mul(v,iG),{px:C,py:S,pz:A}=this;let I=n.ZERO,O=n.ZERO,D=n.ZERO,N=n.mul(C,C),U=n.mul(S,S),F=n.mul(A,A),H=n.mul(C,S);return H=n.add(H,H),D=n.mul(C,A),D=n.add(D,D),I=n.mul(E,D),O=n.mul(_,F),O=n.add(I,O),I=n.sub(U,O),O=n.add(U,O),O=n.mul(I,O),I=n.mul(H,I),D=n.mul(_,D),F=n.mul(E,F),H=n.sub(N,F),H=n.mul(E,H),H=n.add(H,D),D=n.add(N,N),N=n.add(D,N),N=n.add(N,F),N=n.mul(N,H),O=n.add(O,N),F=n.mul(S,A),F=n.add(F,F),N=n.mul(F,H),I=n.sub(I,N),D=n.mul(F,U),D=n.add(D,D),D=n.add(D,D),new p(I,O,D)}add(E){l(E);const{px:v,py:_,pz:C}=this,{px:S,py:A,pz:I}=E;let O=n.ZERO,D=n.ZERO,N=n.ZERO;const U=e.a,F=n.mul(e.b,iG);let H=n.mul(v,S),V=n.mul(_,A),M=n.mul(C,I),$=n.add(v,_),P=n.add(S,A);$=n.mul($,P),P=n.add(H,V),$=n.sub($,P),P=n.add(v,C);let q=n.add(S,I);return P=n.mul(P,q),q=n.add(H,M),P=n.sub(P,q),q=n.add(_,C),O=n.add(A,I),q=n.mul(q,O),O=n.add(V,M),q=n.sub(q,O),N=n.mul(U,P),O=n.mul(F,M),N=n.add(O,N),O=n.sub(V,N),N=n.add(V,N),D=n.mul(O,N),V=n.add(H,H),V=n.add(V,H),M=n.mul(U,M),P=n.mul(F,P),V=n.add(V,M),M=n.sub(H,M),M=n.mul(U,M),P=n.add(P,M),H=n.mul(V,P),D=n.add(D,H),H=n.mul(q,P),O=n.mul($,O),O=n.sub(O,H),H=n.mul($,V),N=n.mul(q,N),N=n.add(N,H),new p(O,D,N)}subtract(E){return this.add(E.negate())}is0(){return this.equals(p.ZERO)}wNAF(E){return b.wNAFCached(this,E,p.normalizeZ)}multiplyUnsafe(E){const{endo:v,n:_}=e;Zu(\"scalar\",E,ku,_);const C=p.ZERO;if(E===ku)return C;if(this.is0()||E===si)return this;if(!v||b.hasPrecomputes(this))return b.wNAFCachedUnsafe(this,E,p.normalizeZ);let{k1neg:S,k1:A,k2neg:I,k2:O}=v.splitScalar(E),D=C,N=C,U=this;for(;A>ku||O>ku;)A&si&&(D=D.add(U)),O&si&&(N=N.add(U)),U=U.double(),A>>=si,O>>=si;return S&&(D=D.negate()),I&&(N=N.negate()),N=new p(n.mul(N.px,v.beta),N.py,N.pz),D.add(N)}multiply(E){const{endo:v,n:_}=e;Zu(\"scalar\",E,si,_);let C,S;if(v){const{k1neg:A,k1:I,k2neg:O,k2:D}=v.splitScalar(E);let{p:N,f:U}=this.wNAF(I),{p:F,f:H}=this.wNAF(D);N=b.constTimeNegate(A,N),F=b.constTimeNegate(O,F),F=new p(n.mul(F.px,v.beta),F.py,F.pz),C=N.add(F),S=U.add(H)}else{const{p:A,f:I}=this.wNAF(E);C=A,S=I}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(E,v,_){const C=p.BASE,S=(I,O)=>O===ku||O===si||!I.equals(C)?I.multiplyUnsafe(O):I.multiply(O),A=S(this,v).add(S(E,_));return A.is0()?void 0:A}toAffine(E){return d(this,E)}isTorsionFree(){const{h:E,isTorsionFree:v}=e;if(E===si)return!0;if(v)return v(p,this);throw new Error(\"isTorsionFree() has not been declared for the elliptic curve\")}clearCofactor(){const{h:E,clearCofactor:v}=e;return E===si?this:v?v(p,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return Ym(\"isCompressed\",E),this.assertValidity(),i(p,this,E)}toHex(E=!0){return Ym(\"isCompressed\",E),Jm(this.toRawBytes(E))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const m=e.nBitLength,b=vKe(p,e.endo?Math.ceil(m/2):m);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function kKe(t){const e=jce(t);return Ny(e,{hash:\"hash\",hmac:\"function\",randomBytes:\"function\"},{bits2int:\"function\",bits2int_modN:\"function\",lowS:\"boolean\"}),Object.freeze({lowS:!0,...e})}function MKe(t){const e=kKe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(M){return Ws(M,r)}function a(M){return sO(M,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=RKe({...e,toBytes(M,$,P){const q=$.toAffine(),T=n.toBytes(q.x),k=c2;return Ym(\"isCompressed\",P),P?k(Uint8Array.from([$.hasEvenY()?2:3]),T):k(Uint8Array.from([4]),T,n.toBytes(q.y))},fromBytes(M){const $=M.length,P=M[0],q=M.subarray(1);if($===i&&(P===2||P===3)){const T=N0(q);if(!y9(T,si,n.ORDER))throw new Error(\"Point is not on curve\");const k=d(T);let z;try{z=n.sqrt(k)}catch(B){const j=B instanceof Error?\": \"+B.message:\"\";throw new Error(\"Point is not on curve\"+j)}const L=(z&si)===si;return(P&1)===1!==L&&(z=n.neg(z)),{x:T,y:z}}else if($===s&&P===4){const T=n.fromBytes(q.subarray(0,n.BYTES)),k=n.fromBytes(q.subarray(n.BYTES,2*n.BYTES));return{x:T,y:k}}else{const T=i,k=s;throw new Error(\"invalid Point, expected length of \"+T+\", or uncompressed \"+k+\", got \"+$)}}}),p=M=>Jm(Qm(M,e.nByteLength));function m(M){const $=r>>si;return M>$}function b(M){return m(M)?o(-M):M}const y=(M,$,P)=>N0(M.slice($,P));class E{constructor($,P,q){this.r=$,this.s=P,this.recovery=q,this.assertValidity()}static fromCompact($){const P=e.nByteLength;return $=$o(\"compactSignature\",$,P*2),new E(y($,0,P),y($,P,2*P))}static fromDER($){const{r:P,s:q}=Tu.toSig($o(\"DER\",$));return new E(P,q)}assertValidity(){Zu(\"r\",this.r,si,r),Zu(\"s\",this.s,si,r)}addRecoveryBit($){return new E(this.r,this.s,$)}recoverPublicKey($){const{r:P,s:q,recovery:T}=this,k=I($o(\"msgHash\",$));if(T==null||![0,1,2,3].includes(T))throw new Error(\"recovery id invalid\");const z=T===2||T===3?P+e.n:P;if(z>=n.ORDER)throw new Error(\"recovery id 2 or 3 invalid\");const L=(T&1)===0?\"02\":\"03\",B=c.fromHex(L+p(z)),j=a(z),K=o(-k*j),G=o(q*j),Z=c.BASE.multiplyAndAddUnsafe(B,K,G);if(!Z)throw new Error(\"point at infinify\");return Z.assertValidity(),Z}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Xm(this.toDERHex())}toDERHex(){return Tu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Xm(this.toCompactHex())}toCompactHex(){return p(this.r)+p(this.s)}}const v={isValidPrivateKey(M){try{return l(M),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const M=Bce(e.n);return yKe(e.randomBytes(M),e.n)},precompute(M=8,$=c.BASE){return $._setWindowSize(M),$.multiply(BigInt(3)),$}};function _(M,$=!0){return c.fromPrivateKey(M).toRawBytes($)}function C(M){const $=fp(M),P=typeof M==\"string\",q=($||P)&&M.length;return $?q===i||q===s:P?q===2*i||q===2*s:M instanceof c}function S(M,$,P=!0){if(C(M))throw new Error(\"first arg must be private key\");if(!C($))throw new Error(\"second arg must be public key\");return c.fromHex($).multiply(l(M)).toRawBytes(P)}const A=e.bits2int||function(M){if(M.length>8192)throw new Error(\"input is too large\");const $=N0(M),P=M.length*8-e.nBitLength;return P>0?$>>BigInt(P):$},I=e.bits2int_modN||function(M){return o(A(M))},O=qk(e.nBitLength);function D(M){return Zu(\"num < 2^\"+e.nBitLength,M,ku,O),Qm(M,e.nByteLength)}function N(M,$,P=U){if([\"recovered\",\"canonical\"].some(X=>X in P))throw new Error(\"sign() legacy options not supported\");const{hash:q,randomBytes:T}=e;let{lowS:k,prehash:z,extraEntropy:L}=P;k==null&&(k=!0),M=$o(\"msgHash\",M),rG(P),z&&(M=$o(\"prehashed msgHash\",q(M)));const B=I(M),j=l($),K=[D(j),D(B)];if(L!=null&&L!==!1){const X=L===!0?T(n.BYTES):L;K.push($o(\"extraEntropy\",X))}const G=c2(...K),Z=B;function Y(X){const Q=A(X);if(!h(Q))return;const re=a(Q),oe=c.BASE.multiply(Q).toAffine(),ue=o(oe.x);if(ue===ku)return;const ye=o(re*o(Z+ue*j));if(ye===ku)return;let xe=(oe.x===ue?0:2)|Number(oe.y&si),Be=ye;return k&&m(ye)&&(Be=b(ye),xe^=1),new E(ue,Be,xe)}return{seed:G,k2sig:Y}}const U={lowS:e.lowS,prehash:!1},F={lowS:e.lowS,prehash:!1};function H(M,$,P=U){const{seed:q,k2sig:T}=N(M,$,P),k=e;return Nce(k.hash.outputLen,k.nByteLength,k.hmac)(q,T)}c.BASE._setWindowSize(8);function V(M,$,P,q=F){var ye;const T=M;$=$o(\"msgHash\",$),P=$o(\"publicKey\",P);const{lowS:k,prehash:z,format:L}=q;if(rG(q),\"strict\"in q)throw new Error(\"options.strict was renamed to lowS\");if(L!==void 0&&L!==\"compact\"&&L!==\"der\")throw new Error(\"format must be compact or der\");const B=typeof T==\"string\"||fp(T),j=!B&&!L&&typeof T==\"object\"&&T!==null&&typeof T.r==\"bigint\"&&typeof T.s==\"bigint\";if(!B&&!j)throw new Error(\"invalid signature, expected Uint8Array, hex string or Signature instance\");let K,G;try{if(j&&(K=new E(T.r,T.s)),B){try{L!==\"compact\"&&(K=E.fromDER(T))}catch(xe){if(!(xe instanceof Tu.Err))throw xe}!K&&L!==\"der\"&&(K=E.fromCompact(T))}G=c.fromHex(P)}catch{return!1}if(!K||k&&K.hasHighS())return!1;z&&($=e.hash($));const{r:Z,s:Y}=K,X=I($),Q=a(Y),re=o(X*Q),oe=o(Z*Q),ue=(ye=c.BASE.multiplyAndAddUnsafe(G,re,oe))==null?void 0:ye.toAffine();return ue?o(ue.x)===Z:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:S,sign:H,verify:V,ProjectivePoint:c,Signature:E,utils:v}}function DKe(t){return{hash:t,hmac:(e,...n)=>h9(t,e,jHe(...n)),randomBytes:Oy}}function BKe(t,e){const n=r=>MKe({...t,...DKe(r)});return{...n(e),create:n}}const zce=Mce(BigInt(\"0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff\")),LKe=zce.create(BigInt(\"-3\")),UKe=BigInt(\"0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b\"),jKe=BKe({a:LKe,b:UKe,Fp:zce,n:BigInt(\"0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551\"),Gx:BigInt(\"0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296\"),Gy:BigInt(\"0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5\"),h:BigInt(1),lowS:!1},_5),Fce=\"base10\",vs=\"base16\",sc=\"base64pad\",$f=\"base64url\",S5=\"utf8\",qce=0,Yu=1,x5=2,zKe=0,sG=1,Vw=12,Hk=32;function FKe(){const t=aO.utils.randomPrivateKey(),e=aO.getPublicKey(t);return{privateKey:Nn(t,vs),publicKey:Nn(e,vs)}}function cO(){const t=Oy(Hk);return Nn(t,vs)}function qKe(t,e){const n=aO.getSharedSecret(tr(t,vs),tr(e,vs)),r=WVe(_5,n,void 0,void 0,Hk);return Nn(r,vs)}function QE(t){const e=_5(tr(t,vs));return Nn(e,vs)}function rl(t){const e=_5(tr(t,S5));return Nn(e,vs)}function Hce(t){return tr(`${t}`,Fce)}function hp(t){return Number(Nn(t,Fce))}function Vce(t){return t.replace(/\\+/g,\"-\").replace(/\\//g,\"_\").replace(/=/g,\"\")}function Kce(t){const e=t.replace(/-/g,\"+\").replace(/_/g,\"/\"),n=(4-e.length%4)%4;return e+\"=\".repeat(n)}function HKe(t){const e=Hce(typeof t.type<\"u\"?t.type:qce);if(hp(e)===Yu&&typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");const n=typeof t.senderPublicKey<\"u\"?tr(t.senderPublicKey,vs):void 0,r=typeof t.iv<\"u\"?tr(t.iv,vs):Oy(Vw),i=tr(t.symKey,vs),s=Tce(i,r).encrypt(tr(t.message,S5)),o=Wce({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===$f?Vce(o):o}function VKe(t){const e=tr(t.symKey,vs),{sealed:n,iv:r}=l2({encoded:t.encoded,encoding:t.encoding}),i=Tce(e,r).decrypt(n);if(i===null)throw new Error(\"Failed to decrypt\");return Nn(i,S5)}function KKe(t,e){const n=Hce(x5),r=Oy(Vw),i=tr(t,S5),s=Wce({type:n,sealed:i,iv:r});return e===$f?Vce(s):s}function WKe(t,e){const{sealed:n}=l2({encoded:t,encoding:e});return Nn(n,S5)}function Wce(t){if(hp(t.type)===x5)return Nn(yl([t.type,t.sealed]),sc);if(hp(t.type)===Yu){if(typeof t.senderPublicKey>\"u\")throw new Error(\"Missing sender public key for type 1 envelope\");return Nn(yl([t.type,t.senderPublicKey,t.iv,t.sealed]),sc)}return Nn(yl([t.type,t.iv,t.sealed]),sc)}function l2(t){const e=(t.encoding||sc)===$f?Kce(t.encoded):t.encoded,n=tr(e,sc),r=n.slice(zKe,sG),i=sG;if(hp(r)===Yu){const c=i+Hk,l=c+Vw,d=n.slice(i,c),h=n.slice(c,l),p=n.slice(l);return{type:r,sealed:p,iv:h,senderPublicKey:d}}if(hp(r)===x5){const c=n.slice(i),l=Oy(Vw);return{type:r,sealed:c,iv:l}}const s=i+Vw,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function GKe(t,e){const n=l2({encoded:t,encoding:e==null?void 0:e.encoding});return Gce({type:hp(n.type),senderPublicKey:typeof n.senderPublicKey<\"u\"?Nn(n.senderPublicKey,vs):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function Gce(t){const e=(t==null?void 0:t.type)||qce;if(e===Yu){if(typeof(t==null?void 0:t.senderPublicKey)>\"u\")throw new Error(\"missing sender public key\");if(typeof(t==null?void 0:t.receiverPublicKey)>\"u\")throw new Error(\"missing receiver public key\")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function oG(t){return t.type===Yu&&typeof t.senderPublicKey==\"string\"&&typeof t.receiverPublicKey==\"string\"}function aG(t){return t.type===x5}function ZKe(t){const e=Buffer.from(t.x,\"base64\"),n=Buffer.from(t.y,\"base64\");return yl([new Uint8Array([4]),e,n])}function YKe(t,e){const[n,r,i]=t.split(\".\"),s=Buffer.from(Kce(i),\"base64\");if(s.length!==64)throw new Error(\"Invalid signature length\");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=_5(c),d=ZKe(e);if(!jKe.verify(yl([o,a]),l,d))throw new Error(\"Invalid signature\");return Lm(t).payload}const JKe=\"irn\";function v4(t){return(t==null?void 0:t.relay)||{protocol:JKe}}function xw(t){const e=Aoe[t];if(typeof e>\"u\")throw new Error(`Relay Protocol not supported: ${t}`);return e}function XKe(t,e=\"-\"){const n={},r=\"relay\"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,\"\"),o=t[i];n[s]=o}}),n}function cG(t){if(!t.includes(\"wc:\")){const l=mce(t);l!=null&&l.includes(\"wc:\")&&(t=l)}t=t.includes(\"wc://\")?t.replace(\"wc://\",\"\"):t,t=t.includes(\"wc:\")?t.replace(\"wc:\",\"\"):t;const e=t.indexOf(\":\"),n=t.indexOf(\"?\")!==-1?t.indexOf(\"?\"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split(\"@\"),s=typeof n<\"u\"?t.substring(n):\"\",o=new URLSearchParams(s),a={};o.forEach((l,d)=>{a[d]=l});const c=typeof a.methods==\"string\"?a.methods.split(\",\"):void 0;return{protocol:r,topic:QKe(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:XKe(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function QKe(t){return t.startsWith(\"//\")?t.substring(2):t}function eWe(t,e=\"-\"){const n=\"relay\",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function lG(t){const e=new URLSearchParams,n=eWe(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set(\"symKey\",t.symKey),t.expiryTimestamp&&e.set(\"expiryTimestamp\",t.expiryTimestamp.toString()),t.methods&&e.set(\"methods\",t.methods.join(\",\"));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function cE(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}var tWe=Object.defineProperty,nWe=Object.defineProperties,rWe=Object.getOwnPropertyDescriptors,uG=Object.getOwnPropertySymbols,iWe=Object.prototype.hasOwnProperty,sWe=Object.prototype.propertyIsEnumerable,dG=(t,e,n)=>e in t?tWe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oWe=(t,e)=>{for(var n in e||(e={}))iWe.call(e,n)&&dG(t,n,e[n]);if(uG)for(var n of uG(e))sWe.call(e,n)&&dG(t,n,e[n]);return t},aWe=(t,e)=>nWe(t,rWe(e));function Ry(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(\":\");e.push(`${r}:${i}`)}),e}function cWe(t){const e=[];return Object.values(t).forEach(n=>{e.push(...Ry(n.accounts))}),e}function lWe(t,e){const n=[];return Object.values(t).forEach(r=>{Ry(r.accounts).includes(e)&&n.push(...r.methods)}),n}function uWe(t,e){const n=[];return Object.values(t).forEach(r=>{Ry(r.accounts).includes(e)&&n.push(...r.events)}),n}function b9(t){return t.includes(\":\")}function im(t){return b9(t)?t.split(\":\")[0]:t}function fG(t){var e,n,r;const i={};if(!Wf(t))return i;for(const[s,o]of Object.entries(t)){const a=b9(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],d=im(s);i[d]=aWe(oWe({},i[d]),{chains:vl(a,(e=i[d])==null?void 0:e.chains),methods:vl(c,(n=i[d])==null?void 0:n.methods),events:vl(l,(r=i[d])==null?void 0:r.events)})}return i}function dWe(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(\":\");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function hG(t,e){e=e.map(r=>r.replace(\"did:pkh:\",\"\"));const n=dWe(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=vl(i.methods,t):i.methods=t,i.events=[\"chainChanged\",\"accountsChanged\"];return n}function fWe(t,e){var n,r,i,s,o,a;const c=fG(t),l=fG(e),d={},h=Object.keys(c).concat(Object.keys(l));for(const p of h)d[p]={chains:vl((n=c[p])==null?void 0:n.chains,(r=l[p])==null?void 0:r.chains),methods:vl((i=c[p])==null?void 0:i.methods,(s=l[p])==null?void 0:s.methods),events:vl((o=c[p])==null?void 0:o.events,(a=l[p])==null?void 0:a.events)};return d}const hWe={INVALID_METHOD:{message:\"Invalid method.\",code:1001},INVALID_EVENT:{message:\"Invalid event.\",code:1002},INVALID_UPDATE_REQUEST:{message:\"Invalid update request.\",code:1003},INVALID_EXTEND_REQUEST:{message:\"Invalid extend request.\",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:\"Invalid session settle request.\",code:1005},UNAUTHORIZED_METHOD:{message:\"Unauthorized method.\",code:3001},UNAUTHORIZED_EVENT:{message:\"Unauthorized event.\",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:\"Unauthorized update request.\",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:\"Unauthorized extend request.\",code:3004},USER_REJECTED:{message:\"User rejected.\",code:5e3},USER_REJECTED_CHAINS:{message:\"User rejected chains.\",code:5001},USER_REJECTED_METHODS:{message:\"User rejected methods.\",code:5002},USER_REJECTED_EVENTS:{message:\"User rejected events.\",code:5003},UNSUPPORTED_CHAINS:{message:\"Unsupported chains.\",code:5100},UNSUPPORTED_METHODS:{message:\"Unsupported methods.\",code:5101},UNSUPPORTED_EVENTS:{message:\"Unsupported events.\",code:5102},UNSUPPORTED_ACCOUNTS:{message:\"Unsupported accounts.\",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:\"Unsupported namespace key.\",code:5104},USER_DISCONNECTED:{message:\"User disconnected.\",code:6e3},SESSION_SETTLEMENT_FAILED:{message:\"Session settlement failed.\",code:7e3},WC_METHOD_UNSUPPORTED:{message:\"Unsupported wc_ method.\",code:10001}},pWe={NOT_INITIALIZED:{message:\"Not initialized.\",code:1},NO_MATCHING_KEY:{message:\"No matching key.\",code:2},RESTORE_WILL_OVERRIDE:{message:\"Restore will override.\",code:3},RESUBSCRIBED:{message:\"Resubscribed.\",code:4},MISSING_OR_INVALID:{message:\"Missing or invalid.\",code:5},EXPIRED:{message:\"Expired.\",code:6},UNKNOWN_TYPE:{message:\"Unknown type.\",code:7},MISMATCHED_TOPIC:{message:\"Mismatched topic.\",code:8},NON_CONFORMING_NAMESPACES:{message:\"Non conforming namespaces.\",code:9}};function Fe(t,e){const{message:n,code:r}=pWe[t];return{message:e?`${n} ${e}`:n,code:r}}function On(t,e){const{message:n,code:r}=hWe[t];return{message:e?`${n} ${e}`:n,code:r}}function Kf(t,e){return!!Array.isArray(t)}function Wf(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Bi(t){return typeof t>\"u\"}function Nr(t,e){return e&&Bi(t)?!0:typeof t==\"string\"&&!!t.trim().length}function Vk(t,e){return e&&Bi(t)?!0:typeof t==\"number\"&&!isNaN(t)}function gWe(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return w0(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],d=Ry(a),h=n[o];(!w0(dce(o,h),d)||!w0(h.methods,c)||!w0(h.events,l))&&(s=!1)}),s):!1}function E4(t){return Nr(t,!1)&&t.includes(\":\")?t.split(\":\").length===2:!1}function mWe(t){if(Nr(t,!1)&&t.includes(\":\")){const e=t.split(\":\");if(e.length===3){const n=e[0]+\":\"+e[1];return!!e[2]&&E4(n)}}return!1}function yWe(t){function e(n){try{return typeof new URL(n)<\"u\"}catch{return!1}}try{if(Nr(t,!1)){if(e(t))return!0;const n=mce(t);return e(n)}}catch{}return!1}function bWe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function wWe(t){return t==null?void 0:t.topic}function vWe(t,e){let n=null;return Nr(t==null?void 0:t.publicKey,!1)||(n=Fe(\"MISSING_OR_INVALID\",`${e} controller public key should be a string`)),n}function pG(t){let e=!0;return Kf(t)?t.length&&(e=t.every(n=>Nr(n,!1))):e=!1,e}function EWe(t,e,n){let r=null;return Kf(e)&&e.length?e.forEach(i=>{r||E4(i)||(r=On(\"UNSUPPORTED_CHAINS\",`${n}, chain ${i} should be a string and conform to \"namespace:chainId\" format`))}):E4(t)||(r=On(\"UNSUPPORTED_CHAINS\",`${n}, chains must be defined as \"namespace:chainId\" e.g. \"eip155:1\": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: [\"eip155:1\", \"eip155:5\"] }`)),r}function _We(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=EWe(i,dce(i,s),`${e} ${n}`);o&&(r=o)}),r}function CWe(t,e){let n=null;return Kf(t)?t.forEach(r=>{n||mWe(r)||(n=On(\"UNSUPPORTED_ACCOUNTS\",`${e}, account ${r} should be a string and conform to \"namespace:chainId:address\" format`))}):n=On(\"UNSUPPORTED_ACCOUNTS\",`${e}, accounts should be an array of strings conforming to \"namespace:chainId:address\" format`),n}function SWe(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=CWe(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function xWe(t,e){let n=null;return pG(t==null?void 0:t.methods)?pG(t==null?void 0:t.events)||(n=On(\"UNSUPPORTED_EVENTS\",`${e}, events should be an array of strings or empty array for no events`)):n=On(\"UNSUPPORTED_METHODS\",`${e}, methods should be an array of strings or empty array for no methods`),n}function Zce(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=xWe(r,`${e}, namespace`);i&&(n=i)}),n}function AWe(t,e,n){let r=null;if(t&&Wf(t)){const i=Zce(t,e);i&&(r=i);const s=_We(t,e,n);s&&(r=s)}else r=Fe(\"MISSING_OR_INVALID\",`${e}, ${n} should be an object with data`);return r}function jA(t,e){let n=null;if(t&&Wf(t)){const r=Zce(t,e);r&&(n=r);const i=SWe(t,e);i&&(n=i)}else n=Fe(\"MISSING_OR_INVALID\",`${e}, namespaces should be an object with data`);return n}function Yce(t){return Nr(t.protocol,!0)}function $We(t,e){let n=!1;return t?t&&Kf(t)&&t.length&&t.forEach(r=>{n=Yce(r)}):n=!0,n}function IWe(t){return typeof t==\"number\"}function qs(t){return typeof t<\"u\"&&typeof t!==null}function TWe(t){return!(!t||typeof t!=\"object\"||!t.code||!Vk(t.code,!1)||!t.message||!Nr(t.message,!1))}function PWe(t){return!(Bi(t)||!Nr(t.method,!1))}function OWe(t){return!(Bi(t)||Bi(t.result)&&Bi(t.error)||!Vk(t.id,!1)||!Nr(t.jsonrpc,!1))}function NWe(t){return!(Bi(t)||!Nr(t.name,!1))}function gG(t,e){return!(!E4(e)||!cWe(t).includes(e))}function RWe(t,e,n){return Nr(n,!1)?lWe(t,e).includes(n):!1}function kWe(t,e,n){return Nr(n,!1)?uWe(t,e).includes(n):!1}function mG(t,e,n){let r=null;const i=MWe(t),s=DWe(e),o=Object.keys(i),a=Object.keys(s),c=yG(Object.keys(t)),l=yG(Object.keys(e)),d=c.filter(h=>!l.includes(h));return d.length&&(r=Fe(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces keys don't satisfy requiredNamespaces.\n      Required: ${d.toString()}\n      Received: ${Object.keys(e).toString()}`)),w0(o,a)||(r=Fe(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces chains don't satisfy required namespaces.\n      Required: ${o.toString()}\n      Approved: ${a.toString()}`)),Object.keys(e).forEach(h=>{if(!h.includes(\":\")||r)return;const p=Ry(e[h].accounts);p.includes(h)||(r=Fe(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces accounts don't satisfy namespace accounts for ${h}\n        Required: ${h}\n        Approved: ${p.toString()}`))}),o.forEach(h=>{r||(w0(i[h].methods,s[h].methods)?w0(i[h].events,s[h].events)||(r=Fe(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces events don't satisfy namespace events for ${h}`)):r=Fe(\"NON_CONFORMING_NAMESPACES\",`${n} namespaces methods don't satisfy namespace methods for ${h}`))}),r}function MWe(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(\":\")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function yG(t){return[...new Set(t.map(e=>e.includes(\":\")?e.split(\":\")[0]:e))]}function DWe(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(\":\"))e[n]=t[n];else{const r=Ry(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function BWe(t,e){return Vk(t,!1)&&t<=e.max&&t>=e.min}function bG(){const t=v5();return new Promise(e=>{switch(t){case Mo.browser:e(LWe());break;case Mo.reactNative:e(UWe());break;case Mo.node:e(jWe());break;default:e(!0)}})}function LWe(){return Py()&&(navigator==null?void 0:navigator.onLine)}async function UWe(){if(mh()&&typeof global<\"u\"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function jWe(){return!0}function zWe(t){switch(v5()){case Mo.browser:FWe(t);break;case Mo.reactNative:qWe(t);break}}function FWe(t){!mh()&&Py()&&(window.addEventListener(\"online\",()=>t(!0)),window.addEventListener(\"offline\",()=>t(!1)))}function qWe(t){mh()&&typeof global<\"u\"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function HWe(){var t;return Py()&&wi.getDocument()?((t=wi.getDocument())==null?void 0:t.visibilityState)===\"visible\":!0}const zA={};class ow{static get(e){return zA[e]}static set(e,n){zA[e]=n}static delete(e){delete zA[e]}}var VWe={};const Jce=\"wc\",Xce=2,lO=\"core\",Il=`${Jce}@2:${lO}:`,KWe={logger:\"error\"},WWe={database:\":memory:\"},GWe=\"crypto\",wG=\"client_ed25519_seed\",ZWe=ce.ONE_DAY,YWe=\"keychain\",JWe=\"0.3\",XWe=\"messages\",QWe=\"0.3\",vG=ce.SIX_HOURS,eGe=\"publisher\",Qce=\"irn\",tGe=\"error\",ele=\"wss://relay.walletconnect.org\",nGe=\"relayer\",ui={message:\"relayer_message\",message_ack:\"relayer_message_ack\",connect:\"relayer_connect\",disconnect:\"relayer_disconnect\",error:\"relayer_error\",connection_stalled:\"relayer_connection_stalled\",transport_closed:\"relayer_transport_closed\",publish:\"relayer_publish\"},rGe=\"_subscription\",ya={payload:\"payload\",connect:\"connect\",disconnect:\"disconnect\",error:\"error\"},iGe=.1,uO=\"2.21.0\",Zn={link_mode:\"link_mode\",relay:\"relay\"},e8={inbound:\"inbound\",outbound:\"outbound\"},sGe=\"0.3\",oGe=\"WALLETCONNECT_CLIENT_ID\",EG=\"WALLETCONNECT_LINK_MODE_APPS\",_o={created:\"subscription_created\",deleted:\"subscription_deleted\",expired:\"subscription_expired\",disabled:\"subscription_disabled\",sync:\"subscription_sync\",resubscribed:\"subscription_resubscribed\"},aGe=\"subscription\",cGe=\"0.3\",lGe=\"pairing\",uGe=\"0.3\",aw={wc_pairingDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ce.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:0},res:{ttl:ce.ONE_DAY,prompt:!1,tag:0}}},l0={create:\"pairing_create\",expire:\"pairing_expire\",delete:\"pairing_delete\",ping:\"pairing_ping\"},Ka={created:\"history_created\",updated:\"history_updated\",deleted:\"history_deleted\",sync:\"history_sync\"},dGe=\"history\",fGe=\"0.3\",hGe=\"expirer\",Ca={created:\"expirer_created\",deleted:\"expirer_deleted\",expired:\"expirer_expired\",sync:\"expirer_sync\"},pGe=\"0.3\",gGe=\"verify-api\",mGe=\"https://verify.walletconnect.com\",tle=\"https://verify.walletconnect.org\",Kw=tle,yGe=`${Kw}/v3`,bGe=[mGe,tle],wGe=\"echo\",vGe=\"https://echo.walletconnect.com\",el={pairing_started:\"pairing_started\",pairing_uri_validation_success:\"pairing_uri_validation_success\",pairing_uri_not_expired:\"pairing_uri_not_expired\",store_new_pairing:\"store_new_pairing\",subscribing_pairing_topic:\"subscribing_pairing_topic\",subscribe_pairing_topic_success:\"subscribe_pairing_topic_success\",existing_pairing:\"existing_pairing\",pairing_not_expired:\"pairing_not_expired\",emit_inactive_pairing:\"emit_inactive_pairing\",emit_session_proposal:\"emit_session_proposal\",subscribing_to_pairing_topic:\"subscribing_to_pairing_topic\"},vu={no_wss_connection:\"no_wss_connection\",no_internet_connection:\"no_internet_connection\",malformed_pairing_uri:\"malformed_pairing_uri\",active_pairing_already_exists:\"active_pairing_already_exists\",subscribe_pairing_topic_failure:\"subscribe_pairing_topic_failure\",pairing_expired:\"pairing_expired\",proposal_expired:\"proposal_expired\",proposal_listener_not_found:\"proposal_listener_not_found\"},Wa={session_approve_started:\"session_approve_started\",proposal_not_expired:\"proposal_not_expired\",session_namespaces_validation_success:\"session_namespaces_validation_success\",create_session_topic:\"create_session_topic\",subscribing_session_topic:\"subscribing_session_topic\",subscribe_session_topic_success:\"subscribe_session_topic_success\",publishing_session_approve:\"publishing_session_approve\",session_approve_publish_success:\"session_approve_publish_success\",store_session:\"store_session\",publishing_session_settle:\"publishing_session_settle\",session_settle_publish_success:\"session_settle_publish_success\"},Wh={no_internet_connection:\"no_internet_connection\",no_wss_connection:\"no_wss_connection\",proposal_expired:\"proposal_expired\",subscribe_session_topic_failure:\"subscribe_session_topic_failure\",session_approve_publish_failure:\"session_approve_publish_failure\",session_settle_publish_failure:\"session_settle_publish_failure\",session_approve_namespace_validation_failure:\"session_approve_namespace_validation_failure\",proposal_not_found:\"proposal_not_found\"},Gh={authenticated_session_approve_started:\"authenticated_session_approve_started\",create_authenticated_session_topic:\"create_authenticated_session_topic\",cacaos_verified:\"cacaos_verified\",store_authenticated_session:\"store_authenticated_session\",subscribing_authenticated_session_topic:\"subscribing_authenticated_session_topic\",subscribe_authenticated_session_topic_success:\"subscribe_authenticated_session_topic_success\",publishing_authenticated_session_approve:\"publishing_authenticated_session_approve\"},cw={no_internet_connection:\"no_internet_connection\",invalid_cacao:\"invalid_cacao\",subscribe_authenticated_session_topic_failure:\"subscribe_authenticated_session_topic_failure\",authenticated_session_approve_publish_failure:\"authenticated_session_approve_publish_failure\",authenticated_session_pending_request_not_found:\"authenticated_session_pending_request_not_found\"},EGe=.1,_Ge=\"event-client\",CGe=86400,SGe=\"https://pulse.walletconnect.org/batch\";function xGe(t,e){if(t.length>=255)throw new TypeError(\"Alphabet too long\");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+\" is ambiguous\");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),d=Math.log(256)/Math.log(a);function h(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError(\"Expected Uint8Array\");if(b.length===0)return\"\";for(var y=0,E=0,v=0,_=b.length;v!==_&&b[v]===0;)v++,y++;for(var C=(_-v)*d+1>>>0,S=new Uint8Array(C);v!==_;){for(var A=b[v],I=0,O=C-1;(A!==0||I<E)&&O!==-1;O--,I++)A+=256*S[O]>>>0,S[O]=A%a>>>0,A=A/a>>>0;if(A!==0)throw new Error(\"Non-zero carry\");E=I,v++}for(var D=C-E;D!==C&&S[D]===0;)D++;for(var N=c.repeat(y);D<C;++D)N+=t.charAt(S[D]);return N}function p(b){if(typeof b!=\"string\")throw new TypeError(\"Expected String\");if(b.length===0)return new Uint8Array;var y=0;if(b[y]!==\" \"){for(var E=0,v=0;b[y]===c;)E++,y++;for(var _=(b.length-y)*l+1>>>0,C=new Uint8Array(_);b[y];){var S=n[b.charCodeAt(y)];if(S===255)return;for(var A=0,I=_-1;(S!==0||A<v)&&I!==-1;I--,A++)S+=a*C[I]>>>0,C[I]=S%256>>>0,S=S/256>>>0;if(S!==0)throw new Error(\"Non-zero carry\");v=A,y++}if(b[y]!==\" \"){for(var O=_-v;O!==_&&C[O]===0;)O++;for(var D=new Uint8Array(E+(_-O)),N=E;O!==_;)D[N++]=C[O++];return D}}}function m(b){var y=p(b);if(y)return y;throw new Error(`Non-${e} character`)}return{encode:h,decodeUnsafe:p,decode:m}}var AGe=xGe,$Ge=AGe;const nle=t=>{if(t instanceof Uint8Array&&t.constructor.name===\"Uint8Array\")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error(\"Unknown type, must be binary type\")},IGe=t=>new TextEncoder().encode(t),TGe=t=>new TextDecoder().decode(t);class PGe{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error(\"Unknown type, must be binary type\")}}class OGe{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error(\"Invalid prefix character\");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e==\"string\"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error(\"Can only multibase decode strings\")}or(e){return rle(this,e)}}class NGe{constructor(e){this.decoders=e}or(e){return rle(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const rle=(t,e)=>new NGe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class RGe{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new PGe(e,n,r),this.decoder=new OGe(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const w9=({name:t,prefix:e,encode:n,decode:r})=>new RGe(t,e,n,r),A5=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=$Ge(n,e);return w9({prefix:t,name:e,encode:r,decode:s=>nle(i(s))})},kGe=(t,e,n,r)=>{const i={};for(let d=0;d<e.length;++d)i[e[d]]=d;let s=t.length;for(;t[s-1]===\"=\";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let d=0;d<s;++d){const h=i[t[d]];if(h===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|h,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError(\"Unexpected end of data\");return o},MGe=(t,e,n)=>{const r=e[e.length-1]===\"=\",i=(1<<n)-1;let s=\"\",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+=\"=\";return s},Vi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>w9({prefix:e,name:t,encode(i){return MGe(i,r,n)},decode(i){return kGe(i,r,n,t)}}),DGe=w9({prefix:\"\\0\",name:\"identity\",encode:t=>TGe(t),decode:t=>IGe(t)});var BGe=Object.freeze({__proto__:null,identity:DGe});const LGe=Vi({prefix:\"0\",name:\"base2\",alphabet:\"01\",bitsPerChar:1});var UGe=Object.freeze({__proto__:null,base2:LGe});const jGe=Vi({prefix:\"7\",name:\"base8\",alphabet:\"01234567\",bitsPerChar:3});var zGe=Object.freeze({__proto__:null,base8:jGe});const FGe=A5({prefix:\"9\",name:\"base10\",alphabet:\"0123456789\"});var qGe=Object.freeze({__proto__:null,base10:FGe});const HGe=Vi({prefix:\"f\",name:\"base16\",alphabet:\"0123456789abcdef\",bitsPerChar:4}),VGe=Vi({prefix:\"F\",name:\"base16upper\",alphabet:\"0123456789ABCDEF\",bitsPerChar:4});var KGe=Object.freeze({__proto__:null,base16:HGe,base16upper:VGe});const WGe=Vi({prefix:\"b\",name:\"base32\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567\",bitsPerChar:5}),GGe=Vi({prefix:\"B\",name:\"base32upper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567\",bitsPerChar:5}),ZGe=Vi({prefix:\"c\",name:\"base32pad\",alphabet:\"abcdefghijklmnopqrstuvwxyz234567=\",bitsPerChar:5}),YGe=Vi({prefix:\"C\",name:\"base32padupper\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=\",bitsPerChar:5}),JGe=Vi({prefix:\"v\",name:\"base32hex\",alphabet:\"0123456789abcdefghijklmnopqrstuv\",bitsPerChar:5}),XGe=Vi({prefix:\"V\",name:\"base32hexupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV\",bitsPerChar:5}),QGe=Vi({prefix:\"t\",name:\"base32hexpad\",alphabet:\"0123456789abcdefghijklmnopqrstuv=\",bitsPerChar:5}),eZe=Vi({prefix:\"T\",name:\"base32hexpadupper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUV=\",bitsPerChar:5}),tZe=Vi({prefix:\"h\",name:\"base32z\",alphabet:\"ybndrfg8ejkmcpqxot1uwisza345h769\",bitsPerChar:5});var nZe=Object.freeze({__proto__:null,base32:WGe,base32upper:GGe,base32pad:ZGe,base32padupper:YGe,base32hex:JGe,base32hexupper:XGe,base32hexpad:QGe,base32hexpadupper:eZe,base32z:tZe});const rZe=A5({prefix:\"k\",name:\"base36\",alphabet:\"0123456789abcdefghijklmnopqrstuvwxyz\"}),iZe=A5({prefix:\"K\",name:\"base36upper\",alphabet:\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\"});var sZe=Object.freeze({__proto__:null,base36:rZe,base36upper:iZe});const oZe=A5({name:\"base58btc\",prefix:\"z\",alphabet:\"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz\"}),aZe=A5({name:\"base58flickr\",prefix:\"Z\",alphabet:\"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ\"});var cZe=Object.freeze({__proto__:null,base58btc:oZe,base58flickr:aZe});const lZe=Vi({prefix:\"m\",name:\"base64\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",bitsPerChar:6}),uZe=Vi({prefix:\"M\",name:\"base64pad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",bitsPerChar:6}),dZe=Vi({prefix:\"u\",name:\"base64url\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\",bitsPerChar:6}),fZe=Vi({prefix:\"U\",name:\"base64urlpad\",alphabet:\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=\",bitsPerChar:6});var hZe=Object.freeze({__proto__:null,base64:lZe,base64pad:uZe,base64url:dZe,base64urlpad:fZe});const ile=Array.from(\"\"),pZe=ile.reduce((t,e,n)=>(t[n]=e,t),[]),gZe=ile.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function mZe(t){return t.reduce((e,n)=>(e+=pZe[n],e),\"\")}function yZe(t){const e=[];for(const n of t){const r=gZe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const bZe=w9({prefix:\"\",name:\"base256emoji\",encode:mZe,decode:yZe});var wZe=Object.freeze({__proto__:null,base256emoji:bZe}),vZe=sle,_G=128,EZe=-128,_Ze=Math.pow(2,31);function sle(t,e,n){e=e||[],n=n||0;for(var r=n;t>=_Ze;)e[n++]=t&255|_G,t/=128;for(;t&EZe;)e[n++]=t&255|_G,t>>>=7;return e[n]=t|0,sle.bytes=n-r+1,e}var CZe=dO,SZe=128,CG=127;function dO(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw dO.bytes=0,new RangeError(\"Could not decode varint\");o=t[s++],n+=i<28?(o&CG)<<i:(o&CG)*Math.pow(2,i),i+=7}while(o>=SZe);return dO.bytes=s-r,n}var xZe=Math.pow(2,7),AZe=Math.pow(2,14),$Ze=Math.pow(2,21),IZe=Math.pow(2,28),TZe=Math.pow(2,35),PZe=Math.pow(2,42),OZe=Math.pow(2,49),NZe=Math.pow(2,56),RZe=Math.pow(2,63),kZe=function(t){return t<xZe?1:t<AZe?2:t<$Ze?3:t<IZe?4:t<TZe?5:t<PZe?6:t<OZe?7:t<NZe?8:t<RZe?9:10},MZe={encode:vZe,decode:CZe,encodingLength:kZe},ole=MZe;const SG=(t,e,n=0)=>(ole.encode(t,e,n),e),xG=t=>ole.encodingLength(t),fO=(t,e)=>{const n=e.byteLength,r=xG(t),i=r+xG(n),s=new Uint8Array(i+n);return SG(t,s,0),SG(n,s,r),s.set(e,i),new DZe(t,n,e,s)};class DZe{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const ale=({name:t,code:e,encode:n})=>new BZe(t,e,n);class BZe{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?fO(this.code,n):n.then(r=>fO(this.code,r))}else throw Error(\"Unknown type, must be binary type\")}}const cle=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),LZe=ale({name:\"sha2-256\",code:18,encode:cle(\"SHA-256\")}),UZe=ale({name:\"sha2-512\",code:19,encode:cle(\"SHA-512\")});var jZe=Object.freeze({__proto__:null,sha256:LZe,sha512:UZe});const lle=0,zZe=\"identity\",ule=nle,FZe=t=>fO(lle,ule(t)),qZe={code:lle,name:zZe,encode:ule,digest:FZe};var HZe=Object.freeze({__proto__:null,identity:qZe});new TextEncoder,new TextDecoder;const AG={...BGe,...UGe,...zGe,...qGe,...KGe,...nZe,...sZe,...cZe,...hZe,...wZe};({...jZe,...HZe});function VZe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function dle(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const $G=dle(\"utf8\",\"u\",t=>\"u\"+new TextDecoder(\"utf8\").decode(t),t=>new TextEncoder().encode(t.substring(1))),FA=dle(\"ascii\",\"a\",t=>{let e=\"a\";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=VZe(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),KZe={utf8:$G,\"utf-8\":$G,hex:AG.base16,latin1:FA,ascii:FA,binary:FA,...AG};function WZe(t,e=\"utf8\"){const n=KZe[e];if(!n)throw new Error(`Unsupported encoding \"${e}\"`);return(e===\"utf8\"||e===\"utf-8\")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,\"utf8\"):n.decoder.decode(`${n.prefix}${t}`)}var GZe=Object.defineProperty,ZZe=(t,e,n)=>e in t?GZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gc=(t,e,n)=>ZZe(t,typeof e!=\"symbol\"?e+\"\":e,n);class YZe{constructor(e,n){this.core=e,this.logger=n,Gc(this,\"keychain\",new Map),Gc(this,\"name\",YWe),Gc(this,\"version\",JWe),Gc(this,\"initialized\",!1),Gc(this,\"storagePrefix\",Il),Gc(this,\"init\",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<\"u\"&&(this.keychain=r),this.initialized=!0}}),Gc(this,\"has\",r=>(this.isInitialized(),this.keychain.has(r))),Gc(this,\"set\",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Gc(this,\"get\",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>\"u\"){const{message:s}=Fe(\"NO_MATCHING_KEY\",`${this.name}: ${r}`);throw new Error(s)}return i}),Gc(this,\"del\",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,JP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?XP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var JZe=Object.defineProperty,XZe=(t,e,n)=>e in t?JZe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Oi=(t,e,n)=>XZe(t,typeof e!=\"symbol\"?e+\"\":e,n);class QZe{constructor(e,n,r){this.core=e,this.logger=n,Oi(this,\"name\",GWe),Oi(this,\"keychain\"),Oi(this,\"randomSessionIdentifier\",cO()),Oi(this,\"initialized\",!1),Oi(this,\"init\",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Oi(this,\"hasKeys\",i=>(this.isInitialized(),this.keychain.has(i))),Oi(this,\"getClientId\",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=a4(i);return Ck(s.publicKey)}),Oi(this,\"generateKeyPair\",()=>{this.isInitialized();const i=FKe();return this.setPrivateKey(i.publicKey,i.privateKey)}),Oi(this,\"signJWT\",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=a4(s),a=this.randomSessionIdentifier;return await voe(a,i,ZWe,o)}),Oi(this,\"generateSharedKey\",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=qKe(a,s);return this.setSymKey(c,o)}),Oi(this,\"setSymKey\",async(i,s)=>{this.isInitialized();const o=s||QE(i);return await this.keychain.set(o,i),o}),Oi(this,\"deleteKeyPair\",async i=>{this.isInitialized(),await this.keychain.del(i)}),Oi(this,\"deleteSymKey\",async i=>{this.isInitialized(),await this.keychain.del(i)}),Oi(this,\"encode\",async(i,s,o)=>{this.isInitialized();const a=Gce(o),c=Al(s);if(aG(a))return KKe(c,o==null?void 0:o.encoding);if(oG(a)){const p=a.senderPublicKey,m=a.receiverPublicKey;i=await this.generateSharedKey(p,m)}const l=this.getSymKey(i),{type:d,senderPublicKey:h}=a;return HKe({type:d,symKey:l,message:c,senderPublicKey:h,encoding:o==null?void 0:o.encoding})}),Oi(this,\"decode\",async(i,s,o)=>{this.isInitialized();const a=GKe(s,o);if(aG(a)){const c=WKe(s,o==null?void 0:o.encoding);return od(c)}if(oG(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=VKe({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return od(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Oi(this,\"getPayloadType\",(i,s=sc)=>{const o=l2({encoded:i,encoding:s});return hp(o.type)}),Oi(this,\"getPayloadSenderPublicKey\",(i,s=sc)=>{const o=l2({encoded:i,encoding:s});return o.senderPublicKey?Nn(o.senderPublicKey,vs):void 0}),this.core=e,this.logger=wn(n,this.name),this.keychain=r||new YZe(this.core,this.logger)}get context(){return jn(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e=\"\";try{e=this.keychain.get(wG)}catch{e=cO(),await this.keychain.set(wG,e)}return WZe(e,\"base16\")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var eYe=Object.defineProperty,tYe=Object.defineProperties,nYe=Object.getOwnPropertyDescriptors,IG=Object.getOwnPropertySymbols,rYe=Object.prototype.hasOwnProperty,iYe=Object.prototype.propertyIsEnumerable,hO=(t,e,n)=>e in t?eYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,sYe=(t,e)=>{for(var n in e||(e={}))rYe.call(e,n)&&hO(t,n,e[n]);if(IG)for(var n of IG(e))iYe.call(e,n)&&hO(t,n,e[n]);return t},oYe=(t,e)=>tYe(t,nYe(e)),vo=(t,e,n)=>hO(t,typeof e!=\"symbol\"?e+\"\":e,n);class aYe extends Hqe{constructor(e,n){super(e,n),this.logger=e,this.core=n,vo(this,\"messages\",new Map),vo(this,\"messagesWithoutClientAck\",new Map),vo(this,\"name\",XWe),vo(this,\"version\",QWe),vo(this,\"initialized\",!1),vo(this,\"storagePrefix\",Il),vo(this,\"init\",async()=>{if(!this.initialized){this.logger.trace(\"Initialized\");try{const r=await this.getRelayerMessages();typeof r<\"u\"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<\"u\"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),vo(this,\"set\",async(r,i,s)=>{this.isInitialized();const o=rl(i);let a=this.messages.get(r);if(typeof a>\"u\"&&(a={}),typeof a[o]<\"u\")return o;if(a[o]=i,this.messages.set(r,a),s===e8.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,oYe(sYe({},c),{[o]:i}))}return await this.persist(),o}),vo(this,\"get\",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>\"u\"&&(i={}),i}),vo(this,\"getWithoutAck\",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),vo(this,\"has\",(r,i)=>{this.isInitialized();const s=this.get(r),o=rl(i);return typeof s[o]<\"u\"}),vo(this,\"ack\",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>\"u\")return;const o=rl(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),vo(this,\"del\",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=wn(e,this.name),this.core=n}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name+\"_withoutClientAck\"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,JP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,JP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<\"u\"?XP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<\"u\"?XP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var cYe=Object.defineProperty,lYe=Object.defineProperties,uYe=Object.getOwnPropertyDescriptors,TG=Object.getOwnPropertySymbols,dYe=Object.prototype.hasOwnProperty,fYe=Object.prototype.propertyIsEnumerable,pO=(t,e,n)=>e in t?cYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lE=(t,e)=>{for(var n in e||(e={}))dYe.call(e,n)&&pO(t,n,e[n]);if(TG)for(var n of TG(e))fYe.call(e,n)&&pO(t,n,e[n]);return t},qA=(t,e)=>lYe(t,uYe(e)),Ga=(t,e,n)=>pO(t,typeof e!=\"symbol\"?e+\"\":e,n);class hYe extends Vqe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ga(this,\"events\",new Dr.EventEmitter),Ga(this,\"name\",eGe),Ga(this,\"queue\",new Map),Ga(this,\"publishTimeout\",ce.toMiliseconds(ce.ONE_MINUTE)),Ga(this,\"initialPublishTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),Ga(this,\"needsTransportRestart\",!1),Ga(this,\"publish\",async(r,i,s)=>{var o;this.logger.debug(\"Publishing Payload\"),this.logger.trace({type:\"method\",method:\"publish\",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||vG,c=v4(s),l=(s==null?void 0:s.prompt)||!1,d=(s==null?void 0:s.tag)||0,h=(s==null?void 0:s.id)||ko().toString(),p={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:d,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},m=`Failed to publish payload, please try again. id:${h} tag:${d}`;try{const b=new Promise(async y=>{const E=({id:_})=>{p.opts.id===_&&(this.removeRequestFromQueue(_),this.relayer.events.removeListener(ui.publish,E),y(p))};this.relayer.events.on(ui.publish,E);const v=Rf(new Promise((_,C)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:d,id:h,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(_).catch(S=>{this.logger.warn(S,S==null?void 0:S.message),C(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${h} tag:${d}`);try{await v,this.events.removeListener(ui.publish,E)}catch(_){this.queue.set(h,qA(lE({},p),{attempt:1})),this.logger.warn(_,_==null?void 0:_.message)}});this.logger.trace({type:\"method\",method:\"publish\",params:{id:h,topic:r,message:i,opts:s}}),await Rf(b,this.publishTimeout,m)}catch(b){if(this.logger.debug(\"Failed to Publish Payload\"),this.logger.error(b),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw b}finally{this.queue.delete(h)}}),Ga(this,\"on\",(r,i)=>{this.events.on(r,i)}),Ga(this,\"once\",(r,i)=>{this.events.once(r,i)}),Ga(this,\"off\",(r,i)=>{this.events.off(r,i)}),Ga(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=wn(n,this.name),this.registerEventListeners()}get context(){return jn(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=vG,prompt:l,tag:d,id:h,attestation:p,tvf:m}=e,b={method:xw(v4().protocol).publish,params:lE({topic:o,message:a,ttl:c,prompt:l,tag:d,attestation:p},m),id:h};Bi((n=b.params)==null?void 0:n.prompt)&&((r=b.params)==null||delete r.prompt),Bi((i=b.params)==null?void 0:i.tag)&&((s=b.params)==null||delete s.tag),this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"message\",direction:\"outgoing\",request:b});const y=await this.relayer.request(b);return this.relayer.events.emit(ui.publish,e),this.logger.debug(\"Successfully Published Payload\"),y}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,qA(lE({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(qA(lE({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(Jo.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ui.connection_stalled);return}this.checkQueue()}),this.relayer.on(ui.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var pYe=Object.defineProperty,gYe=(t,e,n)=>e in t?pYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p1=(t,e,n)=>gYe(t,typeof e!=\"symbol\"?e+\"\":e,n);class mYe{constructor(){p1(this,\"map\",new Map),p1(this,\"set\",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),p1(this,\"get\",e=>this.map.get(e)||[]),p1(this,\"exists\",(e,n)=>this.get(e).includes(n)),p1(this,\"delete\",(e,n)=>{if(typeof n>\"u\"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),p1(this,\"clear\",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var yYe=Object.defineProperty,bYe=Object.defineProperties,wYe=Object.getOwnPropertyDescriptors,PG=Object.getOwnPropertySymbols,vYe=Object.prototype.hasOwnProperty,EYe=Object.prototype.propertyIsEnumerable,gO=(t,e,n)=>e in t?yYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lw=(t,e)=>{for(var n in e||(e={}))vYe.call(e,n)&&gO(t,n,e[n]);if(PG)for(var n of PG(e))EYe.call(e,n)&&gO(t,n,e[n]);return t},HA=(t,e)=>bYe(t,wYe(e)),Ln=(t,e,n)=>gO(t,typeof e!=\"symbol\"?e+\"\":e,n);class _Ye extends Gqe{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Ln(this,\"subscriptions\",new Map),Ln(this,\"topicMap\",new mYe),Ln(this,\"events\",new Dr.EventEmitter),Ln(this,\"name\",aGe),Ln(this,\"version\",cGe),Ln(this,\"pending\",new Map),Ln(this,\"cached\",[]),Ln(this,\"initialized\",!1),Ln(this,\"storagePrefix\",Il),Ln(this,\"subscribeTimeout\",ce.toMiliseconds(ce.ONE_MINUTE)),Ln(this,\"initialSubscribeTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),Ln(this,\"clientId\"),Ln(this,\"batchSubscribeTopicsLimit\",500),Ln(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Ln(this,\"subscribe\",async(r,i)=>{this.isInitialized(),this.logger.debug(\"Subscribing Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:r,opts:i}});try{const s=v4(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a==\"string\"&&(this.onSubscribe(a,o),this.logger.debug(\"Successfully Subscribed Topic\"),this.logger.trace({type:\"method\",method:\"subscribe\",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug(\"Failed to Subscribe Topic\"),this.logger.error(s),s}}),Ln(this,\"unsubscribe\",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<\"u\"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Ln(this,\"isSubscribed\",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Ln(this,\"isKnownTopic\",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Ln(this,\"on\",(r,i)=>{this.events.on(r,i)}),Ln(this,\"once\",(r,i)=>{this.events.once(r,i)}),Ln(this,\"off\",(r,i)=>{this.events.off(r,i)}),Ln(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),Ln(this,\"start\",async()=>{await this.onConnect()}),Ln(this,\"stop\",async()=>{await this.onDisconnect()}),Ln(this,\"restart\",async()=>{await this.restore(),await this.onRestart()}),Ln(this,\"checkPending\",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Ln(this,\"registerEventListeners\",()=>{this.relayer.core.heartbeat.on(Jo.pulse,async()=>{await this.checkPending()}),this.events.on(_o.created,async r=>{const i=_o.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:r}),await this.persist()}),this.events.on(_o.deleted,async r=>{const i=_o.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:\"event\",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=wn(n,this.name),this.clientId=\"\"}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+\"//\"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug(\"Unsubscribing Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:n,opts:r}});try{const i=v4(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=On(\"USER_DISCONNECTED\",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug(\"Successfully Unsubscribed Topic\"),this.logger.trace({type:\"method\",method:\"unsubscribe\",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug(\"Failed to Unsubscribe Topic\"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===Zn.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:xw(n.protocol).subscribe,params:{topic:e}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===Zn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(d=>this.logger.warn(d))},ce.toMiliseconds(ce.ONE_SECOND)),a;const c=new Promise(async d=>{const h=p=>{p.topic===e&&(this.events.removeListener(_o.created,h),d(p.id))};this.events.on(_o.created,h);try{const p=await Rf(new Promise((m,b)=>{this.relayer.request(s).catch(y=>{this.logger.warn(y,y==null?void 0:y.message),b(y)}).then(m)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(_o.created,h),d(p)}catch{}}),l=await Rf(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug(\"Outgoing Relay Subscribe Payload stalled\"),this.relayer.events.emit(ui.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:xw(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:r});try{await await Rf(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,\"rpcBatchSubscribe failed, please try again\")}catch{this.relayer.events.emit(ui.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:xw(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:r});let i;try{i=await await Rf(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,\"rpcBatchFetchMessages failed, please try again\")}catch{this.relayer.events.emit(ui.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:xw(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug(\"Outgoing Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"outgoing\",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,HA(lw({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,lw({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug(\"Setting subscription\"),this.logger.trace({type:\"method\",method:\"setSubscription\",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,lw({},n)),this.topicMap.set(n.topic,e),this.events.emit(_o.created,n)}getSubscription(e){this.logger.debug(\"Getting subscription\"),this.logger.trace({type:\"method\",method:\"getSubscription\",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Fe(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug(\"Deleting subscription\"),this.logger.trace({type:\"method\",method:\"deleteSubscription\",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(_o.deleted,HA(lw({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(_o.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(_o.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>\"u\"||!e.length)return;if(this.subscriptions.size){const{message:n}=Fe(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>HA(lw({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await THe(ce.toMiliseconds(ce.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return rl(e+await this.getClientId())}}var CYe=Object.defineProperty,OG=Object.getOwnPropertySymbols,SYe=Object.prototype.hasOwnProperty,xYe=Object.prototype.propertyIsEnumerable,mO=(t,e,n)=>e in t?CYe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,NG=(t,e)=>{for(var n in e||(e={}))SYe.call(e,n)&&mO(t,n,e[n]);if(OG)for(var n of OG(e))xYe.call(e,n)&&mO(t,n,e[n]);return t},an=(t,e,n)=>mO(t,typeof e!=\"symbol\"?e+\"\":e,n);class AYe extends Kqe{constructor(e){super(e),an(this,\"protocol\",\"wc\"),an(this,\"version\",2),an(this,\"core\"),an(this,\"logger\"),an(this,\"events\",new Dr.EventEmitter),an(this,\"provider\"),an(this,\"messages\"),an(this,\"subscriber\"),an(this,\"publisher\"),an(this,\"name\",nGe),an(this,\"transportExplicitlyClosed\",!1),an(this,\"initialized\",!1),an(this,\"connectionAttemptInProgress\",!1),an(this,\"relayUrl\"),an(this,\"projectId\"),an(this,\"packageName\"),an(this,\"bundleId\"),an(this,\"hasExperiencedNetworkDisruption\",!1),an(this,\"pingTimeout\"),an(this,\"heartBeatTimeout\",ce.toMiliseconds(ce.THIRTY_SECONDS+ce.FIVE_SECONDS)),an(this,\"reconnectTimeout\"),an(this,\"connectPromise\"),an(this,\"reconnectInProgress\",!1),an(this,\"requestsInFlight\",[]),an(this,\"connectTimeout\",ce.toMiliseconds(ce.ONE_SECOND*15)),an(this,\"request\",async n=>{var r,i;this.logger.debug(\"Publishing Request Payload\");const s=n.id||ko().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},\"relayer.request - publishing...\");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||\"\"}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),an(this,\"resetPingTimeout\",()=>{b4()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},\"pingTimeout: Connection stalled, terminating...\"),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),an(this,\"onPayloadHandler\",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),an(this,\"onConnectHandler\",()=>{this.logger.warn({},\"Relayer connected \"),this.startPingTimeout(),this.events.emit(ui.connect)}),an(this,\"onDisconnectHandler\",()=>{this.logger.warn({},\"Relayer disconnected \"),this.requestsInFlight=[],this.onProviderDisconnect()}),an(this,\"onProviderErrorHandler\",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(ui.error,n),this.logger.fatal(\"Fatal socket error received, closing transport\"),this.transportClose()}),an(this,\"registerProviderListeners\",()=>{this.provider.on(ya.payload,this.onPayloadHandler),this.provider.on(ya.connect,this.onConnectHandler),this.provider.on(ya.disconnect,this.onDisconnectHandler),this.provider.on(ya.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<\"u\"&&typeof e.logger!=\"string\"?wn(e.logger,this.name):ph(pd({level:e.logger||tGe})),this.messages=new aYe(this.logger,e.core),this.subscriber=new _Ye(this,this.logger),this.publisher=new hYe(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||ele,this.projectId=e.projectId,hHe()?this.packageName=PW():pHe()&&(this.bundleId=PW()),this.provider={}}async init(){if(this.logger.trace(\"Initialized\"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return jn(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:Zn.relay},e8.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)===\"relay\")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>\"u\"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||\"\",c;const l=d=>{d.topic===e&&(this.subscriber.off(_o.created,l),c())};return await Promise.all([new Promise(d=>{c=d,this.subscriber.on(_o.created,l)}),new Promise(async(d,h)=>{a=await this.subscriber.subscribe(e,NG({internal:{throwOnFailedPublish:o}},n)).catch(p=>{o&&h(p)})||a,d()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Rf(this.provider.disconnect(),2e3,\"provider.disconnect()\").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn(\"Starting WS connection skipped because the client has no topics to work with.\");return}if(this.connectPromise?(this.logger.debug({},\"Waiting for existing connection attempt to resolve...\"),await this.connectPromise,this.logger.debug({},\"Existing connection attempt resolved\")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},\"Restarting transport...\"),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await bG())throw new Error(\"No internet connection detected. Please restart your network and try again.\")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace(\"Batch message events is empty. Ignoring...\");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,\"Error while processing batch message event: \"+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=jr(ce.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:\"irn\"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(ui.message,e),await this.recordMessageEvent(e,e8.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(ya.disconnect,s),await Rf(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(ya.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error(\"Connection interrupted while trying to subscribe\"))};this.provider.once(ya.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ya.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,ce.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(b4())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on(\"ping\",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new nr(new _ae(wHe({sdkVersion:uO,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug(\"Incoming Relay Payload\"),this.logger.trace({type:\"payload\",direction:\"incoming\",payload:e}),Ty(e)){if(!e.method.endsWith(rGe))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:Zn.relay,attestation:o};this.logger.debug(\"Emitting Relayer Payload\"),this.logger.trace(NG({type:\"event\",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else jp(e)&&this.events.emit(ui.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,e8.inbound),this.events.emit(ui.message,e))}async acknowledgePayload(e){const n=gh(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(ya.payload,this.onPayloadHandler),this.provider.off(ya.connect,this.onConnectHandler),this.provider.off(ya.disconnect,this.onDisconnectHandler),this.provider.off(ya.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await bG();zWe(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(Jo.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&HWe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(n){this.logger.warn(n,n==null?void 0:n.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ui.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},ce.toMiliseconds(iGe)))))}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function $Ye(){}function RG(t){if(!t||typeof t!=\"object\")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)===\"[object Object]\":!1}function kG(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function MG(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const IYe=\"[object RegExp]\",TYe=\"[object String]\",PYe=\"[object Number]\",OYe=\"[object Boolean]\",DG=\"[object Arguments]\",NYe=\"[object Symbol]\",RYe=\"[object Date]\",kYe=\"[object Map]\",MYe=\"[object Set]\",DYe=\"[object Array]\",BYe=\"[object Function]\",LYe=\"[object ArrayBuffer]\",VA=\"[object Object]\",UYe=\"[object Error]\",jYe=\"[object DataView]\",zYe=\"[object Uint8Array]\",FYe=\"[object Uint8ClampedArray]\",qYe=\"[object Uint16Array]\",HYe=\"[object Uint32Array]\",VYe=\"[object BigUint64Array]\",KYe=\"[object Int8Array]\",WYe=\"[object Int16Array]\",GYe=\"[object Int32Array]\",ZYe=\"[object BigInt64Array]\",YYe=\"[object Float32Array]\",JYe=\"[object Float64Array]\";function XYe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function QYe(t,e,n){return Aw(t,e,void 0,void 0,void 0,void 0,n)}function Aw(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case\"bigint\":case\"string\":case\"boolean\":case\"symbol\":case\"undefined\":return t===e;case\"number\":return t===e||Object.is(t,e);case\"function\":return t===e;case\"object\":return Ww(t,e,s,o)}return Ww(t,e,s,o)}function Ww(t,e,n,r){if(Object.is(t,e))return!0;let i=MG(t),s=MG(e);if(i===DG&&(i=VA),s===DG&&(s=VA),i!==s)return!1;switch(i){case TYe:return t.toString()===e.toString();case PYe:{const c=t.valueOf(),l=e.valueOf();return XYe(c,l)}case OYe:case RYe:case NYe:return Object.is(t.valueOf(),e.valueOf());case IYe:return t.source===e.source&&t.flags===e.flags;case BYe:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case kYe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!Aw(l,e.get(c),c,t,e,n,r))return!1;return!0}case MYe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let d=0;d<c.length;d++){const h=c[d],p=l.findIndex(m=>Aw(h,m,void 0,t,e,n,r));if(p===-1)return!1;l.splice(p,1)}return!0}case DYe:case zYe:case FYe:case qYe:case HYe:case VYe:case KYe:case WYe:case GYe:case ZYe:case YYe:case JYe:{if(typeof Buffer<\"u\"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!Aw(t[c],e[c],c,t,e,n,r))return!1;return!0}case LYe:return t.byteLength!==e.byteLength?!1:Ww(new Uint8Array(t),new Uint8Array(e),n,r);case jYe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Ww(new Uint8Array(t),new Uint8Array(e),n,r);case UYe:return t.name===e.name&&t.message===e.message;case VA:{if(!(Ww(t.constructor,e.constructor,n,r)||RG(t)&&RG(e)))return!1;const c=[...Object.keys(t),...kG(t)],l=[...Object.keys(e),...kG(e)];if(c.length!==l.length)return!1;for(let d=0;d<c.length;d++){const h=c[d],p=t[h];if(!Object.hasOwn(e,h))return!1;const m=e[h];if(!Aw(p,m,h,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function eJe(t,e){return QYe(t,e,$Ye)}var tJe=Object.defineProperty,BG=Object.getOwnPropertySymbols,nJe=Object.prototype.hasOwnProperty,rJe=Object.prototype.propertyIsEnumerable,yO=(t,e,n)=>e in t?tJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,LG=(t,e)=>{for(var n in e||(e={}))nJe.call(e,n)&&yO(t,n,e[n]);if(BG)for(var n of BG(e))rJe.call(e,n)&&yO(t,n,e[n]);return t},Us=(t,e,n)=>yO(t,typeof e!=\"symbol\"?e+\"\":e,n);class Kp extends Wqe{constructor(e,n,r,i=Il,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Us(this,\"map\",new Map),Us(this,\"version\",sGe),Us(this,\"cached\",[]),Us(this,\"initialized\",!1),Us(this,\"getKey\"),Us(this,\"storagePrefix\",Il),Us(this,\"recentlyDeleted\",[]),Us(this,\"recentlyDeletedLimit\",200),Us(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Bi(o)?this.map.set(this.getKey(o),o):bWe(o)?this.map.set(o.id,o):wWe(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Us(this,\"set\",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug(\"Setting value\"),this.logger.trace({type:\"method\",method:\"set\",key:o,value:a}),this.map.set(o,a),await this.persist())}),Us(this,\"get\",o=>(this.isInitialized(),this.logger.debug(\"Getting value\"),this.logger.trace({type:\"method\",method:\"get\",key:o}),this.getData(o))),Us(this,\"getAll\",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>eJe(a[c],o[c]))):this.values)),Us(this,\"update\",async(o,a)=>{this.isInitialized(),this.logger.debug(\"Updating value\"),this.logger.trace({type:\"method\",method:\"update\",key:o,update:a});const c=LG(LG({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Us(this,\"delete\",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug(\"Deleting value\"),this.logger.trace({type:\"method\",method:\"delete\",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=wn(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Fe(\"MISSING_OR_INVALID\",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Fe(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>\"u\"||!e.length)return;if(this.map.size){const{message:n}=Fe(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var iJe=Object.defineProperty,sJe=(t,e,n)=>e in t?iJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>sJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class oJe{constructor(e,n){this.core=e,this.logger=n,Ht(this,\"name\",lGe),Ht(this,\"version\",uGe),Ht(this,\"events\",new vy),Ht(this,\"pairings\"),Ht(this,\"initialized\",!1),Ht(this,\"storagePrefix\",Il),Ht(this,\"ignoredPayloadTypes\",[Yu]),Ht(this,\"registeredMethods\",[]),Ht(this,\"init\",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace(\"Initialized\"))}),Ht(this,\"register\",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),Ht(this,\"create\",async r=>{this.isInitialized();const i=cO(),s=await this.core.crypto.setSymKey(i),o=jr(ce.FIVE_MINUTES),a={protocol:Qce},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=lG({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(l0.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),Ht(this,\"pair\",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[el.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=cG(r.uri);i.props.properties.topic=s,i.addTrace(el.pairing_uri_validation_success),i.addTrace(el.pairing_uri_not_expired);let d;if(this.pairings.keys.includes(s)){if(d=this.pairings.get(s),i.addTrace(el.existing_pairing),d.active)throw i.setError(vu.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(el.pairing_not_expired)}const h=c||jr(ce.FIVE_MINUTES),p={topic:s,relay:a,expiry:h,active:!1,methods:l};this.core.expirer.set(s,h),await this.pairings.set(s,p),i.addTrace(el.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(l0.create,p),i.addTrace(el.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(el.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(vu.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(m){throw i.setError(vu.subscribe_pairing_topic_failure),m}return i.addTrace(el.subscribe_pairing_topic_success),p}),Ht(this,\"activate\",async({topic:r})=>{this.isInitialized();const i=jr(ce.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),Ht(this,\"ping\",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn(\"ping() is deprecated and will be removed in the next major release.\");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,\"wc_pairingPing\",{}),{done:o,resolve:a,reject:c}=n0();this.events.once(pn(\"pairing_ping\",s),({error:l})=>{l?c(l):a()}),await o()}}),Ht(this,\"updateExpiry\",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),Ht(this,\"updateMetadata\",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),Ht(this,\"getPairings\",()=>(this.isInitialized(),this.pairings.values)),Ht(this,\"disconnect\",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,\"wc_pairingDelete\",On(\"USER_DISCONNECTED\")),await this.deletePairing(i))}),Ht(this,\"formatUriFromPairing\",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return lG({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),Ht(this,\"sendRequest\",async(r,i,s)=>{const o=ms(i,s),a=await this.core.crypto.encode(r,o),c=aw[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),Ht(this,\"sendResult\",async(r,i,s)=>{const o=gh(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=aw[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ht(this,\"sendError\",async(r,i,s)=>{const o=Iy(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=aw[c]?aw[c].res:aw.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),Ht(this,\"deletePairing\",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,On(\"USER_DISCONNECTED\")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),Ht(this,\"cleanup\",async()=>{const r=this.pairings.getAll().filter(i=>_f(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),Ht(this,\"onRelayEventRequest\",async r=>{const{topic:i,payload:s}=r;switch(s.method){case\"wc_pairingPing\":return await this.onPairingPingRequest(i,s);case\"wc_pairingDelete\":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),Ht(this,\"onRelayEventResponse\",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case\"wc_pairingPing\":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),Ht(this,\"onPairingPingRequest\",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(l0.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Ht(this,\"onPairingPingResponse\",(r,i)=>{const{id:s}=i;setTimeout(()=>{Fr(i)?this.events.emit(pn(\"pairing_ping\",s),{}):dr(i)&&this.events.emit(pn(\"pairing_ping\",s),{error:i.error})},500)}),Ht(this,\"onPairingDeleteRequest\",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(l0.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),Ht(this,\"onUnknownRpcMethodRequest\",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=On(\"WC_METHOD_UNSUPPORTED\",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),Ht(this,\"onUnknownRpcMethodResponse\",r=>{this.registeredMethods.includes(r)||this.logger.error(On(\"WC_METHOD_UNSUPPORTED\",r))}),Ht(this,\"isValidPair\",(r,i)=>{var s;if(!qs(r)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`pair() params: ${r}`);throw i.setError(vu.malformed_pairing_uri),new Error(a)}if(!yWe(r.uri)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`pair() uri: ${r.uri}`);throw i.setError(vu.malformed_pairing_uri),new Error(a)}const o=cG(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Fe(\"MISSING_OR_INVALID\",\"pair() uri#relay-protocol\");throw i.setError(vu.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Fe(\"MISSING_OR_INVALID\",\"pair() uri#symKey\");throw i.setError(vu.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ce.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(vu.pairing_expired);const{message:a}=Fe(\"EXPIRED\",\"pair() URI has expired. Please try again with a new connection URI.\");throw new Error(a)}}),Ht(this,\"isValidPing\",async r=>{if(!qs(r)){const{message:s}=Fe(\"MISSING_OR_INVALID\",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ht(this,\"isValidDisconnect\",async r=>{if(!qs(r)){const{message:s}=Fe(\"MISSING_OR_INVALID\",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),Ht(this,\"isValidPairingTopic\",async r=>{if(!Nr(r,!1)){const{message:i}=Fe(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Fe(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(_f(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Fe(\"EXPIRED\",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=wn(n,this.name),this.pairings=new Kp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return jn(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ui.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==Zn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);Ty(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):jp(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ca.expired,async e=>{const{topic:n}=gce(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(l0.expire,{topic:n}))})}}var aJe=Object.defineProperty,cJe=(t,e,n)=>e in t?aJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ni=(t,e,n)=>cJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class lJe extends qqe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ni(this,\"records\",new Map),Ni(this,\"events\",new Dr.EventEmitter),Ni(this,\"name\",dGe),Ni(this,\"version\",fGe),Ni(this,\"cached\",[]),Ni(this,\"initialized\",!1),Ni(this,\"storagePrefix\",Il),Ni(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ni(this,\"set\",(r,i,s)=>{if(this.isInitialized(),this.logger.debug(\"Setting JSON-RPC request history record\"),this.logger.trace({type:\"method\",method:\"set\",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:jr(ce.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ka.created,o)}),Ni(this,\"resolve\",async r=>{if(this.isInitialized(),this.logger.debug(\"Updating JSON-RPC response history record\"),this.logger.trace({type:\"method\",method:\"update\",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>\"u\"&&(i.response=dr(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ka.updated,i))}),Ni(this,\"get\",async(r,i)=>(this.isInitialized(),this.logger.debug(\"Getting record\"),this.logger.trace({type:\"method\",method:\"get\",topic:r,id:i}),await this.getRecord(i))),Ni(this,\"delete\",(r,i)=>{this.isInitialized(),this.logger.debug(\"Deleting record\"),this.logger.trace({type:\"method\",method:\"delete\",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<\"u\"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ka.deleted,s)}}),this.persist()}),Ni(this,\"exists\",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ni(this,\"on\",(r,i)=>{this.events.on(r,i)}),Ni(this,\"once\",(r,i)=>{this.events.once(r,i)}),Ni(this,\"off\",(r,i)=>{this.events.off(r,i)}),Ni(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<\"u\")return;const r={topic:n.topic,request:ms(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Fe(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ka.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>\"u\"||!e.length)return;if(this.records.size){const{message:n}=Fe(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ka.created,e=>{const n=Ka.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.events.on(Ka.updated,e=>{const n=Ka.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.events.on(Ka.deleted,e=>{const n=Ka.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,record:e})}),this.core.heartbeat.on(Jo.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{ce.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ka.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var uJe=Object.defineProperty,dJe=(t,e,n)=>e in t?uJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yi=(t,e,n)=>dJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class fJe extends Zqe{constructor(e,n){super(e,n),this.core=e,this.logger=n,Yi(this,\"expirations\",new Map),Yi(this,\"events\",new Dr.EventEmitter),Yi(this,\"name\",hGe),Yi(this,\"version\",pGe),Yi(this,\"cached\",[]),Yi(this,\"initialized\",!1),Yi(this,\"storagePrefix\",Il),Yi(this,\"init\",async()=>{this.initialized||(this.logger.trace(\"Initialized\"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Yi(this,\"has\",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<\"u\"}catch{return!1}}),Yi(this,\"set\",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ca.created,{target:s,expiration:o})}),Yi(this,\"get\",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Yi(this,\"del\",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ca.deleted,{target:i,expiration:s})}}),Yi(this,\"on\",(r,i)=>{this.events.on(r,i)}),Yi(this,\"once\",(r,i)=>{this.events.once(r,i)}),Yi(this,\"off\",(r,i)=>{this.events.off(r,i)}),Yi(this,\"removeListener\",(r,i)=>{this.events.removeListener(r,i)}),this.logger=wn(n,this.name)}get context(){return jn(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//\"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e==\"string\")return vHe(e);if(typeof e==\"number\")return EHe(e);const{message:n}=Fe(\"UNKNOWN_TYPE\",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ca.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>\"u\"||!e.length)return;if(this.expirations.size){const{message:n}=Fe(\"RESTORE_WILL_OVERRIDE\",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:\"method\",method:\"restore\",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Fe(\"NO_MATCHING_KEY\",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;ce.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(Ca.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(Jo.pulse,()=>this.checkExpirations()),this.events.on(Ca.created,e=>{const n=Ca.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()}),this.events.on(Ca.expired,e=>{const n=Ca.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()}),this.events.on(Ca.deleted,e=>{const n=Ca.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:\"event\",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}}var hJe=Object.defineProperty,pJe=(t,e,n)=>e in t?hJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tr=(t,e,n)=>pJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class gJe extends Yqe{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,Tr(this,\"name\",gGe),Tr(this,\"abortController\"),Tr(this,\"isDevEnv\"),Tr(this,\"verifyUrlV3\",yGe),Tr(this,\"storagePrefix\",Il),Tr(this,\"version\",Xce),Tr(this,\"publicKey\"),Tr(this,\"fetchPromise\"),Tr(this,\"init\",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ce.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug(\"verify v2 public key expired\"),await this.removePublicKey()))}),Tr(this,\"register\",async i=>{if(!Py()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=wi.getDocument(),d=this.startAbortTimer(ce.ONE_SECOND*5),h=await new Promise((p,m)=>{const b=()=>{window.removeEventListener(\"message\",E),l.body.removeChild(y),m(\"attestation aborted\")};this.abortController.signal.addEventListener(\"abort\",b);const y=l.createElement(\"iframe\");y.src=c,y.style.display=\"none\",y.addEventListener(\"error\",b,{signal:this.abortController.signal});const E=v=>{if(v.data&&typeof v.data==\"string\")try{const _=JSON.parse(v.data);if(_.type===\"verify_attestation\"){if(Lm(_.attestation).payload.id!==o)return;clearInterval(d),l.body.removeChild(y),this.abortController.signal.removeEventListener(\"abort\",b),window.removeEventListener(\"message\",E),p(_.attestation===null?\"\":_.attestation)}}catch(_){this.logger.warn(_)}};l.body.appendChild(y),window.addEventListener(\"message\",E,{signal:this.abortController.signal})});return this.logger.debug(\"jwt attestation\",h),h}catch(l){this.logger.warn(l)}return\"\"}),Tr(this,\"resolve\",async i=>{if(this.isDevEnv)return\"\";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===\"\"){this.logger.debug(\"resolve: attestationId is empty, skipping\");return}if(s){if(Lm(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn(\"resolve: jwt attestation: origin url not verified\");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),Tr(this,\"fetchAttestation\",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ce.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),Tr(this,\"getVerifyUrl\",i=>{let s=i||Kw;return bGe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${Kw}`),s=Kw),s}),Tr(this,\"fetchPublicKey\",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ce.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Tr(this,\"persistPublicKey\",async i=>{this.logger.debug(\"persisting public key to local storage\",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Tr(this,\"removePublicKey\",async()=>{this.logger.debug(\"removing verify v2 public key from storage\"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Tr(this,\"isValidJwtAttestation\",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn(\"error validating attestation\")}}),Tr(this,\"getPublicKey\",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Tr(this,\"fetchAndPersistPublicKey\",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Tr(this,\"validateAttestation\",(i,s)=>{const o=YKe(i,s.publicKey),a={hasExpired:ce.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn(\"resolve: jwt attestation expired\"),new Error(\"JWT attestation expired\");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=wn(n,this.name),this.abortController=new AbortController,this.isDevEnv=Lk(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+\"//verify:public:key\"}get context(){return jn(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ce.toMiliseconds(e))}}var mJe=Object.defineProperty,yJe=(t,e,n)=>e in t?mJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,UG=(t,e,n)=>yJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class bJe extends Jqe{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,UG(this,\"context\",wGe),UG(this,\"registerDeviceToken\",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${vGe}/${this.projectId}/clients`;await fetch(c,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=wn(n,this.context)}}var wJe=Object.defineProperty,jG=Object.getOwnPropertySymbols,vJe=Object.prototype.hasOwnProperty,EJe=Object.prototype.propertyIsEnumerable,bO=(t,e,n)=>e in t?wJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,uw=(t,e)=>{for(var n in e||(e={}))vJe.call(e,n)&&bO(t,n,e[n]);if(jG)for(var n of jG(e))EJe.call(e,n)&&bO(t,n,e[n]);return t},Xr=(t,e,n)=>bO(t,typeof e!=\"symbol\"?e+\"\":e,n);class _Je extends Xqe{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,Xr(this,\"context\",_Ge),Xr(this,\"storagePrefix\",Il),Xr(this,\"storageVersion\",EGe),Xr(this,\"events\",new Map),Xr(this,\"shouldPersist\",!1),Xr(this,\"init\",async()=>{if(!Lk())try{const i={eventId:NW(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:\"INIT\",type:\"\",properties:{client_id:await this.core.crypto.getClientId(),user_agent:hce(this.core.relayer.protocol,this.core.relayer.version,uO)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Xr(this,\"createEvent\",i=>{const{event:s=\"ERROR\",type:o=\"\",properties:{topic:a,trace:c}}=i,l=NW(),d=this.core.projectId||\"\",h=Date.now(),p=uw({eventId:l,timestamp:h,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:d,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,p),this.shouldPersist=!0),p}),Xr(this,\"getEvent\",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return uw(uw({},a),this.setMethods(a.eventId))}),Xr(this,\"deleteEvent\",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Xr(this,\"setEventListeners\",()=>{this.core.heartbeat.on(Jo.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ce.fromMiliseconds(Date.now())-ce.fromMiliseconds(i.timestamp)>CGe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Xr(this,\"setMethods\",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Xr(this,\"addTrace\",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Xr(this,\"setError\",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Xr(this,\"persist\",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Xr(this,\"restore\",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,uw(uw({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Xr(this,\"submit\",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Xr(this,\"sendEvent\",async i=>{const s=this.getAppDomain()?\"\":\"&sp=desktop\";return await fetch(`${SGe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${uO}${s}`,{method:\"POST\",body:JSON.stringify(i)})}),Xr(this,\"getAppDomain\",()=>fce().url),this.logger=wn(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+\"//\"+this.context}}var CJe=Object.defineProperty,zG=Object.getOwnPropertySymbols,SJe=Object.prototype.hasOwnProperty,xJe=Object.prototype.propertyIsEnumerable,wO=(t,e,n)=>e in t?CJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,FG=(t,e)=>{for(var n in e||(e={}))SJe.call(e,n)&&wO(t,n,e[n]);if(zG)for(var n of zG(e))xJe.call(e,n)&&wO(t,n,e[n]);return t},qn=(t,e,n)=>wO(t,typeof e!=\"symbol\"?e+\"\":e,n);let AJe=class fle extends Uqe{constructor(e){var n;super(e),qn(this,\"protocol\",Jce),qn(this,\"version\",Xce),qn(this,\"name\",lO),qn(this,\"relayUrl\"),qn(this,\"projectId\"),qn(this,\"customStoragePrefix\"),qn(this,\"events\",new Dr.EventEmitter),qn(this,\"logger\"),qn(this,\"heartbeat\"),qn(this,\"relayer\"),qn(this,\"crypto\"),qn(this,\"storage\"),qn(this,\"history\"),qn(this,\"expirer\"),qn(this,\"pairing\"),qn(this,\"verify\"),qn(this,\"echoClient\"),qn(this,\"linkModeSupportedApps\"),qn(this,\"eventClient\"),qn(this,\"initialized\",!1),qn(this,\"logChunkController\"),qn(this,\"on\",(a,c)=>this.events.on(a,c)),qn(this,\"once\",(a,c)=>this.events.once(a,c)),qn(this,\"off\",(a,c)=>this.events.off(a,c)),qn(this,\"removeListener\",(a,c)=>this.events.removeListener(a,c)),qn(this,\"dispatchEnvelope\",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const d={topic:a,message:c,publishedAt:Date.now(),transportType:Zn.link_mode};this.relayer.onLinkMessageEvent(d,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn(\"Failed to copy global core\",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||ele,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:\"\";const i=pd({level:typeof(e==null?void 0:e.logger)==\"string\"&&e.logger?e.logger:KWe.logger,name:lO}),{logger:s,chunkLoggerController:o}=Rk({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=wn(s,this.name),this.heartbeat=new hae,this.crypto=new QZe(this,this.logger,e==null?void 0:e.keychain),this.history=new lJe(this,this.logger),this.expirer=new fJe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new gae(FG(FG({},WWe),e==null?void 0:e.storageOptions)),this.relayer=new AYe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new oJe(this,this.logger),this.verify=new gJe(this,this.logger,this.storage),this.echoClient=new bJe(this.projectId||\"\",this.logger),this.linkModeSupportedApps=[],this.eventClient=new _Je(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new fle(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(oGe,r),n}get context(){return jn(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(EG,this.linkModeSupportedApps))}async initialize(){this.logger.trace(\"Initialized\");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(EG)||[],this.initialized=!0,this.logger.info(\"Core Initialization Success\")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=\"\"){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn(\"Failed to get global WalletConnect core\",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||\"\"}`;globalThis[r]=e}catch(r){console.warn(\"Failed to set global WalletConnect core\",r)}}isGlobalCoreDisabled(){try{return typeof process<\"u\"&&VWe.DISABLE_GLOBAL_CORE===\"true\"}catch{return!0}}};const $Je=AJe,hle=\"wc\",ple=2,gle=\"client\",Kk=`${hle}@${ple}:${gle}:`,KA={name:gle,logger:\"error\"},qG=\"WALLETCONNECT_DEEPLINK_CHOICE\",IJe=\"proposal\",HG=\"Proposal expired\",TJe=\"session\",g1=ce.SEVEN_DAYS,PJe=\"engine\",Qr={wc_sessionPropose:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ce.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ce.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ce.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ce.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ce.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ce.FIVE_MINUTES,prompt:!1,tag:1119}}},WA={min:ce.FIVE_MINUTES,max:ce.SEVEN_DAYS},Zc={idle:\"IDLE\",active:\"ACTIVE\"},VG={eth_sendTransaction:{key:\"\"},eth_sendRawTransaction:{key:\"\"},wallet_sendCalls:{key:\"\"},solana_signTransaction:{key:\"signature\"},solana_signAllTransactions:{key:\"transactions\"},solana_signAndSendTransaction:{key:\"signature\"}},OJe=\"request\",NJe=[\"wc_sessionPropose\",\"wc_sessionRequest\",\"wc_authRequest\",\"wc_sessionAuthenticate\"],RJe=\"wc\",kJe=\"auth\",MJe=\"authKeys\",DJe=\"pairingTopics\",BJe=\"requests\",v9=`${RJe}@${1.5}:${kJe}:`,t8=`${v9}:PUB_KEY`;var LJe=Object.defineProperty,UJe=Object.defineProperties,jJe=Object.getOwnPropertyDescriptors,KG=Object.getOwnPropertySymbols,zJe=Object.prototype.hasOwnProperty,FJe=Object.prototype.propertyIsEnumerable,vO=(t,e,n)=>e in t?LJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Un=(t,e)=>{for(var n in e||(e={}))zJe.call(e,n)&&vO(t,n,e[n]);if(KG)for(var n of KG(e))FJe.call(e,n)&&vO(t,n,e[n]);return t},as=(t,e)=>UJe(t,jJe(e)),Pe=(t,e,n)=>vO(t,typeof e!=\"symbol\"?e+\"\":e,n);class qJe extends nHe{constructor(e){super(e),Pe(this,\"name\",PJe),Pe(this,\"events\",new vy),Pe(this,\"initialized\",!1),Pe(this,\"requestQueue\",{state:Zc.idle,queue:[]}),Pe(this,\"sessionRequestQueue\",{state:Zc.idle,queue:[]}),Pe(this,\"requestQueueDelay\",ce.ONE_SECOND),Pe(this,\"expectedPairingMethodMap\",new Map),Pe(this,\"recentlyDeletedMap\",new Map),Pe(this,\"recentlyDeletedLimit\",200),Pe(this,\"relayMessageCache\",[]),Pe(this,\"pendingSessions\",new Map),Pe(this,\"init\",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Qr)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ce.toMiliseconds(this.requestQueueDelay)))}),Pe(this,\"connect\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=as(Un({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r),r.optionalNamespaces=fWe(r.requiredNamespaces,r.optionalNamespaces),r.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let d=i,h,p=!1;try{if(d){const I=this.client.core.pairing.pairings.get(d);this.client.logger.warn(\"connect() with existing pairing topic is deprecated and will be removed in the next major release.\"),p=I.active}}catch(I){throw this.client.logger.error(`connect() -> pairing.get(${d}) failed`),I}if(!d||!p){const{topic:I,uri:O}=await this.client.core.pairing.create();d=I,h=O}if(!d){const{message:I}=Fe(\"NO_MATCHING_KEY\",`connect() pairing topic: ${d}`);throw new Error(I)}const m=await this.client.core.crypto.generateKeyPair(),b=Qr.wc_sessionPropose.req.ttl||ce.FIVE_MINUTES,y=jr(b),E=as(Un(Un({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Qce}],proposer:{publicKey:m,metadata:this.client.metadata},expiryTimestamp:y,pairingTopic:d},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:ai()}),v=pn(\"session_connect\",E.id),{reject:_,resolve:C,done:S}=n0(b,HG),A=({id:I})=>{I===E.id&&(this.client.events.off(\"proposal_expire\",A),this.pendingSessions.delete(E.id),this.events.emit(v,{error:{message:HG,code:0}}))};return this.client.events.on(\"proposal_expire\",A),this.events.once(v,({error:I,session:O})=>{this.client.events.off(\"proposal_expire\",A),I?_(I):O&&C(O)}),await this.sendRequest({topic:d,method:\"wc_sessionPropose\",params:E,throwOnFailedPublish:!0,clientRpcId:E.id}),await this.setProposal(E.id,E),{uri:h,approval:S}}),Pe(this,\"pair\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error(\"pair() failed\"),r}}),Pe(this,\"approve\",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Wa.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(N){throw o.setError(Wh.no_internet_connection),N}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(N){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Wh.proposal_not_found),N}try{await this.isValidApprove(n)}catch(N){throw this.client.logger.error(\"approve() -> isValidApprove() failed\"),o.setError(Wh.session_approve_namespace_validation_failure),N}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:d,scopedProperties:h,sessionConfig:p}=n,m=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:b,proposer:y,requiredNamespaces:E,optionalNamespaces:v}=m;let _=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});_||(_=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Wa.session_approve_started,properties:{topic:b,trace:[Wa.session_approve_started,Wa.session_namespaces_validation_success]}}));const C=await this.client.core.crypto.generateKeyPair(),S=y.publicKey,A=await this.client.core.crypto.generateSharedKey(C,S),I=Un(Un(Un({relay:{protocol:c??\"irn\"},namespaces:l,controller:{publicKey:C,metadata:this.client.metadata},expiry:jr(g1)},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),O=Zn.relay;_.addTrace(Wa.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:O})}catch(N){throw _.setError(Wh.subscribe_session_topic_failure),N}_.addTrace(Wa.subscribe_session_topic_success);const D=as(Un({},I),{topic:A,requiredNamespaces:E,optionalNamespaces:v,pairingTopic:b,acknowledged:!1,self:I.controller,peer:{publicKey:y.publicKey,metadata:y.metadata},controller:C,transportType:Zn.relay});await this.client.session.set(A,D),_.addTrace(Wa.store_session);try{_.addTrace(Wa.publishing_session_settle),await this.sendRequest({topic:A,method:\"wc_sessionSettle\",params:I,throwOnFailedPublish:!0}).catch(N=>{throw _==null||_.setError(Wh.session_settle_publish_failure),N}),_.addTrace(Wa.session_settle_publish_success),_.addTrace(Wa.publishing_session_approve),await this.sendResult({id:a,topic:b,result:{relay:{protocol:c??\"irn\"},responderPublicKey:C},throwOnFailedPublish:!0}).catch(N=>{throw _==null||_.setError(Wh.session_approve_publish_failure),N}),_.addTrace(Wa.session_approve_publish_success)}catch(N){throw this.client.logger.error(N),this.client.session.delete(A,On(\"USER_DISCONNECTED\")),await this.client.core.relayer.unsubscribe(A),N}return this.client.core.eventClient.deleteEvent({eventId:_.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:y.metadata}),await this.client.proposal.delete(a,On(\"USER_DISCONNECTED\")),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(A,jr(g1)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),Pe(this,\"reject\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error(\"reject() -> isValidReject() failed\"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:Qr.wc_sessionPropose.reject}),await this.client.proposal.delete(r,On(\"USER_DISCONNECTED\")))}),Pe(this,\"update\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(h){throw this.client.logger.error(\"update() -> isValidUpdate() failed\"),h}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=n0(),c=ai(),l=ko().toString(),d=this.client.session.get(r).namespaces;return this.events.once(pn(\"session_update\",c),({error:h})=>{h?a(h):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:\"wc_sessionUpdate\",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(h=>{this.client.logger.error(h),this.client.session.update(r,{namespaces:d}),a(h)}),{acknowledged:s}}),Pe(this,\"extend\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error(\"extend() -> isValidExtend() failed\"),c}const{topic:r}=n,i=ai(),{done:s,resolve:o,reject:a}=n0();return this.events.once(pn(\"session_extend\",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,jr(g1)),this.sendRequest({topic:r,method:\"wc_sessionExtend\",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Pe(this,\"request\",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(v){throw this.client.logger.error(\"request() -> isValidRequest() failed\"),v}const{chainId:r,request:i,topic:s,expiry:o=Qr.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Zn.relay&&await this.confirmOnlineStateOrThrow();const c=ai(),l=ko().toString(),{done:d,resolve:h,reject:p}=n0(o,\"Request expired. Please try again.\");this.events.once(pn(\"session_request\",c),({error:v,result:_})=>{v?p(v):h(_)});const m=\"wc_sessionRequest\",b=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(b)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:m,params:{request:as(Un({},i),{expiryTimestamp:jr(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:b}).catch(v=>p(v)),this.client.events.emit(\"session_request_sent\",{topic:s,request:i,chainId:r,id:c}),await d();const y={request:as(Un({},i),{expiryTimestamp:jr(o)}),chainId:r},E=this.shouldSetTVF(m,y);return await Promise.all([new Promise(async v=>{await this.sendRequest(Un({clientRpcId:c,relayRpcId:l,topic:s,method:m,params:y,expiry:o,throwOnFailedPublish:!0},E&&{tvf:this.getTVFParams(c,y)})).catch(_=>p(_)),this.client.events.emit(\"session_request_sent\",{topic:s,request:i,chainId:r,id:c}),v()}),new Promise(async v=>{var _;if(!((_=a.sessionConfig)!=null&&_.disableDeepLink)){const C=await xHe(this.client.core.storage,qG);await _He({id:c,topic:s,wcDeepLink:C})}v()}),d()]).then(v=>v[2])}),Pe(this,\"respond\",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===Zn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);Fr(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):dr(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Pe(this,\"ping\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error(\"ping() -> isValidPing() failed\"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=ai(),s=ko().toString(),{done:o,resolve:a,reject:c}=n0();this.events.once(pn(\"session_ping\",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:\"wc_sessionPing\",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn(\"ping() on pairing topic is deprecated and will be removed in the next major release.\"),await this.client.core.pairing.ping({topic:r}))}),Pe(this,\"emit\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=ko().toString(),a=ai();await this.sendRequest({topic:r,method:\"wc_sessionEvent\",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Pe(this,\"disconnect\",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:\"wc_sessionDelete\",params:On(\"USER_DISCONNECTED\"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Fe(\"MISMATCHED_TOPIC\",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Pe(this,\"find\",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>gWe(r,n)))),Pe(this,\"getPendingSessionRequests\",()=>this.client.pendingRequest.getAll()),Pe(this,\"authenticate\",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Zn.link_mode:Zn.relay;o===Zn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c=\"\",uri:l,domain:d,nonce:h,type:p,exp:m,nbf:b,methods:y=[],expiry:E}=n,v=[...n.resources||[]],{topic:_,uri:C}=await this.client.core.pairing.create({methods:[\"wc_sessionAuthenticate\"],transportType:o});this.client.logger.info({message:\"Generated new pairing\",pairing:{topic:_,uri:C}});const S=await this.client.core.crypto.generateKeyPair(),A=QE(S);if(await Promise.all([this.client.auth.authKeys.set(t8,{responseTopic:A,publicKey:S}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:_})]),await this.client.core.relayer.subscribe(A,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${_}`),y.length>0){const{namespace:k}=wm(a[0]);let z=yVe(k,\"request\",y);XE(v)&&(z=wVe(z,v.pop())),v.push(z)}const I=E&&E>Qr.wc_sessionAuthenticate.req.ttl?E:Qr.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:p??\"caip122\",chains:a,statement:c,aud:l,domain:d,version:\"1\",nonce:h,iat:new Date().toISOString(),exp:m,nbf:b,resources:v},requester:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:jr(I)},D={eip155:{chains:a,methods:[...new Set([\"personal_sign\",...y])],events:[\"chainChanged\",\"accountsChanged\"]}},N={requiredNamespaces:{},optionalNamespaces:D,relays:[{protocol:\"irn\"}],pairingTopic:_,proposer:{publicKey:S,metadata:this.client.metadata},expiryTimestamp:jr(Qr.wc_sessionPropose.req.ttl),id:ai()},{done:U,resolve:F,reject:H}=n0(I,\"Request expired\"),V=ai(),M=pn(\"session_connect\",N.id),$=pn(\"session_request\",V),P=async({error:k,session:z})=>{this.events.off($,q),k?H(k):z&&F({session:z})},q=async k=>{var z,L,B;if(await this.deletePendingAuthRequest(V,{message:\"fulfilled\",code:0}),k.error){const Q=On(\"WC_METHOD_UNSUPPORTED\",\"wc_sessionAuthenticate\");return k.error.code===Q.code?void 0:(this.events.off(M,P),H(k.error.message))}await this.deleteProposal(N.id),this.events.off(M,P);const{cacaos:j,responder:K}=k.result,G=[],Z=[];for(const Q of j){await jW({cacao:Q,projectId:this.client.core.projectId})||(this.client.logger.error(Q,\"Signature verification failed\"),H(On(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\")));const{p:re}=Q,oe=XE(re.resources),ue=[QP(re.iss)],ye=w4(re.iss);if(oe){const xe=zW(oe),Be=FW(oe);G.push(...xe),ue.push(...Be)}for(const xe of ue)Z.push(`${xe}:${ye}`)}const Y=await this.client.core.crypto.generateSharedKey(S,K.publicKey);let X;G.length>0&&(X={topic:Y,acknowledged:!0,self:{publicKey:S,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:jr(g1),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:_,namespaces:hG([...new Set(G)],[...new Set(Z)]),transportType:o},await this.client.core.relayer.subscribe(Y,{transportType:o}),await this.client.session.set(Y,X),_&&await this.client.core.pairing.updateMetadata({topic:_,metadata:K.metadata}),X=this.client.session.get(Y)),(z=this.client.metadata.redirect)!=null&&z.linkMode&&(L=K.metadata.redirect)!=null&&L.linkMode&&(B=K.metadata.redirect)!=null&&B.universal&&r&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(Y,{transportType:Zn.link_mode})),F({auths:j,session:X})};this.events.once(M,P),this.events.once($,q);let T;try{if(s){const k=ms(\"wc_sessionAuthenticate\",O,V);this.client.core.history.set(_,k);const z=await this.client.core.crypto.encode(\"\",k,{type:x5,encoding:$f});T=cE(r,_,z)}else await Promise.all([this.sendRequest({topic:_,method:\"wc_sessionAuthenticate\",params:O,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:V}),this.sendRequest({topic:_,method:\"wc_sessionPropose\",params:N,expiry:Qr.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:N.id})])}catch(k){throw this.events.off(M,P),this.events.off($,q),k}return await this.setProposal(N.id,N),await this.setAuthRequest(V,{request:as(Un({},O),{verifyContext:{}}),pairingTopic:_,transportType:o}),{uri:T??C,response:U}}),Pe(this,\"approveSessionAuthenticate\",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Gh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(cw.no_internet_connection),E}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(cw.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||Zn.relay;a===Zn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),d=QE(c),h={type:Yu,receiverPublicKey:c,senderPublicKey:l},p=[],m=[];for(const E of i){if(!await jW({cacao:E,projectId:this.client.core.projectId})){s.setError(cw.invalid_cacao);const A=On(\"SESSION_SETTLEMENT_FAILED\",\"Signature verification failed\");throw await this.sendError({id:r,topic:d,error:A,encodeOpts:h}),new Error(A.message)}s.addTrace(Gh.cacaos_verified);const{p:v}=E,_=XE(v.resources),C=[QP(v.iss)],S=w4(v.iss);if(_){const A=zW(_),I=FW(_);p.push(...A),C.push(...I)}for(const A of C)m.push(`${A}:${S}`)}const b=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Gh.create_authenticated_session_topic);let y;if((p==null?void 0:p.length)>0){y={topic:b,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:jr(g1),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:\"irn\"},pairingTopic:o.pairingTopic,namespaces:hG([...new Set(p)],[...new Set(m)]),transportType:a},s.addTrace(Gh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:a})}catch(E){throw s.setError(cw.subscribe_authenticated_session_topic_failure),E}s.addTrace(Gh.subscribe_authenticated_session_topic_success),await this.client.session.set(b,y),s.addTrace(Gh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Gh.publishing_authenticated_session_approve);try{await this.sendResult({topic:d,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:h,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(E){throw s.setError(cw.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:\"fulfilled\",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:y}}),Pe(this,\"rejectSessionAuthenticate\",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===Zn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=QE(o),l={type:Yu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:Qr.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:\"rejected\",code:0}),await this.client.proposal.delete(r,On(\"USER_DISCONNECTED\"))}),Pe(this,\"formatAuthMessage\",n=>{this.isInitialized();const{request:r,iss:i}=n;return Sce(r,i)}),Pe(this,\"processRelayMessageCache\",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Pe(this,\"cleanupDuplicatePairings\",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info(\"Duplicate pairings clean up finished\")}catch(r){this.client.logger.error(r)}}),Pe(this,\"deleteSession\",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,On(\"USER_DISCONNECTED\")),this.addToRecentlyDeleted(i,\"session\"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(qG).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,On(\"USER_DISCONNECTED\"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Zc.idle),o&&this.client.events.emit(\"session_delete\",{id:a,topic:i})}),Pe(this,\"deleteProposal\",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Wh.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,On(\"USER_DISCONNECTED\")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,\"proposal\")}),Pe(this,\"deletePendingSessionRequest\",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,\"request\"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Zc.idle,this.client.events.emit(\"session_request_expire\",{id:n}))}),Pe(this,\"deletePendingAuthRequest\",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Pe(this,\"setExpiry\",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Pe(this,\"setProposal\",async(n,r)=>{this.client.core.expirer.set(n,jr(Qr.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Pe(this,\"setAuthRequest\",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=Zn.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Pe(this,\"setPendingSessionRequest\",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||jr(Qr.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Pe(this,\"sendRequest\",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:d,tvf:h}=n,p=ms(i,s,c);let m;const b=!!d;try{const v=b?$f:sc;m=await this.client.core.crypto.encode(r,p,{encoding:v})}catch(v){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),v}let y;if(NJe.includes(i)){const v=rl(JSON.stringify(p)),_=rl(m);y=await this.client.core.verify.register({id:_,decryptedId:v})}const E=Qr[i].req;if(E.attestation=y,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(r,p),b){const v=cE(d,r,m);await global.Linking.openURL(v,this.client.name)}else{const v=Qr[i].req;o&&(v.ttl=o),a&&(v.id=a),v.tvf=as(Un({},h),{correlationId:p.id}),l?(v.internal=as(Un({},v.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,m,v)):this.client.core.relayer.publish(r,m,v).catch(_=>this.client.logger.error(_))}return p.id}),Pe(this,\"sendResult\",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=gh(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<\"u\";try{const b=h?$f:sc;d=await this.client.core.crypto.encode(i,l,as(Un({},a||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let p,m;try{p=await this.client.core.history.get(i,r);const b=p.request;try{this.shouldSetTVF(b.method,b.params)&&(m=this.getTVFParams(r,b.params,s))}catch(y){this.client.logger.warn(\"sendResult() -> getTVFParams() failed\",y)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),b}if(h){const b=cE(c,i,d);await global.Linking.openURL(b,this.client.name)}else{const b=p.request.method,y=Qr[b].res;y.tvf=as(Un({},m),{correlationId:r}),o?(y.internal=as(Un({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,d,y)):this.client.core.relayer.publish(i,d,y).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(l)}),Pe(this,\"sendError\",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=Iy(r,s);let d;const h=c&&typeof(global==null?void 0:global.Linking)<\"u\";try{const m=h?$f:sc;d=await this.client.core.crypto.encode(i,l,as(Un({},o||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),m}let p;try{p=await this.client.core.history.get(i,r)}catch(m){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),m}if(h){const m=cE(c,i,d);await global.Linking.openURL(m,this.client.name)}else{const m=p.request.method,b=a||Qr[m].res;this.client.core.relayer.publish(i,d,b)}await this.client.core.history.resolve(l)}),Pe(this,\"cleanup\",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;_f(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{_f(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Pe(this,\"onProviderMessageEvent\",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Pe(this,\"onRelayEventRequest\",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Pe(this,\"processRequestsQueue\",async()=>{if(this.requestQueue.state===Zc.active){this.client.logger.info(\"Request queue already active, skipping...\");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Zc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Zc.idle}),Pe(this,\"processRequest\",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case\"wc_sessionPropose\":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case\"wc_sessionSettle\":return await this.onSessionSettleRequest(r,i);case\"wc_sessionUpdate\":return await this.onSessionUpdateRequest(r,i);case\"wc_sessionExtend\":return await this.onSessionExtendRequest(r,i);case\"wc_sessionPing\":return await this.onSessionPingRequest(r,i);case\"wc_sessionDelete\":return await this.onSessionDeleteRequest(r,i);case\"wc_sessionRequest\":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case\"wc_sessionEvent\":return await this.onSessionEventRequest(r,i);case\"wc_sessionAuthenticate\":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Pe(this,\"onRelayEventResponse\",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case\"wc_sessionPropose\":return this.onSessionProposeResponse(r,i,s);case\"wc_sessionSettle\":return this.onSessionSettleResponse(r,i);case\"wc_sessionUpdate\":return this.onSessionUpdateResponse(r,i);case\"wc_sessionExtend\":return this.onSessionExtendResponse(r,i);case\"wc_sessionPing\":return this.onSessionPingResponse(r,i);case\"wc_sessionRequest\":return this.onSessionRequestResponse(r,i);case\"wc_sessionAuthenticate\":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Pe(this,\"onRelayEventUnknownPayload\",n=>{const{topic:r}=n,{message:i}=Fe(\"MISSING_OR_INVALID\",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Pe(this,\"shouldIgnorePairingRequest\",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes(\"wc_sessionAuthenticate\")&&this.client.events.listenerCount(\"session_authenticate\")>0)}),Pe(this,\"onSessionProposeRequest\",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount(\"session_proposal\")===0&&(console.warn(\"No listener for session_proposal event\"),l==null||l.setError(vu.proposal_listener_not_found)),this.isValidConnect(Un({},i.params));const d=a.expiryTimestamp||jr(Qr.wc_sessionPropose.req.ttl),h=Un({id:c,pairingTopic:r,expiryTimestamp:d},a);await this.setProposal(c,h);const p=await this.getVerifyContext({attestationId:s,hash:rl(JSON.stringify(i)),encryptedId:o,metadata:h.proposer.metadata});l==null||l.addTrace(el.emit_session_proposal),this.client.events.emit(\"session_proposal\",{id:c,params:h,verifyContext:p})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:Qr.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Pe(this,\"onSessionProposeResponse\",async(n,r,i)=>{const{id:s}=r;if(Fr(r)){const{result:o}=r;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",peerPublicKey:l});const d=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:d,pairingTopic:n,proposalId:s,publicKey:c});const h=await this.client.core.relayer.subscribe(d,{transportType:i});this.client.logger.trace({type:\"method\",method:\"onSessionProposeResponse\",subscriptionId:h}),await this.client.core.pairing.activate({topic:n})}else if(dr(r)){await this.client.proposal.delete(s,On(\"USER_DISCONNECTED\"));const o=pn(\"session_connect\",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Pe(this,\"onSessionSettleRequest\",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:d,scopedProperties:h,sessionConfig:p}=r.params,m=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!m)return this.client.logger.error(`Pending session not found for topic ${n}`);const b=this.client.proposal.get(m.proposalId),y=as(Un(Un(Un({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:m.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:a.publicKey,self:{publicKey:m.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},d&&{sessionProperties:d}),h&&{scopedProperties:h}),p&&{sessionConfig:p}),{transportType:Zn.relay});await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),await this.client.core.pairing.updateMetadata({topic:m.pairingTopic,metadata:y.peer.metadata}),this.client.events.emit(\"session_connect\",{session:y}),this.events.emit(pn(\"session_connect\",m.proposalId),{session:y}),this.pendingSessions.delete(m.proposalId),this.deleteProposal(m.proposalId,!1),this.cleanupDuplicatePairings(y),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,\"onSessionSettleResponse\",async(n,r)=>{const{id:i}=r;Fr(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(pn(\"session_approve\",i),{})):dr(r)&&(await this.client.session.delete(n,On(\"USER_DISCONNECTED\")),this.events.emit(pn(\"session_approve\",i),{error:r.error}))}),Pe(this,\"onSessionUpdateRequest\",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=ow.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:On(\"INVALID_UPDATE_REQUEST\")});return}this.isValidUpdate(Un({topic:n},i));try{ow.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw ow.delete(o),c}this.client.events.emit(\"session_update\",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,\"isRequestOutOfSync\",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Pe(this,\"onSessionUpdateResponse\",(n,r)=>{const{id:i}=r,s=pn(\"session_update\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(pn(\"session_update\",i),{}):dr(r)&&this.events.emit(pn(\"session_update\",i),{error:r.error})}),Pe(this,\"onSessionExtendRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,jr(g1)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_extend\",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,\"onSessionExtendResponse\",(n,r)=>{const{id:i}=r,s=pn(\"session_extend\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(pn(\"session_extend\",i),{}):dr(r)&&this.events.emit(pn(\"session_extend\",i),{error:r.error})}),Pe(this,\"onSessionPingRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit(\"session_ping\",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Pe(this,\"onSessionPingResponse\",(n,r)=>{const{id:i}=r,s=pn(\"session_ping\",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Fr(r)?this.events.emit(pn(\"session_ping\",i),{}):dr(r)&&this.events.emit(pn(\"session_ping\",i),{error:r.error})},500)}),Pe(this,\"onSessionDeleteRequest\",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(ui.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:On(\"USER_DISCONNECTED\")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Pe(this,\"onSessionRequest\",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:d}=n,{id:h,params:p}=a;try{await this.isValidRequest(Un({topic:o},p));const m=this.client.session.get(o),b=await this.getVerifyContext({attestationId:c,hash:rl(JSON.stringify(ms(\"wc_sessionRequest\",p,h))),encryptedId:l,metadata:m.peer.metadata,transportType:d}),y={id:h,topic:o,params:p,verifyContext:b};await this.setPendingSessionRequest(y),d===Zn.link_mode&&(r=m.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=m.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(y):(this.addSessionRequestToSessionRequestQueue(y),this.processSessionRequestQueue())}catch(m){await this.sendError({id:h,topic:o,error:m}),this.client.logger.error(m)}}),Pe(this,\"onSessionRequestResponse\",(n,r)=>{const{id:i}=r,s=pn(\"session_request\",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Fr(r)?this.events.emit(pn(\"session_request\",i),{result:r.result}):dr(r)&&this.events.emit(pn(\"session_request\",i),{error:r.error})}),Pe(this,\"onSessionEventRequest\",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=ow.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Un({topic:n},s)),this.client.events.emit(\"session_event\",{id:i,topic:n,params:s}),ow.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Pe(this,\"onSessionAuthenticateResponse\",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:\"method\",method:\"onSessionAuthenticateResponse\",topic:n,payload:r}),Fr(r)?this.events.emit(pn(\"session_request\",i),{result:r.result}):dr(r)&&this.events.emit(pn(\"session_request\",i),{error:r.error})}),Pe(this,\"onSessionAuthenticateRequest\",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:d,expiryTimestamp:h}=s.params,p=await this.getVerifyContext({attestationId:o,hash:rl(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),m={requester:l,pairingTopic:i,id:s.id,authPayload:d,verifyContext:p,expiryTimestamp:h};await this.setAuthRequest(s.id,{request:m,pairingTopic:i,transportType:c}),c===Zn.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit(\"session_authenticate\",{topic:i,params:s.params,id:s.id,verifyContext:p})}catch(l){this.client.logger.error(l);const d=s.params.requester.publicKey,h=await this.client.core.crypto.generateKeyPair(),p=this.getAppLinkIfEnabled(s.params.requester.metadata,c),m={type:Yu,receiverPublicKey:d,senderPublicKey:h};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:m,rpcOpts:Qr.wc_sessionAuthenticate.autoReject,appLink:p})}}),Pe(this,\"addSessionRequestToSessionRequestQueue\",n=>{this.sessionRequestQueue.queue.push(n)}),Pe(this,\"cleanupAfterResponse\",n=>{this.deletePendingSessionRequest(n.response.id,{message:\"fulfilled\",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Zc.idle,this.processSessionRequestQueue()},ce.toMiliseconds(this.requestQueueDelay))}),Pe(this,\"cleanupPendingSentRequestsForTopic\",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method===\"wc_sessionRequest\").forEach(s=>{const o=s.request.id,a=pn(\"session_request\",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(pn(\"session_request\",s.request.id),{error:r})})}),Pe(this,\"processSessionRequestQueue\",()=>{if(this.sessionRequestQueue.state===Zc.active){this.client.logger.info(\"session request queue is already active.\");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info(\"session request queue is empty.\");return}try{this.sessionRequestQueue.state=Zc.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Pe(this,\"emitSessionRequest\",n=>{this.client.events.emit(\"session_request\",n)}),Pe(this,\"onPairingCreated\",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:ms(\"wc_sessionPropose\",as(Un({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Pe(this,\"isValidConnect\",async n=>{if(!qs(n)){const{message:l}=Fe(\"MISSING_OR_INVALID\",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(Bi(r)||await this.isValidPairingTopic(r),!$We(c)){const{message:l}=Fe(\"MISSING_OR_INVALID\",`connect() relays: ${c}`);throw new Error(l)}if(!Bi(i)&&Wf(i)!==0){const l=\"requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces\";[\"fatal\",\"error\",\"silent\"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,\"requiredNamespaces\")}if(!Bi(s)&&Wf(s)!==0&&this.validateNamespaces(s,\"optionalNamespaces\"),Bi(o)||this.validateSessionProps(o,\"sessionProperties\"),!Bi(a)){this.validateSessionProps(a,\"scopedProperties\");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(d=>l.includes(d)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Pe(this,\"validateNamespaces\",(n,r)=>{const i=AWe(n,\"connect()\",r);if(i)throw new Error(i.message)}),Pe(this,\"isValidApprove\",async n=>{if(!qs(n))throw new Error(Fe(\"MISSING_OR_INVALID\",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=jA(i,\"approve()\");if(l)throw new Error(l.message);const d=mG(c.requiredNamespaces,i,\"approve()\");if(d)throw new Error(d.message);if(!Nr(s,!0)){const{message:h}=Fe(\"MISSING_OR_INVALID\",`approve() relayProtocol: ${s}`);throw new Error(h)}if(Bi(o)||this.validateSessionProps(o,\"sessionProperties\"),!Bi(a)){this.validateSessionProps(a,\"scopedProperties\");const h=new Set(Object.keys(i));if(!Object.keys(a).every(p=>h.has(p)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(h).join(\", \")}`)}}),Pe(this,\"isValidReject\",async n=>{if(!qs(n)){const{message:s}=Fe(\"MISSING_OR_INVALID\",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!TWe(i)){const{message:s}=Fe(\"MISSING_OR_INVALID\",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Pe(this,\"isValidSessionSettleRequest\",n=>{if(!qs(n)){const{message:l}=Fe(\"MISSING_OR_INVALID\",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!Yce(r)){const{message:l}=Fe(\"MISSING_OR_INVALID\",\"onSessionSettleRequest() relay protocol should be a string\");throw new Error(l)}const a=vWe(i,\"onSessionSettleRequest()\");if(a)throw new Error(a.message);const c=jA(s,\"onSessionSettleRequest()\");if(c)throw new Error(c.message);if(_f(o)){const{message:l}=Fe(\"EXPIRED\",\"onSessionSettleRequest()\");throw new Error(l)}}),Pe(this,\"isValidUpdate\",async n=>{if(!qs(n)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=jA(i,\"update()\");if(o)throw new Error(o.message);const a=mG(s.requiredNamespaces,i,\"update()\");if(a)throw new Error(a.message)}),Pe(this,\"isValidExtend\",async n=>{if(!qs(n)){const{message:i}=Fe(\"MISSING_OR_INVALID\",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Pe(this,\"isValidRequest\",async n=>{if(!qs(n)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!gG(a,s)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`request() chainId: ${s}`);throw new Error(c)}if(!PWe(i)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!RWe(a,s,i.method)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`request() method: ${i.method}`);throw new Error(c)}if(o&&!BWe(o,WA)){const{message:c}=Fe(\"MISSING_OR_INVALID\",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${WA.min} and ${WA.max}`);throw new Error(c)}}),Pe(this,\"isValidRespond\",async n=>{var r;if(!qs(n)){const{message:o}=Fe(\"MISSING_OR_INVALID\",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!OWe(s)){const{message:o}=Fe(\"MISSING_OR_INVALID\",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Pe(this,\"isValidPing\",async n=>{if(!qs(n)){const{message:i}=Fe(\"MISSING_OR_INVALID\",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,\"isValidEmit\",async n=>{if(!qs(n)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!gG(o,s)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`emit() chainId: ${s}`);throw new Error(a)}if(!NWe(i)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!kWe(o,s,i.name)){const{message:a}=Fe(\"MISSING_OR_INVALID\",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Pe(this,\"isValidDisconnect\",async n=>{if(!qs(n)){const{message:i}=Fe(\"MISSING_OR_INVALID\",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Pe(this,\"isValidAuthenticate\",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error(\"chains is required and must be a non-empty array\");if(!Nr(i,!1))throw new Error(\"uri is required parameter\");if(!Nr(s,!1))throw new Error(\"domain is required parameter\");if(!Nr(o,!1))throw new Error(\"nonce is required parameter\");if([...new Set(r.map(c=>wm(c).namespace))].length>1)throw new Error(\"Multi-namespace requests are not supported. Please request single namespace only.\");const{namespace:a}=wm(r[0]);if(a!==\"eip155\")throw new Error(\"Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.\")}),Pe(this,\"getVerifyContext\",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||Kw,validation:\"UNKNOWN\",origin:o.url||\"\"}};try{if(a===Zn.link_mode){const d=this.getAppLinkIfEnabled(o,a);return c.verified.validation=d&&new URL(d).origin===new URL(o.url).origin?\"VALID\":\"INVALID\",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?\"VALID\":\"INVALID\")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Pe(this,\"validateSessionProps\",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Fe(\"MISSING_OR_INVALID\",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Pe(this,\"getPendingAuthRequest\",n=>{const r=this.client.auth.requests.get(n);return typeof r==\"object\"?r:void 0}),Pe(this,\"addToRecentlyDeleted\",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Pe(this,\"checkRecentlyDeleted\",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Fe(\"MISSING_OR_INVALID\",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Pe(this,\"isLinkModeEnabled\",(n,r)=>{var i,s,o,a,c,l,d,h,p;return!n||r!==Zn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==\"\"&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==void 0&&((h=n==null?void 0:n.redirect)==null?void 0:h.universal)!==\"\"&&((p=n==null?void 0:n.redirect)==null?void 0:p.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<\"u\"}),Pe(this,\"getAppLinkIfEnabled\",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),Pe(this,\"handleLinkModeMessage\",({url:n})=>{if(!n||!n.includes(\"wc_ev\")||!n.includes(\"topic\"))return;const r=OW(n,\"topic\")||\"\",i=decodeURIComponent(OW(n,\"wc_ev\")||\"\"),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:Zn.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Pe(this,\"registerLinkModeListeners\",async()=>{var n;if(Lk()||mh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<\"u\"){r.addEventListener(\"url\",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Pe(this,\"shouldSetTVF\",(n,r)=>{if(!r||n!==\"wc_sessionRequest\")return!1;const{request:i}=r;return Object.keys(VG).includes(i.method)}),Pe(this,\"getTVFParams\",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return as(Un({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn(\"Error getting TVF params\",a)}return{}}),Pe(this,\"isValidContractData\",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith(\"0x\"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Pe(this,\"extractTxHashesFromResult\",(n,r)=>{try{const i=VG[n];if(typeof r==\"string\")return[r];const s=r[i.key];if(Kf(s))return n===\"solana_signAllTransactions\"?s.map(o=>rVe(o)):s;if(typeof s==\"string\")return[s]}catch(i){this.client.logger.warn(\"Error extracting tx hashes from result\",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn(\"processPendingMessageEvents failed\",e)}}isInitialized(){if(!this.initialized){const{message:e}=Fe(\"NOT_INITIALIZED\",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ui.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(t8)?this.client.auth.authKeys.get(t8):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===Zn.link_mode?$f:sc});Ty(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:rl(r)})):jp(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ca.expired,async e=>{const{topic:n,id:r}=gce(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Fe(\"EXPIRED\"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Fe(\"EXPIRED\"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit(\"session_expire\",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit(\"proposal_expire\",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(l0.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(l0.delete,e=>{this.addToRecentlyDeleted(e.topic,\"pairing\")})}isValidPairingTopic(e){if(!Nr(e,!1)){const{message:n}=Fe(\"MISSING_OR_INVALID\",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Fe(\"NO_MATCHING_KEY\",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(_f(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Fe(\"EXPIRED\",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Nr(e,!1)){const{message:n}=Fe(\"MISSING_OR_INVALID\",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Fe(\"NO_MATCHING_KEY\",`session topic doesn't exist: ${e}`);throw new Error(n)}if(_f(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Fe(\"EXPIRED\",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Fe(\"MISSING_OR_INVALID\",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Nr(e,!1)){const{message:n}=Fe(\"NO_MATCHING_KEY\",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Fe(\"MISSING_OR_INVALID\",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!IWe(e)){const{message:n}=Fe(\"MISSING_OR_INVALID\",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Fe(\"NO_MATCHING_KEY\",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(_f(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Fe(\"EXPIRED\",`proposal id: ${e}`);throw new Error(n)}}}class HJe extends Kp{constructor(e,n){super(e,n,IJe,Kk),this.core=e,this.logger=n}}let VJe=class extends Kp{constructor(e,n){super(e,n,TJe,Kk),this.core=e,this.logger=n}};class KJe extends Kp{constructor(e,n){super(e,n,OJe,Kk,r=>r.id),this.core=e,this.logger=n}}class WJe extends Kp{constructor(e,n){super(e,n,MJe,v9,()=>t8),this.core=e,this.logger=n}}class GJe extends Kp{constructor(e,n){super(e,n,DJe,v9),this.core=e,this.logger=n}}class ZJe extends Kp{constructor(e,n){super(e,n,BJe,v9,r=>r.id),this.core=e,this.logger=n}}var YJe=Object.defineProperty,JJe=(t,e,n)=>e in t?YJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,GA=(t,e,n)=>JJe(t,typeof e!=\"symbol\"?e+\"\":e,n);class XJe{constructor(e,n){this.core=e,this.logger=n,GA(this,\"authKeys\"),GA(this,\"pairingTopics\"),GA(this,\"requests\"),this.authKeys=new WJe(this.core,this.logger),this.pairingTopics=new GJe(this.core,this.logger),this.requests=new ZJe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var QJe=Object.defineProperty,eXe=(t,e,n)=>e in t?QJe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vt=(t,e,n)=>eXe(t,typeof e!=\"symbol\"?e+\"\":e,n);let tXe=class mle extends tHe{constructor(e){super(e),Vt(this,\"protocol\",hle),Vt(this,\"version\",ple),Vt(this,\"name\",KA.name),Vt(this,\"metadata\"),Vt(this,\"core\"),Vt(this,\"logger\"),Vt(this,\"events\",new Dr.EventEmitter),Vt(this,\"engine\"),Vt(this,\"session\"),Vt(this,\"proposal\"),Vt(this,\"pendingRequest\"),Vt(this,\"auth\"),Vt(this,\"signConfig\"),Vt(this,\"on\",(r,i)=>this.events.on(r,i)),Vt(this,\"once\",(r,i)=>this.events.once(r,i)),Vt(this,\"off\",(r,i)=>this.events.off(r,i)),Vt(this,\"removeListener\",(r,i)=>this.events.removeListener(r,i)),Vt(this,\"removeAllListeners\",r=>this.events.removeAllListeners(r)),Vt(this,\"connect\",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"pair\",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"approve\",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"reject\",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"update\",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"extend\",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"request\",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"respond\",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"ping\",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"emit\",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"disconnect\",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"find\",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"getPendingSessionRequests\",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),Vt(this,\"authenticate\",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),Vt(this,\"formatAuthMessage\",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"approveSessionAuthenticate\",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),Vt(this,\"rejectSessionAuthenticate\",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||KA.name,this.metadata=mHe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<\"u\"&&typeof(e==null?void 0:e.logger)!=\"string\"?e.logger:ph(pd({level:(e==null?void 0:e.logger)||KA.logger}));this.core=(e==null?void 0:e.core)||new $Je(e),this.logger=wn(n,this.name),this.session=new VJe(this.core,this.logger),this.proposal=new HJe(this.core,this.logger),this.pendingRequest=new KJe(this.core,this.logger),this.engine=new qJe(this),this.auth=new XJe(this.core,this.logger)}static async init(e){const n=new mle(e);return await n.initialize(),n}get context(){return jn(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace(\"Initialized\");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info(\"SignClient Initialization Success\"),setTimeout(()=>{this.engine.processRelayMessageCache()},ce.toMiliseconds(ce.ONE_SECOND))}catch(e){throw this.logger.info(\"SignClient Initialization Failure\"),this.logger.error(e.message),e}}};const WG=\"error\",nXe=\"wss://relay.walletconnect.org\",rXe=\"wc\",iXe=\"universal_provider\",uE=`${rXe}@2:${iXe}:`,yle=\"https://rpc.walletconnect.org/v1/\",B1=\"generic\",sXe=`${yle}bundler`,Ma={DEFAULT_CHAIN_CHANGED:\"default_chain_changed\"};function oXe(){}function Wk(t){return t==null||typeof t!=\"object\"&&typeof t!=\"function\"}function Gk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aXe(t){if(Wk(t))return t;if(Array.isArray(t)||Gk(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<\"u\"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t==\"object\"){const r=Object.create(e);return Object.assign(r,t)}return t}function GG(t){return typeof t==\"object\"&&t!==null}function ble(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function wle(t){return t==null?t===void 0?\"[object Undefined]\":\"[object Null]\":Object.prototype.toString.call(t)}const cXe=\"[object RegExp]\",vle=\"[object String]\",Ele=\"[object Number]\",_le=\"[object Boolean]\",Cle=\"[object Arguments]\",lXe=\"[object Symbol]\",uXe=\"[object Date]\",dXe=\"[object Map]\",fXe=\"[object Set]\",hXe=\"[object Array]\",pXe=\"[object ArrayBuffer]\",gXe=\"[object Object]\",mXe=\"[object DataView]\",yXe=\"[object Uint8Array]\",bXe=\"[object Uint8ClampedArray]\",wXe=\"[object Uint16Array]\",vXe=\"[object Uint32Array]\",EXe=\"[object Int8Array]\",_Xe=\"[object Int16Array]\",CXe=\"[object Int32Array]\",SXe=\"[object Float32Array]\",xXe=\"[object Float64Array]\";function AXe(t,e){return sm(t,void 0,t,new Map,e)}function sm(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(Wk(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=sm(t[a],a,n,r,i);return Object.hasOwn(t,\"index\")&&(o.index=t.index),Object.hasOwn(t,\"input\")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,sm(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(sm(a,void 0,n,r,i));return o}if(typeof Buffer<\"u\"&&Buffer.isBuffer(t))return t.subarray();if(Gk(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=sm(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<\"u\"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),u0(o,t,n,r,i),o}if(typeof File<\"u\"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),u0(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),u0(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,u0(o,t,n,r,i),o}if(typeof t==\"object\"&&$Xe(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),u0(o,t,n,r,i),o}return t}function u0(t,e,n=t,r,i){const s=[...Object.keys(e),...ble(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=sm(e[a],a,n,r,i))}}function $Xe(t){switch(wle(t)){case Cle:case hXe:case pXe:case mXe:case _le:case uXe:case SXe:case xXe:case EXe:case _Xe:case CXe:case dXe:case Ele:case gXe:case cXe:case fXe:case vle:case lXe:case yXe:case bXe:case wXe:case vXe:return!0;default:return!1}}function IXe(t,e){return AXe(t,(n,r,i,s)=>{if(typeof t==\"object\")switch(Object.prototype.toString.call(t)){case Ele:case vle:case _le:{const o=new t.constructor(t==null?void 0:t.valueOf());return u0(o,t),o}case Cle:{const o={};return u0(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function ZG(t){return IXe(t)}function YG(t){return t!==null&&typeof t==\"object\"&&wle(t)===\"[object Arguments]\"}function TXe(t){return Gk(t)}function PXe(t){var n;if(typeof t!=\"object\"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!==\"[object Object]\"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function OXe(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=EO(i,o,r,new Map)}return i}function EO(t,e,n,r){if(Wk(t)&&(t=Object(t)),e==null||typeof e!=\"object\")return t;if(r.has(e))return aXe(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...ble(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(YG(a)&&(a={...a}),YG(c)&&(c={...c}),typeof Buffer<\"u\"&&Buffer.isBuffer(a)&&(a=ZG(a)),Array.isArray(a))if(typeof c==\"object\"&&c!=null){const d=[],h=Reflect.ownKeys(c);for(let p=0;p<h.length;p++){const m=h[p];d[m]=c[m]}c=d}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||GG(c)&&GG(a)?t[o]=EO(c,a,n,r):c==null&&PXe(a)?t[o]=EO({},a,n,r):c==null&&TXe(a)?t[o]=ZG(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function NXe(t,...e){return OXe(t,...e,oXe)}var RXe=Object.defineProperty,kXe=Object.defineProperties,MXe=Object.getOwnPropertyDescriptors,JG=Object.getOwnPropertySymbols,DXe=Object.prototype.hasOwnProperty,BXe=Object.prototype.propertyIsEnumerable,XG=(t,e,n)=>e in t?RXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dE=(t,e)=>{for(var n in e||(e={}))DXe.call(e,n)&&XG(t,n,e[n]);if(JG)for(var n of JG(e))BXe.call(e,n)&&XG(t,n,e[n]);return t},LXe=(t,e)=>kXe(t,MXe(e));function Ho(t,e,n){var r;const i=wm(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${yle}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Wp(t){return t.includes(\":\")?t.split(\":\")[1]:t}function Sle(t){return t.map(e=>`${e.split(\":\")[0]}:${e.split(\":\")[1]}`)}function UXe(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function fE(t={},e={}){const n=QG(t),r=QG(e);return NXe(n,r)}function QG(t){var e,n,r,i,s;const o={};if(!Wf(t))return o;for(const[a,c]of Object.entries(t)){const l=b9(a)?[a]:c.chains,d=c.methods||[],h=c.events||[],p=c.rpcMap||{},m=im(a);o[m]=LXe(dE(dE({},o[m]),c),{chains:vl(l,(e=o[m])==null?void 0:e.chains),methods:vl(d,(n=o[m])==null?void 0:n.methods),events:vl(h,(r=o[m])==null?void 0:r.events)}),(Wf(p)||Wf(((i=o[m])==null?void 0:i.rpcMap)||{}))&&(o[m].rpcMap=dE(dE({},p),(s=o[m])==null?void 0:s.rpcMap))}return o}function eZ(t){return t.includes(\":\")?t.split(\":\")[2]:t}function tZ(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=b9(n)?[n]:r.chains?r.chains:Sle(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function ZA(t){return typeof t==\"number\"?t:t.includes(\"0x\")?parseInt(t,16):(t=t.includes(\":\")?t.split(\":\")[1]:t,isNaN(Number(t))?t:Number(t))}const xle={},ln=t=>xle[t],YA=(t,e)=>{xle[t]=e};var jXe=Object.defineProperty,zXe=(t,e,n)=>e in t?jXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,m1=(t,e,n)=>zXe(t,typeof e!=\"symbol\"?e+\"\":e,n);class FXe{constructor(e){m1(this,\"name\",\"polkadot\"),m1(this,\"client\"),m1(this,\"httpProviders\"),m1(this,\"events\"),m1(this,\"namespace\"),m1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Wp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var qXe=Object.defineProperty,HXe=Object.defineProperties,VXe=Object.getOwnPropertyDescriptors,nZ=Object.getOwnPropertySymbols,KXe=Object.prototype.hasOwnProperty,WXe=Object.prototype.propertyIsEnumerable,_O=(t,e,n)=>e in t?qXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,rZ=(t,e)=>{for(var n in e||(e={}))KXe.call(e,n)&&_O(t,n,e[n]);if(nZ)for(var n of nZ(e))WXe.call(e,n)&&_O(t,n,e[n]);return t},iZ=(t,e)=>HXe(t,VXe(e)),y1=(t,e,n)=>_O(t,typeof e!=\"symbol\"?e+\"\":e,n);class GXe{constructor(e){y1(this,\"name\",\"eip155\"),y1(this,\"client\"),y1(this,\"chainId\"),y1(this,\"namespace\"),y1(this,\"httpProviders\"),y1(this,\"events\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case\"eth_requestAccounts\":return this.getAccounts();case\"eth_accounts\":return this.getAccounts();case\"wallet_switchEthereumChain\":return await this.handleSwitchChain(e);case\"eth_chainId\":return parseInt(this.getDefaultChain());case\"wallet_getCapabilities\":return await this.getCapabilities(e);case\"wallet_getCallsStatus\":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}createHttpProvider(e,n){const r=n||Ho(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Wp(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:\"0x0\";i=i.startsWith(\"0x\")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes(\"wallet_switchEthereumChain\"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i,s,o;const a=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[],l=`${a}${c.join(\",\")}`;if(!a)throw new Error(\"Missing address parameter in `wallet_getCapabilities` request\");const d=this.client.session.get(e.topic),h=((o=d==null?void 0:d.sessionProperties)==null?void 0:o.capabilities)||{};if(h!=null&&h[l])return h==null?void 0:h[l];const p=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:iZ(rZ({},d.sessionProperties||{}),{capabilities:iZ(rZ({},h||{}),{[l]:p})})})}catch(m){console.warn(\"Failed to update session with capabilities\",m)}return p}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn(\"Failed to fetch call status from bundler\",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn(\"Failed to fetch call status from custom bundler\",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error(\"Fetching call status not approved by the wallet.\")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(ms(\"eth_getUserOperationReceipt\",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${sXe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var ZXe=Object.defineProperty,YXe=(t,e,n)=>e in t?ZXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,b1=(t,e,n)=>YXe(t,typeof e!=\"symbol\"?e+\"\":e,n);class JXe{constructor(e){b1(this,\"name\",\"solana\"),b1(this,\"client\"),b1(this,\"httpProviders\"),b1(this,\"events\"),b1(this,\"namespace\"),b1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Wp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var XXe=Object.defineProperty,QXe=(t,e,n)=>e in t?XXe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w1=(t,e,n)=>QXe(t,typeof e!=\"symbol\"?e+\"\":e,n);class eQe{constructor(e){w1(this,\"name\",\"cosmos\"),w1(this,\"client\"),w1(this,\"httpProviders\"),w1(this,\"events\"),w1(this,\"namespace\"),w1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Wp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var tQe=Object.defineProperty,nQe=(t,e,n)=>e in t?tQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,v1=(t,e,n)=>nQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class rQe{constructor(e){v1(this,\"name\",\"algorand\"),v1(this,\"client\"),v1(this,\"httpProviders\"),v1(this,\"events\"),v1(this,\"namespace\"),v1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||Ho(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);return typeof r>\"u\"?void 0:new nr(new fr(r,ln(\"disableProviderPing\")))}}var iQe=Object.defineProperty,sQe=(t,e,n)=>e in t?iQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E1=(t,e,n)=>sQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class oQe{constructor(e){E1(this,\"name\",\"cip34\"),E1(this,\"client\"),E1(this,\"httpProviders\"),E1(this,\"events\"),E1(this,\"namespace\"),E1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Wp(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var aQe=Object.defineProperty,cQe=(t,e,n)=>e in t?aQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_1=(t,e,n)=>cQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class lQe{constructor(e){_1(this,\"name\",\"elrond\"),_1(this,\"client\"),_1(this,\"httpProviders\"),_1(this,\"events\"),_1(this,\"namespace\"),_1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Wp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var uQe=Object.defineProperty,dQe=(t,e,n)=>e in t?uQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,C1=(t,e,n)=>dQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class fQe{constructor(e){C1(this,\"name\",\"multiversx\"),C1(this,\"client\"),C1(this,\"httpProviders\"),C1(this,\"events\"),C1(this,\"namespace\"),C1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Wp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var hQe=Object.defineProperty,pQe=(t,e,n)=>e in t?hQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,S1=(t,e,n)=>pQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class gQe{constructor(e){S1(this,\"name\",\"near\"),S1(this,\"client\"),S1(this,\"httpProviders\"),S1(this,\"events\"),S1(this,\"namespace\"),S1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ho(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace);return typeof r>\"u\"?void 0:new nr(new fr(r,ln(\"disableProviderPing\")))}}var mQe=Object.defineProperty,yQe=(t,e,n)=>e in t?mQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,x1=(t,e,n)=>yQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class bQe{constructor(e){x1(this,\"name\",\"tezos\"),x1(this,\"client\"),x1(this,\"httpProviders\"),x1(this,\"events\"),x1(this,\"namespace\"),x1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||Ho(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace);return typeof r>\"u\"?void 0:new nr(new fr(r))}}var wQe=Object.defineProperty,vQe=(t,e,n)=>e in t?wQe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,A1=(t,e,n)=>vQe(t,typeof e!=\"symbol\"?e+\"\":e,n);class EQe{constructor(e){A1(this,\"name\",B1),A1(this,\"client\"),A1(this,\"httpProviders\"),A1(this,\"events\"),A1(this,\"namespace\"),A1(this,\"chainId\"),this.namespace=e.namespace,this.events=ln(\"events\"),this.client=ln(\"client\"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Ma.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error(\"ChainId not found\");return e.split(\":\")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(\":\")[1]===this.chainId.toString()).map(n=>n.split(\":\")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=wm(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>\"u\")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||Ho(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new nr(new fr(r,ln(\"disableProviderPing\")))}}var _Qe=Object.defineProperty,CQe=Object.defineProperties,SQe=Object.getOwnPropertyDescriptors,sZ=Object.getOwnPropertySymbols,xQe=Object.prototype.hasOwnProperty,AQe=Object.prototype.propertyIsEnumerable,CO=(t,e,n)=>e in t?_Qe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hE=(t,e)=>{for(var n in e||(e={}))xQe.call(e,n)&&CO(t,n,e[n]);if(sZ)for(var n of sZ(e))AQe.call(e,n)&&CO(t,n,e[n]);return t},JA=(t,e)=>CQe(t,SQe(e)),ba=(t,e,n)=>CO(t,typeof e!=\"symbol\"?e+\"\":e,n);let $Qe=class Ale{constructor(e){ba(this,\"client\"),ba(this,\"namespaces\"),ba(this,\"optionalNamespaces\"),ba(this,\"sessionProperties\"),ba(this,\"scopedProperties\"),ba(this,\"events\",new vy),ba(this,\"rpcProviders\",{}),ba(this,\"session\"),ba(this,\"providerOpts\"),ba(this,\"logger\"),ba(this,\"uri\"),ba(this,\"disableProviderPing\",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<\"u\"&&typeof(e==null?void 0:e.logger)!=\"string\"?e.logger:ph(pd({level:(e==null?void 0:e.logger)||WG})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new Ale(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error(\"Please call connect() before request()\");return await this.getProvider(i).request({request:hE({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,gh(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error(\"Sign Client not initialized\");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error(\"Please call connect() before enable()\");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:On(\"USER_DISCONNECTED\")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error(\"Sign Client not initialized\");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error(\"Sign Client not initialized\");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit(\"display_uri\",r));const s=await i();if(this.session=s.session,this.session){const o=tZ(this.session.namespaces);this.namespaces=fE(this.namespaces,o),await this.persist(\"namespaces\",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit(\"display_uri\",n));const i=await r();this.session=i;const s=tZ(i.namespaces);return this.namespaces=fE(this.namespaces,s),await this.persist(\"namespaces\",this.namespaces),await this.persist(\"optionalNamespaces\",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===B1?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info(\"Cleaning up inactive pairings...\");const n=this.client.pairing.getAll();if(Kf(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn(\"abortPairingAttempt is deprecated. This is now a no-op.\")}async checkStorage(){this.namespaces=await this.getFromStore(\"namespaces\")||{},this.optionalNamespaces=await this.getFromStore(\"optionalNamespaces\")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace(\"Initialized\"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await tXe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||WG,relayUrl:this.providerOpts.relayUrl||nXe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error(\"Failed to get session\",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace(\"SignClient Initialized\")}createProviders(){if(!this.client)throw new Error(\"Sign Client not initialized\");if(!this.session)throw new Error(\"Session not initialized. Please call connect() before enable()\");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>im(n)))];YA(\"client\",this.client),YA(\"events\",this.events),YA(\"disableProviderPing\",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=UXe(n,this.session),i=Sle(r),s=fE(this.namespaces,this.optionalNamespaces),o=JA(hE({},s[n]),{accounts:r,chains:i});switch(n){case\"eip155\":this.rpcProviders[n]=new GXe({namespace:o});break;case\"algorand\":this.rpcProviders[n]=new rQe({namespace:o});break;case\"solana\":this.rpcProviders[n]=new JXe({namespace:o});break;case\"cosmos\":this.rpcProviders[n]=new eQe({namespace:o});break;case\"polkadot\":this.rpcProviders[n]=new FXe({namespace:o});break;case\"cip34\":this.rpcProviders[n]=new oQe({namespace:o});break;case\"elrond\":this.rpcProviders[n]=new lQe({namespace:o});break;case\"multiversx\":this.rpcProviders[n]=new fQe({namespace:o});break;case\"near\":this.rpcProviders[n]=new gQe({namespace:o});break;case\"tezos\":this.rpcProviders[n]=new bQe({namespace:o});break;default:this.rpcProviders[B1]?this.rpcProviders[B1].updateNamespace(o):this.rpcProviders[B1]=new EQe({namespace:o})}})}registerEventListeners(){if(typeof this.client>\"u\")throw new Error(\"Sign Client is not initialized\");this.client.on(\"session_ping\",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit(\"session_ping\",e)}),this.client.on(\"session_event\",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name===\"accountsChanged\"){const o=s.data;o&&Kf(o)&&this.events.emit(\"accountsChanged\",o.map(eZ))}else if(s.name===\"chainChanged\"){const o=r.chainId,a=r.event.data,c=im(o),l=ZA(o)!==ZA(a)?`${c}:${ZA(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit(\"session_event\",e)}),this.client.on(\"session_update\",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=JA(hE({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit(\"session_update\",{topic:e,params:n})}),this.client.on(\"session_delete\",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit(\"session_delete\",e),this.events.emit(\"disconnect\",JA(hE({},On(\"USER_DISCONNECTED\")),{data:e.topic})))}),this.on(Ma.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[B1]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n={},optionalNamespaces:r={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=fE(n,r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(\":\"))||[\"\",\"\"];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>im(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=im(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit(\"chainChanged\",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist(\"namespaces\",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(eZ);if(!Kf(a))return;this.events.emit(\"accountsChanged\",a)}catch(o){this.logger.warn(\"Failed to emit accountsChanged on chain change\",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit(\"connect\",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore(\"namespaces\"),await this.deleteFromStore(\"optionalNamespaces\"),await this.deleteFromStore(\"sessionProperties\"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||\"\";await this.client.core.storage.setItem(`${uE}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||\"\";return await this.client.core.storage.getItem(`${uE}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||\"\";await this.client.core.storage.removeItem(`${uE}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(uE)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn(\"Failed to cleanup storage\",n)}}};const R0={getSIWX(){return Se.state.siwx},async initializeIfEnabled(){var s;const t=Se.state.siwx,e=ee.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(\":\");if(ee.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await bn.open({view:\"SIWXSignMessage\"})}catch(o){console.error(\"SIWXUtil:initializeIfEnabled\",o),jt.sendEvent({type:\"track\",event:\"SIWX_AUTH_ERROR\",properties:this.getSIWXEventProperties()}),await((s=He._getClient())==null?void 0:s.disconnect().catch(console.error)),Le.reset(\"Connect\"),Er.showError(\"A problem occurred while trying initialize authentication\")}},async requestSignMessage(){const t=Se.state.siwx,e=Me.getPlainAddress(ee.getActiveCaipAddress()),n=ee.getActiveCaipNetwork(),r=He._getClient();if(!t)throw new Error(\"SIWX is not enabled\");if(!e)throw new Error(\"No ActiveCaipAddress found\");if(!n)throw new Error(\"No ActiveCaipNetwork or client found\");if(!r)throw new Error(\"No ConnectionController client found\");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Ne.getConnectorId(n.chainNamespace)===ft.CONNECTOR_ID.AUTH&&Le.pushTransactionStack({});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),bn.close(),jt.sendEvent({type:\"track\",event:\"SIWX_AUTH_SUCCESS\",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!bn.state.open||Le.state.view===\"ApproveTransaction\")&&await bn.open({view:\"SIWXSignMessage\"}),s.isSmartAccount?Er.showError(\"This application might not support Smart Accounts\"):Er.showError(\"Signature declined\"),jt.sendEvent({type:\"track\",event:\"SIWX_AUTH_ERROR\",properties:s}),console.error(\"SWIXUtil:requestSignMessage\",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await He.disconnect():bn.close(),Le.reset(\"Connect\"),jt.sendEvent({event:\"CLICK_CANCEL_SIWX\",type:\"track\",properties:this.getSIWXEventProperties()})}catch(e){console.error(\"SIWXUtil:cancelSignMessage\",e)}},async getSessions(){const t=Se.state.siwx,e=Me.getPlainAddress(ee.getActiveCaipAddress()),n=ee.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Le.state.view===\"ApproveTransaction\",r=Le.state.view===\"SIWXSignMessage\";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=R0.getSIWX(),i=new Set(e.map(d=>d.split(\":\")[0]));if(!r||i.size!==1||!i.has(\"eip155\"))return!1;const s=await r.createMessage({chainId:((a=ee.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||\"\",accountAddress:\"\"}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(d=>d!==s.chainId)]});if(Er.showLoading(\"Authenticating...\",{autoClose:!1}),at.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:\"WALLET_CONNECT\"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const d=o.auths.map(h=>{const p=t.client.formatAuthMessage({request:h.p,iss:h.p.iss});return{data:{...h.p,accountAddress:h.p.iss.split(\":\").slice(-1).join(\"\"),chainId:h.p.iss.split(\":\").slice(2,4).join(\":\"),uri:h.p.aud,version:h.p.version||s.version,expirationTime:h.p.exp,issuedAt:h.p.iat,notBefore:h.p.nbf},message:p,signature:h.s.s,cacao:h}});try{await r.setSessions(d),jt.sendEvent({type:\"track\",event:\"SIWX_AUTH_SUCCESS\",properties:R0.getSIWXEventProperties()})}catch(h){throw console.error(\"SIWX:universalProviderAuth - failed to set sessions\",h),jt.sendEvent({type:\"track\",event:\"SIWX_AUTH_ERROR\",properties:R0.getSIWXEventProperties()}),await t.disconnect().catch(console.error),h}finally{Er.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=ee.state.activeChain;return{network:((e=ee.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||\"\",isSmartAccount:((n=at.state.preferredAccountTypes)==null?void 0:n[t])===Fw.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},$le={isUnsupportedChainView(){return Le.state.view===\"UnsupportedChain\"||Le.state.view===\"SwitchNetwork\"&&Le.state.history.includes(\"UnsupportedChain\")},async safeClose(){if(this.isUnsupportedChainView()){bn.shake();return}if(await R0.isSIWXCloseDisabled()){bn.shake();return}bn.close()}};function pE(t,e){return Ne.getConnectorId(t)===e}function IQe(t){const e=Array.from(ee.state.chains.keys());let n=[];return t?(n.push([t,ee.state.chains.get(t)]),pE(t,ft.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&pE(r,ft.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,ee.state.chains.get(r)])}):pE(t,ft.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&pE(r,ft.CONNECTOR_ID.AUTH)&&n.push([r,ee.state.chains.get(r)])})):n=Array.from(ee.state.chains.entries()),n}const hf={EIP155:\"eip155\",CONNECTOR_TYPE_WALLET_CONNECT:\"WALLET_CONNECT\",CONNECTOR_TYPE_INJECTED:\"INJECTED\",CONNECTOR_TYPE_ANNOUNCED:\"ANNOUNCED\"},_4={NetworkImageIds:{1:\"ba0ba0cd-17c6-4806-ad93-f9d174f17900\",42161:\"3bff954d-5cb0-47a0-9a23-d20192e74600\",43114:\"30c46e53-e989-45fb-4549-be3bd4eb3b00\",56:\"93564157-2e8e-4ce7-81df-b264dbee9b00\",250:\"06b26297-fe0c-4733-5d6b-ffa5498aac00\",10:\"ab9c186a-c52f-464b-2906-ca59d760a400\",137:\"41d04d42-da3b-4453-8506-668cc0727900\",5e3:\"e86fae9b-b770-4eea-e520-150e12c81100\",295:\"6a97d510-cac8-4e58-c7ce-e8681b044c00\",11155111:\"e909ea0a-f92a-4512-c8fc-748044ea6800\",84532:\"a18a7ecd-e307-4360-4746-283182228e00\",1301:\"4eeea7ef-0014-4649-5d1d-07271a80f600\",130:\"2257980a-3463-48c6-cbac-a42d2a956e00\",10143:\"0a728e83-bacb-46db-7844-948f05434900\",100:\"02b53f6a-e3d4-479e-1cb4-21178987d100\",9001:\"f926ff41-260d-4028-635e-91913fc28e00\",324:\"b310f07f-4ef7-49f3-7073-2a0a39685800\",314:\"5a73b3dd-af74-424e-cae0-0de859ee9400\",4689:\"34e68754-e536-40da-c153-6ef2e7188a00\",1088:\"3897a66d-40b9-4833-162f-a2c90531c900\",1284:\"161038da-44ae-4ec7-1208-0ea569454b00\",1285:\"f1d73bb6-5450-4e18-38f7-fb6484264a00\",7777777:\"845c60df-d429-4991-e687-91ae45791600\",42220:\"ab781bbc-ccc6-418d-d32d-789b15da1f00\",8453:\"7289c336-3981-4081-c5f4-efc26ac64a00\",1313161554:\"3ff73439-a619-4894-9262-4470c773a100\",2020:\"b8101fc0-9c19-4b6f-ec65-f6dfff106e00\",2021:\"b8101fc0-9c19-4b6f-ec65-f6dfff106e00\",80094:\"e329c2c9-59b0-4a02-83e4-212ff3779900\",2741:\"fc2427d1-5af9-4a9c-8da5-6f94627cd900\",\"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\":\"a1b58899-f671-4276-6a5e-56ca5bd59700\",\"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\":\"a1b58899-f671-4276-6a5e-56ca5bd59700\",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:\"a1b58899-f671-4276-6a5e-56ca5bd59700\",\"000000000019d6689c085ae165831e93\":\"0b4838db-0161-4ffe-022d-532bf03dba00\",\"000000000933ea01ad0ee984209779ba\":\"39354064-d79b-420b-065d-f980c4b78200\"},ConnectorImageIds:{[ft.CONNECTOR_ID.COINBASE]:\"0c2840c3-5b04-4c44-9661-fbd4b49e1800\",[ft.CONNECTOR_ID.COINBASE_SDK]:\"0c2840c3-5b04-4c44-9661-fbd4b49e1800\",[ft.CONNECTOR_ID.SAFE]:\"461db637-8616-43ce-035a-d89b8a1d5800\",[ft.CONNECTOR_ID.LEDGER]:\"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300\",[ft.CONNECTOR_ID.WALLET_CONNECT]:\"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400\",[ft.CONNECTOR_ID.INJECTED]:\"07ba87ed-43aa-4adf-4540-9e6a2b9cae00\"},ConnectorNamesMap:{[ft.CONNECTOR_ID.INJECTED]:\"Browser Wallet\",[ft.CONNECTOR_ID.WALLET_CONNECT]:\"WalletConnect\",[ft.CONNECTOR_ID.COINBASE]:\"Coinbase\",[ft.CONNECTOR_ID.COINBASE_SDK]:\"Coinbase\",[ft.CONNECTOR_ID.LEDGER]:\"Ledger\",[ft.CONNECTOR_ID.SAFE]:\"Safe\"}},Zk={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${hf.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}};new AbortController;const $1={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:\"Unauthorized: origin not allowed\",alertErrorKey:\"INVALID_APP_CONFIGURATION\"},JWT_VALIDATION_ERROR:{message:\"JWT validation error: JWT Token is not yet valid\",alertErrorKey:\"JWT_TOKEN_NOT_VALID\"},INVALID_KEY:{message:\"Unauthorized: invalid key\",alertErrorKey:\"INVALID_PROJECT_ID\"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:\"Network Not Found\",longMessage:\"Network not found - please make sure it is included in 'networks' array in createAppKit function\"},INVALID_APP_CONFIGURATION:{shortMessage:\"Invalid App Configuration\",longMessage:()=>`Origin ${TQe()?window.origin:\"unknown\"} not found on Allowlist - update configuration on cloud.reown.com`},IFRAME_LOAD_FAILED:{shortMessage:\"Network Error - Could not load embedded wallet\",longMessage:()=>\"There was an issue loading the embedded wallet. Please try again later.\"},IFRAME_REQUEST_TIMEOUT:{shortMessage:\"Embedded Wallet Request Timed Out\",longMessage:()=>\"There was an issue doing the request to the embedded wallet. Please try again later.\"},UNVERIFIED_DOMAIN:{shortMessage:\"Invalid App Configuration\",longMessage:()=>\"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com\"},JWT_TOKEN_NOT_VALID:{shortMessage:\"Session Expired\",longMessage:\"Invalid session found on UniversalProvider - please check your time settings and connect again\"},INVALID_PROJECT_ID:{shortMessage:\"Invalid App Configuration\",longMessage:\"Invalid Project ID - update configuration\"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:\"Project ID Not Configured\",longMessage:\"Project ID Not Configured - update configuration on cloud.reown.com\"}}};function TQe(){return typeof window<\"u\"}const PQe={createLogger(t,e=\"error\"){const n=pd({level:e}),{logger:r}=Rk({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},OQe=\"rpc.walletconnect.org\";function oZ(t,e){const n=new URL(\"https://rpc.walletconnect.org/v1/\");return n.searchParams.set(\"chainId\",t),n.searchParams.set(\"projectId\",e),n.toString()}const XA=[\"near:mainnet\",\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",\"eip155:1101\",\"eip155:56\",\"eip155:42161\",\"eip155:7777777\",\"eip155:59144\",\"eip155:324\",\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",\"eip155:5000\",\"solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz\",\"eip155:80084\",\"eip155:5003\",\"eip155:100\",\"eip155:8453\",\"eip155:42220\",\"eip155:1313161555\",\"eip155:17000\",\"eip155:1\",\"eip155:300\",\"eip155:1313161554\",\"eip155:1329\",\"eip155:84532\",\"eip155:421614\",\"eip155:11155111\",\"eip155:8217\",\"eip155:43114\",\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",\"eip155:999999999\",\"eip155:11155420\",\"eip155:80002\",\"eip155:97\",\"eip155:43113\",\"eip155:137\",\"eip155:10\",\"eip155:1301\",\"bip122:000000000019d6689c085ae165831e93\",\"bip122:000000000933ea01ad0ee984209779ba\"],L1={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===OQe}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has(\"projectId\")||r.searchParams.set(\"projectId\",e),r.toString()}return t},isCaipNetwork(t){return\"chainNamespace\"in t&&\"caipNetworkId\"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:ft.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${ft.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return XA.includes(e)?oZ(e,n):r||\"\"},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var p,m,b,y,E;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(p=t.rpcUrls.default.http)==null?void 0:p[0],a=this.getDefaultRpcUrl(t,s,n),c=((y=(b=(m=t==null?void 0:t.rpcUrls)==null?void 0:m.chainDefault)==null?void 0:b.http)==null?void 0:y[0])||o,l=((E=r==null?void 0:r[s])==null?void 0:E.map(v=>v.url))||[],d=[...l,a],h=[...l];return c&&!h.includes(c)&&h.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:_4.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:d},chainDefault:{http:h}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>L1.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(Ou(a.url,a.config))}),XA.includes(t.caipNetworkId)&&r.push(Ou(oZ(t.caipNetworkId,e),{fetchOptions:{headers:{\"Content-Type\":\"text/plain\"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(Ou(a))}),$j(r)},extendWagmiTransports(t,e,n){if(XA.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return $j([n,Ou(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(\":\")[1],caipNetworkId:t,name:ft.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(\":\")[0],nativeCurrency:{name:\"\",decimals:0,symbol:\"\"},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=nt.getActiveCaipNetworkId(),n=ee.getAllRequestedCaipNetworks(),r=Array.from(((c=ee.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(\":\")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},C4={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0},js=Vn({providers:{...C4},providerIds:{...C4}}),rr={state:js,subscribeKey(t,e){return Hi(js,t,e)},subscribe(t){return ji(js,()=>{t(js)})},subscribeProviders(t){return ji(js.providers,()=>t(js.providers))},setProvider(t,e){e&&(js.providers[t]=up(e))},getProvider(t){return js.providers[t]},setProviderId(t,e){e&&(js.providerIds[t]=e)},getProviderId(t){if(t)return js.providerIds[t]},reset(){js.providers={...C4},js.providerIds={...C4}},resetChain(t){js.providers[t]=void 0,js.providerIds[t]=void 0}},kf={VIEW_DIRECTION:{Next:\"next\",Prev:\"prev\"},DEFAULT_CONNECT_METHOD_ORDER:[\"email\",\"social\",\"wallet\"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},pp={filterOutDuplicatesByRDNS(t){const e=Se.state.enableEIP6963?Ne.state.connectors:[],n=nt.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes(\"io.metamask.mobile\")&&Me.isMobile()){const a=s.indexOf(\"io.metamask.mobile\");s[a]=\"io.metamask\"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Ne.state.connectors.filter(a=>a.type===\"ANNOUNCED\"||a.type===\"INJECTED\"),n=nt.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Ne.state,{featuredWalletIds:n}=Se.state,r=e.filter(o=>o.type===\"ANNOUNCED\").reduce((o,a)=>{var c;return(c=a.info)!=null&&c.rdns&&(o[a.info.rdns]=!0),o},{});return t.map(o=>({...o,installed:!!o.rdns&&!!r[o.rdns??\"\"]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(n!=null&&n.length){const l=n.indexOf(o.id),d=n.indexOf(a.id);if(l!==-1&&d!==-1)return l-d;if(l!==-1)return-1;if(d!==-1)return 1}return 0})},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=Se.state.features)==null?void 0:c.connectMethodsOrder),r=e||Ne.state.connectors;if(n)return n;const{injected:i,announced:s}=Ju.getConnectorsByType(r,Ue.state.recommended,Ue.state.featured),o=i.filter(Ju.showConnector),a=s.filter(Ju.showConnector);return o.length||a.length?[\"wallet\",\"email\",\"social\"]:kf.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Ue.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Ue.state.excludedWallets.some(r=>Zk.isLowerCaseMatch(r.name,t.name));return e||n}},Ju={getConnectorsByType(t,e,n){const{customWallets:r}=Se.state,i=nt.getRecentWallets(),s=pp.filterOutDuplicateWallets(e),o=pp.filterOutDuplicateWallets(n),a=t.filter(h=>h.type===\"MULTI_CHAIN\"),c=t.filter(h=>h.type===\"ANNOUNCED\"),l=t.filter(h=>h.type===\"INJECTED\"),d=t.filter(h=>h.type===\"EXTERNAL\");return{custom:r,recent:i,external:d,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&Ue.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Ue.state.excludedWallets.some(s=>Zk.isLowerCaseMatch(s.name,t.name));return!(t.type===\"INJECTED\"&&(t.name===\"Browser Wallet\"&&(!Me.isMobile()||Me.isMobile()&&!e&&!He.checkInstalled())||n||r)||(t.type===\"ANNOUNCED\"||t.type===\"EXTERNAL\")&&(n||r))},getIsConnectedWithWC(){return Array.from(ee.state.chains.values()).some(n=>Ne.getConnectorId(n.namespace)===ft.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=Se.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const d=Ju.getIsConnectedWithWC(),m=[{type:\"walletConnect\",isEnabled:Se.state.enableWalletConnect&&!d},{type:\"recent\",isEnabled:r.length>0},{type:\"injected\",isEnabled:[...s,...i,...o].length>0},{type:\"featured\",isEnabled:e.length>0},{type:\"custom\",isEnabled:n&&n.length>0},{type:\"external\",isEnabled:a.length>0},{type:\"recommended\",isEnabled:t.length>0}].filter(v=>v.isEnabled),b=new Set(m.map(v=>v.type)),y=c.filter(v=>b.has(v)).map(v=>({type:v,isEnabled:!0})),E=m.filter(({type:v})=>!y.some(({type:C})=>C===v));return Array.from(new Set([...y,...E].map(({type:v})=>v)))}};/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const n8=globalThis,Yk=n8.ShadowRoot&&(n8.ShadyCSS===void 0||n8.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,Jk=Symbol(),aZ=new WeakMap;let Ile=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==Jk)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Yk&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=aZ.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&aZ.set(n,e))}return e}toString(){return this.cssText}};const wa=t=>new Ile(typeof t==\"string\"?t:t+\"\",void 0,Jk),wt=(t,...e)=>{const n=t.length===1?t[0]:e.reduce(((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o==\"number\")return o;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+o+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(i)+t[s+1]),t[0]);return new Ile(n,t,Jk)},NQe=(t,e)=>{if(Yk)t.adoptedStyleSheets=e.map((n=>n instanceof CSSStyleSheet?n:n.styleSheet));else for(const n of e){const r=document.createElement(\"style\"),i=n8.litNonce;i!==void 0&&r.setAttribute(\"nonce\",i),r.textContent=n.cssText,t.appendChild(r)}},cZ=Yk?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n=\"\";for(const r of e.cssRules)n+=r.cssText;return wa(n)})(t):t;/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:RQe,defineProperty:kQe,getOwnPropertyDescriptor:MQe,getOwnPropertyNames:DQe,getOwnPropertySymbols:BQe,getPrototypeOf:LQe}=Object,Gf=globalThis,lZ=Gf.trustedTypes,UQe=lZ?lZ.emptyScript:\"\",QA=Gf.reactiveElementPolyfillSupport,Gw=(t,e)=>t,S4={toAttribute(t,e){switch(e){case Boolean:t=t?UQe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},Xk=(t,e)=>!RQe(t,e),uZ={attribute:!0,type:String,converter:S4,reflect:!1,useDefault:!1,hasChanged:Xk};Symbol.metadata??(Symbol.metadata=Symbol(\"metadata\")),Gf.litPropertyMetadata??(Gf.litPropertyMetadata=new WeakMap);let U1=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=uZ){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&kQe(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=MQe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??uZ}static _$Ei(){if(this.hasOwnProperty(Gw(\"elementProperties\")))return;const e=LQe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Gw(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Gw(\"properties\"))){const n=this.properties,r=[...DQe(n),...BQe(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(cZ(i))}else e!==void 0&&n.push(cZ(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r==\"string\"?r:typeof e==\"string\"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise((n=>this.enableUpdating=n)),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach((n=>n(this)))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return NQe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach((n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)}))}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach((n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)}))}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:S4).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter==\"function\"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:S4;this._$Em=i;const l=c.fromAttribute(n,a.type);this[i]=l??((o=this._$Ej)==null?void 0:o.get(i))??l,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??Xk)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach((i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)})),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach((r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach((n=>this._$ET(n,this[n])))),this._$EM()}updated(e){}firstUpdated(e){}};U1.elementStyles=[],U1.shadowRootOptions={mode:\"open\"},U1[Gw(\"elementProperties\")]=new Map,U1[Gw(\"finalized\")]=new Map,QA==null||QA({ReactiveElement:U1}),(Gf.reactiveElementVersions??(Gf.reactiveElementVersions=[])).push(\"2.1.1\");/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const Zw=globalThis,x4=Zw.trustedTypes,dZ=x4?x4.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,Tle=\"$lit$\",If=`lit$${Math.random().toFixed(9).slice(2)}$`,Ple=\"?\"+If,jQe=`<${Ple}>`,gp=document,u2=()=>gp.createComment(\"\"),d2=t=>t===null||typeof t!=\"object\"&&typeof t!=\"function\",Qk=Array.isArray,zQe=t=>Qk(t)||typeof(t==null?void 0:t[Symbol.iterator])==\"function\",e$=`[ 	\n\\f\\r]`,dw=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,fZ=/-->/g,hZ=/>/g,Zh=RegExp(`>|${e$}(?:([^\\\\s\"'>=/]+)(${e$}*=${e$}*(?:[^ 	\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),pZ=/'/g,gZ=/\"/g,Ole=/^(?:script|style|textarea|title)$/i,Nle=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),ne=Nle(1),qe=Nle(2),ad=Symbol.for(\"lit-noChange\"),vr=Symbol.for(\"lit-nothing\"),mZ=new WeakMap,v0=gp.createTreeWalker(gp,129);function Rle(t,e){if(!Qk(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return dZ!==void 0?dZ.createHTML(e):e}const FQe=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?\"<svg>\":e===3?\"<math>\":\"\",o=dw;for(let a=0;a<n;a++){const c=t[a];let l,d,h=-1,p=0;for(;p<c.length&&(o.lastIndex=p,d=o.exec(c),d!==null);)p=o.lastIndex,o===dw?d[1]===\"!--\"?o=fZ:d[1]!==void 0?o=hZ:d[2]!==void 0?(Ole.test(d[2])&&(i=RegExp(\"</\"+d[2],\"g\")),o=Zh):d[3]!==void 0&&(o=Zh):o===Zh?d[0]===\">\"?(o=i??dw,h=-1):d[1]===void 0?h=-2:(h=o.lastIndex-d[2].length,l=d[1],o=d[3]===void 0?Zh:d[3]==='\"'?gZ:pZ):o===gZ||o===pZ?o=Zh:o===fZ||o===hZ?o=dw:(o=Zh,i=void 0);const m=o===Zh&&t[a+1].startsWith(\"/>\")?\" \":\"\";s+=o===dw?c+jQe:h>=0?(r.push(l),c.slice(0,h)+Tle+c.slice(h)+If+m):c+If+(h===-2?a:m)}return[Rle(t,s+(t[n]||\"<?>\")+(e===2?\"</svg>\":e===3?\"</math>\":\"\")),r]};class f2{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,d]=FQe(e,n);if(this.el=f2.createElement(l,r),v0.currentNode=this.el.content,n===2||n===3){const h=this.el.content.firstChild;h.replaceWith(...h.childNodes)}for(;(i=v0.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const h of i.getAttributeNames())if(h.endsWith(Tle)){const p=d[o++],m=i.getAttribute(h).split(If),b=/([.?@])?(.*)/.exec(p);c.push({type:1,index:s,name:b[2],strings:m,ctor:b[1]===\".\"?HQe:b[1]===\"?\"?VQe:b[1]===\"@\"?KQe:E9}),i.removeAttribute(h)}else h.startsWith(If)&&(c.push({type:6,index:s}),i.removeAttribute(h));if(Ole.test(i.tagName)){const h=i.textContent.split(If),p=h.length-1;if(p>0){i.textContent=x4?x4.emptyScript:\"\";for(let m=0;m<p;m++)i.append(h[m],u2()),v0.nextNode(),c.push({type:2,index:++s});i.append(h[p],u2())}}}else if(i.nodeType===8)if(i.data===Ple)c.push({type:2,index:s});else{let h=-1;for(;(h=i.data.indexOf(If,h+1))!==-1;)c.push({type:7,index:s}),h+=If.length-1}s++}}static createElement(e,n){const r=gp.createElement(\"template\");return r.innerHTML=e,r}}function ey(t,e,n=t,r){var o,a;if(e===ad)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=d2(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=ey(t,i._$AS(t,e.values),i,r)),e}class qQe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??gp).importNode(n,!0);v0.currentNode=i;let s=v0.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new $5(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new WQe(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=v0.nextNode(),o++)}return v0.currentNode=gp,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class $5{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=vr,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=ey(this,e,n),d2(e)?e===vr||e==null||e===\"\"?(this._$AH!==vr&&this._$AR(),this._$AH=vr):e!==this._$AH&&e!==ad&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):zQe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==vr&&d2(this._$AH)?this._$AA.nextSibling.data=e:this.T(gp.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r==\"number\"?this._$AC(e):(r.el===void 0&&(r.el=f2.createElement(Rle(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new qQe(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=mZ.get(e.strings);return n===void 0&&mZ.set(e.strings,n=new f2(e)),n}k(e){Qk(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new $5(this.O(u2()),this.O(u2()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class E9{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=vr,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==\"\"||r[1]!==\"\"?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=vr}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=ey(this,e,n,0),o=!d2(e)||e!==this._$AH&&e!==ad,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=ey(this,a[r+c],n,c),l===ad&&(l=this._$AH[c]),o||(o=!d2(l)||l!==this._$AH[c]),l===vr?e=vr:e!==vr&&(e+=(l??\"\")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===vr?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??\"\")}}class HQe extends E9{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===vr?void 0:e}}class VQe extends E9{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==vr)}}class KQe extends E9{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=ey(this,e,n,0)??vr)===ad)return;const r=this._$AH,i=e===vr&&r!==vr||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==vr&&(r===vr||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH==\"function\"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class WQe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){ey(this,e)}}const t$=Zw.litHtmlPolyfillSupport;t$==null||t$(f2,$5),(Zw.litHtmlVersions??(Zw.litHtmlVersions=[])).push(\"3.3.1\");const GQe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new $5(e.insertBefore(u2(),s),s,void 0,n??{})}return i._$AI(t),i};/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const k0=globalThis;let it=class extends U1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=GQe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return ad}};var oY;it._$litElement$=!0,it.finalized=!0,(oY=k0.litElementHydrateSupport)==null||oY.call(k0,{LitElement:it});const n$=k0.litElementPolyfillSupport;n$==null||n$({LitElement:it});(k0.litElementVersions??(k0.litElementVersions=[])).push(\"4.2.1\");let Yw,Zf,Yf;function ZQe(t,e){Yw=document.createElement(\"style\"),Zf=document.createElement(\"style\"),Yf=document.createElement(\"style\"),Yw.textContent=vm(t).core.cssText,Zf.textContent=vm(t).dark.cssText,Yf.textContent=vm(t).light.cssText,document.head.appendChild(Yw),document.head.appendChild(Zf),document.head.appendChild(Yf),kle(e)}function kle(t){Zf&&Yf&&(t===\"light\"?(Zf.removeAttribute(\"media\"),Yf.media=\"enabled\"):(Yf.removeAttribute(\"media\"),Zf.media=\"enabled\"))}function YQe(t){Yw&&Zf&&Yf&&(Yw.textContent=vm(t).core.cssText,Zf.textContent=vm(t).dark.cssText,Yf.textContent=vm(t).light.cssText)}function vm(t){return{core:wt`\n      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');\n      @keyframes w3m-shake {\n        0% {\n          transform: scale(1) rotate(0deg);\n        }\n        20% {\n          transform: scale(1) rotate(-1deg);\n        }\n        40% {\n          transform: scale(1) rotate(1.5deg);\n        }\n        60% {\n          transform: scale(1) rotate(-1.5deg);\n        }\n        80% {\n          transform: scale(1) rotate(1deg);\n        }\n        100% {\n          transform: scale(1) rotate(0deg);\n        }\n      }\n      @keyframes w3m-iframe-fade-out {\n        0% {\n          opacity: 1;\n        }\n        100% {\n          opacity: 0;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in {\n        0% {\n          transform: translateY(50px);\n          opacity: 0;\n        }\n        100% {\n          transform: translateY(0px);\n          opacity: 1;\n        }\n      }\n      @keyframes w3m-iframe-zoom-in-mobile {\n        0% {\n          transform: scale(0.95);\n          opacity: 0;\n        }\n        100% {\n          transform: scale(1);\n          opacity: 1;\n        }\n      }\n      :root {\n        --w3m-modal-width: 360px;\n        --w3m-color-mix-strength: ${wa(t!=null&&t[\"--w3m-color-mix-strength\"]?`${t[\"--w3m-color-mix-strength\"]}%`:\"0%\")};\n        --w3m-font-family: ${wa((t==null?void 0:t[\"--w3m-font-family\"])||\"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\")};\n        --w3m-font-size-master: ${wa((t==null?void 0:t[\"--w3m-font-size-master\"])||\"10px\")};\n        --w3m-border-radius-master: ${wa((t==null?void 0:t[\"--w3m-border-radius-master\"])||\"4px\")};\n        --w3m-z-index: ${wa((t==null?void 0:t[\"--w3m-z-index\"])||999)};\n\n        --wui-font-family: var(--w3m-font-family);\n\n        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);\n        --wui-font-size-micro: var(--w3m-font-size-master);\n        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);\n        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);\n        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);\n        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);\n        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);\n        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);\n        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);\n        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);\n\n        --wui-border-radius-5xs: var(--w3m-border-radius-master);\n        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);\n        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);\n        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);\n        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);\n        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);\n        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);\n        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);\n        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);\n\n        --wui-font-weight-light: 400;\n        --wui-font-weight-regular: 500;\n        --wui-font-weight-medium: 600;\n        --wui-font-weight-bold: 700;\n\n        --wui-letter-spacing-2xl: -1.6px;\n        --wui-letter-spacing-medium-title: -0.96px;\n        --wui-letter-spacing-title-6: -0.88px;\n        --wui-letter-spacing-large: -0.8px;\n        --wui-letter-spacing-medium: -0.72px;\n        --wui-letter-spacing-paragraph: -0.64px;\n        --wui-letter-spacing-small: -0.56px;\n        --wui-letter-spacing-tiny: -0.48px;\n        --wui-letter-spacing-micro: -0.2px;\n        --wui-letter-spacing-mini: -0.16px;\n\n        --wui-spacing-0: 0px;\n        --wui-spacing-4xs: 2px;\n        --wui-spacing-3xs: 4px;\n        --wui-spacing-xxs: 6px;\n        --wui-spacing-2xs: 7px;\n        --wui-spacing-xs: 8px;\n        --wui-spacing-1xs: 10px;\n        --wui-spacing-s: 12px;\n        --wui-spacing-m: 14px;\n        --wui-spacing-l: 16px;\n        --wui-spacing-2l: 18px;\n        --wui-spacing-xl: 20px;\n        --wui-spacing-xxl: 24px;\n        --wui-spacing-2xl: 32px;\n        --wui-spacing-3xl: 40px;\n        --wui-spacing-4xl: 90px;\n        --wui-spacing-5xl: 95px;\n\n        --wui-icon-box-size-xxs: 14px;\n        --wui-icon-box-size-xs: 20px;\n        --wui-icon-box-size-sm: 24px;\n        --wui-icon-box-size-md: 32px;\n        --wui-icon-box-size-mdl: 36px;\n        --wui-icon-box-size-lg: 40px;\n        --wui-icon-box-size-2lg: 48px;\n        --wui-icon-box-size-xl: 64px;\n\n        --wui-icon-size-inherit: inherit;\n        --wui-icon-size-xxs: 10px;\n        --wui-icon-size-xs: 12px;\n        --wui-icon-size-sm: 14px;\n        --wui-icon-size-md: 16px;\n        --wui-icon-size-mdl: 18px;\n        --wui-icon-size-lg: 20px;\n        --wui-icon-size-xl: 24px;\n        --wui-icon-size-xxl: 28px;\n\n        --wui-wallet-image-size-inherit: inherit;\n        --wui-wallet-image-size-sm: 40px;\n        --wui-wallet-image-size-md: 56px;\n        --wui-wallet-image-size-lg: 80px;\n\n        --wui-visual-size-size-inherit: inherit;\n        --wui-visual-size-sm: 40px;\n        --wui-visual-size-md: 55px;\n        --wui-visual-size-lg: 80px;\n\n        --wui-box-size-md: 100px;\n        --wui-box-size-lg: 120px;\n\n        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);\n        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);\n\n        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);\n        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);\n        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);\n\n        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);\n\n        --wui-duration-lg: 200ms;\n        --wui-duration-md: 125ms;\n        --wui-duration-sm: 75ms;\n\n        --wui-path-network-sm: path(\n          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'\n        );\n\n        --wui-path-network-md: path(\n          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'\n        );\n\n        --wui-path-network-lg: path(\n          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'\n        );\n\n        --wui-width-network-sm: 36px;\n        --wui-width-network-md: 48px;\n        --wui-width-network-lg: 86px;\n\n        --wui-height-network-sm: 40px;\n        --wui-height-network-md: 54px;\n        --wui-height-network-lg: 96px;\n\n        --wui-icon-size-network-xs: 12px;\n        --wui-icon-size-network-sm: 16px;\n        --wui-icon-size-network-md: 24px;\n        --wui-icon-size-network-lg: 42px;\n\n        --wui-color-inherit: inherit;\n\n        --wui-color-inverse-100: #fff;\n        --wui-color-inverse-000: #000;\n\n        --wui-cover: rgba(20, 20, 20, 0.8);\n\n        --wui-color-modal-bg: var(--wui-color-modal-bg-base);\n\n        --wui-color-accent-100: var(--wui-color-accent-base-100);\n        --wui-color-accent-090: var(--wui-color-accent-base-090);\n        --wui-color-accent-080: var(--wui-color-accent-base-080);\n\n        --wui-color-success-100: var(--wui-color-success-base-100);\n        --wui-color-success-125: var(--wui-color-success-base-125);\n\n        --wui-color-warning-100: var(--wui-color-warning-base-100);\n\n        --wui-color-error-100: var(--wui-color-error-base-100);\n        --wui-color-error-125: var(--wui-color-error-base-125);\n\n        --wui-color-blue-100: var(--wui-color-blue-base-100);\n        --wui-color-blue-90: var(--wui-color-blue-base-90);\n\n        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);\n        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);\n        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);\n        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);\n\n        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);\n\n        --wui-avatar-border: var(--wui-avatar-border-base);\n\n        --wui-thumbnail-border: var(--wui-thumbnail-border-base);\n\n        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);\n\n        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);\n      }\n\n      @supports (background: color-mix(in srgb, white 50%, black)) {\n        :root {\n          --wui-color-modal-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-modal-bg-base)\n          );\n\n          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);\n\n          --wui-color-accent-100: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 100%,\n            transparent\n          );\n          --wui-color-accent-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-090: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 90%,\n            transparent\n          );\n          --wui-color-accent-glass-080: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 80%,\n            transparent\n          );\n          --wui-color-accent-glass-020: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 20%,\n            transparent\n          );\n          --wui-color-accent-glass-015: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 15%,\n            transparent\n          );\n          --wui-color-accent-glass-010: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 10%,\n            transparent\n          );\n          --wui-color-accent-glass-005: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 5%,\n            transparent\n          );\n          --wui-color-accent-002: color-mix(\n            in srgb,\n            var(--wui-color-accent-base-100) 2%,\n            transparent\n          );\n\n          --wui-color-fg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-100)\n          );\n          --wui-color-fg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-125)\n          );\n          --wui-color-fg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-150)\n          );\n          --wui-color-fg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-175)\n          );\n          --wui-color-fg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-200)\n          );\n          --wui-color-fg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-225)\n          );\n          --wui-color-fg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-250)\n          );\n          --wui-color-fg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-275)\n          );\n          --wui-color-fg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-300)\n          );\n          --wui-color-fg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-325)\n          );\n          --wui-color-fg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-fg-350)\n          );\n\n          --wui-color-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-100)\n          );\n          --wui-color-bg-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-125)\n          );\n          --wui-color-bg-150: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-150)\n          );\n          --wui-color-bg-175: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-175)\n          );\n          --wui-color-bg-200: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-200)\n          );\n          --wui-color-bg-225: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-225)\n          );\n          --wui-color-bg-250: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-250)\n          );\n          --wui-color-bg-275: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-275)\n          );\n          --wui-color-bg-300: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-300)\n          );\n          --wui-color-bg-325: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-325)\n          );\n          --wui-color-bg-350: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-bg-350)\n          );\n\n          --wui-color-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-100)\n          );\n          --wui-color-success-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-success-base-125)\n          );\n\n          --wui-color-warning-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-warning-base-100)\n          );\n\n          --wui-color-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-100)\n          );\n          --wui-color-blue-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-100)\n          );\n          --wui-color-blue-90: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-blue-base-90)\n          );\n          --wui-color-error-125: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-color-error-base-125)\n          );\n\n          --wui-icon-box-bg-error-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-error-base-100)\n          );\n          --wui-icon-box-bg-accent-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-blue-base-100)\n          );\n          --wui-icon-box-bg-success-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-success-base-100)\n          );\n          --wui-icon-box-bg-inverse-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-icon-box-bg-inverse-base-100)\n          );\n\n          --wui-all-wallets-bg-100: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-all-wallets-bg-100)\n          );\n\n          --wui-avatar-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-avatar-border-base)\n          );\n\n          --wui-thumbnail-border: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-thumbnail-border-base)\n          );\n\n          --wui-wallet-button-bg: color-mix(\n            in srgb,\n            var(--w3m-color-mix) var(--w3m-color-mix-strength),\n            var(--wui-wallet-button-bg-base)\n          );\n        }\n      }\n    `,light:wt`\n      :root {\n        --w3m-color-mix: ${wa((t==null?void 0:t[\"--w3m-color-mix\"])||\"#fff\")};\n        --w3m-accent: ${wa(Nf(t,\"dark\")[\"--w3m-accent\"])};\n        --w3m-default: #fff;\n\n        --wui-color-modal-bg-base: ${wa(Nf(t,\"dark\")[\"--w3m-background\"])};\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);\n        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);\n        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);\n        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);\n\n        --wui-color-fg-100: #e4e7e7;\n        --wui-color-fg-125: #d0d5d5;\n        --wui-color-fg-150: #a8b1b1;\n        --wui-color-fg-175: #a8b0b0;\n        --wui-color-fg-200: #949e9e;\n        --wui-color-fg-225: #868f8f;\n        --wui-color-fg-250: #788080;\n        --wui-color-fg-275: #788181;\n        --wui-color-fg-300: #6e7777;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #363636;\n\n        --wui-color-bg-100: #141414;\n        --wui-color-bg-125: #191a1a;\n        --wui-color-bg-150: #1e1f1f;\n        --wui-color-bg-175: #222525;\n        --wui-color-bg-200: #272a2a;\n        --wui-color-bg-225: #2c3030;\n        --wui-color-bg-250: #313535;\n        --wui-color-bg-275: #363b3b;\n        --wui-color-bg-300: #3b4040;\n        --wui-color-bg-325: #252525;\n        --wui-color-bg-350: #ffffff;\n\n        --wui-color-success-base-100: #26d962;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f25a67;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);\n        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);\n        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);\n        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);\n        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);\n        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);\n        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);\n        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);\n        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);\n        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);\n        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);\n        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);\n        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);\n        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);\n        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);\n        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);\n        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);\n        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);\n        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);\n        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);\n\n        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);\n\n        --wui-icon-box-bg-error-base-100: #3c2426;\n        --wui-icon-box-bg-blue-base-100: #20303f;\n        --wui-icon-box-bg-success-base-100: #1f3a28;\n        --wui-icon-box-bg-inverse-base-100: #243240;\n\n        --wui-all-wallets-bg-100: #222b35;\n\n        --wui-avatar-border-base: #252525;\n\n        --wui-thumbnail-border-base: #252525;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);\n      }\n    `,dark:wt`\n      :root {\n        --w3m-color-mix: ${wa((t==null?void 0:t[\"--w3m-color-mix\"])||\"#000\")};\n        --w3m-accent: ${wa(Nf(t,\"light\")[\"--w3m-accent\"])};\n        --w3m-default: #000;\n\n        --wui-color-modal-bg-base: ${wa(Nf(t,\"light\")[\"--w3m-background\"])};\n        --wui-color-accent-base-100: var(--w3m-accent);\n\n        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);\n        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);\n        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);\n\n        --wui-color-fg-100: #141414;\n        --wui-color-fg-125: #2d3131;\n        --wui-color-fg-150: #474d4d;\n        --wui-color-fg-175: #636d6d;\n        --wui-color-fg-200: #798686;\n        --wui-color-fg-225: #828f8f;\n        --wui-color-fg-250: #8b9797;\n        --wui-color-fg-275: #95a0a0;\n        --wui-color-fg-300: #9ea9a9;\n        --wui-color-fg-325: #9a9a9a;\n        --wui-color-fg-350: #d0d0d0;\n\n        --wui-color-bg-100: #ffffff;\n        --wui-color-bg-125: #f5fafa;\n        --wui-color-bg-150: #f3f8f8;\n        --wui-color-bg-175: #eef4f4;\n        --wui-color-bg-200: #eaf1f1;\n        --wui-color-bg-225: #e5eded;\n        --wui-color-bg-250: #e1e9e9;\n        --wui-color-bg-275: #dce7e7;\n        --wui-color-bg-300: #d8e3e3;\n        --wui-color-bg-325: #f3f3f3;\n        --wui-color-bg-350: #202020;\n\n        --wui-color-success-base-100: #26b562;\n        --wui-color-success-base-125: #30a46b;\n\n        --wui-color-warning-base-100: #f3a13f;\n\n        --wui-color-error-base-100: #f05142;\n        --wui-color-error-base-125: #df4a34;\n\n        --wui-color-blue-base-100: rgba(102, 125, 255, 1);\n        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);\n\n        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);\n        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);\n        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);\n        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);\n        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);\n        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);\n        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);\n        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);\n        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);\n        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);\n\n        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);\n\n        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);\n\n        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);\n        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);\n        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);\n        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);\n        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);\n        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);\n        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);\n        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);\n        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);\n        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);\n\n        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);\n\n        --wui-icon-box-bg-error-base-100: #f4dfdd;\n        --wui-icon-box-bg-blue-base-100: #d9ecfb;\n        --wui-icon-box-bg-success-base-100: #daf0e4;\n        --wui-icon-box-bg-inverse-base-100: #dcecfc;\n\n        --wui-all-wallets-bg-100: #e8f1fa;\n\n        --wui-avatar-border-base: #f3f4f4;\n\n        --wui-thumbnail-border-base: #eaefef;\n\n        --wui-wallet-button-bg-base: var(--wui-color-bg-125);\n\n        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);\n        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);\n        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);\n        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);\n        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);\n        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);\n        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);\n        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);\n        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);\n        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);\n        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);\n\n        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);\n\n        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);\n      }\n    `}}const fn=wt`\n  *,\n  *::after,\n  *::before,\n  :host {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n    font-style: normal;\n    text-rendering: optimizeSpeed;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    -webkit-tap-highlight-color: transparent;\n    font-family: var(--wui-font-family);\n    backface-visibility: hidden;\n  }\n`,Ki=wt`\n  button,\n  a {\n    cursor: pointer;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    transition:\n      color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: background-color, color, border, box-shadow, border-radius;\n    outline: none;\n    border: none;\n    column-gap: var(--wui-spacing-3xs);\n    background-color: transparent;\n    text-decoration: none;\n  }\n\n  wui-flex {\n    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius;\n  }\n\n  button:disabled > wui-wallet-image,\n  button:disabled > wui-all-wallets-image,\n  button:disabled > wui-network-image,\n  button:disabled > wui-image,\n  button:disabled > wui-transaction-visual,\n  button:disabled > wui-logo {\n    filter: grayscale(1);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled {\n      background-color: var(--wui-color-gray-glass-005);\n    }\n\n    button:active:enabled {\n      background-color: var(--wui-color-gray-glass-010);\n    }\n  }\n\n  button:disabled > wui-icon-box {\n    opacity: 0.5;\n  }\n\n  input {\n    border: none;\n    outline: none;\n    appearance: none;\n  }\n`,I5=wt`\n  .wui-color-inherit {\n    color: var(--wui-color-inherit);\n  }\n\n  .wui-color-accent-100 {\n    color: var(--wui-color-accent-100);\n  }\n\n  .wui-color-error-100 {\n    color: var(--wui-color-error-100);\n  }\n\n  .wui-color-blue-100 {\n    color: var(--wui-color-blue-100);\n  }\n\n  .wui-color-blue-90 {\n    color: var(--wui-color-blue-90);\n  }\n\n  .wui-color-error-125 {\n    color: var(--wui-color-error-125);\n  }\n\n  .wui-color-success-100 {\n    color: var(--wui-color-success-100);\n  }\n\n  .wui-color-success-125 {\n    color: var(--wui-color-success-125);\n  }\n\n  .wui-color-inverse-100 {\n    color: var(--wui-color-inverse-100);\n  }\n\n  .wui-color-inverse-000 {\n    color: var(--wui-color-inverse-000);\n  }\n\n  .wui-color-fg-100 {\n    color: var(--wui-color-fg-100);\n  }\n\n  .wui-color-fg-200 {\n    color: var(--wui-color-fg-200);\n  }\n\n  .wui-color-fg-300 {\n    color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    color: var(--wui-color-fg-350);\n  }\n\n  .wui-bg-color-inherit {\n    background-color: var(--wui-color-inherit);\n  }\n\n  .wui-bg-color-blue-100 {\n    background-color: var(--wui-color-accent-100);\n  }\n\n  .wui-bg-color-error-100 {\n    background-color: var(--wui-color-error-100);\n  }\n\n  .wui-bg-color-error-125 {\n    background-color: var(--wui-color-error-125);\n  }\n\n  .wui-bg-color-success-100 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-success-125 {\n    background-color: var(--wui-color-success-100);\n  }\n\n  .wui-bg-color-inverse-100 {\n    background-color: var(--wui-color-inverse-100);\n  }\n\n  .wui-bg-color-inverse-000 {\n    background-color: var(--wui-color-inverse-000);\n  }\n\n  .wui-bg-color-fg-100 {\n    background-color: var(--wui-color-fg-100);\n  }\n\n  .wui-bg-color-fg-200 {\n    background-color: var(--wui-color-fg-200);\n  }\n\n  .wui-bg-color-fg-300 {\n    background-color: var(--wui-color-fg-300);\n  }\n\n  .wui-color-fg-325 {\n    background-color: var(--wui-color-fg-325);\n  }\n\n  .wui-color-fg-350 {\n    background-color: var(--wui-color-fg-350);\n  }\n`,ci={getSpacingStyles(t,e){if(Array.isArray(t))return t[e]?`var(--wui-spacing-${t[e]})`:void 0;if(typeof t==\"string\")return`var(--wui-spacing-${t})`},getFormattedDate(t){return new Intl.DateTimeFormat(\"en-US\",{month:\"short\",day:\"numeric\"}).format(t)},getHostName(t){try{return new URL(t).hostname}catch{return\"\"}},getTruncateString({string:t,charsStart:e,charsEnd:n,truncate:r}){return t.length<=e+n?t:r===\"end\"?`${t.substring(0,e)}...`:r===\"start\"?`...${t.substring(t.length-n)}`:`${t.substring(0,Math.floor(e))}...${t.substring(t.length-Math.floor(n))}`},generateAvatarColors(t){const n=t.toLowerCase().replace(/^0x/iu,\"\").replace(/[^a-f0-9]/gu,\"\").substring(0,6).padEnd(6,\"0\"),r=this.hexToRgb(n),i=getComputedStyle(document.documentElement).getPropertyValue(\"--w3m-border-radius-master\"),o=100-3*Number(i==null?void 0:i.replace(\"px\",\"\")),a=`${o}% ${o}% at 65% 40%`,c=[];for(let l=0;l<5;l+=1){const d=this.tintColor(r,.15*l);c.push(`rgb(${d[0]}, ${d[1]}, ${d[2]})`)}return`\n    --local-color-1: ${c[0]};\n    --local-color-2: ${c[1]};\n    --local-color-3: ${c[2]};\n    --local-color-4: ${c[3]};\n    --local-color-5: ${c[4]};\n    --local-radial-circle: ${a}\n   `},hexToRgb(t){const e=parseInt(t,16),n=e>>16&255,r=e>>8&255,i=e&255;return[n,r,i]},tintColor(t,e){const[n,r,i]=t,s=Math.round(n+(255-n)*e),o=Math.round(r+(255-r)*e),a=Math.round(i+(255-i)*e);return[s,o,a]},isNumber(t){return{number:/^[0-9]+$/u}.number.test(t)},getColorTheme(t){var e;return t||(typeof window<\"u\"&&window.matchMedia?(e=window.matchMedia(\"(prefers-color-scheme: dark)\"))!=null&&e.matches?\"dark\":\"light\":\"dark\")},splitBalance(t){const e=t.split(\".\");return e.length===2?[e[0],e[1]]:[\"0\",\"00\"]},roundNumber(t,e,n){return t.toString().length>=e?Number(t).toFixed(n):t},formatNumberToLocalString(t,e=2){return t===void 0?\"0.00\":typeof t==\"number\"?t.toLocaleString(\"en-US\",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString(\"en-US\",{maximumFractionDigits:e,minimumFractionDigits:e})}};function JQe(t,e){const{kind:n,elements:r}=e;return{kind:n,elements:r,finisher(i){customElements.get(t)||customElements.define(t,i)}}}function XQe(t,e){return customElements.get(t)||customElements.define(t,e),e}function et(t){return function(n){return typeof n==\"function\"?XQe(t,n):JQe(t,n)}}const $w={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:[\"http://localhost:*\",\"https://*.pages.dev\",\"https://*.vercel.app\",\"https://*.ngrok-free.app\",\"https://secure-mobile.walletconnect.com\",\"https://secure-mobile.walletconnect.org\"]};function T5(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const yZ=T5({id:\"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",name:\"Solana\",network:\"solana-mainnet\",nativeCurrency:{name:\"Solana\",symbol:\"SOL\",decimals:9},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}},blockExplorers:{default:{name:\"Solscan\",url:\"https://solscan.io\"}},testnet:!1,chainNamespace:\"solana\",caipNetworkId:\"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp\",deprecatedCaipNetworkId:\"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ\"}),bZ=T5({id:\"EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",name:\"Solana Devnet\",network:\"solana-devnet\",nativeCurrency:{name:\"Solana\",symbol:\"SOL\",decimals:9},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}},blockExplorers:{default:{name:\"Solscan\",url:\"https://solscan.io\"}},testnet:!0,chainNamespace:\"solana\",caipNetworkId:\"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1\",deprecatedCaipNetworkId:\"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K\"});T5({id:\"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\",name:\"Solana Testnet\",network:\"solana-testnet\",nativeCurrency:{name:\"Solana\",symbol:\"SOL\",decimals:9},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}},blockExplorers:{default:{name:\"Solscan\",url:\"https://solscan.io\"}},testnet:!0,chainNamespace:\"solana\",caipNetworkId:\"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z\"});T5({id:\"000000000019d6689c085ae165831e93\",caipNetworkId:\"bip122:000000000019d6689c085ae165831e93\",chainNamespace:\"bip122\",name:\"Bitcoin\",nativeCurrency:{name:\"Bitcoin\",symbol:\"BTC\",decimals:8},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}}});T5({id:\"000000000933ea01ad0ee984209779ba\",caipNetworkId:\"bip122:000000000933ea01ad0ee984209779ba\",chainNamespace:\"bip122\",name:\"Bitcoin Testnet\",nativeCurrency:{name:\"Bitcoin\",symbol:\"BTC\",decimals:8},rpcUrls:{default:{http:[\"https://rpc.walletconnect.org/v1\"]}},testnet:!0});const QQe={solana:[\"solana_signMessage\",\"solana_signTransaction\",\"solana_requestAccounts\",\"solana_getAccounts\",\"solana_signAllTransactions\",\"solana_signAndSendTransaction\"],eip155:[\"eth_accounts\",\"eth_requestAccounts\",\"eth_sendRawTransaction\",\"eth_sign\",\"eth_signTransaction\",\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sendTransaction\",\"personal_sign\",\"wallet_switchEthereumChain\",\"wallet_addEthereumChain\",\"wallet_getPermissions\",\"wallet_requestPermissions\",\"wallet_registerOnboarding\",\"wallet_watchAsset\",\"wallet_scanQRCode\",\"wallet_getCallsStatus\",\"wallet_showCallsStatus\",\"wallet_sendCalls\",\"wallet_getCapabilities\",\"wallet_grantPermissions\",\"wallet_revokePermissions\",\"wallet_getAssets\"],bip122:[\"sendTransfer\",\"signMessage\",\"signPsbt\",\"getAccountAddresses\"]},r8={getMethodsByChainNamespace(t){return QQe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:[\"accountsChanged\",\"chainChanged\"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(\":\");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(\":\");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,d=r[o];switch(d.chains.push(l),l){case yZ.caipNetworkId:d.chains.push(yZ.deprecatedCaipNetworkId);break;case bZ.caipNetworkId:d.chains.push(bZ.deprecatedCaipNetworkId);break}return d!=null&&d.rpcMap&&c&&(d.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await Hw.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(\":\");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t==\"object\"&&t!==null&&\"id\"in t&&\"topic\"in t&&\"params\"in t&&typeof t.params==\"object\"&&t.params!==null&&\"chainId\"in t.params&&\"event\"in t.params&&typeof t.params.event==\"object\"&&t.params.event!==null},isOriginAllowed(t,e,n){for(const r of[...e,...n])if(r.includes(\"*\")){const s=`^${r.replace(/[.*+?^${}()|[\\]\\\\]/gu,\"\\\\$&\").replace(/\\\\\\*/gu,\".*\")}$`;if(new RegExp(s,\"u\").test(t))return!0}else try{if(new URL(r).origin===t)return!0}catch{if(r===t)return!0}return!1}};class Mle{constructor({provider:e,namespace:n}){this.id=ft.CONNECTOR_ID.WALLET_CONNECT,this.name=_4.ConnectorNamesMap[ft.CONNECTOR_ID.WALLET_CONNECT],this.type=\"WALLET_CONNECT\",this.imageId=_4.ConnectorImageIds[ft.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=ee.getCaipNetworks.bind(ee),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=Se.state.universalProviderConfigOverride,i=r8.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return R0.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:eet})}}const eet=[\"eth_accounts\",\"eth_requestAccounts\",\"eth_sendRawTransaction\",\"eth_sign\",\"eth_signTransaction\",\"eth_signTypedData\",\"eth_signTypedData_v3\",\"eth_signTypedData_v4\",\"eth_sendTransaction\",\"personal_sign\",\"wallet_switchEthereumChain\",\"wallet_addEthereumChain\",\"wallet_getPermissions\",\"wallet_requestPermissions\",\"wallet_registerOnboarding\",\"wallet_watchAsset\",\"wallet_scanQRCode\",\"wallet_getCallsStatus\",\"wallet_sendCalls\",\"wallet_getCapabilities\",\"wallet_grantPermissions\",\"wallet_revokePermissions\",\"wallet_getAssets\"];class tet{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>ee.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:ft.CONNECTOR_ID.AUTH,type:\"AUTH\",name:ft.CONNECTOR_NAMES.AUTH,provider:e,imageId:_4.ConnectorImageIds[ft.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit(\"connectors\",this.availableConnectors)}setStatus(e,n){at.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i=\"provider\"in e.provider?e.provider.provider:e.provider;if(r===\"WALLET_CONNECT\"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r===\"AUTH\"){const o=i,a=(s=at.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit(\"switchNetwork\",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof Mle);if(!e)throw new Error(\"WalletConnectConnector not found\");return e}}class net extends tet{setUniversalProvider(e){this.addConnector(new Mle({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:\"WALLET_CONNECT\",type:\"WALLET_CONNECT\",chainId:Number(e.chainId),provider:this.provider,address:\"\"})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn(\"UniversalAdapter:disconnect - error\",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(\":\");return l}).filter((c,l,d)=>d.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>Me.createAccount(e,c,e===\"bip122\"?\"payment\":\"eoa\"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&Sn.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:\"0.00\",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||\"\"};if(at.state.balanceLoading&&e.chainId===((c=ee.state.activeCaipNetwork)==null?void 0:c.id))return{balance:at.state.balance||\"0.00\",symbol:at.state.balanceSymbol||\"\"};const i=(await at.fetchTokenBalance()).find(d=>{var h,p;return d.chainId===`${(h=e.caipNetwork)==null?void 0:h.chainNamespace}:${e.chainId}`&&d.symbol===((p=e.caipNetwork)==null?void 0:p.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||\"0.00\",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||\"\"}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error(\"UniversalAdapter:signMessage - provider is undefined\");let s=\"\";return((o=ee.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===ft.CHAIN.SOLANA?s=(await n.request({method:\"solana_signMessage\",params:{message:gk.encode(new TextEncoder().encode(r)),pubkey:i}},(a=ee.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:\"personal_sign\",params:[r,i]},(c=ee.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:\"\"})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:\"\"})}parseUnits(){return 0n}formatUnits(){return\"0\"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve(\"0x\")}async syncConnection(){return Promise.resolve({id:\"WALLET_CONNECT\",type:\"WALLET_CONNECT\",chainId:1,provider:this.provider,address:\"\"})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===ft.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:\"wallet_switchEthereumChain\",params:[{chainId:ts(n.id)}]}))}catch(d){if(d.code===$w.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||d.code===$w.ERROR_INVALID_CHAIN_ID||d.code===$w.ERROR_CODE_DEFAULT||((o=(s=d==null?void 0:d.data)==null?void 0:s.originalError)==null?void 0:o.code)===$w.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:\"wallet_addEthereumChain\",params:[{chainId:ts(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error(\"Chain is not supported\")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type===\"WALLET_CONNECT\");return e==null?void 0:e.provider}}const ret=[\"email\",\"socials\",\"swaps\",\"onramp\",\"activity\",\"reownBranding\"],gE={email:{apiFeatureName:\"social_login\",localFeatureName:\"email\",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return!!t.isEnabled&&e.includes(\"email\")},processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:\"social_login\",localFeatureName:\"socials\",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(n=>n!==\"email\"):!1},processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.socials:typeof t==\"boolean\"?t?Sn.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:\"swap\",localFeatureName:\"swaps\",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.swaps:typeof t==\"boolean\"?t?Sn.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:\"onramp\",localFeatureName:\"onramp\",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!(t!=null&&t.config))return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.onramp:typeof t==\"boolean\"?t?Sn.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:\"activity\",localFeatureName:\"history\",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:\"reown_branding\",localFeatureName:\"reownBranding\",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?Sn.DEFAULT_REMOTE_FEATURES.reownBranding:!!t}},iet={localSettingsOverridden:new Set,getApiConfig(t,e){return e==null?void 0:e.find(n=>n.id===t)},addWarning(t,e){if(t!==void 0){const n=gE[e],r=n.isLegacy?`\"features.${n.localFeatureName}\" (now \"${e}\")`:`\"features.${e}\"`;this.localSettingsOverridden.add(r)}},processFeature(t,e,n,r,i){const s=gE[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(r){const a=this.getApiConfig(s.apiFeatureName,n);return(a==null?void 0:a.config)===null?this.processFallbackFeature(t,o):a!=null&&a.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return gE[t].processApi(e)},processFallbackFeature(t,e){return gE[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,n=t.features||{};this.localSettingsOverridden.clear();let r=null,i=!1;try{r=await Ue.fetchProjectConfig(),i=r!=null}catch(o){console.warn(\"[Reown Config] Failed to fetch remote project configuration. Using local/default values.\",o)}const s=i&&!e?Sn.DEFAULT_REMOTE_FEATURES:Sn.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of ret){const a=this.processFeature(o,n,r,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn(\"[Reown Config] Failed to process the configuration from Cloud. Using default values.\",o),Sn.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(\", \")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;nc.open({shortMessage:\"Local configuration ignored\",longMessage:`[Reown Config Notice] ${o}`},\"warning\")}return s}};class set{constructor(e){this.chainNamespaces=[],this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=ee.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(h=>h.id===r);if(c)return c;const l=(o=ee.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=ee.getRequestedCaipNetworks(n).filter(h=>h.chainNamespace===n))==null?void 0:a[0])}return ee.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>ee.getCaipNetworks(n),this.getActiveChainNamespace=()=>ee.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{ee.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>ee.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>ee.state.activeChain===n||!n?ee.state.activeCaipAddress:ee.getAccountProp(\"caipAddress\",n),this.setClientId=n=>{vt.setClientId(n)},this.getProvider=n=>rr.getProvider(n),this.getProviderType=n=>rr.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=at.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{at.setCaipAddress(n,r),n&&Se.state.enableEmbedded&&this.close()},this.setBalance=(n,r,i)=>{at.setBalance(n,r,i)},this.setProfileName=(n,r)=>{at.setProfileName(n,r)},this.setProfileImage=(n,r)=>{at.setProfileImage(n,r)},this.setUser=(n,r)=>{at.setUser(n,r)},this.resetAccount=n=>{at.resetAccount(n)},this.setCaipNetwork=n=>{ee.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{ee.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{at.setAllAccounts(n,r),Se.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{at.setStatus(n,r),Ne.isConnected()?nt.setConnectionStatus(\"connected\"):nt.setConnectionStatus(\"disconnected\")},this.getAddressByChainNamespace=n=>ee.getAccountProp(\"address\",n),this.setConnectors=n=>{const r=[...Ne.state.allConnectors,...n];Ne.setConnectors(r)},this.setConnections=(n,r)=>{He.setConnections(n,r)},this.fetchIdentity=n=>vt.fetchIdentity(n),this.getReownName=n=>Hw.getNamesForAddress(n),this.getConnectors=()=>Ne.getConnectors(),this.getConnectorImage=n=>Hr.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=rr.getProviderId(r),s=n?{...n,type:i}:void 0;at.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!ee.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{at.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{at.removeAddressLabel(n,r)},this.getAddress=n=>ee.state.activeChain===n||!n?at.state.address:ee.getAccountProp(\"address\",n),this.setApprovedCaipNetworksData=n=>ee.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{ee.resetNetwork(n)},this.addConnector=n=>{Ne.addConnector(n)},this.resetWcConnection=()=>{He.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{at.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{at.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{ee.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{at.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{Se.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect(\"ApproveTransaction\")}else this.open({view:\"ApproveTransaction\"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){var n,r,i;this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),await this.syncExistingConnection(),this.remoteFeatures=await iet.fetchRemoteFeatures(e),Se.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&YP.setOnrampProviders(this.remoteFeatures.onramp),((n=Se.state.remoteFeatures)!=null&&n.email||Array.isArray((r=Se.state.remoteFeatures)==null?void 0:r.socials)&&((i=Se.state.remoteFeatures)==null?void 0:i.socials.length)>0)&&await this.checkAllowedOrigins()}async checkAllowedOrigins(){const e=await Ue.fetchAllowedOrigins();if(e&&Me.isClient()){const n=window.location.origin;r8.isOriginAllowed(n,e,$w.DEFAULT_ALLOWED_ANCESTORS)||nc.open($1.ALERT_ERRORS.INVALID_APP_CONFIGURATION,\"error\")}else nc.open($1.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,\"error\")}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,jt.sendEvent({type:\"track\",event:\"INITIALIZE\",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ki.setThemeMode(e.themeMode),e.themeVariables&&ki.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error(\"ConnectionControllerClient and NetworkControllerClient must be set\");ee.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&ee.setActiveCaipNetwork(n)}initializeConnectionController(e){He.setWcBasic(e.basic??!1)}initializeConnectorController(){Ne.initialize(this.chainNamespaces)}initializeProjectSettings(e){Se.setProjectId(e.projectId),Se.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){var o;Se.setDebug(e.debug!==!1),Se.setEnableWalletConnect(e.enableWalletConnect!==!1),Se.setEnableWalletGuide(e.enableWalletGuide!==!1),Se.setEnableWallets(e.enableWallets!==!1),Se.setEIP6963Enabled(e.enableEIP6963!==!1),Se.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Se.setEnableAuthLogger(e.enableAuthLogger!==!1),Se.setCustomRpcUrls(e.customRpcUrls),Se.setEnableEmbedded(e.enableEmbedded),Se.setAllWallets(e.allWallets),Se.setIncludeWalletIds(e.includeWalletIds),Se.setExcludeWalletIds(e.excludeWalletIds),Se.setFeaturedWalletIds(e.featuredWalletIds),Se.setTokens(e.tokens),Se.setTermsConditionsUrl(e.termsConditionsUrl),Se.setPrivacyPolicyUrl(e.privacyPolicyUrl),Se.setCustomWallets(e.customWallets),Se.setFeatures(e.features),Se.setAllowUnsupportedChain(e.allowUnsupportedChain),Se.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Se.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Se.setDefaultAccountTypes(e.defaultAccountTypes);const n=nt.getPreferredAccountTypes()||{},r={...Se.state.defaultAccountTypes,...n};at.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),Se.setMetadata(e.metadata),Se.setDisableAppend(e.disableAppend),Se.setEnableEmbedded(e.enableEmbedded),Se.setSIWX(e.siwx),!e.projectId){nc.open($1.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,\"error\");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===ft.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error(\"Cannot set both `siweConfig` and `siwx` options\");Se.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return Me.isClient()?{name:((n=(e=document.getElementsByTagName(\"title\"))==null?void 0:e[0])==null?void 0:n.textContent)||\"\",description:((r=document.querySelector('meta[property=\"og:description\"]'))==null?void 0:r.content)||\"\",url:window.location.origin,icons:[((i=document.querySelector('link[rel~=\"icon\"]'))==null?void 0:i.href)||\"\"]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=L1.getUnsupportedNetwork(`${n}:${e}`);ee.setActiveCaipNetwork(r)}}getDefaultNetwork(){return L1.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return L1.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return L1.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?L1.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e){try{const n=this.getAdapter(e),r=rr.getProvider(e),i=rr.getProviderId(e),{caipAddress:s}=ee.getAccountData(e)||{};this.setLoading(!0,e),s&&(n!=null&&n.disconnect)&&await n.disconnect({provider:r,providerType:i}),nt.removeConnectedNamespace(e),rr.resetChain(e),this.setUser(void 0,e),this.setStatus(\"disconnected\",e),this.setConnectedWalletInfo(void 0,e),Ne.removeConnectorId(e),ee.resetAccount(e),ee.resetNetwork(e),this.setLoading(!1,e)}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chain ${e}: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=ee.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error(\"Adapter not found\");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),nt.setConnectedNamespaces([...ee.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Ne.setConnectorId(hf.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o,socialUri:a})=>{var y,E,v,_,C,S;const c=ee.state.activeChain,l=s||c,d=this.getAdapter(l);if(s&&s!==c&&!o){const A=this.getCaipNetworks().find(I=>I.chainNamespace===s);A&&this.setCaipNetwork(A)}if(!d)throw new Error(\"Adapter not found\");const h=this.getCaipNetwork(l),p=await d.connect({id:e,info:n,type:r,provider:i,socialUri:a,chainId:(o==null?void 0:o.id)||(h==null?void 0:h.id),rpcUrl:((v=(E=(y=o==null?void 0:o.rpcUrls)==null?void 0:y.default)==null?void 0:E.http)==null?void 0:v[0])||((S=(C=(_=h==null?void 0:h.rpcUrls)==null?void 0:_.default)==null?void 0:C.http)==null?void 0:S[0])});if(!p)return;nt.addConnectedNamespace(l),this.syncProvider({...p,chainNamespace:l});const m=at.state.allAccounts,{accounts:b}=(m==null?void 0:m.length)>0?{accounts:[...m]}:await d.getAccounts({namespace:l,id:e});this.setAllAccounts(b,l),this.setStatus(\"connected\",l),this.syncConnectedWalletInfo(l)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=ee.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),nt.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const n=IQe(e);try{const r=await Promise.allSettled(n.map(async([s])=>this.disconnectNamespace(s)));dn.resetSend(),He.resetWcConnection(),await R0.clearSessions(),Ne.setFilterByNamespace(void 0);const i=r.filter(s=>s.status===\"rejected\");if(i.length>0)throw new Error(i.map(s=>s.reason.message).join(\", \"));nt.deleteConnectedSocialProvider(),jt.sendEvent({type:\"track\",event:\"DISCONNECT_SUCCESS\",properties:{namespace:e||\"all\"}})}catch(r){throw new Error(`Failed to disconnect chains: ${r.message}`)}},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(ee.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:at.state.address,provider:rr.getProvider(ee.state.activeChain)}));return(r==null?void 0:r.signature)||\"\"},sendTransaction:async e=>{const n=e.chainNamespace;if(Sn.SEND_SUPPORTED_NAMESPACES.includes(n)){const r=this.getAdapter(ee.state.activeChain),i=rr.getProvider(n),s=await(r==null?void 0:r.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}));return(s==null?void 0:s.hash)||\"\"}return\"\"},estimateGas:async e=>{if(e.chainNamespace===ft.CHAIN.EVM){const n=this.getAdapter(ee.state.activeChain),r=rr.getProvider(ee.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error(\"CaipNetwork is undefined\");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var e;return await this.syncIdentity({address:at.state.address,chainId:Number((e=this.getCaipNetwork())==null?void 0:e.id),chainNamespace:ee.state.activeChain}),at.state.profileImage||!1},getEnsAddress:async e=>await r8.resolveReownName(e),writeContract:async e=>{const n=this.getAdapter(ee.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=rr.getProvider(ee.state.activeChain);if(!r||!i)throw new Error(\"CaipNetwork or CaipAddress is undefined\");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(ee.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(ee.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??\"0\"},getCapabilities:async e=>{const n=this.getAdapter(ee.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(ee.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(ee.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):\"0x\"},walletGetAssets:async e=>{const n=this.getAdapter(ee.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}},updateBalance:e=>{const n=this.getCaipNetwork(e);!n||!at.state.address||this.updateNativeBalance(at.state.address,n==null?void 0:n.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},He.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(rr.getProviderId(ee.state.activeChain)===hf.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)===\"MetaMask Wallet\",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=rr.getProvider(n),s=rr.getProviderId(n);if(e.chainNamespace===ee.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===hf.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=nf.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new net({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),await((n=this.chainAdapters)==null?void 0:n[e].syncConnectors(this.options,this)),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on(\"connectors\",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=nt.getConnectionStatus();r===\"connected\"?this.setStatus(\"connecting\",e):r===\"disconnected\"?(nt.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on(\"switchNetwork\",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=ee.state.activeChain===e,c=ee.getAccountProp(\"address\",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on(\"disconnect\",this.disconnect.bind(this,e)),n.on(\"connections\",i=>{this.setConnections(i,e)}),n.on(\"pendingTransactions\",()=>{const i=at.state.address,s=ee.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on(\"accountChanged\",({address:i,chainId:s})=>{var a,c;const o=ee.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=ee.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=ee.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e),this.syncAllAccounts(e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{e===ft.CHAIN.EVM&&Me.isSafeApp()&&Ne.setConnectorId(ft.CONNECTOR_ID.SAFE,e);const n=Ne.getConnectorId(e);switch(this.setStatus(\"connecting\",e),n){case ft.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case ft.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn(\"AppKit couldn't sync existing connection\",n),this.setStatus(\"disconnected\",e)}}async syncAdapterConnection(e){var a,c,l;const n=this.getAdapter(e),r=Ne.getConnectorId(e),i=this.getCaipNetwork(e),o=Ne.getConnectors(e).find(d=>d.id===r);try{if(!n||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error(\"CaipNetwork not found\");const d=await(n==null?void 0:n.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:(l=(c=(a=i==null?void 0:i.rpcUrls)==null?void 0:a.default)==null?void 0:c.http)==null?void 0:l[0]}));if(d){const h=await(n==null?void 0:n.getAccounts({namespace:e,id:o.id}));h&&h.accounts.length>0?this.setAllAccounts(h.accounts,e):this.setAllAccounts([Me.createAccount(e,d.address,\"eoa\")],e),this.syncProvider({...d,chainNamespace:e}),await this.syncAccount({...d,chainNamespace:e}),this.setStatus(\"connected\",e)}else this.setStatus(\"disconnected\",e)}catch{this.setStatus(\"disconnected\",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,d,h;const r=this.getAdapter(n),i=((d=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:d.accounts)||[],s=(h=ee.state.activeCaipNetwork)==null?void 0:h.id,o=i.find(p=>{const{chainId:m}=nf.parseCaipAddress(p);return m===(s==null?void 0:s.toString())})||i[0];if(o){const p=nf.validateCaipAddress(o),{chainId:m,address:b}=nf.parseCaipAddress(p);if(rr.setProviderId(n,hf.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&ee.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==ft.CHAIN.EVM){const y=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:ee.state.activeCaipNetwork});rr.setProvider(n,y)}else rr.setProvider(n,this.universalProvider);Ne.setConnectorId(ft.CONNECTOR_ID.WALLET_CONNECT,n),nt.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:b,chainId:m,chainNamespace:n})}else this.setStatus(\"disconnected\",n);this.syncConnectedWalletInfo(n),await ee.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=nf.parseCaipAddress(c);return l}).filter((c,l,d)=>d.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>Me.createAccount(e,c,e===\"bip122\"?\"payment\":\"eoa\")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){rr.setProviderId(i,e),rr.setProvider(i,n),Ne.setConnectorId(r,i)}async syncAllAccounts(e){const n=Ne.getConnectorId(e);if(!n)return;const r=this.getAdapter(e),i=await(r==null?void 0:r.getAccounts({namespace:e,id:n}));i&&i.accounts.length>0&&this.setAllAccounts(i.accounts,e)}async syncAccount(e){var h,p;const n=e.chainNamespace===ee.state.activeChain,r=ee.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=nt.getActiveNetworkProps(),c=s||a,l=((h=ee.state.activeCaipNetwork)==null?void 0:h.name)===ft.UNSUPPORTED_NETWORK_NAME,d=ee.getNetworkProp(\"supportsAllNetworks\",o);if(this.setStatus(\"connected\",o),!(l&&!d)&&c){let m=this.getCaipNetworks().find(E=>E.id.toString()===c.toString()),b=this.getCaipNetworks().find(E=>E.chainNamespace===o);if(!d&&!m&&!b){const E=this.getApprovedCaipNetworkIds()||[],v=E.find(C=>{var S;return((S=nf.parseCaipNetworkId(C))==null?void 0:S.chainId)===c.toString()}),_=E.find(C=>{var S;return((S=nf.parseCaipNetworkId(C))==null?void 0:S.chainNamespace)===o});m=this.getCaipNetworks().find(C=>C.caipNetworkId===v),b=this.getCaipNetworks().find(C=>C.caipNetworkId===_||\"deprecatedCaipNetworkId\"in C&&C.deprecatedCaipNetworkId===_)}const y=m||b;(y==null?void 0:y.chainNamespace)===ee.state.activeChain?Se.state.enableNetworkSwitch&&!Se.state.allowUnsupportedChain&&((p=ee.state.activeCaipNetwork)==null?void 0:p.name)===ft.UNSUPPORTED_NETWORK_NAME?ee.showUnsupportedChainUI():this.setCaipNetwork(y):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),Zk.isLowerCaseMatch(i,at.state.address)||this.syncAccountInfo(i,y==null?void 0:y.id,o),n?await this.syncBalance({address:i,chainId:y==null?void 0:y.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(\":\")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Ne.getConnectorId(e),r=rr.getProviderId(e);if(r===hf.CONNECTOR_TYPE_ANNOUNCED||r===hf.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===hf.CONNECTOR_TYPE_WALLET_CONNECT){const s=rr.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n&&n===ft.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===ft.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:\"Coinbase Wallet\",icon:this.getConnectorImage(s)},e)}}async syncBalance(e){!sce.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=ee.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,r),o}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,d,h,p;const e=PQe.createLogger((m,...b)=>{m&&this.handleAlertError(m),console.error(...b)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:\"\",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:\"\",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:\"\",icons:(d=this.options)!=null&&d.metadata?(h=this.options)==null?void 0:h.metadata.icons:[\"\"]},logger:e};Se.setManualWCControl(!!((p=this.options)!=null&&p.manualWCControl)),this.universalProvider=this.options.universalProvider??await $Qe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on(\"display_uri\",e=>{He.setUri(e)}),this.universalProvider.on(\"connect\",He.finalizeWcConnection),this.universalProvider.on(\"disconnect\",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),He.resetWcConnection()}),this.universalProvider.on(\"chainChanged\",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on(\"session_event\",e=>{if(r8.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n===\"accountsChanged\"&&Array.isArray(r)&&Me.isCaipAddress(r[0])&&this.syncAccount(nf.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&Me.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){jt.sendEvent({type:\"error\",event:\"INTERNAL_SDK_ERROR\",properties:{errorType:\"UniversalProviderInitError\",errorMessage:e instanceof Error?e.message:\"Unknown\",uncaught:!1}}),console.error(\"AppKit:getUniversalProvider - Cannot create provider\",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries($1.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=$1.ALERT_ERRORS[o];a&&(nc.open(a,\"error\"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&He.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case\"Swap\":return bn.open({...e,data:{swap:e.arguments}})}return bn.open(e)}async close(){await this.injectModalUi(),bn.close()}setLoading(e,n){bn.setLoading(e,n)}async disconnect(e){await He.disconnect(e)}getSIWX(){return Se.state.siwx}getError(){return\"\"}getChainId(){var e;return(e=ee.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){nc.open($1.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,\"error\");return}await ee.switchActiveNetwork(n)}getWalletProvider(){return ee.state.activeChain?rr.state.providers[ee.state.activeChain]:null}getWalletProviderType(){return rr.getProviderId(ee.state.activeChain)}subscribeProviders(e){return rr.subscribeProviders(e)}getThemeMode(){return ki.state.themeMode}getThemeVariables(){return ki.state.themeVariables}setThemeMode(e){ki.setThemeMode(e),kle(ki.state.themeMode)}setTermsConditionsUrl(e){Se.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Se.setPrivacyPolicyUrl(e)}setThemeVariables(e){ki.setThemeVariables(e),YQe(ki.state.themeVariables)}subscribeTheme(e){return ki.subscribe(e)}getWalletInfo(){return at.state.connectedWalletInfo}getAccount(e){var o;const n=Ne.getAuthConnector(e),r=ee.getAccountData(e),i=ee.state.activeChain,s=nt.getConnectedConnectorId(e||i);if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:Me.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n&&s===ft.CONNECTOR_ID.AUTH?{user:r.user?{...r.user,username:nt.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||\"email\",accountType:(o=r.preferredAccountTypes)==null?void 0:o[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?ee.subscribeChainProp(\"accountState\",r,n):ee.subscribe(r),Ne.subscribe(r)}subscribeNetwork(e){return ee.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return at.subscribeKey(\"connectedWalletInfo\",e)}subscribeShouldUpdateToAddress(e){at.subscribeKey(\"shouldUpdateToAddress\",e)}subscribeCaipNetworkChange(e){ee.subscribeKey(\"activeCaipNetwork\",e)}getState(){return Hf.state}subscribeState(e){return Hf.subscribe(e)}showErrorMessage(e){Er.showError(e)}showSuccessMessage(e){Er.showSuccess(e)}getEvent(){return{...jt.state}}subscribeEvents(e){return jt.subscribe(e)}replace(e){Le.replace(e)}redirect(e){Le.push(e)}popTransactionStack(e){Le.popTransactionStack(e)}isOpen(){return bn.state.open}isTransactionStackEmpty(){return Le.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Se.setFeatures(e)}updateRemoteFeatures(e){Se.setRemoteFeatures(e)}updateOptions(e){const r={...Se.state||{},...e};Se.setOptions(r)}setConnectMethodsOrder(e){Se.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Se.setWalletFeaturesOrder(e)}setCollapseWallets(e){Se.setCollapseWallets(e)}setSocialsOrder(e){Se.setSocialsOrder(e)}getConnectMethodsOrder(){return pp.getConnectOrderMethod(Se.state.features,Ne.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||ee.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&ee.removeNetwork(e,n)}}let wZ=!1;class Dle extends set{async open(e){Ne.isConnected()||await super.open(e)}async close(){await super.close(),this.options.manualWCControl&&He.finalizeWcConnection()}async syncIdentity(e){return Promise.resolve()}async syncBalance(e){return Promise.resolve()}async injectModalUi(){if(!wZ&&Me.isClient()){if(await De(()=>Promise.resolve().then(()=>Htt),void 0,import.meta.url),await De(()=>Promise.resolve().then(()=>ont),void 0,import.meta.url),!document.querySelector(\"w3m-modal\")){const n=document.createElement(\"w3m-modal\");!Se.state.disableAppend&&!Se.state.enableEmbedded&&document.body.insertAdjacentElement(\"beforeend\",n)}wZ=!0}}}const oet=\"1.7.8\";function aet(t){return new Dle({...t,basic:!0,sdkVersion:`html-core-${oet}`})}const cet=Object.freeze(Object.defineProperty({__proto__:null,AppKit:Dle,createAppKit:aet},Symbol.toStringTag,{value:\"Module\"}));/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const uet={attribute:!0,type:String,converter:S4,reflect:!1,hasChanged:Xk},det=(t=uet,e,n)=>{const{kind:r,metadata:i}=n;let s=globalThis.litPropertyMetadata.get(i);if(s===void 0&&globalThis.litPropertyMetadata.set(i,s=new Map),r===\"setter\"&&((t=Object.create(t)).wrapped=!0),s.set(n.name,t),r===\"accessor\"){const{name:o}=n;return{set(a){const c=e.get.call(this);e.set.call(this,a),this.requestUpdate(o,c,t)},init(a){return a!==void 0&&this.C(o,void 0,t,a),a}}}if(r===\"setter\"){const{name:o}=n;return function(a){const c=this[o];e.call(this,a),this.requestUpdate(o,c,t)}}throw Error(\"Unsupported decorator location: \"+r)};function ae(t){return(e,n)=>typeof n==\"object\"?det(t,e,n):((r,i,s)=>{const o=i.hasOwnProperty(s);return i.constructor.createProperty(s,r),o?Object.getOwnPropertyDescriptor(i,s):void 0})(t,e,n)}/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function Ye(t){return ae({...t,state:!0,attribute:!1})}const fet=wt`\n  :host {\n    display: flex;\n    width: inherit;\n    height: inherit;\n  }\n`;var Xo=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cs=class extends it{render(){return this.style.cssText=`\n      flex-direction: ${this.flexDirection};\n      flex-wrap: ${this.flexWrap};\n      flex-basis: ${this.flexBasis};\n      flex-grow: ${this.flexGrow};\n      flex-shrink: ${this.flexShrink};\n      align-items: ${this.alignItems};\n      justify-content: ${this.justifyContent};\n      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};\n      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};\n      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};\n      padding-top: ${this.padding&&ci.getSpacingStyles(this.padding,0)};\n      padding-right: ${this.padding&&ci.getSpacingStyles(this.padding,1)};\n      padding-bottom: ${this.padding&&ci.getSpacingStyles(this.padding,2)};\n      padding-left: ${this.padding&&ci.getSpacingStyles(this.padding,3)};\n      margin-top: ${this.margin&&ci.getSpacingStyles(this.margin,0)};\n      margin-right: ${this.margin&&ci.getSpacingStyles(this.margin,1)};\n      margin-bottom: ${this.margin&&ci.getSpacingStyles(this.margin,2)};\n      margin-left: ${this.margin&&ci.getSpacingStyles(this.margin,3)};\n    `,ne`<slot></slot>`}};Cs.styles=[fn,fet];Xo([ae()],Cs.prototype,\"flexDirection\",void 0);Xo([ae()],Cs.prototype,\"flexWrap\",void 0);Xo([ae()],Cs.prototype,\"flexBasis\",void 0);Xo([ae()],Cs.prototype,\"flexGrow\",void 0);Xo([ae()],Cs.prototype,\"flexShrink\",void 0);Xo([ae()],Cs.prototype,\"alignItems\",void 0);Xo([ae()],Cs.prototype,\"justifyContent\",void 0);Xo([ae()],Cs.prototype,\"columnGap\",void 0);Xo([ae()],Cs.prototype,\"rowGap\",void 0);Xo([ae()],Cs.prototype,\"gap\",void 0);Xo([ae()],Cs.prototype,\"padding\",void 0);Xo([ae()],Cs.prototype,\"margin\",void 0);Cs=Xo([et(\"wui-flex\")],Cs);/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const bt=t=>t??vr;/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const het=t=>t===null||typeof t!=\"object\"&&typeof t!=\"function\",pet=t=>t.strings===void 0;/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const Ble={ATTRIBUTE:1,CHILD:2},eM=t=>(...e)=>({_$litDirective$:t,values:e});let Lle=class{constructor(e){}get _$AU(){return this._$AM._$AU}_$AT(e,n,r){this._$Ct=e,this._$AM=n,this._$Ci=r}_$AS(e,n){return this.update(e,n)}update(e,n){return this.render(...n)}};/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const Jw=(t,e)=>{var r;const n=t._$AN;if(n===void 0)return!1;for(const i of n)(r=i._$AO)==null||r.call(i,e,!1),Jw(i,e);return!0},A4=t=>{let e,n;do{if((e=t._$AM)===void 0)break;n=e._$AN,n.delete(t),t=e}while((n==null?void 0:n.size)===0)},Ule=t=>{for(let e;e=t._$AM;t=e){let n=e._$AN;if(n===void 0)e._$AN=n=new Set;else if(n.has(t))break;n.add(t),yet(e)}};function get(t){this._$AN!==void 0?(A4(this),this._$AM=t,Ule(this)):this._$AM=t}function met(t,e=!1,n=0){const r=this._$AH,i=this._$AN;if(i!==void 0&&i.size!==0)if(e)if(Array.isArray(r))for(let s=n;s<r.length;s++)Jw(r[s],!1),A4(r[s]);else r!=null&&(Jw(r,!1),A4(r));else Jw(this,t)}const yet=t=>{t.type==Ble.CHILD&&(t._$AP??(t._$AP=met),t._$AQ??(t._$AQ=get))};class jle extends Lle{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,n,r){super._$AT(e,n,r),Ule(this),this.isConnected=e._$AU}_$AO(e,n=!0){var r,i;e!==this.isConnected&&(this.isConnected=e,e?(r=this.reconnected)==null||r.call(this):(i=this.disconnected)==null||i.call(this)),n&&(Jw(this,e),A4(this))}setValue(e){if(pet(this._$Ct))this._$Ct._$AI(e,this);else{const n=[...this._$Ct._$AH];n[this._$Ci]=e,this._$Ct._$AI(n,this,0)}}disconnected(){}reconnected(){}}/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class bet{constructor(e){this.G=e}disconnect(){this.G=void 0}reconnect(e){this.G=e}deref(){return this.G}}class wet{constructor(){this.Y=void 0,this.Z=void 0}get(){return this.Y}pause(){this.Y??(this.Y=new Promise((e=>this.Z=e)))}resume(){var e;(e=this.Z)==null||e.call(this),this.Y=this.Z=void 0}}/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const vZ=t=>!het(t)&&typeof t.then==\"function\",EZ=1073741823;class vet extends jle{constructor(){super(...arguments),this._$Cwt=EZ,this._$Cbt=[],this._$CK=new bet(this),this._$CX=new wet}render(...e){return e.find((n=>!vZ(n)))??ad}update(e,n){const r=this._$Cbt;let i=r.length;this._$Cbt=n;const s=this._$CK,o=this._$CX;this.isConnected||this.disconnected();for(let a=0;a<n.length&&!(a>this._$Cwt);a++){const c=n[a];if(!vZ(c))return this._$Cwt=a,c;a<i&&c===r[a]||(this._$Cwt=EZ,i=0,Promise.resolve(c).then((async l=>{for(;o.get();)await o.get();const d=s.deref();if(d!==void 0){const h=d._$Cbt.indexOf(c);h>-1&&h<d._$Cwt&&(d._$Cwt=h,d.setValue(l))}})))}return ad}disconnected(){this._$CK.disconnect(),this._$CX.pause()}reconnected(){this._$CK.reconnect(this),this._$CX.resume()}}const Eet=eM(vet);class _et{constructor(){this.cache=new Map}set(e,n){this.cache.set(e,n)}get(e){return this.cache.get(e)}has(e){return this.cache.has(e)}delete(e){this.cache.delete(e)}clear(){this.cache.clear()}}const r$=new _et,Cet=wt`\n  :host {\n    display: flex;\n    aspect-ratio: var(--local-aspect-ratio);\n    color: var(--local-color);\n    width: var(--local-width);\n  }\n\n  svg {\n    width: inherit;\n    height: inherit;\n    object-fit: contain;\n    object-position: center;\n  }\n\n  .fallback {\n    width: var(--local-width);\n    height: var(--local-height);\n  }\n`;var P5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const _Z={add:async()=>(await De(async()=>{const{addSvg:t}=await Promise.resolve().then(()=>cnt);return{addSvg:t}},void 0,import.meta.url)).addSvg,allWallets:async()=>(await De(async()=>{const{allWalletsSvg:t}=await Promise.resolve().then(()=>unt);return{allWalletsSvg:t}},void 0,import.meta.url)).allWalletsSvg,arrowBottomCircle:async()=>(await De(async()=>{const{arrowBottomCircleSvg:t}=await Promise.resolve().then(()=>fnt);return{arrowBottomCircleSvg:t}},void 0,import.meta.url)).arrowBottomCircleSvg,appStore:async()=>(await De(async()=>{const{appStoreSvg:t}=await Promise.resolve().then(()=>pnt);return{appStoreSvg:t}},void 0,import.meta.url)).appStoreSvg,apple:async()=>(await De(async()=>{const{appleSvg:t}=await Promise.resolve().then(()=>mnt);return{appleSvg:t}},void 0,import.meta.url)).appleSvg,arrowBottom:async()=>(await De(async()=>{const{arrowBottomSvg:t}=await Promise.resolve().then(()=>bnt);return{arrowBottomSvg:t}},void 0,import.meta.url)).arrowBottomSvg,arrowLeft:async()=>(await De(async()=>{const{arrowLeftSvg:t}=await Promise.resolve().then(()=>vnt);return{arrowLeftSvg:t}},void 0,import.meta.url)).arrowLeftSvg,arrowRight:async()=>(await De(async()=>{const{arrowRightSvg:t}=await Promise.resolve().then(()=>_nt);return{arrowRightSvg:t}},void 0,import.meta.url)).arrowRightSvg,arrowTop:async()=>(await De(async()=>{const{arrowTopSvg:t}=await Promise.resolve().then(()=>Snt);return{arrowTopSvg:t}},void 0,import.meta.url)).arrowTopSvg,bank:async()=>(await De(async()=>{const{bankSvg:t}=await Promise.resolve().then(()=>Ant);return{bankSvg:t}},void 0,import.meta.url)).bankSvg,browser:async()=>(await De(async()=>{const{browserSvg:t}=await Promise.resolve().then(()=>Int);return{browserSvg:t}},void 0,import.meta.url)).browserSvg,card:async()=>(await De(async()=>{const{cardSvg:t}=await Promise.resolve().then(()=>Pnt);return{cardSvg:t}},void 0,import.meta.url)).cardSvg,checkmark:async()=>(await De(async()=>{const{checkmarkSvg:t}=await Promise.resolve().then(()=>Nnt);return{checkmarkSvg:t}},void 0,import.meta.url)).checkmarkSvg,checkmarkBold:async()=>(await De(async()=>{const{checkmarkBoldSvg:t}=await Promise.resolve().then(()=>knt);return{checkmarkBoldSvg:t}},void 0,import.meta.url)).checkmarkBoldSvg,chevronBottom:async()=>(await De(async()=>{const{chevronBottomSvg:t}=await Promise.resolve().then(()=>Dnt);return{chevronBottomSvg:t}},void 0,import.meta.url)).chevronBottomSvg,chevronLeft:async()=>(await De(async()=>{const{chevronLeftSvg:t}=await Promise.resolve().then(()=>Lnt);return{chevronLeftSvg:t}},void 0,import.meta.url)).chevronLeftSvg,chevronRight:async()=>(await De(async()=>{const{chevronRightSvg:t}=await Promise.resolve().then(()=>jnt);return{chevronRightSvg:t}},void 0,import.meta.url)).chevronRightSvg,chevronTop:async()=>(await De(async()=>{const{chevronTopSvg:t}=await Promise.resolve().then(()=>Fnt);return{chevronTopSvg:t}},void 0,import.meta.url)).chevronTopSvg,chromeStore:async()=>(await De(async()=>{const{chromeStoreSvg:t}=await Promise.resolve().then(()=>Hnt);return{chromeStoreSvg:t}},void 0,import.meta.url)).chromeStoreSvg,clock:async()=>(await De(async()=>{const{clockSvg:t}=await Promise.resolve().then(()=>Knt);return{clockSvg:t}},void 0,import.meta.url)).clockSvg,close:async()=>(await De(async()=>{const{closeSvg:t}=await Promise.resolve().then(()=>Gnt);return{closeSvg:t}},void 0,import.meta.url)).closeSvg,compass:async()=>(await De(async()=>{const{compassSvg:t}=await Promise.resolve().then(()=>Ynt);return{compassSvg:t}},void 0,import.meta.url)).compassSvg,coinPlaceholder:async()=>(await De(async()=>{const{coinPlaceholderSvg:t}=await Promise.resolve().then(()=>Xnt);return{coinPlaceholderSvg:t}},void 0,import.meta.url)).coinPlaceholderSvg,copy:async()=>(await De(async()=>{const{copySvg:t}=await Promise.resolve().then(()=>ert);return{copySvg:t}},void 0,import.meta.url)).copySvg,cursor:async()=>(await De(async()=>{const{cursorSvg:t}=await Promise.resolve().then(()=>nrt);return{cursorSvg:t}},void 0,import.meta.url)).cursorSvg,cursorTransparent:async()=>(await De(async()=>{const{cursorTransparentSvg:t}=await Promise.resolve().then(()=>irt);return{cursorTransparentSvg:t}},void 0,import.meta.url)).cursorTransparentSvg,desktop:async()=>(await De(async()=>{const{desktopSvg:t}=await Promise.resolve().then(()=>ort);return{desktopSvg:t}},void 0,import.meta.url)).desktopSvg,disconnect:async()=>(await De(async()=>{const{disconnectSvg:t}=await Promise.resolve().then(()=>crt);return{disconnectSvg:t}},void 0,import.meta.url)).disconnectSvg,discord:async()=>(await De(async()=>{const{discordSvg:t}=await Promise.resolve().then(()=>urt);return{discordSvg:t}},void 0,import.meta.url)).discordSvg,etherscan:async()=>(await De(async()=>{const{etherscanSvg:t}=await Promise.resolve().then(()=>frt);return{etherscanSvg:t}},void 0,import.meta.url)).etherscanSvg,extension:async()=>(await De(async()=>{const{extensionSvg:t}=await Promise.resolve().then(()=>prt);return{extensionSvg:t}},void 0,import.meta.url)).extensionSvg,externalLink:async()=>(await De(async()=>{const{externalLinkSvg:t}=await Promise.resolve().then(()=>mrt);return{externalLinkSvg:t}},void 0,import.meta.url)).externalLinkSvg,facebook:async()=>(await De(async()=>{const{facebookSvg:t}=await Promise.resolve().then(()=>brt);return{facebookSvg:t}},void 0,import.meta.url)).facebookSvg,farcaster:async()=>(await De(async()=>{const{farcasterSvg:t}=await Promise.resolve().then(()=>vrt);return{farcasterSvg:t}},void 0,import.meta.url)).farcasterSvg,filters:async()=>(await De(async()=>{const{filtersSvg:t}=await Promise.resolve().then(()=>_rt);return{filtersSvg:t}},void 0,import.meta.url)).filtersSvg,github:async()=>(await De(async()=>{const{githubSvg:t}=await Promise.resolve().then(()=>Srt);return{githubSvg:t}},void 0,import.meta.url)).githubSvg,google:async()=>(await De(async()=>{const{googleSvg:t}=await Promise.resolve().then(()=>Art);return{googleSvg:t}},void 0,import.meta.url)).googleSvg,helpCircle:async()=>(await De(async()=>{const{helpCircleSvg:t}=await Promise.resolve().then(()=>Irt);return{helpCircleSvg:t}},void 0,import.meta.url)).helpCircleSvg,image:async()=>(await De(async()=>{const{imageSvg:t}=await Promise.resolve().then(()=>Prt);return{imageSvg:t}},void 0,import.meta.url)).imageSvg,id:async()=>(await De(async()=>{const{idSvg:t}=await Promise.resolve().then(()=>Nrt);return{idSvg:t}},void 0,import.meta.url)).idSvg,infoCircle:async()=>(await De(async()=>{const{infoCircleSvg:t}=await Promise.resolve().then(()=>krt);return{infoCircleSvg:t}},void 0,import.meta.url)).infoCircleSvg,lightbulb:async()=>(await De(async()=>{const{lightbulbSvg:t}=await Promise.resolve().then(()=>Drt);return{lightbulbSvg:t}},void 0,import.meta.url)).lightbulbSvg,mail:async()=>(await De(async()=>{const{mailSvg:t}=await Promise.resolve().then(()=>Lrt);return{mailSvg:t}},void 0,import.meta.url)).mailSvg,mobile:async()=>(await De(async()=>{const{mobileSvg:t}=await Promise.resolve().then(()=>jrt);return{mobileSvg:t}},void 0,import.meta.url)).mobileSvg,more:async()=>(await De(async()=>{const{moreSvg:t}=await Promise.resolve().then(()=>Frt);return{moreSvg:t}},void 0,import.meta.url)).moreSvg,networkPlaceholder:async()=>(await De(async()=>{const{networkPlaceholderSvg:t}=await Promise.resolve().then(()=>Hrt);return{networkPlaceholderSvg:t}},void 0,import.meta.url)).networkPlaceholderSvg,nftPlaceholder:async()=>(await De(async()=>{const{nftPlaceholderSvg:t}=await Promise.resolve().then(()=>Krt);return{nftPlaceholderSvg:t}},void 0,import.meta.url)).nftPlaceholderSvg,off:async()=>(await De(async()=>{const{offSvg:t}=await Promise.resolve().then(()=>Grt);return{offSvg:t}},void 0,import.meta.url)).offSvg,playStore:async()=>(await De(async()=>{const{playStoreSvg:t}=await Promise.resolve().then(()=>Yrt);return{playStoreSvg:t}},void 0,import.meta.url)).playStoreSvg,plus:async()=>(await De(async()=>{const{plusSvg:t}=await Promise.resolve().then(()=>Xrt);return{plusSvg:t}},void 0,import.meta.url)).plusSvg,qrCode:async()=>(await De(async()=>{const{qrCodeIcon:t}=await Promise.resolve().then(()=>eit);return{qrCodeIcon:t}},void 0,import.meta.url)).qrCodeIcon,recycleHorizontal:async()=>(await De(async()=>{const{recycleHorizontalSvg:t}=await Promise.resolve().then(()=>nit);return{recycleHorizontalSvg:t}},void 0,import.meta.url)).recycleHorizontalSvg,refresh:async()=>(await De(async()=>{const{refreshSvg:t}=await Promise.resolve().then(()=>iit);return{refreshSvg:t}},void 0,import.meta.url)).refreshSvg,search:async()=>(await De(async()=>{const{searchSvg:t}=await Promise.resolve().then(()=>oit);return{searchSvg:t}},void 0,import.meta.url)).searchSvg,send:async()=>(await De(async()=>{const{sendSvg:t}=await Promise.resolve().then(()=>cit);return{sendSvg:t}},void 0,import.meta.url)).sendSvg,swapHorizontal:async()=>(await De(async()=>{const{swapHorizontalSvg:t}=await Promise.resolve().then(()=>uit);return{swapHorizontalSvg:t}},void 0,import.meta.url)).swapHorizontalSvg,swapHorizontalMedium:async()=>(await De(async()=>{const{swapHorizontalMediumSvg:t}=await Promise.resolve().then(()=>fit);return{swapHorizontalMediumSvg:t}},void 0,import.meta.url)).swapHorizontalMediumSvg,swapHorizontalBold:async()=>(await De(async()=>{const{swapHorizontalBoldSvg:t}=await Promise.resolve().then(()=>pit);return{swapHorizontalBoldSvg:t}},void 0,import.meta.url)).swapHorizontalBoldSvg,swapHorizontalRoundedBold:async()=>(await De(async()=>{const{swapHorizontalRoundedBoldSvg:t}=await Promise.resolve().then(()=>mit);return{swapHorizontalRoundedBoldSvg:t}},void 0,import.meta.url)).swapHorizontalRoundedBoldSvg,swapVertical:async()=>(await De(async()=>{const{swapVerticalSvg:t}=await Promise.resolve().then(()=>bit);return{swapVerticalSvg:t}},void 0,import.meta.url)).swapVerticalSvg,telegram:async()=>(await De(async()=>{const{telegramSvg:t}=await Promise.resolve().then(()=>vit);return{telegramSvg:t}},void 0,import.meta.url)).telegramSvg,threeDots:async()=>(await De(async()=>{const{threeDotsSvg:t}=await Promise.resolve().then(()=>_it);return{threeDotsSvg:t}},void 0,import.meta.url)).threeDotsSvg,twitch:async()=>(await De(async()=>{const{twitchSvg:t}=await Promise.resolve().then(()=>Sit);return{twitchSvg:t}},void 0,import.meta.url)).twitchSvg,twitter:async()=>(await De(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>sY);return{xSvg:t}},void 0,import.meta.url)).xSvg,twitterIcon:async()=>(await De(async()=>{const{twitterIconSvg:t}=await Promise.resolve().then(()=>$it);return{twitterIconSvg:t}},void 0,import.meta.url)).twitterIconSvg,verify:async()=>(await De(async()=>{const{verifySvg:t}=await Promise.resolve().then(()=>Tit);return{verifySvg:t}},void 0,import.meta.url)).verifySvg,verifyFilled:async()=>(await De(async()=>{const{verifyFilledSvg:t}=await Promise.resolve().then(()=>Oit);return{verifyFilledSvg:t}},void 0,import.meta.url)).verifyFilledSvg,wallet:async()=>(await De(async()=>{const{walletSvg:t}=await Promise.resolve().then(()=>Rit);return{walletSvg:t}},void 0,import.meta.url)).walletSvg,walletConnect:async()=>(await De(async()=>{const{walletConnectSvg:t}=await Promise.resolve().then(()=>N$);return{walletConnectSvg:t}},void 0,import.meta.url)).walletConnectSvg,walletConnectLightBrown:async()=>(await De(async()=>{const{walletConnectLightBrownSvg:t}=await Promise.resolve().then(()=>N$);return{walletConnectLightBrownSvg:t}},void 0,import.meta.url)).walletConnectLightBrownSvg,walletConnectBrown:async()=>(await De(async()=>{const{walletConnectBrownSvg:t}=await Promise.resolve().then(()=>N$);return{walletConnectBrownSvg:t}},void 0,import.meta.url)).walletConnectBrownSvg,walletPlaceholder:async()=>(await De(async()=>{const{walletPlaceholderSvg:t}=await Promise.resolve().then(()=>Lit);return{walletPlaceholderSvg:t}},void 0,import.meta.url)).walletPlaceholderSvg,warningCircle:async()=>(await De(async()=>{const{warningCircleSvg:t}=await Promise.resolve().then(()=>jit);return{warningCircleSvg:t}},void 0,import.meta.url)).warningCircleSvg,x:async()=>(await De(async()=>{const{xSvg:t}=await Promise.resolve().then(()=>sY);return{xSvg:t}},void 0,import.meta.url)).xSvg,info:async()=>(await De(async()=>{const{infoSvg:t}=await Promise.resolve().then(()=>Fit);return{infoSvg:t}},void 0,import.meta.url)).infoSvg,exclamationTriangle:async()=>(await De(async()=>{const{exclamationTriangleSvg:t}=await Promise.resolve().then(()=>Hit);return{exclamationTriangleSvg:t}},void 0,import.meta.url)).exclamationTriangleSvg,reown:async()=>(await De(async()=>{const{reownSvg:t}=await Promise.resolve().then(()=>Kit);return{reownSvg:t}},void 0,import.meta.url)).reownSvg};async function xet(t){if(r$.has(t))return r$.get(t);const n=(_Z[t]??_Z.copy)();return r$.set(t,n),n}let mp=class extends it{constructor(){super(...arguments),this.size=\"md\",this.name=\"copy\",this.color=\"fg-300\",this.aspectRatio=\"1 / 1\"}render(){return this.style.cssText=`\n      --local-color: ${`var(--wui-color-${this.color});`}\n      --local-width: ${`var(--wui-icon-size-${this.size});`}\n      --local-aspect-ratio: ${this.aspectRatio}\n    `,ne`${Eet(xet(this.name),ne`<div class=\"fallback\"></div>`)}`}};mp.styles=[fn,I5,Cet];P5([ae()],mp.prototype,\"size\",void 0);P5([ae()],mp.prototype,\"name\",void 0);P5([ae()],mp.prototype,\"color\",void 0);P5([ae()],mp.prototype,\"aspectRatio\",void 0);mp=P5([et(\"wui-icon\")],mp);/**\n * @license\n * Copyright 2018 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const zle=eM(class extends Lle{constructor(t){var e;if(super(t),t.type!==Ble.ATTRIBUTE||t.name!==\"class\"||((e=t.strings)==null?void 0:e.length)>2)throw Error(\"`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.\")}render(t){return\" \"+Object.keys(t).filter((e=>t[e])).join(\" \")+\" \"}update(t,[e]){var r,i;if(this.st===void 0){this.st=new Set,t.strings!==void 0&&(this.nt=new Set(t.strings.join(\" \").split(/\\s/).filter((s=>s!==\"\"))));for(const s in e)e[s]&&!((r=this.nt)!=null&&r.has(s))&&this.st.add(s);return this.render(e)}const n=t.element.classList;for(const s of this.st)s in e||(n.remove(s),this.st.delete(s));for(const s in e){const o=!!e[s];o===this.st.has(s)||(i=this.nt)!=null&&i.has(s)||(o?(n.add(s),this.st.add(s)):(n.remove(s),this.st.delete(s)))}return ad}}),Aet=wt`\n  :host {\n    display: inline-flex !important;\n  }\n\n  slot {\n    width: 100%;\n    display: inline-block;\n    font-style: normal;\n    font-family: var(--wui-font-family);\n    font-feature-settings:\n      'tnum' on,\n      'lnum' on,\n      'case' on;\n    line-height: 130%;\n    font-weight: var(--wui-font-weight-regular);\n    overflow: inherit;\n    text-overflow: inherit;\n    text-align: var(--local-align);\n    color: var(--local-color);\n  }\n\n  .wui-line-clamp-1 {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 1;\n  }\n\n  .wui-line-clamp-2 {\n    overflow: hidden;\n    display: -webkit-box;\n    -webkit-box-orient: vertical;\n    -webkit-line-clamp: 2;\n  }\n\n  .wui-font-medium-400 {\n    font-size: var(--wui-font-size-medium);\n    font-weight: var(--wui-font-weight-light);\n    letter-spacing: var(--wui-letter-spacing-medium);\n  }\n\n  .wui-font-medium-600 {\n    font-size: var(--wui-font-size-medium);\n    letter-spacing: var(--wui-letter-spacing-medium);\n  }\n\n  .wui-font-title-600 {\n    font-size: var(--wui-font-size-title);\n    letter-spacing: var(--wui-letter-spacing-title);\n  }\n\n  .wui-font-title-6-600 {\n    font-size: var(--wui-font-size-title-6);\n    letter-spacing: var(--wui-letter-spacing-title-6);\n  }\n\n  .wui-font-mini-700 {\n    font-size: var(--wui-font-size-mini);\n    letter-spacing: var(--wui-letter-spacing-mini);\n    text-transform: uppercase;\n  }\n\n  .wui-font-large-500,\n  .wui-font-large-600,\n  .wui-font-large-700 {\n    font-size: var(--wui-font-size-large);\n    letter-spacing: var(--wui-letter-spacing-large);\n  }\n\n  .wui-font-2xl-500,\n  .wui-font-2xl-600,\n  .wui-font-2xl-700 {\n    font-size: var(--wui-font-size-2xl);\n    letter-spacing: var(--wui-letter-spacing-2xl);\n  }\n\n  .wui-font-paragraph-400,\n  .wui-font-paragraph-500,\n  .wui-font-paragraph-600,\n  .wui-font-paragraph-700 {\n    font-size: var(--wui-font-size-paragraph);\n    letter-spacing: var(--wui-letter-spacing-paragraph);\n  }\n\n  .wui-font-small-400,\n  .wui-font-small-500,\n  .wui-font-small-600 {\n    font-size: var(--wui-font-size-small);\n    letter-spacing: var(--wui-letter-spacing-small);\n  }\n\n  .wui-font-tiny-400,\n  .wui-font-tiny-500,\n  .wui-font-tiny-600 {\n    font-size: var(--wui-font-size-tiny);\n    letter-spacing: var(--wui-letter-spacing-tiny);\n  }\n\n  .wui-font-micro-700,\n  .wui-font-micro-600 {\n    font-size: var(--wui-font-size-micro);\n    letter-spacing: var(--wui-letter-spacing-micro);\n    text-transform: uppercase;\n  }\n\n  .wui-font-tiny-400,\n  .wui-font-small-400,\n  .wui-font-medium-400,\n  .wui-font-paragraph-400 {\n    font-weight: var(--wui-font-weight-light);\n  }\n\n  .wui-font-large-700,\n  .wui-font-paragraph-700,\n  .wui-font-micro-700,\n  .wui-font-mini-700 {\n    font-weight: var(--wui-font-weight-bold);\n  }\n\n  .wui-font-medium-600,\n  .wui-font-medium-title-600,\n  .wui-font-title-6-600,\n  .wui-font-large-600,\n  .wui-font-paragraph-600,\n  .wui-font-small-600,\n  .wui-font-tiny-600,\n  .wui-font-micro-600 {\n    font-weight: var(--wui-font-weight-medium);\n  }\n\n  :host([disabled]) {\n    opacity: 0.4;\n  }\n`;var O5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let yp=class extends it{constructor(){super(...arguments),this.variant=\"paragraph-500\",this.color=\"fg-300\",this.align=\"left\",this.lineClamp=void 0}render(){const e={[`wui-font-${this.variant}`]:!0,[`wui-color-${this.color}`]:!0,[`wui-line-clamp-${this.lineClamp}`]:!!this.lineClamp};return this.style.cssText=`\n      --local-align: ${this.align};\n      --local-color: var(--wui-color-${this.color});\n    `,ne`<slot class=${zle(e)}></slot>`}};yp.styles=[fn,Aet];O5([ae()],yp.prototype,\"variant\",void 0);O5([ae()],yp.prototype,\"color\",void 0);O5([ae()],yp.prototype,\"align\",void 0);O5([ae()],yp.prototype,\"lineClamp\",void 0);yp=O5([et(\"wui-text\")],yp);const $et=wt`\n  :host {\n    display: inline-flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n    overflow: hidden;\n    background-color: var(--wui-color-gray-glass-020);\n    border-radius: var(--local-border-radius);\n    border: var(--local-border);\n    box-sizing: content-box;\n    width: var(--local-size);\n    height: var(--local-size);\n    min-height: var(--local-size);\n    min-width: var(--local-size);\n  }\n\n  @supports (background: color-mix(in srgb, white 50%, black)) {\n    :host {\n      background-color: color-mix(in srgb, var(--local-bg-value) var(--local-bg-mix), transparent);\n    }\n  }\n`;var gd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _c=class extends it{constructor(){super(...arguments),this.size=\"md\",this.backgroundColor=\"accent-100\",this.iconColor=\"accent-100\",this.background=\"transparent\",this.border=!1,this.borderColor=\"wui-color-bg-125\",this.icon=\"copy\"}render(){const e=this.iconSize||this.size,n=this.size===\"lg\",r=this.size===\"xl\",i=n?\"12%\":\"16%\",s=n?\"xxs\":r?\"s\":\"3xl\",o=this.background===\"gray\",a=this.background===\"opaque\",c=this.backgroundColor===\"accent-100\"&&a||this.backgroundColor===\"success-100\"&&a||this.backgroundColor===\"error-100\"&&a||this.backgroundColor===\"inverse-100\"&&a;let l=`var(--wui-color-${this.backgroundColor})`;return c?l=`var(--wui-icon-box-bg-${this.backgroundColor})`:o&&(l=`var(--wui-color-gray-${this.backgroundColor})`),this.style.cssText=`\n       --local-bg-value: ${l};\n       --local-bg-mix: ${c||o?\"100%\":i};\n       --local-border-radius: var(--wui-border-radius-${s});\n       --local-size: var(--wui-icon-box-size-${this.size});\n       --local-border: ${this.borderColor===\"wui-color-bg-125\"?\"2px\":\"1px\"} solid ${this.border?`var(--${this.borderColor})`:\"transparent\"}\n   `,ne` <wui-icon color=${this.iconColor} size=${e} name=${this.icon}></wui-icon> `}};_c.styles=[fn,Ki,$et];gd([ae()],_c.prototype,\"size\",void 0);gd([ae()],_c.prototype,\"backgroundColor\",void 0);gd([ae()],_c.prototype,\"iconColor\",void 0);gd([ae()],_c.prototype,\"iconSize\",void 0);gd([ae()],_c.prototype,\"background\",void 0);gd([ae({type:Boolean})],_c.prototype,\"border\",void 0);gd([ae()],_c.prototype,\"borderColor\",void 0);gd([ae()],_c.prototype,\"icon\",void 0);_c=gd([et(\"wui-icon-box\")],_c);const Iet=wt`\n  :host {\n    display: block;\n    width: var(--local-width);\n    height: var(--local-height);\n  }\n\n  img {\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    object-position: center center;\n    border-radius: inherit;\n  }\n`;var _9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ty=class extends it{constructor(){super(...arguments),this.src=\"./path/to/image.jpg\",this.alt=\"Image\",this.size=void 0}render(){return this.style.cssText=`\n      --local-width: ${this.size?`var(--wui-icon-size-${this.size});`:\"100%\"};\n      --local-height: ${this.size?`var(--wui-icon-size-${this.size});`:\"100%\"};\n      `,ne`<img src=${this.src} alt=${this.alt} @error=${this.handleImageError} />`}handleImageError(){this.dispatchEvent(new CustomEvent(\"onLoadError\",{bubbles:!0,composed:!0}))}};ty.styles=[fn,I5,Iet];_9([ae()],ty.prototype,\"src\",void 0);_9([ae()],ty.prototype,\"alt\",void 0);_9([ae()],ty.prototype,\"size\",void 0);ty=_9([et(\"wui-image\")],ty);const Tet=wt`\n  :host {\n    position: relative;\n    background-color: var(--wui-color-gray-glass-002);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: var(--local-size);\n    height: var(--local-size);\n    border-radius: inherit;\n    border-radius: var(--local-border-radius);\n  }\n\n  :host > wui-flex {\n    overflow: hidden;\n    border-radius: inherit;\n    border-radius: var(--local-border-radius);\n  }\n\n  :host::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-gray-glass-010);\n    pointer-events: none;\n  }\n\n  :host([name='Extension'])::after {\n    border: 1px solid var(--wui-color-accent-glass-010);\n  }\n\n  :host([data-wallet-icon='allWallets']) {\n    background-color: var(--wui-all-wallets-bg-100);\n  }\n\n  :host([data-wallet-icon='allWallets'])::after {\n    border: 1px solid var(--wui-color-accent-glass-010);\n  }\n\n  wui-icon[data-parent-size='inherit'] {\n    width: 75%;\n    height: 75%;\n    align-items: center;\n  }\n\n  wui-icon[data-parent-size='sm'] {\n    width: 18px;\n    height: 18px;\n  }\n\n  wui-icon[data-parent-size='md'] {\n    width: 24px;\n    height: 24px;\n  }\n\n  wui-icon[data-parent-size='lg'] {\n    width: 42px;\n    height: 42px;\n  }\n\n  wui-icon[data-parent-size='full'] {\n    width: 100%;\n    height: 100%;\n  }\n\n  :host > wui-icon-box {\n    position: absolute;\n    overflow: hidden;\n    right: -1px;\n    bottom: -2px;\n    z-index: 1;\n    border: 2px solid var(--wui-color-bg-150, #1e1f1f);\n    padding: 1px;\n  }\n`;var Gp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let cd=class extends it{constructor(){super(...arguments),this.size=\"md\",this.name=\"\",this.installed=!1,this.badgeSize=\"xs\"}render(){let e=\"xxs\";return this.size===\"lg\"?e=\"m\":this.size===\"md\"?e=\"xs\":e=\"xxs\",this.style.cssText=`\n       --local-border-radius: var(--wui-border-radius-${e});\n       --local-size: var(--wui-wallet-image-size-${this.size});\n   `,this.walletIcon&&(this.dataset.walletIcon=this.walletIcon),ne`\n      <wui-flex justifyContent=\"center\" alignItems=\"center\"> ${this.templateVisual()} </wui-flex>\n    `}templateVisual(){return this.imageSrc?ne`<wui-image src=${this.imageSrc} alt=${this.name}></wui-image>`:this.walletIcon?ne`<wui-icon\n        data-parent-size=\"md\"\n        size=\"md\"\n        color=\"inherit\"\n        name=${this.walletIcon}\n      ></wui-icon>`:ne`<wui-icon\n      data-parent-size=${this.size}\n      size=\"inherit\"\n      color=\"inherit\"\n      name=\"walletPlaceholder\"\n    ></wui-icon>`}};cd.styles=[Ki,fn,Tet];Gp([ae()],cd.prototype,\"size\",void 0);Gp([ae()],cd.prototype,\"name\",void 0);Gp([ae()],cd.prototype,\"imageSrc\",void 0);Gp([ae()],cd.prototype,\"walletIcon\",void 0);Gp([ae({type:Boolean})],cd.prototype,\"installed\",void 0);Gp([ae()],cd.prototype,\"badgeSize\",void 0);cd=Gp([et(\"wui-wallet-image\")],cd);const Pet=wt`\n  :host {\n    position: relative;\n    border-radius: var(--wui-border-radius-xxs);\n    width: 40px;\n    height: 40px;\n    overflow: hidden;\n    background: var(--wui-color-gray-glass-002);\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    flex-wrap: wrap;\n    gap: var(--wui-spacing-4xs);\n    padding: 3.75px !important;\n  }\n\n  :host::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-gray-glass-010);\n    pointer-events: none;\n  }\n\n  :host > wui-wallet-image {\n    width: 14px;\n    height: 14px;\n    border-radius: var(--wui-border-radius-5xs);\n  }\n\n  :host > wui-flex {\n    padding: 2px;\n    position: fixed;\n    overflow: hidden;\n    left: 34px;\n    bottom: 8px;\n    background: var(--dark-background-150, #1e1f1f);\n    border-radius: 50%;\n    z-index: 2;\n    display: flex;\n  }\n`;var Fle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const i$=4;let $4=class extends it{constructor(){super(...arguments),this.walletImages=[]}render(){const e=this.walletImages.length<i$;return ne`${this.walletImages.slice(0,i$).map(({src:n,walletName:r})=>ne`\n            <wui-wallet-image\n              size=\"inherit\"\n              imageSrc=${n}\n              name=${bt(r)}\n            ></wui-wallet-image>\n          `)}\n      ${e?[...Array(i$-this.walletImages.length)].map(()=>ne` <wui-wallet-image size=\"inherit\" name=\"\"></wui-wallet-image>`):null}\n      <wui-flex>\n        <wui-icon-box\n          size=\"xxs\"\n          iconSize=\"xxs\"\n          iconcolor=\"success-100\"\n          backgroundcolor=\"success-100\"\n          icon=\"checkmark\"\n          background=\"opaque\"\n        ></wui-icon-box>\n      </wui-flex>`}};$4.styles=[fn,Pet];Fle([ae({type:Array})],$4.prototype,\"walletImages\",void 0);$4=Fle([et(\"wui-all-wallets-image\")],$4);const Oet=wt`\n  :host {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: var(--wui-spacing-m);\n    padding: 0 var(--wui-spacing-3xs) !important;\n    border-radius: var(--wui-border-radius-5xs);\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host > wui-text {\n    transform: translateY(5%);\n  }\n\n  :host([data-variant='main']) {\n    background-color: var(--wui-color-accent-glass-015);\n    color: var(--wui-color-accent-100);\n  }\n\n  :host([data-variant='shade']) {\n    background-color: var(--wui-color-gray-glass-010);\n    color: var(--wui-color-fg-200);\n  }\n\n  :host([data-variant='success']) {\n    background-color: var(--wui-icon-box-bg-success-100);\n    color: var(--wui-color-success-100);\n  }\n\n  :host([data-variant='error']) {\n    background-color: var(--wui-icon-box-bg-error-100);\n    color: var(--wui-color-error-100);\n  }\n\n  :host([data-size='lg']) {\n    padding: 11px 5px !important;\n  }\n\n  :host([data-size='lg']) > wui-text {\n    transform: translateY(2%);\n  }\n`;var tM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let h2=class extends it{constructor(){super(...arguments),this.variant=\"main\",this.size=\"lg\"}render(){this.dataset.variant=this.variant,this.dataset.size=this.size;const e=this.size===\"md\"?\"mini-700\":\"micro-700\";return ne`\n      <wui-text data-variant=${this.variant} variant=${e} color=\"inherit\">\n        <slot></slot>\n      </wui-text>\n    `}};h2.styles=[fn,Oet];tM([ae()],h2.prototype,\"variant\",void 0);tM([ae()],h2.prototype,\"size\",void 0);h2=tM([et(\"wui-tag\")],h2);const Net=wt`\n  button {\n    column-gap: var(--wui-spacing-s);\n    padding: 7px var(--wui-spacing-l) 7px var(--wui-spacing-xs);\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    color: var(--wui-color-fg-100);\n  }\n\n  button > wui-text:nth-child(2) {\n    display: flex;\n    flex: 1;\n  }\n\n  button:disabled {\n    background-color: var(--wui-color-gray-glass-015);\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  button:disabled > wui-tag {\n    background-color: var(--wui-color-gray-glass-010);\n    color: var(--wui-color-fg-300);\n  }\n\n  wui-icon {\n    color: var(--wui-color-fg-200) !important;\n  }\n`;var oo=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ns=class extends it{constructor(){super(...arguments),this.walletImages=[],this.imageSrc=\"\",this.name=\"\",this.tabIdx=void 0,this.installed=!1,this.disabled=!1,this.showAllWallets=!1,this.loading=!1,this.loadingSpinnerColor=\"accent-100\"}render(){return ne`\n      <button ?disabled=${this.disabled} tabindex=${bt(this.tabIdx)}>\n        ${this.templateAllWallets()} ${this.templateWalletImage()}\n        <wui-text variant=\"paragraph-500\" color=\"inherit\">${this.name}</wui-text>\n        ${this.templateStatus()}\n      </button>\n    `}templateAllWallets(){return this.showAllWallets&&this.imageSrc?ne` <wui-all-wallets-image .imageeSrc=${this.imageSrc}> </wui-all-wallets-image> `:this.showAllWallets&&this.walletIcon?ne` <wui-wallet-image .walletIcon=${this.walletIcon} size=\"sm\"> </wui-wallet-image> `:null}templateWalletImage(){return!this.showAllWallets&&this.imageSrc?ne`<wui-wallet-image\n        size=\"sm\"\n        imageSrc=${this.imageSrc}\n        name=${this.name}\n        .installed=${this.installed}\n      ></wui-wallet-image>`:!this.showAllWallets&&!this.imageSrc?ne`<wui-wallet-image size=\"sm\" name=${this.name}></wui-wallet-image>`:null}templateStatus(){return this.loading?ne`<wui-loading-spinner\n        size=\"lg\"\n        color=${this.loadingSpinnerColor}\n      ></wui-loading-spinner>`:this.tagLabel&&this.tagVariant?ne`<wui-tag variant=${this.tagVariant}>${this.tagLabel}</wui-tag>`:this.icon?ne`<wui-icon color=\"inherit\" size=\"sm\" name=${this.icon}></wui-icon>`:null}};ns.styles=[fn,Ki,Net];oo([ae({type:Array})],ns.prototype,\"walletImages\",void 0);oo([ae()],ns.prototype,\"imageSrc\",void 0);oo([ae()],ns.prototype,\"name\",void 0);oo([ae()],ns.prototype,\"tagLabel\",void 0);oo([ae()],ns.prototype,\"tagVariant\",void 0);oo([ae()],ns.prototype,\"icon\",void 0);oo([ae()],ns.prototype,\"walletIcon\",void 0);oo([ae()],ns.prototype,\"tabIdx\",void 0);oo([ae({type:Boolean})],ns.prototype,\"installed\",void 0);oo([ae({type:Boolean})],ns.prototype,\"disabled\",void 0);oo([ae({type:Boolean})],ns.prototype,\"showAllWallets\",void 0);oo([ae({type:Boolean})],ns.prototype,\"loading\",void 0);oo([ae({type:String})],ns.prototype,\"loadingSpinnerColor\",void 0);ns=oo([et(\"wui-list-wallet\")],ns);var ky=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let bp=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.count=Ue.state.count,this.filteredCount=Ue.state.filteredWallets.length,this.isFetchingRecommendedWallets=Ue.state.isFetchingRecommendedWallets,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e),Ue.subscribeKey(\"count\",e=>this.count=e),Ue.subscribeKey(\"filteredWallets\",e=>this.filteredCount=e.length),Ue.subscribeKey(\"isFetchingRecommendedWallets\",e=>this.isFetchingRecommendedWallets=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.find(c=>c.id===\"walletConnect\"),{allWallets:n}=Se.state;if(!e||n===\"HIDE\"||n===\"ONLY_MOBILE\"&&!Me.isMobile())return null;const r=Ue.state.featured.length,i=this.count+r,s=i<10?i:Math.floor(i/10)*10,o=this.filteredCount>0?this.filteredCount:s;let a=`${o}`;return this.filteredCount>0?a=`${this.filteredCount}`:o<i&&(a=`${o}+`),ne`\n      <wui-list-wallet\n        name=\"All Wallets\"\n        walletIcon=\"allWallets\"\n        showAllWallets\n        @click=${this.onAllWallets.bind(this)}\n        tagLabel=${a}\n        tagVariant=\"shade\"\n        data-testid=\"all-wallets\"\n        tabIdx=${bt(this.tabIdx)}\n        .loading=${this.isFetchingRecommendedWallets}\n        loadingSpinnerColor=${this.isFetchingRecommendedWallets?\"fg-300\":\"accent-100\"}\n      ></wui-list-wallet>\n    `}onAllWallets(){jt.sendEvent({type:\"track\",event:\"CLICK_ALL_WALLETS\"}),Le.push(\"AllWallets\")}};ky([ae()],bp.prototype,\"tabIdx\",void 0);ky([Ye()],bp.prototype,\"connectors\",void 0);ky([Ye()],bp.prototype,\"count\",void 0);ky([Ye()],bp.prototype,\"filteredCount\",void 0);ky([Ye()],bp.prototype,\"isFetchingRecommendedWallets\",void 0);bp=ky([et(\"w3m-all-wallets-widget\")],bp);var nM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let I4=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type===\"ANNOUNCED\");return e!=null&&e.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${e.filter(Ju.showConnector).map(n=>ne`\n              <wui-list-wallet\n                imageSrc=${bt(Hr.getConnectorImage(n))}\n                name=${n.name??\"Unknown\"}\n                @click=${()=>this.onConnector(n)}\n                tagVariant=\"success\"\n                tagLabel=\"installed\"\n                data-testid=${`wallet-selector-${n.id}`}\n                .installed=${!0}\n                tabIdx=${bt(this.tabIdx)}\n              >\n              </wui-list-wallet>\n            `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnector(e){e.id===\"walletConnect\"?Me.isMobile()?Le.push(\"AllWallets\"):Le.push(\"ConnectingWalletConnect\"):Le.push(\"ConnectingExternal\",{connector:e})}};nM([ae()],I4.prototype,\"tabIdx\",void 0);nM([Ye()],I4.prototype,\"connectors\",void 0);I4=nM([et(\"w3m-connect-announced-widget\")],I4);var C9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let p2=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.loading=!1,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e)),Me.isTelegram()&&Me.isIos()&&(this.loading=!He.state.wcUri,this.unsubscribe.push(He.subscribeKey(\"wcUri\",e=>this.loading=!e)))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{customWallets:e}=Se.state;if(!(e!=null&&e.length))return this.style.cssText=\"display: none\",null;const n=this.filterOutDuplicateWallets(e);return ne`<wui-flex flexDirection=\"column\" gap=\"xs\">\n      ${n.map(r=>ne`\n          <wui-list-wallet\n            imageSrc=${bt(Hr.getWalletImage(r))}\n            name=${r.name??\"Unknown\"}\n            @click=${()=>this.onConnectWallet(r)}\n            data-testid=${`wallet-selector-${r.id}`}\n            tabIdx=${bt(this.tabIdx)}\n            ?loading=${this.loading}\n          >\n          </wui-list-wallet>\n        `)}\n    </wui-flex>`}filterOutDuplicateWallets(e){const n=nt.getRecentWallets(),r=this.connectors.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes(\"io.metamask.mobile\")&&Me.isMobile()){const a=s.indexOf(\"io.metamask.mobile\");s[a]=\"io.metamask\"}return e.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))}onConnectWallet(e){this.loading||Le.push(\"ConnectingWalletConnect\",{wallet:e})}};C9([ae()],p2.prototype,\"tabIdx\",void 0);C9([Ye()],p2.prototype,\"connectors\",void 0);C9([Ye()],p2.prototype,\"loading\",void 0);p2=C9([et(\"w3m-connect-custom-widget\")],p2);var rM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let T4=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const r=this.connectors.filter(i=>i.type===\"EXTERNAL\").filter(Ju.showConnector).filter(i=>i.id!==ft.CONNECTOR_ID.COINBASE_SDK);return r!=null&&r.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${r.map(i=>ne`\n            <wui-list-wallet\n              imageSrc=${bt(Hr.getConnectorImage(i))}\n              .installed=${!0}\n              name=${i.name??\"Unknown\"}\n              data-testid=${`wallet-selector-external-${i.id}`}\n              @click=${()=>this.onConnector(i)}\n              tabIdx=${bt(this.tabIdx)}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnector(e){Le.push(\"ConnectingExternal\",{connector:e})}};rM([ae()],T4.prototype,\"tabIdx\",void 0);rM([Ye()],T4.prototype,\"connectors\",void 0);T4=rM([et(\"w3m-connect-external-widget\")],T4);var iM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let P4=class extends it{constructor(){super(...arguments),this.tabIdx=void 0,this.wallets=[]}render(){return this.wallets.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${this.wallets.map(e=>ne`\n            <wui-list-wallet\n              data-testid=${`wallet-selector-featured-${e.id}`}\n              imageSrc=${bt(Hr.getWalletImage(e))}\n              name=${e.name??\"Unknown\"}\n              @click=${()=>this.onConnectWallet(e)}\n              tabIdx=${bt(this.tabIdx)}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnectWallet(e){Ne.selectWalletConnector(e)}};iM([ae()],P4.prototype,\"tabIdx\",void 0);iM([ae()],P4.prototype,\"wallets\",void 0);P4=iM([et(\"w3m-connect-featured-widget\")],P4);var sM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let O4=class extends it{constructor(){super(...arguments),this.tabIdx=void 0,this.connectors=[]}render(){const e=this.connectors.filter(Ju.showConnector);return e.length===0?(this.style.cssText=\"display: none\",null):ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${e.map(n=>ne`\n            <wui-list-wallet\n              imageSrc=${bt(Hr.getConnectorImage(n))}\n              .installed=${!0}\n              name=${n.name??\"Unknown\"}\n              tagVariant=\"success\"\n              tagLabel=\"installed\"\n              data-testid=${`wallet-selector-${n.id}`}\n              @click=${()=>this.onConnector(n)}\n              tabIdx=${bt(this.tabIdx)}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `}onConnector(e){Ne.setActiveConnector(e),Le.push(\"ConnectingExternal\",{connector:e})}};sM([ae()],O4.prototype,\"tabIdx\",void 0);sM([ae()],O4.prototype,\"connectors\",void 0);O4=sM([et(\"w3m-connect-injected-widget\")],O4);var oM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let N4=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.connectors.filter(n=>n.type===\"MULTI_CHAIN\"&&n.name!==\"WalletConnect\");return e!=null&&e.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${e.map(n=>ne`\n            <wui-list-wallet\n              imageSrc=${bt(Hr.getConnectorImage(n))}\n              .installed=${!0}\n              name=${n.name??\"Unknown\"}\n              tagVariant=\"shade\"\n              tagLabel=\"multichain\"\n              data-testid=${`wallet-selector-${n.id}`}\n              @click=${()=>this.onConnector(n)}\n              tabIdx=${bt(this.tabIdx)}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnector(e){Ne.setActiveConnector(e),Le.push(\"ConnectingMultiChain\")}};oM([ae()],N4.prototype,\"tabIdx\",void 0);oM([Ye()],N4.prototype,\"connectors\",void 0);N4=oM([et(\"w3m-connect-multi-chain-widget\")],N4);var S9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let g2=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.loading=!1,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e)),Me.isTelegram()&&Me.isIos()&&(this.loading=!He.state.wcUri,this.unsubscribe.push(He.subscribeKey(\"wcUri\",e=>this.loading=!e)))}render(){const n=nt.getRecentWallets().filter(r=>!pp.isExcluded(r)).filter(r=>!this.hasWalletConnector(r)).filter(r=>this.isWalletCompatibleWithCurrentChain(r));return n.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${n.map(r=>ne`\n            <wui-list-wallet\n              imageSrc=${bt(Hr.getWalletImage(r))}\n              name=${r.name??\"Unknown\"}\n              @click=${()=>this.onConnectWallet(r)}\n              tagLabel=\"recent\"\n              tagVariant=\"shade\"\n              tabIdx=${bt(this.tabIdx)}\n              ?loading=${this.loading}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnectWallet(e){this.loading||Ne.selectWalletConnector(e)}hasWalletConnector(e){return this.connectors.some(n=>n.id===e.id||n.name===e.name)}isWalletCompatibleWithCurrentChain(e){const n=ee.state.activeChain;return n&&e.chains?e.chains.some(r=>{const i=r.split(\":\")[0];return n===i}):!0}};S9([ae()],g2.prototype,\"tabIdx\",void 0);S9([Ye()],g2.prototype,\"connectors\",void 0);S9([Ye()],g2.prototype,\"loading\",void 0);g2=S9([et(\"w3m-connect-recent-widget\")],g2);var x9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let m2=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.wallets=[],this.loading=!1,Me.isTelegram()&&Me.isIos()&&(this.loading=!He.state.wcUri,this.unsubscribe.push(He.subscribeKey(\"wcUri\",e=>this.loading=!e)))}render(){const{connectors:e}=Ne.state,{customWallets:n,featuredWalletIds:r}=Se.state,i=nt.getRecentWallets(),s=e.find(h=>h.id===\"walletConnect\"),a=e.filter(h=>h.type===\"INJECTED\"||h.type===\"ANNOUNCED\"||h.type===\"MULTI_CHAIN\").filter(h=>h.name!==\"Browser Wallet\");if(!s)return null;if(r||n||!this.wallets.length)return this.style.cssText=\"display: none\",null;const c=a.length+i.length,l=Math.max(0,2-c),d=pp.filterOutDuplicateWallets(this.wallets).slice(0,l);return d.length?ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\">\n        ${d.map(h=>ne`\n            <wui-list-wallet\n              imageSrc=${bt(Hr.getWalletImage(h))}\n              name=${(h==null?void 0:h.name)??\"Unknown\"}\n              @click=${()=>this.onConnectWallet(h)}\n              tabIdx=${bt(this.tabIdx)}\n              ?loading=${this.loading}\n            >\n            </wui-list-wallet>\n          `)}\n      </wui-flex>\n    `:(this.style.cssText=\"display: none\",null)}onConnectWallet(e){if(this.loading)return;const n=Ne.getConnector(e.id,e.rdns);n?Le.push(\"ConnectingExternal\",{connector:n}):Le.push(\"ConnectingWalletConnect\",{wallet:e})}};x9([ae()],m2.prototype,\"tabIdx\",void 0);x9([ae()],m2.prototype,\"wallets\",void 0);x9([Ye()],m2.prototype,\"loading\",void 0);m2=x9([et(\"w3m-connect-recommended-widget\")],m2);var A9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let y2=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.connectorImages=Zs.state.connectorImages,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e),Zs.subscribeKey(\"connectorImages\",e=>this.connectorImages=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){if(Me.isMobile())return this.style.cssText=\"display: none\",null;const e=this.connectors.find(r=>r.id===\"walletConnect\");if(!e)return this.style.cssText=\"display: none\",null;const n=e.imageUrl||this.connectorImages[(e==null?void 0:e.imageId)??\"\"];return ne`\n      <wui-list-wallet\n        imageSrc=${bt(n)}\n        name=${e.name??\"Unknown\"}\n        @click=${()=>this.onConnector(e)}\n        tagLabel=\"qr code\"\n        tagVariant=\"main\"\n        tabIdx=${bt(this.tabIdx)}\n        data-testid=\"wallet-selector-walletconnect\"\n      >\n      </wui-list-wallet>\n    `}onConnector(e){Ne.setActiveConnector(e),Le.push(\"ConnectingWalletConnect\")}};A9([ae()],y2.prototype,\"tabIdx\",void 0);A9([Ye()],y2.prototype,\"connectors\",void 0);A9([Ye()],y2.prototype,\"connectorImages\",void 0);y2=A9([et(\"w3m-connect-walletconnect-widget\")],y2);const Ret=wt`\n  :host {\n    margin-top: var(--wui-spacing-3xs);\n  }\n  wui-separator {\n    margin: var(--wui-spacing-m) calc(var(--wui-spacing-m) * -1) var(--wui-spacing-xs)\n      calc(var(--wui-spacing-m) * -1);\n    width: calc(100% + var(--wui-spacing-s) * 2);\n  }\n`;var N5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let wp=class extends it{constructor(){super(),this.unsubscribe=[],this.tabIdx=void 0,this.connectors=Ne.state.connectors,this.recommended=Ue.state.recommended,this.featured=Ue.state.featured,this.unsubscribe.push(Ne.subscribeKey(\"connectors\",e=>this.connectors=e),Ue.subscribeKey(\"recommended\",e=>this.recommended=e),Ue.subscribeKey(\"featured\",e=>this.featured=e))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return ne`\n      <wui-flex flexDirection=\"column\" gap=\"xs\"> ${this.connectorListTemplate()} </wui-flex>\n    `}connectorListTemplate(){const{custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}=Ju.getConnectorsByType(this.connectors,this.recommended,this.featured);return Ju.getConnectorTypeOrder({custom:e,recent:n,announced:r,injected:i,multiChain:s,recommended:o,featured:a,external:c}).map(d=>{switch(d){case\"injected\":return ne`\n            ${s.length?ne`<w3m-connect-multi-chain-widget\n                  tabIdx=${bt(this.tabIdx)}\n                ></w3m-connect-multi-chain-widget>`:null}\n            ${r.length?ne`<w3m-connect-announced-widget\n                  tabIdx=${bt(this.tabIdx)}\n                ></w3m-connect-announced-widget>`:null}\n            ${i.length?ne`<w3m-connect-injected-widget\n                  .connectors=${i}\n                  tabIdx=${bt(this.tabIdx)}\n                ></w3m-connect-injected-widget>`:null}\n          `;case\"walletConnect\":return ne`<w3m-connect-walletconnect-widget\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-walletconnect-widget>`;case\"recent\":return ne`<w3m-connect-recent-widget\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-recent-widget>`;case\"featured\":return ne`<w3m-connect-featured-widget\n            .wallets=${a}\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-featured-widget>`;case\"custom\":return ne`<w3m-connect-custom-widget\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-custom-widget>`;case\"external\":return ne`<w3m-connect-external-widget\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-external-widget>`;case\"recommended\":return ne`<w3m-connect-recommended-widget\n            .wallets=${o}\n            tabIdx=${bt(this.tabIdx)}\n          ></w3m-connect-recommended-widget>`;default:return console.warn(`Unknown connector type: ${d}`),null}})}};wp.styles=Ret;N5([ae()],wp.prototype,\"tabIdx\",void 0);N5([Ye()],wp.prototype,\"connectors\",void 0);N5([Ye()],wp.prototype,\"recommended\",void 0);N5([Ye()],wp.prototype,\"featured\",void 0);wp=N5([et(\"w3m-connector-list\")],wp);const ket=wt`\n  :host {\n    display: inline-flex;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-3xl);\n    padding: var(--wui-spacing-3xs);\n    position: relative;\n    height: 36px;\n    min-height: 36px;\n    overflow: hidden;\n  }\n\n  :host::before {\n    content: '';\n    position: absolute;\n    pointer-events: none;\n    top: 4px;\n    left: 4px;\n    display: block;\n    width: var(--local-tab-width);\n    height: 28px;\n    border-radius: var(--wui-border-radius-3xl);\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    transform: translateX(calc(var(--local-tab) * var(--local-tab-width)));\n    transition: transform var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color, opacity;\n  }\n\n  :host([data-type='flex'])::before {\n    left: 3px;\n    transform: translateX(calc((var(--local-tab) * 34px) + (var(--local-tab) * 4px)));\n  }\n\n  :host([data-type='flex']) {\n    display: flex;\n    padding: 0px 0px 0px 12px;\n    gap: 4px;\n  }\n\n  :host([data-type='flex']) > button > wui-text {\n    position: absolute;\n    left: 18px;\n    opacity: 0;\n  }\n\n  button[data-active='true'] > wui-icon,\n  button[data-active='true'] > wui-text {\n    color: var(--wui-color-fg-100);\n  }\n\n  button[data-active='false'] > wui-icon,\n  button[data-active='false'] > wui-text {\n    color: var(--wui-color-fg-200);\n  }\n\n  button[data-active='true']:disabled,\n  button[data-active='false']:disabled {\n    background-color: transparent;\n    opacity: 0.5;\n    cursor: not-allowed;\n  }\n\n  button[data-active='true']:disabled > wui-text {\n    color: var(--wui-color-fg-200);\n  }\n\n  button[data-active='false']:disabled > wui-text {\n    color: var(--wui-color-fg-300);\n  }\n\n  button > wui-icon,\n  button > wui-text {\n    pointer-events: none;\n    transition: color var(--wui-e ase-out-power-1) var(--wui-duration-md);\n    will-change: color;\n  }\n\n  button {\n    width: var(--local-tab-width);\n    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color;\n  }\n\n  :host([data-type='flex']) > button {\n    width: 34px;\n    position: relative;\n    display: flex;\n    justify-content: flex-start;\n  }\n\n  button:hover:enabled,\n  button:active:enabled {\n    background-color: transparent !important;\n  }\n\n  button:hover:enabled > wui-icon,\n  button:active:enabled > wui-icon {\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);\n    color: var(--wui-color-fg-125);\n  }\n\n  button:hover:enabled > wui-text,\n  button:active:enabled > wui-text {\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-lg);\n    color: var(--wui-color-fg-125);\n  }\n\n  button {\n    border-radius: var(--wui-border-radius-3xl);\n  }\n`;var yh=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Tl=class extends it{constructor(){super(...arguments),this.tabs=[],this.onTabChange=()=>null,this.buttons=[],this.disabled=!1,this.localTabWidth=\"100px\",this.activeTab=0,this.isDense=!1}render(){return this.isDense=this.tabs.length>3,this.style.cssText=`\n      --local-tab: ${this.activeTab};\n      --local-tab-width: ${this.localTabWidth};\n    `,this.dataset.type=this.isDense?\"flex\":\"block\",this.tabs.map((e,n)=>{var i;const r=n===this.activeTab;return ne`\n        <button\n          ?disabled=${this.disabled}\n          @click=${()=>this.onTabClick(n)}\n          data-active=${r}\n          data-testid=\"tab-${(i=e.label)==null?void 0:i.toLowerCase()}\"\n        >\n          ${this.iconTemplate(e)}\n          <wui-text variant=\"small-600\" color=\"inherit\"> ${e.label} </wui-text>\n        </button>\n      `})}firstUpdated(){this.shadowRoot&&this.isDense&&(this.buttons=[...this.shadowRoot.querySelectorAll(\"button\")],setTimeout(()=>{this.animateTabs(0,!0)},0))}iconTemplate(e){return e.icon?ne`<wui-icon size=\"xs\" color=\"inherit\" name=${e.icon}></wui-icon>`:null}onTabClick(e){this.buttons&&this.animateTabs(e,!1),this.activeTab=e,this.onTabChange(e)}animateTabs(e,n){const r=this.buttons[this.activeTab],i=this.buttons[e],s=r==null?void 0:r.querySelector(\"wui-text\"),o=i==null?void 0:i.querySelector(\"wui-text\"),a=i==null?void 0:i.getBoundingClientRect(),c=o==null?void 0:o.getBoundingClientRect();r&&s&&!n&&e!==this.activeTab&&(s.animate([{opacity:0}],{duration:50,easing:\"ease\",fill:\"forwards\"}),r.animate([{width:\"34px\"}],{duration:500,easing:\"ease\",fill:\"forwards\"})),i&&a&&c&&o&&(e!==this.activeTab||n)&&(this.localTabWidth=`${Math.round(a.width+c.width)+6}px`,i.animate([{width:`${a.width+c.width}px`}],{duration:n?0:500,fill:\"forwards\",easing:\"ease\"}),o.animate([{opacity:1}],{duration:n?0:125,delay:n?0:200,fill:\"forwards\",easing:\"ease\"}))}};Tl.styles=[fn,Ki,ket];yh([ae({type:Array})],Tl.prototype,\"tabs\",void 0);yh([ae()],Tl.prototype,\"onTabChange\",void 0);yh([ae({type:Array})],Tl.prototype,\"buttons\",void 0);yh([ae({type:Boolean})],Tl.prototype,\"disabled\",void 0);yh([ae()],Tl.prototype,\"localTabWidth\",void 0);yh([Ye()],Tl.prototype,\"activeTab\",void 0);yh([Ye()],Tl.prototype,\"isDense\",void 0);Tl=yh([et(\"wui-tabs\")],Tl);var aM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let R4=class extends it{constructor(){super(...arguments),this.platformTabs=[],this.unsubscribe=[],this.platforms=[],this.onSelectPlatfrom=void 0}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){const e=this.generateTabs();return ne`\n      <wui-flex justifyContent=\"center\" .padding=${[\"0\",\"0\",\"l\",\"0\"]}>\n        <wui-tabs .tabs=${e} .onTabChange=${this.onTabChange.bind(this)}></wui-tabs>\n      </wui-flex>\n    `}generateTabs(){const e=this.platforms.map(n=>n===\"browser\"?{label:\"Browser\",icon:\"extension\",platform:\"browser\"}:n===\"mobile\"?{label:\"Mobile\",icon:\"mobile\",platform:\"mobile\"}:n===\"qrcode\"?{label:\"Mobile\",icon:\"mobile\",platform:\"qrcode\"}:n===\"web\"?{label:\"Webapp\",icon:\"browser\",platform:\"web\"}:n===\"desktop\"?{label:\"Desktop\",icon:\"desktop\",platform:\"desktop\"}:{label:\"Browser\",icon:\"extension\",platform:\"unsupported\"});return this.platformTabs=e.map(({platform:n})=>n),e}onTabChange(e){var r;const n=this.platformTabs[e];n&&((r=this.onSelectPlatfrom)==null||r.call(this,n))}};aM([ae({type:Array})],R4.prototype,\"platforms\",void 0);aM([ae()],R4.prototype,\"onSelectPlatfrom\",void 0);R4=aM([et(\"w3m-connecting-header\")],R4);const Met=wt`\n  :host {\n    display: flex;\n  }\n\n  :host([data-size='sm']) > svg {\n    width: 12px;\n    height: 12px;\n  }\n\n  :host([data-size='md']) > svg {\n    width: 16px;\n    height: 16px;\n  }\n\n  :host([data-size='lg']) > svg {\n    width: 24px;\n    height: 24px;\n  }\n\n  :host([data-size='xl']) > svg {\n    width: 32px;\n    height: 32px;\n  }\n\n  svg {\n    animation: rotate 2s linear infinite;\n  }\n\n  circle {\n    fill: none;\n    stroke: var(--local-color);\n    stroke-width: 4px;\n    stroke-dasharray: 1, 124;\n    stroke-dashoffset: 0;\n    stroke-linecap: round;\n    animation: dash 1.5s ease-in-out infinite;\n  }\n\n  :host([data-size='md']) > svg > circle {\n    stroke-width: 6px;\n  }\n\n  :host([data-size='sm']) > svg > circle {\n    stroke-width: 8px;\n  }\n\n  @keyframes rotate {\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n\n  @keyframes dash {\n    0% {\n      stroke-dasharray: 1, 124;\n      stroke-dashoffset: 0;\n    }\n\n    50% {\n      stroke-dasharray: 90, 124;\n      stroke-dashoffset: -35;\n    }\n\n    100% {\n      stroke-dashoffset: -125;\n    }\n  }\n`;var cM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let b2=class extends it{constructor(){super(...arguments),this.color=\"accent-100\",this.size=\"lg\"}render(){return this.style.cssText=`--local-color: ${this.color===\"inherit\"?\"inherit\":`var(--wui-color-${this.color})`}`,this.dataset.size=this.size,ne`<svg viewBox=\"25 25 50 50\">\n      <circle r=\"20\" cy=\"50\" cx=\"50\"></circle>\n    </svg>`}};b2.styles=[fn,Met];cM([ae()],b2.prototype,\"color\",void 0);cM([ae()],b2.prototype,\"size\",void 0);b2=cM([et(\"wui-loading-spinner\")],b2);const Det=wt`\n  :host {\n    width: var(--local-width);\n    position: relative;\n  }\n\n  button {\n    border: none;\n    border-radius: var(--local-border-radius);\n    width: var(--local-width);\n    white-space: nowrap;\n  }\n\n  /* -- Sizes --------------------------------------------------- */\n  button[data-size='md'] {\n    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-l);\n    height: 36px;\n  }\n\n  button[data-size='md'][data-icon-left='true'][data-icon-right='false'] {\n    padding: 8.2px var(--wui-spacing-l) 9px var(--wui-spacing-s);\n  }\n\n  button[data-size='md'][data-icon-right='true'][data-icon-left='false'] {\n    padding: 8.2px var(--wui-spacing-s) 9px var(--wui-spacing-l);\n  }\n\n  button[data-size='lg'] {\n    padding: var(--wui-spacing-m) var(--wui-spacing-2l);\n    height: 48px;\n  }\n\n  /* -- Variants --------------------------------------------------------- */\n  button[data-variant='main'] {\n    background-color: var(--wui-color-accent-100);\n    color: var(--wui-color-inverse-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='inverse'] {\n    background-color: var(--wui-color-inverse-100);\n    color: var(--wui-color-inverse-000);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='accent'] {\n    background-color: var(--wui-color-accent-glass-010);\n    color: var(--wui-color-accent-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  button[data-variant='accent-error'] {\n    background: var(--wui-color-error-glass-015);\n    color: var(--wui-color-error-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-error-glass-010);\n  }\n\n  button[data-variant='accent-success'] {\n    background: var(--wui-color-success-glass-015);\n    color: var(--wui-color-success-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-success-glass-010);\n  }\n\n  button[data-variant='neutral'] {\n    background: transparent;\n    color: var(--wui-color-fg-100);\n    border: none;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  /* -- Focus states --------------------------------------------------- */\n  button[data-variant='main']:focus-visible:enabled {\n    background-color: var(--wui-color-accent-090);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='inverse']:focus-visible:enabled {\n    background-color: var(--wui-color-inverse-100);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-gray-glass-010),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='accent']:focus-visible:enabled {\n    background-color: var(--wui-color-accent-glass-010);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0 0 0 4px var(--wui-color-accent-glass-020);\n  }\n  button[data-variant='accent-error']:focus-visible:enabled {\n    background: var(--wui-color-error-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-error-100),\n      0 0 0 4px var(--wui-color-error-glass-020);\n  }\n  button[data-variant='accent-success']:focus-visible:enabled {\n    background: var(--wui-color-success-glass-015);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-success-100),\n      0 0 0 4px var(--wui-color-success-glass-020);\n  }\n  button[data-variant='neutral']:focus-visible:enabled {\n    background: var(--wui-color-gray-glass-005);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-gray-glass-010),\n      0 0 0 4px var(--wui-color-gray-glass-002);\n  }\n\n  /* -- Hover & Active states ----------------------------------------------------------- */\n  @media (hover: hover) and (pointer: fine) {\n    button[data-variant='main']:hover:enabled {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:active:enabled {\n      background-color: var(--wui-color-accent-080);\n    }\n\n    button[data-variant='accent']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n\n    button[data-variant='accent']:active:enabled {\n      background-color: var(--wui-color-accent-glass-020);\n    }\n\n    button[data-variant='accent-error']:hover:enabled {\n      background: var(--wui-color-error-glass-020);\n      color: var(--wui-color-error-100);\n    }\n\n    button[data-variant='accent-error']:active:enabled {\n      background: var(--wui-color-error-glass-030);\n      color: var(--wui-color-error-100);\n    }\n\n    button[data-variant='accent-success']:hover:enabled {\n      background: var(--wui-color-success-glass-020);\n      color: var(--wui-color-success-100);\n    }\n\n    button[data-variant='accent-success']:active:enabled {\n      background: var(--wui-color-success-glass-030);\n      color: var(--wui-color-success-100);\n    }\n\n    button[data-variant='neutral']:hover:enabled {\n      background: var(--wui-color-gray-glass-002);\n    }\n\n    button[data-variant='neutral']:active:enabled {\n      background: var(--wui-color-gray-glass-005);\n    }\n\n    button[data-size='lg'][data-icon-left='true'][data-icon-right='false'] {\n      padding-left: var(--wui-spacing-m);\n    }\n\n    button[data-size='lg'][data-icon-right='true'][data-icon-left='false'] {\n      padding-right: var(--wui-spacing-m);\n    }\n  }\n\n  /* -- Disabled state --------------------------------------------------- */\n  button:disabled {\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    color: var(--wui-color-gray-glass-020);\n    cursor: not-allowed;\n  }\n\n  button > wui-text {\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n    opacity: var(--local-opacity-100);\n  }\n\n  ::slotted(*) {\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n    opacity: var(--local-opacity-100);\n  }\n\n  wui-loading-spinner {\n    position: absolute;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    opacity: var(--local-opacity-000);\n  }\n`;var Ol=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const CZ={main:\"inverse-100\",inverse:\"inverse-000\",accent:\"accent-100\",\"accent-error\":\"error-100\",\"accent-success\":\"success-100\",neutral:\"fg-100\",disabled:\"gray-glass-020\"},Bet={lg:\"paragraph-600\",md:\"small-600\"},Let={lg:\"md\",md:\"md\"};let Oa=class extends it{constructor(){super(...arguments),this.size=\"lg\",this.disabled=!1,this.fullWidth=!1,this.loading=!1,this.variant=\"main\",this.hasIconLeft=!1,this.hasIconRight=!1,this.borderRadius=\"m\"}render(){this.style.cssText=`\n    --local-width: ${this.fullWidth?\"100%\":\"auto\"};\n    --local-opacity-100: ${this.loading?0:1};\n    --local-opacity-000: ${this.loading?1:0};\n    --local-border-radius: var(--wui-border-radius-${this.borderRadius});\n    `;const e=this.textVariant??Bet[this.size];return ne`\n      <button\n        data-variant=${this.variant}\n        data-icon-left=${this.hasIconLeft}\n        data-icon-right=${this.hasIconRight}\n        data-size=${this.size}\n        ?disabled=${this.disabled}\n      >\n        ${this.loadingTemplate()}\n        <slot name=\"iconLeft\" @slotchange=${()=>this.handleSlotLeftChange()}></slot>\n        <wui-text variant=${e} color=\"inherit\">\n          <slot></slot>\n        </wui-text>\n        <slot name=\"iconRight\" @slotchange=${()=>this.handleSlotRightChange()}></slot>\n      </button>\n    `}handleSlotLeftChange(){this.hasIconLeft=!0}handleSlotRightChange(){this.hasIconRight=!0}loadingTemplate(){if(this.loading){const e=Let[this.size],n=this.disabled?CZ.disabled:CZ[this.variant];return ne`<wui-loading-spinner color=${n} size=${e}></wui-loading-spinner>`}return ne``}};Oa.styles=[fn,Ki,Det];Ol([ae()],Oa.prototype,\"size\",void 0);Ol([ae({type:Boolean})],Oa.prototype,\"disabled\",void 0);Ol([ae({type:Boolean})],Oa.prototype,\"fullWidth\",void 0);Ol([ae({type:Boolean})],Oa.prototype,\"loading\",void 0);Ol([ae()],Oa.prototype,\"variant\",void 0);Ol([ae({type:Boolean})],Oa.prototype,\"hasIconLeft\",void 0);Ol([ae({type:Boolean})],Oa.prototype,\"hasIconRight\",void 0);Ol([ae()],Oa.prototype,\"borderRadius\",void 0);Ol([ae()],Oa.prototype,\"textVariant\",void 0);Oa=Ol([et(\"wui-button\")],Oa);const Uet=wt`\n  button {\n    padding: var(--wui-spacing-4xs) var(--wui-spacing-xxs);\n    border-radius: var(--wui-border-radius-3xs);\n    background-color: transparent;\n    color: var(--wui-color-accent-100);\n  }\n\n  button:disabled {\n    background-color: transparent;\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  button:hover {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n`;var $9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ny=class extends it{constructor(){super(...arguments),this.tabIdx=void 0,this.disabled=!1,this.color=\"inherit\"}render(){return ne`\n      <button ?disabled=${this.disabled} tabindex=${bt(this.tabIdx)}>\n        <slot name=\"iconLeft\"></slot>\n        <wui-text variant=\"small-600\" color=${this.color}>\n          <slot></slot>\n        </wui-text>\n        <slot name=\"iconRight\"></slot>\n      </button>\n    `}};ny.styles=[fn,Ki,Uet];$9([ae()],ny.prototype,\"tabIdx\",void 0);$9([ae({type:Boolean})],ny.prototype,\"disabled\",void 0);$9([ae()],ny.prototype,\"color\",void 0);ny=$9([et(\"wui-link\")],ny);const jet=wt`\n  :host {\n    display: block;\n    width: var(--wui-box-size-md);\n    height: var(--wui-box-size-md);\n  }\n\n  svg {\n    width: var(--wui-box-size-md);\n    height: var(--wui-box-size-md);\n  }\n\n  rect {\n    fill: none;\n    stroke: var(--wui-color-accent-100);\n    stroke-width: 4px;\n    stroke-linecap: round;\n    animation: dash 1s linear infinite;\n  }\n\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0px;\n    }\n  }\n`;var qle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let k4=class extends it{constructor(){super(...arguments),this.radius=36}render(){return this.svgLoaderTemplate()}svgLoaderTemplate(){const e=this.radius>50?50:this.radius,r=36-e,i=116+r,s=245+r,o=360+r*1.75;return ne`\n      <svg viewBox=\"0 0 110 110\" width=\"110\" height=\"110\">\n        <rect\n          x=\"2\"\n          y=\"2\"\n          width=\"106\"\n          height=\"106\"\n          rx=${e}\n          stroke-dasharray=\"${i} ${s}\"\n          stroke-dashoffset=${o}\n        />\n      </svg>\n    `}};k4.styles=[fn,jet];qle([ae({type:Number})],k4.prototype,\"radius\",void 0);k4=qle([et(\"wui-loading-thumbnail\")],k4);const zet=wt`\n  button {\n    border: none;\n    border-radius: var(--wui-border-radius-3xl);\n  }\n\n  button[data-variant='main'] {\n    background-color: var(--wui-color-accent-100);\n    color: var(--wui-color-inverse-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='accent'] {\n    background-color: var(--wui-color-accent-glass-010);\n    color: var(--wui-color-accent-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n  }\n\n  button[data-variant='gray'] {\n    background-color: transparent;\n    color: var(--wui-color-fg-200);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-variant='shade'] {\n    background-color: transparent;\n    color: var(--wui-color-accent-100);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  button[data-size='sm'] {\n    height: 32px;\n    padding: 0 var(--wui-spacing-s);\n  }\n\n  button[data-size='md'] {\n    height: 40px;\n    padding: 0 var(--wui-spacing-l);\n  }\n\n  button[data-size='sm'] > wui-image {\n    width: 16px;\n    height: 16px;\n  }\n\n  button[data-size='md'] > wui-image {\n    width: 24px;\n    height: 24px;\n  }\n\n  button[data-size='sm'] > wui-icon {\n    width: 12px;\n    height: 12px;\n  }\n\n  button[data-size='md'] > wui-icon {\n    width: 14px;\n    height: 14px;\n  }\n\n  wui-image {\n    border-radius: var(--wui-border-radius-3xl);\n    overflow: hidden;\n  }\n\n  button.disabled > wui-icon,\n  button.disabled > wui-image {\n    filter: grayscale(1);\n  }\n\n  button[data-variant='main'] > wui-image {\n    box-shadow: inset 0 0 0 1px var(--wui-color-accent-090);\n  }\n\n  button[data-variant='shade'] > wui-image,\n  button[data-variant='gray'] > wui-image {\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-010);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button[data-variant='main']:focus-visible {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:hover:enabled {\n      background-color: var(--wui-color-accent-090);\n    }\n\n    button[data-variant='main']:active:enabled {\n      background-color: var(--wui-color-accent-080);\n    }\n\n    button[data-variant='accent']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n\n    button[data-variant='accent']:active:enabled {\n      background-color: var(--wui-color-accent-glass-020);\n    }\n\n    button[data-variant='shade']:focus-visible,\n    button[data-variant='gray']:focus-visible,\n    button[data-variant='shade']:hover,\n    button[data-variant='gray']:hover {\n      background-color: var(--wui-color-gray-glass-002);\n    }\n\n    button[data-variant='gray']:active,\n    button[data-variant='shade']:active {\n      background-color: var(--wui-color-gray-glass-005);\n    }\n  }\n\n  button.disabled {\n    color: var(--wui-color-gray-glass-020);\n    background-color: var(--wui-color-gray-glass-002);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    pointer-events: none;\n  }\n`;var Zp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ld=class extends it{constructor(){super(...arguments),this.variant=\"accent\",this.imageSrc=\"\",this.disabled=!1,this.icon=\"externalLink\",this.size=\"md\",this.text=\"\"}render(){const e=this.size===\"sm\"?\"small-600\":\"paragraph-600\";return ne`\n      <button\n        class=${this.disabled?\"disabled\":\"\"}\n        data-variant=${this.variant}\n        data-size=${this.size}\n      >\n        ${this.imageSrc?ne`<wui-image src=${this.imageSrc}></wui-image>`:null}\n        <wui-text variant=${e} color=\"inherit\"> ${this.text} </wui-text>\n        <wui-icon name=${this.icon} color=\"inherit\" size=\"inherit\"></wui-icon>\n      </button>\n    `}};ld.styles=[fn,Ki,zet];Zp([ae()],ld.prototype,\"variant\",void 0);Zp([ae()],ld.prototype,\"imageSrc\",void 0);Zp([ae({type:Boolean})],ld.prototype,\"disabled\",void 0);Zp([ae()],ld.prototype,\"icon\",void 0);Zp([ae()],ld.prototype,\"size\",void 0);Zp([ae()],ld.prototype,\"text\",void 0);ld=Zp([et(\"wui-chip-button\")],ld);const Fet=wt`\n  wui-flex {\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n  }\n`;var I9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ry=class extends it{constructor(){super(...arguments),this.disabled=!1,this.label=\"\",this.buttonLabel=\"\"}render(){return ne`\n      <wui-flex\n        justifyContent=\"space-between\"\n        alignItems=\"center\"\n        .padding=${[\"1xs\",\"2l\",\"1xs\",\"2l\"]}\n      >\n        <wui-text variant=\"paragraph-500\" color=\"fg-200\">${this.label}</wui-text>\n        <wui-chip-button size=\"sm\" variant=\"shade\" text=${this.buttonLabel} icon=\"chevronRight\">\n        </wui-chip-button>\n      </wui-flex>\n    `}};ry.styles=[fn,Ki,Fet];I9([ae({type:Boolean})],ry.prototype,\"disabled\",void 0);I9([ae()],ry.prototype,\"label\",void 0);I9([ae()],ry.prototype,\"buttonLabel\",void 0);ry=I9([et(\"wui-cta-button\")],ry);const qet=wt`\n  :host {\n    display: block;\n    padding: 0 var(--wui-spacing-xl) var(--wui-spacing-xl);\n  }\n`;var Hle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let M4=class extends it{constructor(){super(...arguments),this.wallet=void 0}render(){if(!this.wallet)return this.style.display=\"none\",null;const{name:e,app_store:n,play_store:r,chrome_store:i,homepage:s}=this.wallet,o=Me.isMobile(),a=Me.isIos(),c=Me.isAndroid(),l=[n,r,s,i].filter(Boolean).length>1,d=ci.getTruncateString({string:e,charsStart:12,charsEnd:0,truncate:\"end\"});return l&&!o?ne`\n        <wui-cta-button\n          label=${`Don't have ${d}?`}\n          buttonLabel=\"Get\"\n          @click=${()=>Le.push(\"Downloads\",{wallet:this.wallet})}\n        ></wui-cta-button>\n      `:!l&&s?ne`\n        <wui-cta-button\n          label=${`Don't have ${d}?`}\n          buttonLabel=\"Get\"\n          @click=${this.onHomePage.bind(this)}\n        ></wui-cta-button>\n      `:n&&a?ne`\n        <wui-cta-button\n          label=${`Don't have ${d}?`}\n          buttonLabel=\"Get\"\n          @click=${this.onAppStore.bind(this)}\n        ></wui-cta-button>\n      `:r&&c?ne`\n        <wui-cta-button\n          label=${`Don't have ${d}?`}\n          buttonLabel=\"Get\"\n          @click=${this.onPlayStore.bind(this)}\n        ></wui-cta-button>\n      `:(this.style.display=\"none\",null)}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Me.openHref(this.wallet.app_store,\"_blank\")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Me.openHref(this.wallet.play_store,\"_blank\")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Me.openHref(this.wallet.homepage,\"_blank\")}};M4.styles=[qet];Hle([ae({type:Object})],M4.prototype,\"wallet\",void 0);M4=Hle([et(\"w3m-mobile-download-links\")],M4);const Het=wt`\n  @keyframes shake {\n    0% {\n      transform: translateX(0);\n    }\n    25% {\n      transform: translateX(3px);\n    }\n    50% {\n      transform: translateX(-3px);\n    }\n    75% {\n      transform: translateX(3px);\n    }\n    100% {\n      transform: translateX(0);\n    }\n  }\n\n  wui-flex:first-child:not(:only-child) {\n    position: relative;\n  }\n\n  wui-loading-thumbnail {\n    position: absolute;\n  }\n\n  wui-icon-box {\n    position: absolute;\n    right: calc(var(--wui-spacing-3xs) * -1);\n    bottom: calc(var(--wui-spacing-3xs) * -1);\n    opacity: 0;\n    transform: scale(0.5);\n    transition-property: opacity, transform;\n    transition-duration: var(--wui-duration-lg);\n    transition-timing-function: var(--wui-ease-out-power-2);\n    will-change: opacity, transform;\n  }\n\n  wui-text[align='center'] {\n    width: 100%;\n    padding: 0px var(--wui-spacing-l);\n  }\n\n  [data-error='true'] wui-icon-box {\n    opacity: 1;\n    transform: scale(1);\n  }\n\n  [data-error='true'] > wui-flex:first-child {\n    animation: shake 250ms cubic-bezier(0.36, 0.07, 0.19, 0.97) both;\n  }\n\n  [data-retry='false'] wui-link {\n    display: none;\n  }\n\n  [data-retry='true'] wui-link {\n    display: block;\n    opacity: 1;\n  }\n`;var Nl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};class rs extends it{constructor(){var e,n,r,i,s;super(),this.wallet=(e=Le.state.data)==null?void 0:e.wallet,this.connector=(n=Le.state.data)==null?void 0:n.connector,this.timeout=void 0,this.secondaryBtnIcon=\"refresh\",this.onConnect=void 0,this.onRender=void 0,this.onAutoConnect=void 0,this.isWalletConnect=!0,this.unsubscribe=[],this.imageSrc=Hr.getWalletImage(this.wallet)??Hr.getConnectorImage(this.connector),this.name=((r=this.wallet)==null?void 0:r.name)??((i=this.connector)==null?void 0:i.name)??\"Wallet\",this.isRetrying=!1,this.uri=He.state.wcUri,this.error=He.state.wcError,this.ready=!1,this.showRetry=!1,this.secondaryBtnLabel=\"Try again\",this.secondaryLabel=\"Accept connection request in the wallet\",this.isLoading=!1,this.isMobile=!1,this.onRetry=void 0,this.unsubscribe.push(He.subscribeKey(\"wcUri\",o=>{var a;this.uri=o,this.isRetrying&&this.onRetry&&(this.isRetrying=!1,(a=this.onConnect)==null||a.call(this))}),He.subscribeKey(\"wcError\",o=>this.error=o)),(Me.isTelegram()||Me.isSafari())&&Me.isIos()&&He.state.wcUri&&((s=this.onConnect)==null||s.call(this))}firstUpdated(){var e;(e=this.onAutoConnect)==null||e.call(this),this.showRetry=!this.onAutoConnect}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),He.setWcError(!1),clearTimeout(this.timeout)}render(){var r;(r=this.onRender)==null||r.call(this),this.onShowRetry();const e=this.error?\"Connection can be declined if a previous request is still active\":this.secondaryLabel;let n=`Continue in ${this.name}`;return this.error&&(n=\"Connection declined\"),ne`\n      <wui-flex\n        data-error=${bt(this.error)}\n        data-retry=${this.showRetry}\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        .padding=${[\"3xl\",\"xl\",\"xl\",\"xl\"]}\n        gap=\"xl\"\n      >\n        <wui-flex justifyContent=\"center\" alignItems=\"center\">\n          <wui-wallet-image size=\"lg\" imageSrc=${bt(this.imageSrc)}></wui-wallet-image>\n\n          ${this.error?null:this.loaderTemplate()}\n\n          <wui-icon-box\n            backgroundColor=\"error-100\"\n            background=\"opaque\"\n            iconColor=\"error-100\"\n            icon=\"close\"\n            size=\"sm\"\n            border\n            borderColor=\"wui-color-bg-125\"\n          ></wui-icon-box>\n        </wui-flex>\n\n        <wui-flex flexDirection=\"column\" alignItems=\"center\" gap=\"xs\">\n          <wui-text variant=\"paragraph-500\" color=${this.error?\"error-100\":\"fg-100\"}>\n            ${n}\n          </wui-text>\n          <wui-text align=\"center\" variant=\"small-500\" color=\"fg-200\">${e}</wui-text>\n        </wui-flex>\n\n        ${this.secondaryBtnLabel?ne`\n              <wui-button\n                variant=\"accent\"\n                size=\"md\"\n                ?disabled=${this.isRetrying||this.isLoading}\n                @click=${this.onTryAgain.bind(this)}\n                data-testid=\"w3m-connecting-widget-secondary-button\"\n              >\n                <wui-icon color=\"inherit\" slot=\"iconLeft\" name=${this.secondaryBtnIcon}></wui-icon>\n                ${this.secondaryBtnLabel}\n              </wui-button>\n            `:null}\n      </wui-flex>\n\n      ${this.isWalletConnect?ne`\n            <wui-flex .padding=${[\"0\",\"xl\",\"xl\",\"xl\"]} justifyContent=\"center\">\n              <wui-link @click=${this.onCopyUri} color=\"fg-200\" data-testid=\"wui-link-copy\">\n                <wui-icon size=\"xs\" color=\"fg-200\" slot=\"iconLeft\" name=\"copy\"></wui-icon>\n                Copy link\n              </wui-link>\n            </wui-flex>\n          `:null}\n\n      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>\n    `}onShowRetry(){var e;if(this.error&&!this.showRetry){this.showRetry=!0;const n=(e=this.shadowRoot)==null?void 0:e.querySelector(\"wui-button\");n==null||n.animate([{opacity:0},{opacity:1}],{fill:\"forwards\",easing:\"ease\"})}}onTryAgain(){var e,n;He.setWcError(!1),this.onRetry?(this.isRetrying=!0,(e=this.onRetry)==null||e.call(this)):(n=this.onConnect)==null||n.call(this)}loaderTemplate(){const e=ki.state.themeVariables[\"--w3m-border-radius-master\"],n=e?parseInt(e.replace(\"px\",\"\"),10):4;return ne`<wui-loading-thumbnail radius=${n*9}></wui-loading-thumbnail>`}onCopyUri(){try{this.uri&&(Me.copyToClopboard(this.uri),Er.showSuccess(\"Link copied\"))}catch{Er.showError(\"Failed to copy\")}}}rs.styles=Het;Nl([Ye()],rs.prototype,\"isRetrying\",void 0);Nl([Ye()],rs.prototype,\"uri\",void 0);Nl([Ye()],rs.prototype,\"error\",void 0);Nl([Ye()],rs.prototype,\"ready\",void 0);Nl([Ye()],rs.prototype,\"showRetry\",void 0);Nl([Ye()],rs.prototype,\"secondaryBtnLabel\",void 0);Nl([Ye()],rs.prototype,\"secondaryLabel\",void 0);Nl([Ye()],rs.prototype,\"isLoading\",void 0);Nl([ae({type:Boolean})],rs.prototype,\"isMobile\",void 0);Nl([ae()],rs.prototype,\"onRetry\",void 0);var Vet=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let SZ=class extends rs{constructor(){if(super(),!this.wallet)throw new Error(\"w3m-connecting-wc-browser: No wallet provided\");this.onConnect=this.onConnectProxy.bind(this),this.onAutoConnect=this.onConnectProxy.bind(this),jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:this.wallet.name,platform:\"browser\"}})}async onConnectProxy(){var e;try{this.error=!1;const{connectors:n}=Ne.state,r=n.find(i=>{var s,o,a;return i.type===\"ANNOUNCED\"&&((s=i.info)==null?void 0:s.rdns)===((o=this.wallet)==null?void 0:o.rdns)||i.type===\"INJECTED\"||i.name===((a=this.wallet)==null?void 0:a.name)});if(r)await He.connectExternal(r,r.chain);else throw new Error(\"w3m-connecting-wc-browser: No connector found\");bn.close(),jt.sendEvent({type:\"track\",event:\"CONNECT_SUCCESS\",properties:{method:\"browser\",name:((e=this.wallet)==null?void 0:e.name)||\"Unknown\"}})}catch(n){jt.sendEvent({type:\"track\",event:\"CONNECT_ERROR\",properties:{message:(n==null?void 0:n.message)??\"Unknown\"}}),this.error=!0}}};SZ=Vet([et(\"w3m-connecting-wc-browser\")],SZ);var Ket=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xZ=class extends rs{constructor(){if(super(),!this.wallet)throw new Error(\"w3m-connecting-wc-desktop: No wallet provided\");this.onConnect=this.onConnectProxy.bind(this),this.onRender=this.onRenderProxy.bind(this),jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:this.wallet.name,platform:\"desktop\"}})}onRenderProxy(){var e;!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.desktop_link&&this.uri)try{this.error=!1;const{desktop_link:n,name:r}=this.wallet,{redirect:i,href:s}=Me.formatNativeUrl(n,this.uri);He.setWcLinking({name:r,href:s}),He.setRecentWallet(this.wallet),Me.openHref(i,\"_blank\")}catch{this.error=!0}}};xZ=Ket([et(\"w3m-connecting-wc-desktop\")],xZ);var My=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let vp=class extends rs{constructor(){if(super(),this.btnLabelTimeout=void 0,this.redirectDeeplink=void 0,this.redirectUniversalLink=void 0,this.target=void 0,this.preferUniversalLinks=Se.state.experimental_preferUniversalLinks,this.isLoading=!0,this.onConnect=()=>{var e;if((e=this.wallet)!=null&&e.mobile_link&&this.uri)try{this.error=!1;const{mobile_link:n,link_mode:r,name:i}=this.wallet,{redirect:s,redirectUniversalLink:o,href:a}=Me.formatNativeUrl(n,this.uri,r);this.redirectDeeplink=s,this.redirectUniversalLink=o,this.target=Me.isIframe()?\"_top\":\"_self\",He.setWcLinking({name:i,href:a}),He.setRecentWallet(this.wallet),this.preferUniversalLinks&&this.redirectUniversalLink?Me.openHref(this.redirectUniversalLink,this.target):Me.openHref(this.redirectDeeplink,this.target)}catch(n){jt.sendEvent({type:\"track\",event:\"CONNECT_PROXY_ERROR\",properties:{message:n instanceof Error?n.message:\"Error parsing the deeplink\",uri:this.uri,mobile_link:this.wallet.mobile_link,name:this.wallet.name}}),this.error=!0}},!this.wallet)throw new Error(\"w3m-connecting-wc-mobile: No wallet provided\");this.secondaryBtnLabel=\"Open\",this.secondaryLabel=Sn.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon=\"externalLink\",this.onHandleURI(),this.unsubscribe.push(He.subscribeKey(\"wcUri\",()=>{this.onHandleURI()})),jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:this.wallet.name,platform:\"mobile\"}})}disconnectedCallback(){super.disconnectedCallback(),clearTimeout(this.btnLabelTimeout)}onHandleURI(){var e;this.isLoading=!this.uri,!this.ready&&this.uri&&(this.ready=!0,(e=this.onConnect)==null||e.call(this))}onTryAgain(){var e;He.setWcError(!1),(e=this.onConnect)==null||e.call(this)}};My([Ye()],vp.prototype,\"redirectDeeplink\",void 0);My([Ye()],vp.prototype,\"redirectUniversalLink\",void 0);My([Ye()],vp.prototype,\"target\",void 0);My([Ye()],vp.prototype,\"preferUniversalLinks\",void 0);My([Ye()],vp.prototype,\"isLoading\",void 0);vp=My([et(\"w3m-connecting-wc-mobile\")],vp);var I1={},s$,AZ;function Wet(){return AZ||(AZ=1,s$=function(){return typeof Promise==\"function\"&&Promise.prototype&&Promise.prototype.then}),s$}var o$={},cf={},$Z;function Yp(){if($Z)return cf;$Z=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return cf.getSymbolSize=function(r){if(!r)throw new Error('\"version\" cannot be null or undefined');if(r<1||r>40)throw new Error('\"version\" should be in range from 1 to 40');return r*4+17},cf.getSymbolTotalCodewords=function(r){return e[r]},cf.getBCHDigit=function(n){let r=0;for(;n!==0;)r++,n>>>=1;return r},cf.setToSJISFunction=function(r){if(typeof r!=\"function\")throw new Error('\"toSJISFunc\" is not a valid function.');t=r},cf.isKanjiModeEnabled=function(){return typeof t<\"u\"},cf.toSJIS=function(r){return t(r)},cf}var a$={},IZ;function lM(){return IZ||(IZ=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(n){if(typeof n!=\"string\")throw new Error(\"Param is not a string\");switch(n.toLowerCase()){case\"l\":case\"low\":return t.L;case\"m\":case\"medium\":return t.M;case\"q\":case\"quartile\":return t.Q;case\"h\":case\"high\":return t.H;default:throw new Error(\"Unknown EC Level: \"+n)}}t.isValid=function(r){return r&&typeof r.bit<\"u\"&&r.bit>=0&&r.bit<4},t.from=function(r,i){if(t.isValid(r))return r;try{return e(r)}catch{return i}}})(a$)),a$}var c$,TZ;function Get(){if(TZ)return c$;TZ=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const n=Math.floor(e/8);return(this.buffer[n]>>>7-e%8&1)===1},put:function(e,n){for(let r=0;r<n;r++)this.putBit((e>>>n-r-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),e&&(this.buffer[n]|=128>>>this.length%8),this.length++}},c$=t,c$}var l$,PZ;function Zet(){if(PZ)return l$;PZ=1;function t(e){if(!e||e<1)throw new Error(\"BitMatrix size must be defined and greater than 0\");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,n,r,i){const s=e*this.size+n;this.data[s]=r,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,n){return this.data[e*this.size+n]},t.prototype.xor=function(e,n,r){this.data[e*this.size+n]^=r},t.prototype.isReserved=function(e,n){return this.reservedBit[e*this.size+n]},l$=t,l$}var u$={},OZ;function Yet(){return OZ||(OZ=1,(function(t){const e=Yp().getSymbolSize;t.getRowColCoords=function(r){if(r===1)return[];const i=Math.floor(r/7)+2,s=e(r),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(r){const i=[],s=t.getRowColCoords(r),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(u$)),u$}var d$={},NZ;function Jet(){if(NZ)return d$;NZ=1;const t=Yp().getSymbolSize,e=7;return d$.getPositions=function(r){const i=t(r);return[[0,0],[i-e,0],[0,i-e]]},d$}var f$={},RZ;function Xet(){return RZ||(RZ=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==\"\"&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,d=null;for(let h=0;h<s;h++){a=c=0,l=d=null;for(let p=0;p<s;p++){let m=i.get(h,p);m===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=m,a=1),m=i.get(p,h),m===d?c++:(c>=5&&(o+=e.N1+(c-5)),d=m,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let d=0;d<s;d++)a=a<<1&2047|i.get(l,d),d>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(d,l),d>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function n(r,i,s){switch(r){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error(\"bad maskPattern:\"+r)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,n(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const d=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),d<c&&(c=d,a=l)}return a}})(f$)),f$}var mE={},kZ;function Vle(){if(kZ)return mE;kZ=1;const t=lM(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],n=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return mE.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},mE.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return n[(i-1)*4+0];case t.M:return n[(i-1)*4+1];case t.Q:return n[(i-1)*4+2];case t.H:return n[(i-1)*4+3];default:return}},mE}var h$={},fw={},MZ;function Qet(){if(MZ)return fw;MZ=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let r=1;for(let i=0;i<255;i++)t[i]=r,e[r]=i,r<<=1,r&256&&(r^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),fw.log=function(r){if(r<1)throw new Error(\"log(\"+r+\")\");return e[r]},fw.exp=function(r){return t[r]},fw.mul=function(r,i){return r===0||i===0?0:t[e[r]+e[i]]},fw}var DZ;function ett(){return DZ||(DZ=1,(function(t){const e=Qet();t.mul=function(r,i){const s=new Uint8Array(r.length+i.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(r[o],i[a]);return s},t.mod=function(r,i){let s=new Uint8Array(r);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(r){let i=new Uint8Array([1]);for(let s=0;s<r;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(h$)),h$}var p$,BZ;function ttt(){if(BZ)return p$;BZ=1;const t=ett();function e(n){this.genPoly=void 0,this.degree=n,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(r){this.degree=r,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(r){if(!this.genPoly)throw new Error(\"Encoder not initialized\");const i=new Uint8Array(r.length+this.degree);i.set(r);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},p$=e,p$}var g$={},m$={},y$={},LZ;function Kle(){return LZ||(LZ=1,y$.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),y$}var Yc={},UZ;function Wle(){if(UZ)return Yc;UZ=1;const t=\"[0-9]+\",e=\"[A-Z $%*+\\\\-./:]+\";let n=\"(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+\";n=n.replace(/u/g,\"\\\\u\");const r=\"(?:(?![A-Z0-9 $%*+\\\\-./:]|\"+n+`)(?:.|[\\r\n]))+`;Yc.KANJI=new RegExp(n,\"g\"),Yc.BYTE_KANJI=new RegExp(\"[^A-Z0-9 $%*+\\\\-./:]+\",\"g\"),Yc.BYTE=new RegExp(r,\"g\"),Yc.NUMERIC=new RegExp(t,\"g\"),Yc.ALPHANUMERIC=new RegExp(e,\"g\");const i=new RegExp(\"^\"+n+\"$\"),s=new RegExp(\"^\"+t+\"$\"),o=new RegExp(\"^[A-Z0-9 $%*+\\\\-./:]+$\");return Yc.testKanji=function(c){return i.test(c)},Yc.testNumeric=function(c){return s.test(c)},Yc.testAlphanumeric=function(c){return o.test(c)},Yc}var jZ;function Jp(){return jZ||(jZ=1,(function(t){const e=Kle(),n=Wle();t.NUMERIC={id:\"Numeric\",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:\"Alphanumeric\",bit:2,ccBits:[9,11,13]},t.BYTE={id:\"Byte\",bit:4,ccBits:[8,16,16]},t.KANJI={id:\"Kanji\",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error(\"Invalid mode: \"+s);if(!e.isValid(o))throw new Error(\"Invalid version: \"+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return n.testNumeric(s)?t.NUMERIC:n.testAlphanumeric(s)?t.ALPHANUMERIC:n.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error(\"Invalid mode\")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function r(i){if(typeof i!=\"string\")throw new Error(\"Param is not a string\");switch(i.toLowerCase()){case\"numeric\":return t.NUMERIC;case\"alphanumeric\":return t.ALPHANUMERIC;case\"kanji\":return t.KANJI;case\"byte\":return t.BYTE;default:throw new Error(\"Unknown mode: \"+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return r(s)}catch{return o}}})(m$)),m$}var zZ;function ntt(){return zZ||(zZ=1,(function(t){const e=Yp(),n=Vle(),r=lM(),i=Jp(),s=Kle(),o=7973,a=e.getBCHDigit(o);function c(p,m,b){for(let y=1;y<=40;y++)if(m<=t.getCapacity(y,b,p))return y}function l(p,m){return i.getCharCountIndicator(p,m)+4}function d(p,m){let b=0;return p.forEach(function(y){const E=l(y.mode,m);b+=E+y.getBitsLength()}),b}function h(p,m){for(let b=1;b<=40;b++)if(d(p,b)<=t.getCapacity(b,m,i.MIXED))return b}t.from=function(m,b){return s.isValid(m)?parseInt(m,10):b},t.getCapacity=function(m,b,y){if(!s.isValid(m))throw new Error(\"Invalid QR Code version\");typeof y>\"u\"&&(y=i.BYTE);const E=e.getSymbolTotalCodewords(m),v=n.getTotalCodewordsCount(m,b),_=(E-v)*8;if(y===i.MIXED)return _;const C=_-l(y,m);switch(y){case i.NUMERIC:return Math.floor(C/10*3);case i.ALPHANUMERIC:return Math.floor(C/11*2);case i.KANJI:return Math.floor(C/13);case i.BYTE:default:return Math.floor(C/8)}},t.getBestVersionForData=function(m,b){let y;const E=r.from(b,r.M);if(Array.isArray(m)){if(m.length>1)return h(m,E);if(m.length===0)return 1;y=m[0]}else y=m;return c(y.mode,y.getLength(),E)},t.getEncodedBits=function(m){if(!s.isValid(m)||m<7)throw new Error(\"Invalid QR Code version\");let b=m<<12;for(;e.getBCHDigit(b)-a>=0;)b^=o<<e.getBCHDigit(b)-a;return m<<12|b}})(g$)),g$}var b$={},FZ;function rtt(){if(FZ)return b$;FZ=1;const t=Yp(),e=1335,n=21522,r=t.getBCHDigit(e);return b$.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-r>=0;)c^=e<<t.getBCHDigit(c)-r;return(a<<10|c)^n},b$}var w$={},v$,qZ;function itt(){if(qZ)return v$;qZ=1;const t=Jp();function e(n){this.mode=t.NUMERIC,this.data=n.toString()}return e.getBitsLength=function(r){return 10*Math.floor(r/3)+(r%3?r%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),r.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),r.put(o,a*3+1))},v$=e,v$}var E$,HZ;function stt(){if(HZ)return E$;HZ=1;const t=Jp(),e=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\",\"G\",\"H\",\"I\",\"J\",\"K\",\"L\",\"M\",\"N\",\"O\",\"P\",\"Q\",\"R\",\"S\",\"T\",\"U\",\"V\",\"W\",\"X\",\"Y\",\"Z\",\" \",\"$\",\"%\",\"*\",\"+\",\"-\",\".\",\"/\",\":\"];function n(r){this.mode=t.ALPHANUMERIC,this.data=r}return n.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},E$=n,E$}var _$,VZ;function ott(){return VZ||(VZ=1,_$=function(e){for(var n=[],r=e.length,i=0;i<r;i++){var s=e.charCodeAt(i);if(s>=55296&&s<=56319&&r>i+1){var o=e.charCodeAt(i+1);o>=56320&&o<=57343&&(s=(s-55296)*1024+o-56320+65536,i+=1)}if(s<128){n.push(s);continue}if(s<2048){n.push(s>>6|192),n.push(s&63|128);continue}if(s<55296||s>=57344&&s<65536){n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128);continue}if(s>=65536&&s<=1114111){n.push(s>>18|240),n.push(s>>12&63|128),n.push(s>>6&63|128),n.push(s&63|128);continue}n.push(239,191,189)}return new Uint8Array(n).buffer}),_$}var C$,KZ;function att(){if(KZ)return C$;KZ=1;const t=ott(),e=Jp();function n(r){this.mode=e.BYTE,typeof r==\"string\"&&(r=t(r)),this.data=new Uint8Array(r)}return n.getBitsLength=function(i){return i*8},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){for(let i=0,s=this.data.length;i<s;i++)r.put(this.data[i],8)},C$=n,C$}var S$,WZ;function ctt(){if(WZ)return S$;WZ=1;const t=Jp(),e=Yp();function n(r){this.mode=t.KANJI,this.data=r}return n.getBitsLength=function(i){return i*13},n.prototype.getLength=function(){return this.data.length},n.prototype.getBitsLength=function(){return n.getBitsLength(this.data.length)},n.prototype.write=function(r){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error(\"Invalid SJIS character: \"+this.data[i]+`\nMake sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),r.put(s,13)}},S$=n,S$}var x$={exports:{}},GZ;function ltt(){return GZ||(GZ=1,(function(t){var e={single_source_shortest_paths:function(n,r,i){var s={},o={};o[r]=0;var a=e.PriorityQueue.make();a.push(r,0);for(var c,l,d,h,p,m,b,y,E;!a.empty();){c=a.pop(),l=c.value,h=c.cost,p=n[l]||{};for(d in p)p.hasOwnProperty(d)&&(m=p[d],b=h+m,y=o[d],E=typeof o[d]>\"u\",(E||y>b)&&(o[d]=b,a.push(d,b),s[d]=l))}if(typeof i<\"u\"&&typeof o[i]>\"u\"){var v=[\"Could not find a path from \",r,\" to \",i,\".\"].join(\"\");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,r){for(var i=[],s=r;s;)i.push(s),n[s],s=n[s];return i.reverse(),i},find_path:function(n,r,i){var s=e.single_source_shortest_paths(n,r,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(n){var r=e.PriorityQueue,i={},s;n=n||{};for(s in r)r.hasOwnProperty(s)&&(i[s]=r[s]);return i.queue=[],i.sorter=n.sorter||r.default_sorter,i},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var i={value:n,cost:r};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(x$)),x$.exports}var ZZ;function utt(){return ZZ||(ZZ=1,(function(t){const e=Jp(),n=itt(),r=stt(),i=att(),s=ctt(),o=Wle(),a=Yp(),c=ltt();function l(v){return unescape(encodeURIComponent(v)).length}function d(v,_,C){const S=[];let A;for(;(A=v.exec(C))!==null;)S.push({data:A[0],index:A.index,mode:_,length:A[0].length});return S}function h(v){const _=d(o.NUMERIC,e.NUMERIC,v),C=d(o.ALPHANUMERIC,e.ALPHANUMERIC,v);let S,A;return a.isKanjiModeEnabled()?(S=d(o.BYTE,e.BYTE,v),A=d(o.KANJI,e.KANJI,v)):(S=d(o.BYTE_KANJI,e.BYTE,v),A=[]),_.concat(C,S,A).sort(function(O,D){return O.index-D.index}).map(function(O){return{data:O.data,mode:O.mode,length:O.length}})}function p(v,_){switch(_){case e.NUMERIC:return n.getBitsLength(v);case e.ALPHANUMERIC:return r.getBitsLength(v);case e.KANJI:return s.getBitsLength(v);case e.BYTE:return i.getBitsLength(v)}}function m(v){return v.reduce(function(_,C){const S=_.length-1>=0?_[_.length-1]:null;return S&&S.mode===C.mode?(_[_.length-1].data+=C.data,_):(_.push(C),_)},[])}function b(v){const _=[];for(let C=0;C<v.length;C++){const S=v[C];switch(S.mode){case e.NUMERIC:_.push([S,{data:S.data,mode:e.ALPHANUMERIC,length:S.length},{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.ALPHANUMERIC:_.push([S,{data:S.data,mode:e.BYTE,length:S.length}]);break;case e.KANJI:_.push([S,{data:S.data,mode:e.BYTE,length:l(S.data)}]);break;case e.BYTE:_.push([{data:S.data,mode:e.BYTE,length:l(S.data)}])}}return _}function y(v,_){const C={},S={start:{}};let A=[\"start\"];for(let I=0;I<v.length;I++){const O=v[I],D=[];for(let N=0;N<O.length;N++){const U=O[N],F=\"\"+I+N;D.push(F),C[F]={node:U,lastCount:0},S[F]={};for(let H=0;H<A.length;H++){const V=A[H];C[V]&&C[V].node.mode===U.mode?(S[V][F]=p(C[V].lastCount+U.length,U.mode)-p(C[V].lastCount,U.mode),C[V].lastCount+=U.length):(C[V]&&(C[V].lastCount=U.length),S[V][F]=p(U.length,U.mode)+4+e.getCharCountIndicator(U.mode,_))}}A=D}for(let I=0;I<A.length;I++)S[A[I]].end=0;return{map:S,table:C}}function E(v,_){let C;const S=e.getBestModeForData(v);if(C=e.from(_,S),C!==e.BYTE&&C.bit<S.bit)throw new Error('\"'+v+'\" cannot be encoded with mode '+e.toString(C)+`.\n Suggested mode is: `+e.toString(S));switch(C===e.KANJI&&!a.isKanjiModeEnabled()&&(C=e.BYTE),C){case e.NUMERIC:return new n(v);case e.ALPHANUMERIC:return new r(v);case e.KANJI:return new s(v);case e.BYTE:return new i(v)}}t.fromArray=function(_){return _.reduce(function(C,S){return typeof S==\"string\"?C.push(E(S,null)):S.data&&C.push(E(S.data,S.mode)),C},[])},t.fromString=function(_,C){const S=h(_,a.isKanjiModeEnabled()),A=b(S),I=y(A,C),O=c.find_path(I.map,\"start\",\"end\"),D=[];for(let N=1;N<O.length-1;N++)D.push(I.table[O[N]].node);return t.fromArray(m(D))},t.rawSplit=function(_){return t.fromArray(h(_,a.isKanjiModeEnabled()))}})(w$)),w$}var YZ;function dtt(){if(YZ)return o$;YZ=1;const t=Yp(),e=lM(),n=Get(),r=Zet(),i=Yet(),s=Jet(),o=Xet(),a=Vle(),c=ttt(),l=ntt(),d=rtt(),h=Jp(),p=utt();function m(I,O){const D=I.size,N=s.getPositions(O);for(let U=0;U<N.length;U++){const F=N[U][0],H=N[U][1];for(let V=-1;V<=7;V++)if(!(F+V<=-1||D<=F+V))for(let M=-1;M<=7;M++)H+M<=-1||D<=H+M||(V>=0&&V<=6&&(M===0||M===6)||M>=0&&M<=6&&(V===0||V===6)||V>=2&&V<=4&&M>=2&&M<=4?I.set(F+V,H+M,!0,!0):I.set(F+V,H+M,!1,!0))}}function b(I){const O=I.size;for(let D=8;D<O-8;D++){const N=D%2===0;I.set(D,6,N,!0),I.set(6,D,N,!0)}}function y(I,O){const D=i.getPositions(O);for(let N=0;N<D.length;N++){const U=D[N][0],F=D[N][1];for(let H=-2;H<=2;H++)for(let V=-2;V<=2;V++)H===-2||H===2||V===-2||V===2||H===0&&V===0?I.set(U+H,F+V,!0,!0):I.set(U+H,F+V,!1,!0)}}function E(I,O){const D=I.size,N=l.getEncodedBits(O);let U,F,H;for(let V=0;V<18;V++)U=Math.floor(V/3),F=V%3+D-8-3,H=(N>>V&1)===1,I.set(U,F,H,!0),I.set(F,U,H,!0)}function v(I,O,D){const N=I.size,U=d.getEncodedBits(O,D);let F,H;for(F=0;F<15;F++)H=(U>>F&1)===1,F<6?I.set(F,8,H,!0):F<8?I.set(F+1,8,H,!0):I.set(N-15+F,8,H,!0),F<8?I.set(8,N-F-1,H,!0):F<9?I.set(8,15-F-1+1,H,!0):I.set(8,15-F-1,H,!0);I.set(N-8,8,1,!0)}function _(I,O){const D=I.size;let N=-1,U=D-1,F=7,H=0;for(let V=D-1;V>0;V-=2)for(V===6&&V--;;){for(let M=0;M<2;M++)if(!I.isReserved(U,V-M)){let $=!1;H<O.length&&($=(O[H]>>>F&1)===1),I.set(U,V-M,$),F--,F===-1&&(H++,F=7)}if(U+=N,U<0||D<=U){U-=N,N=-N;break}}}function C(I,O,D){const N=new n;D.forEach(function(M){N.put(M.mode.bit,4),N.put(M.getLength(),h.getCharCountIndicator(M.mode,I)),M.write(N)});const U=t.getSymbolTotalCodewords(I),F=a.getTotalCodewordsCount(I,O),H=(U-F)*8;for(N.getLengthInBits()+4<=H&&N.put(0,4);N.getLengthInBits()%8!==0;)N.putBit(0);const V=(H-N.getLengthInBits())/8;for(let M=0;M<V;M++)N.put(M%2?17:236,8);return S(N,I,O)}function S(I,O,D){const N=t.getSymbolTotalCodewords(O),U=a.getTotalCodewordsCount(O,D),F=N-U,H=a.getBlocksCount(O,D),V=N%H,M=H-V,$=Math.floor(N/H),P=Math.floor(F/H),q=P+1,T=$-P,k=new c(T);let z=0;const L=new Array(H),B=new Array(H);let j=0;const K=new Uint8Array(I.buffer);for(let Q=0;Q<H;Q++){const re=Q<M?P:q;L[Q]=K.slice(z,z+re),B[Q]=k.encode(L[Q]),z+=re,j=Math.max(j,re)}const G=new Uint8Array(N);let Z=0,Y,X;for(Y=0;Y<j;Y++)for(X=0;X<H;X++)Y<L[X].length&&(G[Z++]=L[X][Y]);for(Y=0;Y<T;Y++)for(X=0;X<H;X++)G[Z++]=B[X][Y];return G}function A(I,O,D,N){let U;if(Array.isArray(I))U=p.fromArray(I);else if(typeof I==\"string\"){let $=O;if(!$){const P=p.rawSplit(I);$=l.getBestVersionForData(P,D)}U=p.fromString(I,$||40)}else throw new Error(\"Invalid data\");const F=l.getBestVersionForData(U,D);if(!F)throw new Error(\"The amount of data is too big to be stored in a QR Code\");if(!O)O=F;else if(O<F)throw new Error(`\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: `+F+`.\n`);const H=C(O,D,U),V=t.getSymbolSize(O),M=new r(V);return m(M,O),b(M),y(M,O),v(M,D,0),O>=7&&E(M,O),_(M,H),isNaN(N)&&(N=o.getBestMask(M,v.bind(null,M,D))),o.applyMask(N,M),v(M,D,N),{modules:M,version:O,errorCorrectionLevel:D,maskPattern:N,segments:U}}return o$.create=function(O,D){if(typeof O>\"u\"||O===\"\")throw new Error(\"No input text\");let N=e.M,U,F;return typeof D<\"u\"&&(N=e.from(D.errorCorrectionLevel,e.M),U=l.from(D.version),F=o.from(D.maskPattern),D.toSJISFunc&&t.setToSJISFunction(D.toSJISFunc)),A(O,U,N,F)},o$}var A$={},$$={},JZ;function Gle(){return JZ||(JZ=1,(function(t){function e(n){if(typeof n==\"number\"&&(n=n.toString()),typeof n!=\"string\")throw new Error(\"Color should be defined as hex string\");let r=n.slice().replace(\"#\",\"\").split(\"\");if(r.length<3||r.length===5||r.length>8)throw new Error(\"Invalid hex color: \"+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(s){return[s,s]}))),r.length===6&&r.push(\"F\",\"F\");const i=parseInt(r.join(\"\"),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:\"#\"+r.slice(0,6).join(\"\")}}t.getOptions=function(r){r||(r={}),r.color||(r.color={});const i=typeof r.margin>\"u\"||r.margin===null||r.margin<0?4:r.margin,s=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(r.color.dark||\"#000000ff\"),light:e(r.color.light||\"#ffffffff\")},type:r.type,rendererOpts:r.rendererOpts||{}}},t.getScale=function(r,i){return i.width&&i.width>=r+i.margin*2?i.width/(r+i.margin*2):i.scale},t.getImageWidth=function(r,i){const s=t.getScale(r,i);return Math.floor((r+i.margin*2)*s)},t.qrToImageData=function(r,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),d=s.margin*c,h=[s.color.light,s.color.dark];for(let p=0;p<l;p++)for(let m=0;m<l;m++){let b=(p*l+m)*4,y=s.color.light;if(p>=d&&m>=d&&p<l-d&&m<l-d){const E=Math.floor((p-d)/c),v=Math.floor((m-d)/c);y=h[a[E*o+v]?1:0]}r[b++]=y.r,r[b++]=y.g,r[b++]=y.b,r[b]=y.a}}})($$)),$$}var XZ;function ftt(){return XZ||(XZ=1,(function(t){const e=Gle();function n(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+\"px\",s.style.width=o+\"px\"}function r(){try{return document.createElement(\"canvas\")}catch{throw new Error(\"You need to specify a canvas element\")}}t.render=function(s,o,a){let c=a,l=o;typeof c>\"u\"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=r()),c=e.getOptions(c);const d=e.getImageWidth(s.modules.size,c),h=l.getContext(\"2d\"),p=h.createImageData(d,d);return e.qrToImageData(p.data,s,c),n(h,l,d),h.putImageData(p,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>\"u\"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),d=c.type||\"image/png\",h=c.rendererOpts||{};return l.toDataURL(d,h.quality)}})(A$)),A$}var I$={},QZ;function htt(){if(QZ)return I$;QZ=1;const t=Gle();function e(i,s){const o=i.a/255,a=s+'=\"'+i.hex+'\"';return o<1?a+\" \"+s+'-opacity=\"'+o.toFixed(2).slice(1)+'\"':a}function n(i,s,o){let a=i+s;return typeof o<\"u\"&&(a+=\" \"+o),a}function r(i,s,o){let a=\"\",c=0,l=!1,d=0;for(let h=0;h<i.length;h++){const p=Math.floor(h%s),m=Math.floor(h/s);!p&&!l&&(l=!0),i[h]?(d++,h>0&&p>0&&i[h-1]||(a+=l?n(\"M\",p+o,.5+m+o):n(\"m\",c,0),c=0,l=!1),p+1<s&&i[h+1]||(a+=n(\"h\",d),d=0)):c++}return a}return I$.render=function(s,o,a){const c=t.getOptions(o),l=s.modules.size,d=s.modules.data,h=l+c.margin*2,p=c.color.light.a?\"<path \"+e(c.color.light,\"fill\")+' d=\"M0 0h'+h+\"v\"+h+'H0z\"/>':\"\",m=\"<path \"+e(c.color.dark,\"stroke\")+' d=\"'+r(d,l,c.margin)+'\"/>',b='viewBox=\"0 0 '+h+\" \"+h+'\"',E='<svg xmlns=\"http://www.w3.org/2000/svg\" '+(c.width?'width=\"'+c.width+'\" height=\"'+c.width+'\" ':\"\")+b+' shape-rendering=\"crispEdges\">'+p+m+`</svg>\n`;return typeof a==\"function\"&&a(null,E),E},I$}var eY;function ptt(){if(eY)return I1;eY=1;const t=Wet(),e=dtt(),n=ftt(),r=htt();function i(s,o,a,c,l){const d=[].slice.call(arguments,1),h=d.length,p=typeof d[h-1]==\"function\";if(!p&&!t())throw new Error(\"Callback required as last argument\");if(p){if(h<2)throw new Error(\"Too few arguments provided\");h===2?(l=a,a=o,o=c=void 0):h===3&&(o.getContext&&typeof l>\"u\"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(h<1)throw new Error(\"Too few arguments provided\");return h===1?(a=o,o=c=void 0):h===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(m,b){try{const y=e.create(a,c);m(s(y,o,c))}catch(y){b(y)}})}try{const m=e.create(a,c);l(null,s(m,o,c))}catch(m){l(m)}}return I1.create=e.create,I1.toCanvas=i.bind(null,n.render),I1.toDataURL=i.bind(null,n.renderToDataURL),I1.toString=i.bind(null,function(s,o,a){return r.render(s,a)}),I1}var gtt=ptt();const mtt=ah(gtt),ytt=.1,tY=2.5,yu=7;function T$(t,e,n){return t===e?!1:(t-e<0?e-t:t-e)<=n+ytt}function btt(t,e){const n=Array.prototype.slice.call(mtt.create(t,{errorCorrectionLevel:e}).modules.data,0),r=Math.sqrt(n.length);return n.reduce((i,s,o)=>(o%r===0?i.push([s]):i[i.length-1].push(s))&&i,[])}const wtt={generate({uri:t,size:e,logoSize:n,dotColor:r=\"#141414\"}){const i=\"transparent\",o=[],a=btt(t,\"Q\"),c=e/a.length,l=[{x:0,y:0},{x:1,y:0},{x:0,y:1}];l.forEach(({x:y,y:E})=>{const v=(a.length-yu)*c*y,_=(a.length-yu)*c*E,C=.45;for(let S=0;S<l.length;S+=1){const A=c*(yu-S*2);o.push(qe`\n            <rect\n              fill=${S===2?r:i}\n              width=${S===0?A-5:A}\n              rx= ${S===0?(A-5)*C:A*C}\n              ry= ${S===0?(A-5)*C:A*C}\n              stroke=${r}\n              stroke-width=${S===0?5:0}\n              height=${S===0?A-5:A}\n              x= ${S===0?_+c*S+5/2:_+c*S}\n              y= ${S===0?v+c*S+5/2:v+c*S}\n            />\n          `)}});const d=Math.floor((n+25)/c),h=a.length/2-d/2,p=a.length/2+d/2-1,m=[];a.forEach((y,E)=>{y.forEach((v,_)=>{if(a[E][_]&&!(E<yu&&_<yu||E>a.length-(yu+1)&&_<yu||E<yu&&_>a.length-(yu+1))&&!(E>h&&E<p&&_>h&&_<p)){const C=E*c+c/2,S=_*c+c/2;m.push([C,S])}})});const b={};return m.forEach(([y,E])=>{var v;b[y]?(v=b[y])==null||v.push(E):b[y]=[E]}),Object.entries(b).map(([y,E])=>{const v=E.filter(_=>E.every(C=>!T$(_,C,c)));return[Number(y),v]}).forEach(([y,E])=>{E.forEach(v=>{o.push(qe`<circle cx=${y} cy=${v} fill=${r} r=${c/tY} />`)})}),Object.entries(b).filter(([y,E])=>E.length>1).map(([y,E])=>{const v=E.filter(_=>E.some(C=>T$(_,C,c)));return[Number(y),v]}).map(([y,E])=>{E.sort((_,C)=>_<C?-1:1);const v=[];for(const _ of E){const C=v.find(S=>S.some(A=>T$(_,A,c)));C?C.push(_):v.push([_])}return[y,v.map(_=>[_[0],_[_.length-1]])]}).forEach(([y,E])=>{E.forEach(([v,_])=>{o.push(qe`\n              <line\n                x1=${y}\n                x2=${y}\n                y1=${v}\n                y2=${_}\n                stroke=${r}\n                stroke-width=${c/(tY/2)}\n                stroke-linecap=\"round\"\n              />\n            `)})}),o}},vtt=wt`\n  :host {\n    position: relative;\n    user-select: none;\n    display: block;\n    overflow: hidden;\n    aspect-ratio: 1 / 1;\n    width: var(--local-size);\n  }\n\n  :host([data-theme='dark']) {\n    border-radius: clamp(0px, var(--wui-border-radius-l), 40px);\n    background-color: var(--wui-color-inverse-100);\n    padding: var(--wui-spacing-l);\n  }\n\n  :host([data-theme='light']) {\n    box-shadow: 0 0 0 1px var(--wui-color-bg-125);\n    background-color: var(--wui-color-bg-125);\n  }\n\n  :host([data-clear='true']) > wui-icon {\n    display: none;\n  }\n\n  svg:first-child,\n  wui-image,\n  wui-icon {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translateY(-50%) translateX(-50%);\n  }\n\n  wui-image {\n    width: 25%;\n    height: 25%;\n    border-radius: var(--wui-border-radius-xs);\n  }\n\n  wui-icon {\n    width: 100%;\n    height: 100%;\n    color: var(--local-icon-color) !important;\n    transform: translateY(-50%) translateX(-50%) scale(0.25);\n  }\n`;var md=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Ett=\"#3396ff\";let Cc=class extends it{constructor(){super(...arguments),this.uri=\"\",this.size=0,this.theme=\"dark\",this.imageSrc=void 0,this.alt=void 0,this.arenaClear=void 0,this.farcaster=void 0}render(){return this.dataset.theme=this.theme,this.dataset.clear=String(this.arenaClear),this.style.cssText=`\n     --local-size: ${this.size}px;\n     --local-icon-color: ${this.color??Ett}\n    `,ne`${this.templateVisual()} ${this.templateSvg()}`}templateSvg(){const e=this.theme===\"light\"?this.size:this.size-32;return qe`\n      <svg height=${e} width=${e}>\n        ${wtt.generate({uri:this.uri,size:e,logoSize:this.arenaClear?0:e/4,dotColor:this.color})}\n      </svg>\n    `}templateVisual(){return this.imageSrc?ne`<wui-image src=${this.imageSrc} alt=${this.alt??\"logo\"}></wui-image>`:this.farcaster?ne`<wui-icon\n        class=\"farcaster\"\n        size=\"inherit\"\n        color=\"inherit\"\n        name=\"farcaster\"\n      ></wui-icon>`:ne`<wui-icon size=\"inherit\" color=\"inherit\" name=\"walletConnect\"></wui-icon>`}};Cc.styles=[fn,vtt];md([ae()],Cc.prototype,\"uri\",void 0);md([ae({type:Number})],Cc.prototype,\"size\",void 0);md([ae()],Cc.prototype,\"theme\",void 0);md([ae()],Cc.prototype,\"imageSrc\",void 0);md([ae()],Cc.prototype,\"alt\",void 0);md([ae()],Cc.prototype,\"color\",void 0);md([ae({type:Boolean})],Cc.prototype,\"arenaClear\",void 0);md([ae({type:Boolean})],Cc.prototype,\"farcaster\",void 0);Cc=md([et(\"wui-qr-code\")],Cc);const _tt=wt`\n  :host {\n    display: block;\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-005);\n    background: linear-gradient(\n      120deg,\n      var(--wui-color-bg-200) 5%,\n      var(--wui-color-bg-200) 48%,\n      var(--wui-color-bg-300) 55%,\n      var(--wui-color-bg-300) 60%,\n      var(--wui-color-bg-300) calc(60% + 10px),\n      var(--wui-color-bg-200) calc(60% + 12px),\n      var(--wui-color-bg-200) 100%\n    );\n    background-size: 250%;\n    animation: shimmer 3s linear infinite reverse;\n  }\n\n  :host([variant='light']) {\n    background: linear-gradient(\n      120deg,\n      var(--wui-color-bg-150) 5%,\n      var(--wui-color-bg-150) 48%,\n      var(--wui-color-bg-200) 55%,\n      var(--wui-color-bg-200) 60%,\n      var(--wui-color-bg-200) calc(60% + 10px),\n      var(--wui-color-bg-150) calc(60% + 12px),\n      var(--wui-color-bg-150) 100%\n    );\n    background-size: 250%;\n  }\n\n  @keyframes shimmer {\n    from {\n      background-position: -250% 0;\n    }\n    to {\n      background-position: 250% 0;\n    }\n  }\n`;var R5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Ep=class extends it{constructor(){super(...arguments),this.width=\"\",this.height=\"\",this.borderRadius=\"m\",this.variant=\"default\"}render(){return this.style.cssText=`\n      width: ${this.width};\n      height: ${this.height};\n      border-radius: ${`clamp(0px,var(--wui-border-radius-${this.borderRadius}), 40px)`};\n    `,ne`<slot></slot>`}};Ep.styles=[_tt];R5([ae()],Ep.prototype,\"width\",void 0);R5([ae()],Ep.prototype,\"height\",void 0);R5([ae()],Ep.prototype,\"borderRadius\",void 0);R5([ae()],Ep.prototype,\"variant\",void 0);Ep=R5([et(\"wui-shimmer\")],Ep);const Ctt=\"https://reown.com\",Stt=wt`\n  .reown-logo {\n    height: var(--wui-spacing-xxl);\n  }\n\n  a {\n    text-decoration: none;\n    cursor: pointer;\n  }\n\n  a:hover {\n    opacity: 0.9;\n  }\n`;var xtt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let SO=class extends it{render(){return ne`\n      <a\n        data-testid=\"ux-branding-reown\"\n        href=${Ctt}\n        rel=\"noreferrer\"\n        target=\"_blank\"\n        style=\"text-decoration: none;\"\n      >\n        <wui-flex\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          gap=\"xs\"\n          .padding=${[\"0\",\"0\",\"l\",\"0\"]}\n        >\n          <wui-text variant=\"small-500\" color=\"fg-100\"> UX by </wui-text>\n          <wui-icon name=\"reown\" size=\"xxxl\" class=\"reown-logo\"></wui-icon>\n        </wui-flex>\n      </a>\n    `}};SO.styles=[fn,Ki,Stt];SO=xtt([et(\"wui-ux-by-reown\")],SO);const Att=wt`\n  @keyframes fadein {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n\n  wui-shimmer {\n    width: 100%;\n    aspect-ratio: 1 / 1;\n    border-radius: clamp(0px, var(--wui-border-radius-l), 40px) !important;\n  }\n\n  wui-qr-code {\n    opacity: 0;\n    animation-duration: 200ms;\n    animation-timing-function: ease;\n    animation-name: fadein;\n    animation-fill-mode: forwards;\n  }\n`;var $tt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xO=class extends rs{constructor(){var e;super(),this.forceUpdate=()=>{this.requestUpdate()},window.addEventListener(\"resize\",this.forceUpdate),jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:((e=this.wallet)==null?void 0:e.name)??\"WalletConnect\",platform:\"qrcode\"}})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.unsubscribe)==null||e.forEach(n=>n()),window.removeEventListener(\"resize\",this.forceUpdate)}render(){return this.onRenderProxy(),ne`\n      <wui-flex\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        .padding=${[\"0\",\"xl\",\"xl\",\"xl\"]}\n        gap=\"xl\"\n      >\n        <wui-shimmer borderRadius=\"l\" width=\"100%\"> ${this.qrCodeTemplate()} </wui-shimmer>\n\n        <wui-text variant=\"paragraph-500\" color=\"fg-100\">\n          Scan this QR Code with your phone\n        </wui-text>\n        ${this.copyTemplate()}\n      </wui-flex>\n      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>\n    `}onRenderProxy(){!this.ready&&this.uri&&(this.timeout=setTimeout(()=>{this.ready=!0},200))}qrCodeTemplate(){if(!this.uri||!this.ready)return null;const e=this.getBoundingClientRect().width-40,n=this.wallet?this.wallet.name:void 0;return He.setWcLinking(void 0),He.setRecentWallet(this.wallet),ne` <wui-qr-code\n      size=${e}\n      theme=${ki.state.themeMode}\n      uri=${this.uri}\n      imageSrc=${bt(Hr.getWalletImage(this.wallet))}\n      color=${bt(ki.state.themeVariables[\"--w3m-qr-color\"])}\n      alt=${bt(n)}\n      data-testid=\"wui-qr-code\"\n    ></wui-qr-code>`}copyTemplate(){const e=!this.uri||!this.ready;return ne`<wui-link\n      .disabled=${e}\n      @click=${this.onCopyUri}\n      color=\"fg-200\"\n      data-testid=\"copy-wc2-uri\"\n    >\n      <wui-icon size=\"xs\" color=\"fg-200\" slot=\"iconLeft\" name=\"copy\"></wui-icon>\n      Copy link\n    </wui-link>`}};xO.styles=Att;xO=$tt([et(\"w3m-connecting-wc-qrcode\")],xO);var Itt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let nY=class extends it{constructor(){var e;if(super(),this.wallet=(e=Le.state.data)==null?void 0:e.wallet,!this.wallet)throw new Error(\"w3m-connecting-wc-unsupported: No wallet provided\");jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:this.wallet.name,platform:\"browser\"}})}render(){return ne`\n      <wui-flex\n        flexDirection=\"column\"\n        alignItems=\"center\"\n        .padding=${[\"3xl\",\"xl\",\"xl\",\"xl\"]}\n        gap=\"xl\"\n      >\n        <wui-wallet-image\n          size=\"lg\"\n          imageSrc=${bt(Hr.getWalletImage(this.wallet))}\n        ></wui-wallet-image>\n\n        <wui-text variant=\"paragraph-500\" color=\"fg-100\">Not Detected</wui-text>\n      </wui-flex>\n\n      <w3m-mobile-download-links .wallet=${this.wallet}></w3m-mobile-download-links>\n    `}};nY=Itt([et(\"w3m-connecting-wc-unsupported\")],nY);var Zle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let AO=class extends rs{constructor(){if(super(),this.isLoading=!0,!this.wallet)throw new Error(\"w3m-connecting-wc-web: No wallet provided\");this.onConnect=this.onConnectProxy.bind(this),this.secondaryBtnLabel=\"Open\",this.secondaryLabel=Sn.CONNECT_LABELS.MOBILE,this.secondaryBtnIcon=\"externalLink\",this.updateLoadingState(),this.unsubscribe.push(He.subscribeKey(\"wcUri\",()=>{this.updateLoadingState()})),jt.sendEvent({type:\"track\",event:\"SELECT_WALLET\",properties:{name:this.wallet.name,platform:\"web\"}})}updateLoadingState(){this.isLoading=!this.uri}onConnectProxy(){var e;if((e=this.wallet)!=null&&e.webapp_link&&this.uri)try{this.error=!1;const{webapp_link:n,name:r}=this.wallet,{redirect:i,href:s}=Me.formatUniversalUrl(n,this.uri);He.setWcLinking({name:r,href:s}),He.setRecentWallet(this.wallet),Me.openHref(i,\"_blank\")}catch{this.error=!0}}};Zle([Ye()],AO.prototype,\"isLoading\",void 0);AO=Zle([et(\"w3m-connecting-wc-web\")],AO);var k5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let iy=class extends it{constructor(){var e;super(),this.wallet=(e=Le.state.data)==null?void 0:e.wallet,this.unsubscribe=[],this.platform=void 0,this.platforms=[],this.isSiwxEnabled=!!Se.state.siwx,this.remoteFeatures=Se.state.remoteFeatures,this.determinePlatforms(),this.initializeConnection(),this.unsubscribe.push(Se.subscribeKey(\"remoteFeatures\",n=>this.remoteFeatures=n))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){return ne`\n      ${this.headerTemplate()}\n      <div>${this.platformTemplate()}</div>\n      ${this.reownBrandingTemplate()}\n    `}reownBrandingTemplate(){var e;return(e=this.remoteFeatures)!=null&&e.reownBranding?ne`<wui-ux-by-reown></wui-ux-by-reown>`:null}async initializeConnection(e=!1){if(!(this.platform===\"browser\"||Se.state.manualWCControl&&!e))try{const{wcPairingExpiry:n,status:r}=He.state;(e||Se.state.enableEmbedded||Me.isPairingExpired(n)||r===\"connecting\")&&(await He.connectWalletConnect(),this.isSiwxEnabled||bn.close())}catch(n){jt.sendEvent({type:\"track\",event:\"CONNECT_ERROR\",properties:{message:(n==null?void 0:n.message)??\"Unknown\"}}),He.setWcError(!0),Er.showError(n.message??\"Connection error\"),He.resetWcConnection(),Le.goBack()}}determinePlatforms(){if(!this.wallet){this.platforms.push(\"qrcode\"),this.platform=\"qrcode\";return}if(this.platform)return;const{mobile_link:e,desktop_link:n,webapp_link:r,injected:i,rdns:s}=this.wallet,o=i==null?void 0:i.map(({injected_id:b})=>b).filter(Boolean),a=[...s?[s]:o??[]],c=Se.state.isUniversalProvider?!1:a.length,l=e,d=r,h=He.checkInstalled(a),p=c&&h,m=n&&!Me.isMobile();p&&!ee.state.noAdapters&&this.platforms.push(\"browser\"),l&&this.platforms.push(Me.isMobile()?\"mobile\":\"qrcode\"),d&&this.platforms.push(\"web\"),m&&this.platforms.push(\"desktop\"),!p&&c&&!ee.state.noAdapters&&this.platforms.push(\"unsupported\"),this.platform=this.platforms[0]}platformTemplate(){switch(this.platform){case\"browser\":return ne`<w3m-connecting-wc-browser></w3m-connecting-wc-browser>`;case\"web\":return ne`<w3m-connecting-wc-web></w3m-connecting-wc-web>`;case\"desktop\":return ne`\n          <w3m-connecting-wc-desktop .onRetry=${()=>this.initializeConnection(!0)}>\n          </w3m-connecting-wc-desktop>\n        `;case\"mobile\":return ne`\n          <w3m-connecting-wc-mobile isMobile .onRetry=${()=>this.initializeConnection(!0)}>\n          </w3m-connecting-wc-mobile>\n        `;case\"qrcode\":return ne`<w3m-connecting-wc-qrcode></w3m-connecting-wc-qrcode>`;default:return ne`<w3m-connecting-wc-unsupported></w3m-connecting-wc-unsupported>`}}headerTemplate(){return this.platforms.length>1?ne`\n      <w3m-connecting-header\n        .platforms=${this.platforms}\n        .onSelectPlatfrom=${this.onSelectPlatform.bind(this)}\n      >\n      </w3m-connecting-header>\n    `:null}async onSelectPlatform(e){var r;const n=(r=this.shadowRoot)==null?void 0:r.querySelector(\"div\");n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:\"forwards\",easing:\"ease\"}).finished,this.platform=e,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:\"forwards\",easing:\"ease\"}))}};k5([Ye()],iy.prototype,\"platform\",void 0);k5([Ye()],iy.prototype,\"platforms\",void 0);k5([Ye()],iy.prototype,\"isSiwxEnabled\",void 0);k5([Ye()],iy.prototype,\"remoteFeatures\",void 0);iy=k5([et(\"w3m-connecting-wc-view\")],iy);var Yle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let D4=class extends it{constructor(){super(...arguments),this.isMobile=Me.isMobile()}render(){if(this.isMobile){const{featured:e,recommended:n}=Ue.state,{customWallets:r}=Se.state,i=nt.getRecentWallets(),s=e.length||n.length||(r==null?void 0:r.length)||i.length;return ne`<wui-flex\n        flexDirection=\"column\"\n        gap=\"xs\"\n        .margin=${[\"3xs\",\"s\",\"s\",\"s\"]}\n      >\n        ${s?ne`<w3m-connector-list></w3m-connector-list>`:null}\n        <w3m-all-wallets-widget></w3m-all-wallets-widget>\n      </wui-flex>`}return ne`<wui-flex flexDirection=\"column\" .padding=${[\"0\",\"0\",\"l\",\"0\"]}>\n      <w3m-connecting-wc-view></w3m-connecting-wc-view>\n      <wui-flex flexDirection=\"column\" .padding=${[\"0\",\"m\",\"0\",\"m\"]}>\n        <w3m-all-wallets-widget></w3m-all-wallets-widget> </wui-flex\n    ></wui-flex>`}};Yle([Ye()],D4.prototype,\"isMobile\",void 0);D4=Yle([et(\"w3m-connecting-wc-basic-view\")],D4);/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const uM=()=>new Ttt;class Ttt{}const P$=new WeakMap,dM=eM(class extends jle{render(t){return vr}update(t,[e]){var r;const n=e!==this.G;return n&&this.G!==void 0&&this.rt(void 0),(n||this.lt!==this.ct)&&(this.G=e,this.ht=(r=t.options)==null?void 0:r.host,this.rt(this.ct=t.element)),vr}rt(t){if(this.isConnected||(t=void 0),typeof this.G==\"function\"){const e=this.ht??globalThis;let n=P$.get(e);n===void 0&&(n=new WeakMap,P$.set(e,n)),n.get(this.G)!==void 0&&this.G.call(this.ht,void 0),n.set(this.G,t),t!==void 0&&this.G.call(this.ht,t)}else this.G.value=t}get lt(){var t,e;return typeof this.G==\"function\"?(t=P$.get(this.ht??globalThis))==null?void 0:t.get(this.G):(e=this.G)==null?void 0:e.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}}),Ptt=wt`\n  :host {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  label {\n    position: relative;\n    display: inline-block;\n    width: 32px;\n    height: 22px;\n  }\n\n  input {\n    width: 0;\n    height: 0;\n    opacity: 0;\n  }\n\n  span {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: var(--wui-color-blue-100);\n    border-width: 1px;\n    border-style: solid;\n    border-color: var(--wui-color-gray-glass-002);\n    border-radius: 999px;\n    transition:\n      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md);\n    will-change: background-color, border-color;\n  }\n\n  span:before {\n    position: absolute;\n    content: '';\n    height: 16px;\n    width: 16px;\n    left: 3px;\n    top: 2px;\n    background-color: var(--wui-color-inverse-100);\n    transition: transform var(--wui-ease-inout-power-1) var(--wui-duration-lg);\n    will-change: transform;\n    border-radius: 50%;\n  }\n\n  input:checked + span {\n    border-color: var(--wui-color-gray-glass-005);\n    background-color: var(--wui-color-blue-100);\n  }\n\n  input:not(:checked) + span {\n    background-color: var(--wui-color-gray-glass-010);\n  }\n\n  input:checked + span:before {\n    transform: translateX(calc(100% - 7px));\n  }\n`;var Jle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let B4=class extends it{constructor(){super(...arguments),this.inputElementRef=uM(),this.checked=void 0}render(){return ne`\n      <label>\n        <input\n          ${dM(this.inputElementRef)}\n          type=\"checkbox\"\n          ?checked=${bt(this.checked)}\n          @change=${this.dispatchChangeEvent.bind(this)}\n        />\n        <span></span>\n      </label>\n    `}dispatchChangeEvent(){var e;this.dispatchEvent(new CustomEvent(\"switchChange\",{detail:(e=this.inputElementRef.value)==null?void 0:e.checked,bubbles:!0,composed:!0}))}};B4.styles=[fn,Ki,I5,Ptt];Jle([ae({type:Boolean})],B4.prototype,\"checked\",void 0);B4=Jle([et(\"wui-switch\")],B4);const Ott=wt`\n  :host {\n    height: 100%;\n  }\n\n  button {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    column-gap: var(--wui-spacing-1xs);\n    padding: var(--wui-spacing-xs) var(--wui-spacing-s);\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    transition: background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: background-color;\n    cursor: pointer;\n  }\n\n  wui-switch {\n    pointer-events: none;\n  }\n`;var Xle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let L4=class extends it{constructor(){super(...arguments),this.checked=void 0}render(){return ne`\n      <button>\n        <wui-icon size=\"xl\" name=\"walletConnectBrown\"></wui-icon>\n        <wui-switch ?checked=${bt(this.checked)}></wui-switch>\n      </button>\n    `}};L4.styles=[fn,Ki,Ott];Xle([ae({type:Boolean})],L4.prototype,\"checked\",void 0);L4=Xle([et(\"wui-certified-switch\")],L4);const Ntt=wt`\n  button {\n    background-color: var(--wui-color-fg-300);\n    border-radius: var(--wui-border-radius-4xs);\n    width: 16px;\n    height: 16px;\n  }\n\n  button:disabled {\n    background-color: var(--wui-color-bg-300);\n  }\n\n  wui-icon {\n    color: var(--wui-color-bg-200) !important;\n  }\n\n  button:focus-visible {\n    background-color: var(--wui-color-fg-250);\n    border: 1px solid var(--wui-color-accent-100);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    button:hover:enabled {\n      background-color: var(--wui-color-fg-250);\n    }\n\n    button:active:enabled {\n      background-color: var(--wui-color-fg-225);\n    }\n  }\n`;var Qle=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let U4=class extends it{constructor(){super(...arguments),this.icon=\"copy\"}render(){return ne`\n      <button>\n        <wui-icon color=\"inherit\" size=\"xxs\" name=${this.icon}></wui-icon>\n      </button>\n    `}};U4.styles=[fn,Ki,Ntt];Qle([ae()],U4.prototype,\"icon\",void 0);U4=Qle([et(\"wui-input-element\")],U4);const Rtt=wt`\n  :host {\n    position: relative;\n    width: 100%;\n    display: inline-block;\n    color: var(--wui-color-fg-275);\n  }\n\n  input {\n    width: 100%;\n    border-radius: var(--wui-border-radius-xs);\n    box-shadow: inset 0 0 0 1px var(--wui-color-gray-glass-002);\n    background: var(--wui-color-gray-glass-002);\n    font-size: var(--wui-font-size-paragraph);\n    letter-spacing: var(--wui-letter-spacing-paragraph);\n    color: var(--wui-color-fg-100);\n    transition:\n      background-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      border-color var(--wui-ease-inout-power-1) var(--wui-duration-md),\n      box-shadow var(--wui-ease-inout-power-1) var(--wui-duration-md);\n    will-change: background-color, border-color, box-shadow;\n    caret-color: var(--wui-color-accent-100);\n  }\n\n  input:disabled {\n    cursor: not-allowed;\n    border: 1px solid var(--wui-color-gray-glass-010);\n  }\n\n  input:disabled::placeholder,\n  input:disabled + wui-icon {\n    color: var(--wui-color-fg-300);\n  }\n\n  input::placeholder {\n    color: var(--wui-color-fg-275);\n  }\n\n  input:focus:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n    -webkit-box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n    -moz-box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n    box-shadow:\n      inset 0 0 0 1px var(--wui-color-accent-100),\n      0px 0px 0px 4px var(--wui-box-shadow-blue);\n  }\n\n  input:hover:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n\n  wui-icon {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n    pointer-events: none;\n  }\n\n  .wui-size-sm {\n    padding: 9px var(--wui-spacing-m) 10px var(--wui-spacing-s);\n  }\n\n  wui-icon + .wui-size-sm {\n    padding: 9px var(--wui-spacing-m) 10px 36px;\n  }\n\n  wui-icon[data-input='sm'] {\n    left: var(--wui-spacing-s);\n  }\n\n  .wui-size-md {\n    padding: 15px var(--wui-spacing-m) var(--wui-spacing-l) var(--wui-spacing-m);\n  }\n\n  wui-icon + .wui-size-md,\n  wui-loading-spinner + .wui-size-md {\n    padding: 10.5px var(--wui-spacing-3xl) 10.5px var(--wui-spacing-3xl);\n  }\n\n  wui-icon[data-input='md'] {\n    left: var(--wui-spacing-l);\n  }\n\n  .wui-size-lg {\n    padding: var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-s) var(--wui-spacing-l);\n    letter-spacing: var(--wui-letter-spacing-medium-title);\n    font-size: var(--wui-font-size-medium-title);\n    font-weight: var(--wui-font-weight-light);\n    line-height: 130%;\n    color: var(--wui-color-fg-100);\n    height: 64px;\n  }\n\n  .wui-padding-right-xs {\n    padding-right: var(--wui-spacing-xs);\n  }\n\n  .wui-padding-right-s {\n    padding-right: var(--wui-spacing-s);\n  }\n\n  .wui-padding-right-m {\n    padding-right: var(--wui-spacing-m);\n  }\n\n  .wui-padding-right-l {\n    padding-right: var(--wui-spacing-l);\n  }\n\n  .wui-padding-right-xl {\n    padding-right: var(--wui-spacing-xl);\n  }\n\n  .wui-padding-right-2xl {\n    padding-right: var(--wui-spacing-2xl);\n  }\n\n  .wui-padding-right-3xl {\n    padding-right: var(--wui-spacing-3xl);\n  }\n\n  .wui-padding-right-4xl {\n    padding-right: var(--wui-spacing-4xl);\n  }\n\n  .wui-padding-right-5xl {\n    padding-right: var(--wui-spacing-5xl);\n  }\n\n  wui-icon + .wui-size-lg,\n  wui-loading-spinner + .wui-size-lg {\n    padding-left: 50px;\n  }\n\n  wui-icon[data-input='lg'] {\n    left: var(--wui-spacing-l);\n  }\n\n  .wui-size-mdl {\n    padding: 17.25px var(--wui-spacing-m) 17.25px var(--wui-spacing-m);\n  }\n  wui-icon + .wui-size-mdl,\n  wui-loading-spinner + .wui-size-mdl {\n    padding: 17.25px var(--wui-spacing-3xl) 17.25px 40px;\n  }\n  wui-icon[data-input='mdl'] {\n    left: var(--wui-spacing-m);\n  }\n\n  input:placeholder-shown ~ ::slotted(wui-input-element),\n  input:placeholder-shown ~ ::slotted(wui-icon) {\n    opacity: 0;\n    pointer-events: none;\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n    margin: 0;\n  }\n\n  input[type='number'] {\n    -moz-appearance: textfield;\n  }\n\n  ::slotted(wui-input-element),\n  ::slotted(wui-icon) {\n    position: absolute;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n\n  ::slotted(wui-input-element) {\n    right: var(--wui-spacing-m);\n  }\n\n  ::slotted(wui-icon) {\n    right: 0px;\n  }\n`;var Rl=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Na=class extends it{constructor(){super(...arguments),this.inputElementRef=uM(),this.size=\"md\",this.disabled=!1,this.placeholder=\"\",this.type=\"text\",this.value=\"\"}render(){const e=`wui-padding-right-${this.inputRightPadding}`,r={[`wui-size-${this.size}`]:!0,[e]:!!this.inputRightPadding};return ne`${this.templateIcon()}\n      <input\n        data-testid=\"wui-input-text\"\n        ${dM(this.inputElementRef)}\n        class=${zle(r)}\n        type=${this.type}\n        enterkeyhint=${bt(this.enterKeyHint)}\n        ?disabled=${this.disabled}\n        placeholder=${this.placeholder}\n        @input=${this.dispatchInputChangeEvent.bind(this)}\n        .value=${this.value||\"\"}\n        tabindex=${bt(this.tabIdx)}\n      />\n      <slot></slot>`}templateIcon(){return this.icon?ne`<wui-icon\n        data-input=${this.size}\n        size=${this.size}\n        color=\"inherit\"\n        name=${this.icon}\n      ></wui-icon>`:null}dispatchInputChangeEvent(){var e;this.dispatchEvent(new CustomEvent(\"inputChange\",{detail:(e=this.inputElementRef.value)==null?void 0:e.value,bubbles:!0,composed:!0}))}};Na.styles=[fn,Ki,Rtt];Rl([ae()],Na.prototype,\"size\",void 0);Rl([ae()],Na.prototype,\"icon\",void 0);Rl([ae({type:Boolean})],Na.prototype,\"disabled\",void 0);Rl([ae()],Na.prototype,\"placeholder\",void 0);Rl([ae()],Na.prototype,\"type\",void 0);Rl([ae()],Na.prototype,\"keyHint\",void 0);Rl([ae()],Na.prototype,\"value\",void 0);Rl([ae()],Na.prototype,\"inputRightPadding\",void 0);Rl([ae()],Na.prototype,\"tabIdx\",void 0);Na=Rl([et(\"wui-input-text\")],Na);const ktt=wt`\n  :host {\n    position: relative;\n    display: inline-block;\n    width: 100%;\n  }\n`;var Mtt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let $O=class extends it{constructor(){super(...arguments),this.inputComponentRef=uM()}render(){return ne`\n      <wui-input-text\n        ${dM(this.inputComponentRef)}\n        placeholder=\"Search wallet\"\n        icon=\"search\"\n        type=\"search\"\n        enterKeyHint=\"search\"\n        size=\"sm\"\n      >\n        <wui-input-element @click=${this.clearValue} icon=\"close\"></wui-input-element>\n      </wui-input-text>\n    `}clearValue(){const e=this.inputComponentRef.value,n=e==null?void 0:e.inputElementRef.value;n&&(n.value=\"\",n.focus(),n.dispatchEvent(new Event(\"input\")))}};$O.styles=[fn,ktt];$O=Mtt([et(\"wui-search-bar\")],$O);const Dtt=qe`<svg  viewBox=\"0 0 48 54\" fill=\"none\">\n  <path\n    d=\"M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z\"\n  />\n</svg>`,Btt=wt`\n  :host {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    width: 104px;\n    row-gap: var(--wui-spacing-xs);\n    padding: var(--wui-spacing-xs) 10px;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);\n    position: relative;\n  }\n\n  wui-shimmer[data-type='network'] {\n    border: none;\n    -webkit-clip-path: var(--wui-path-network);\n    clip-path: var(--wui-path-network);\n  }\n\n  svg {\n    position: absolute;\n    width: 48px;\n    height: 54px;\n    z-index: 1;\n  }\n\n  svg > path {\n    stroke: var(--wui-color-gray-glass-010);\n    stroke-width: 1px;\n  }\n\n  @media (max-width: 350px) {\n    :host {\n      width: 100%;\n    }\n  }\n`;var eue=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let j4=class extends it{constructor(){super(...arguments),this.type=\"wallet\"}render(){return ne`\n      ${this.shimmerTemplate()}\n      <wui-shimmer width=\"56px\" height=\"20px\" borderRadius=\"xs\"></wui-shimmer>\n    `}shimmerTemplate(){return this.type===\"network\"?ne` <wui-shimmer\n          data-type=${this.type}\n          width=\"48px\"\n          height=\"54px\"\n          borderRadius=\"xs\"\n        ></wui-shimmer>\n        ${Dtt}`:ne`<wui-shimmer width=\"56px\" height=\"56px\" borderRadius=\"xs\"></wui-shimmer>`}};j4.styles=[fn,Ki,Btt];eue([ae()],j4.prototype,\"type\",void 0);j4=eue([et(\"wui-card-select-loader\")],j4);const Ltt=wt`\n  :host {\n    display: grid;\n    width: inherit;\n    height: inherit;\n  }\n`;var Da=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let eo=class extends it{render(){return this.style.cssText=`\n      grid-template-rows: ${this.gridTemplateRows};\n      grid-template-columns: ${this.gridTemplateColumns};\n      justify-items: ${this.justifyItems};\n      align-items: ${this.alignItems};\n      justify-content: ${this.justifyContent};\n      align-content: ${this.alignContent};\n      column-gap: ${this.columnGap&&`var(--wui-spacing-${this.columnGap})`};\n      row-gap: ${this.rowGap&&`var(--wui-spacing-${this.rowGap})`};\n      gap: ${this.gap&&`var(--wui-spacing-${this.gap})`};\n      padding-top: ${this.padding&&ci.getSpacingStyles(this.padding,0)};\n      padding-right: ${this.padding&&ci.getSpacingStyles(this.padding,1)};\n      padding-bottom: ${this.padding&&ci.getSpacingStyles(this.padding,2)};\n      padding-left: ${this.padding&&ci.getSpacingStyles(this.padding,3)};\n      margin-top: ${this.margin&&ci.getSpacingStyles(this.margin,0)};\n      margin-right: ${this.margin&&ci.getSpacingStyles(this.margin,1)};\n      margin-bottom: ${this.margin&&ci.getSpacingStyles(this.margin,2)};\n      margin-left: ${this.margin&&ci.getSpacingStyles(this.margin,3)};\n    `,ne`<slot></slot>`}};eo.styles=[fn,Ltt];Da([ae()],eo.prototype,\"gridTemplateRows\",void 0);Da([ae()],eo.prototype,\"gridTemplateColumns\",void 0);Da([ae()],eo.prototype,\"justifyItems\",void 0);Da([ae()],eo.prototype,\"alignItems\",void 0);Da([ae()],eo.prototype,\"justifyContent\",void 0);Da([ae()],eo.prototype,\"alignContent\",void 0);Da([ae()],eo.prototype,\"columnGap\",void 0);Da([ae()],eo.prototype,\"rowGap\",void 0);Da([ae()],eo.prototype,\"gap\",void 0);Da([ae()],eo.prototype,\"padding\",void 0);Da([ae()],eo.prototype,\"margin\",void 0);eo=Da([et(\"wui-grid\")],eo);const Utt=wt`\n  button {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    width: 104px;\n    row-gap: var(--wui-spacing-xs);\n    padding: var(--wui-spacing-s) var(--wui-spacing-0);\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: clamp(0px, var(--wui-border-radius-xs), 20px);\n    transition:\n      color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: background-color, color, border-radius;\n    outline: none;\n    border: none;\n  }\n\n  button > wui-flex > wui-text {\n    color: var(--wui-color-fg-100);\n    max-width: 86px;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    justify-content: center;\n  }\n\n  button > wui-flex > wui-text.certified {\n    max-width: 66px;\n  }\n\n  button:hover:enabled {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n\n  button:disabled > wui-flex > wui-text {\n    color: var(--wui-color-gray-glass-015);\n  }\n\n  [data-selected='true'] {\n    background-color: var(--wui-color-accent-glass-020);\n  }\n\n  @media (hover: hover) and (pointer: fine) {\n    [data-selected='true']:hover:enabled {\n      background-color: var(--wui-color-accent-glass-015);\n    }\n  }\n\n  [data-selected='true']:active:enabled {\n    background-color: var(--wui-color-accent-glass-010);\n  }\n\n  @media (max-width: 350px) {\n    button {\n      width: 100%;\n    }\n  }\n`;var M5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let _p=class extends it{constructor(){super(),this.observer=new IntersectionObserver(()=>{}),this.visible=!1,this.imageSrc=void 0,this.imageLoading=!1,this.wallet=void 0,this.observer=new IntersectionObserver(e=>{e.forEach(n=>{n.isIntersecting?(this.visible=!0,this.fetchImageSrc()):this.visible=!1})},{threshold:.01})}firstUpdated(){this.observer.observe(this)}disconnectedCallback(){this.observer.disconnect()}render(){var n,r;const e=((n=this.wallet)==null?void 0:n.badge_type)===\"certified\";return ne`\n      <button>\n        ${this.imageTemplate()}\n        <wui-flex flexDirection=\"row\" alignItems=\"center\" justifyContent=\"center\" gap=\"3xs\">\n          <wui-text\n            variant=\"tiny-500\"\n            color=\"inherit\"\n            class=${bt(e?\"certified\":void 0)}\n            >${(r=this.wallet)==null?void 0:r.name}</wui-text\n          >\n          ${e?ne`<wui-icon size=\"sm\" name=\"walletConnectBrown\"></wui-icon>`:null}\n        </wui-flex>\n      </button>\n    `}imageTemplate(){var e,n;return!this.visible&&!this.imageSrc||this.imageLoading?this.shimmerTemplate():ne`\n      <wui-wallet-image\n        size=\"md\"\n        imageSrc=${bt(this.imageSrc)}\n        name=${(e=this.wallet)==null?void 0:e.name}\n        .installed=${(n=this.wallet)==null?void 0:n.installed}\n        badgeSize=\"sm\"\n      >\n      </wui-wallet-image>\n    `}shimmerTemplate(){return ne`<wui-shimmer width=\"56px\" height=\"56px\" borderRadius=\"xs\"></wui-shimmer>`}async fetchImageSrc(){this.wallet&&(this.imageSrc=Hr.getWalletImage(this.wallet),!this.imageSrc&&(this.imageLoading=!0,this.imageSrc=await Hr.fetchWalletImage(this.wallet.image_id),this.imageLoading=!1))}};_p.styles=Utt;M5([Ye()],_p.prototype,\"visible\",void 0);M5([Ye()],_p.prototype,\"imageSrc\",void 0);M5([Ye()],_p.prototype,\"imageLoading\",void 0);M5([ae()],_p.prototype,\"wallet\",void 0);_p=M5([et(\"w3m-all-wallets-list-item\")],_p);const jtt=wt`\n  wui-grid {\n    max-height: clamp(360px, 400px, 80vh);\n    overflow: scroll;\n    scrollbar-width: none;\n    grid-auto-rows: min-content;\n    grid-template-columns: repeat(auto-fill, 104px);\n  }\n\n  @media (max-width: 350px) {\n    wui-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n\n  wui-grid[data-scroll='false'] {\n    overflow: hidden;\n  }\n\n  wui-grid::-webkit-scrollbar {\n    display: none;\n  }\n\n  wui-loading-spinner {\n    padding-top: var(--wui-spacing-l);\n    padding-bottom: var(--wui-spacing-l);\n    justify-content: center;\n    grid-column: 1 / span 4;\n  }\n`;var Dy=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const rY=\"local-paginator\";let oh=class extends it{constructor(){super(),this.unsubscribe=[],this.paginationObserver=void 0,this.loading=!Ue.state.wallets.length,this.wallets=Ue.state.wallets,this.recommended=Ue.state.recommended,this.featured=Ue.state.featured,this.filteredWallets=Ue.state.filteredWallets,this.unsubscribe.push(Ue.subscribeKey(\"wallets\",e=>this.wallets=e),Ue.subscribeKey(\"recommended\",e=>this.recommended=e),Ue.subscribeKey(\"featured\",e=>this.featured=e),Ue.subscribeKey(\"filteredWallets\",e=>this.filteredWallets=e))}firstUpdated(){this.initialFetch(),this.createPaginationObserver()}disconnectedCallback(){var e;this.unsubscribe.forEach(n=>n()),(e=this.paginationObserver)==null||e.disconnect()}render(){return ne`\n      <wui-grid\n        data-scroll=${!this.loading}\n        .padding=${[\"0\",\"s\",\"s\",\"s\"]}\n        columnGap=\"xxs\"\n        rowGap=\"l\"\n        justifyContent=\"space-between\"\n      >\n        ${this.loading?this.shimmerTemplate(16):this.walletsTemplate()}\n        ${this.paginationLoaderTemplate()}\n      </wui-grid>\n    `}async initialFetch(){var n;this.loading=!0;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(\"wui-grid\");e&&(await Ue.fetchWalletsByPage({page:1}),await e.animate([{opacity:1},{opacity:0}],{duration:200,fill:\"forwards\",easing:\"ease\"}).finished,this.loading=!1,e.animate([{opacity:0},{opacity:1}],{duration:200,fill:\"forwards\",easing:\"ease\"}))}shimmerTemplate(e,n){return[...Array(e)].map(()=>ne`\n        <wui-card-select-loader type=\"wallet\" id=${bt(n)}></wui-card-select-loader>\n      `)}walletsTemplate(){var r;const e=((r=this.filteredWallets)==null?void 0:r.length)>0?Me.uniqueBy([...this.featured,...this.recommended,...this.filteredWallets],\"id\"):Me.uniqueBy([...this.featured,...this.recommended,...this.wallets],\"id\");return pp.markWalletsAsInstalled(e).map(i=>ne`\n        <w3m-all-wallets-list-item\n          @click=${()=>this.onConnectWallet(i)}\n          .wallet=${i}\n        ></w3m-all-wallets-list-item>\n      `)}paginationLoaderTemplate(){const{wallets:e,recommended:n,featured:r,count:i}=Ue.state,s=window.innerWidth<352?3:4,o=e.length+n.length;let c=Math.ceil(o/s)*s-o+s;return c-=e.length?r.length%s:0,i===0&&r.length>0?null:i===0||[...r,...e,...n].length<i?this.shimmerTemplate(c,rY):null}createPaginationObserver(){var n;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(`#${rY}`);e&&(this.paginationObserver=new IntersectionObserver(([r])=>{if(r!=null&&r.isIntersecting&&!this.loading){const{page:i,count:s,wallets:o}=Ue.state;o.length<s&&Ue.fetchWalletsByPage({page:i+1})}}),this.paginationObserver.observe(e))}onConnectWallet(e){Ne.selectWalletConnector(e)}};oh.styles=jtt;Dy([Ye()],oh.prototype,\"loading\",void 0);Dy([Ye()],oh.prototype,\"wallets\",void 0);Dy([Ye()],oh.prototype,\"recommended\",void 0);Dy([Ye()],oh.prototype,\"featured\",void 0);Dy([Ye()],oh.prototype,\"filteredWallets\",void 0);oh=Dy([et(\"w3m-all-wallets-list\")],oh);const ztt=wt`\n  wui-grid,\n  wui-loading-spinner,\n  wui-flex {\n    height: 360px;\n  }\n\n  wui-grid {\n    overflow: scroll;\n    scrollbar-width: none;\n    grid-auto-rows: min-content;\n    grid-template-columns: repeat(auto-fill, 104px);\n  }\n\n  wui-grid[data-scroll='false'] {\n    overflow: hidden;\n  }\n\n  wui-grid::-webkit-scrollbar {\n    display: none;\n  }\n\n  wui-loading-spinner {\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media (max-width: 350px) {\n    wui-grid {\n      grid-template-columns: repeat(2, 1fr);\n    }\n  }\n`;var T9=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let sy=class extends it{constructor(){super(...arguments),this.prevQuery=\"\",this.prevBadge=void 0,this.loading=!0,this.query=\"\"}render(){return this.onSearch(),this.loading?ne`<wui-loading-spinner color=\"accent-100\"></wui-loading-spinner>`:this.walletsTemplate()}async onSearch(){(this.query.trim()!==this.prevQuery.trim()||this.badge!==this.prevBadge)&&(this.prevQuery=this.query,this.prevBadge=this.badge,this.loading=!0,await Ue.searchWallet({search:this.query,badge:this.badge}),this.loading=!1)}walletsTemplate(){const{search:e}=Ue.state,n=pp.markWalletsAsInstalled(e);return e.length?ne`\n      <wui-grid\n        data-testid=\"wallet-list\"\n        .padding=${[\"0\",\"s\",\"s\",\"s\"]}\n        rowGap=\"l\"\n        columnGap=\"xs\"\n        justifyContent=\"space-between\"\n      >\n        ${n.map(r=>ne`\n            <w3m-all-wallets-list-item\n              @click=${()=>this.onConnectWallet(r)}\n              .wallet=${r}\n              data-testid=\"wallet-search-item-${r.id}\"\n            ></w3m-all-wallets-list-item>\n          `)}\n      </wui-grid>\n    `:ne`\n        <wui-flex\n          data-testid=\"no-wallet-found\"\n          justifyContent=\"center\"\n          alignItems=\"center\"\n          gap=\"s\"\n          flexDirection=\"column\"\n        >\n          <wui-icon-box\n            size=\"lg\"\n            iconColor=\"fg-200\"\n            backgroundColor=\"fg-300\"\n            icon=\"wallet\"\n            background=\"transparent\"\n          ></wui-icon-box>\n          <wui-text data-testid=\"no-wallet-found-text\" color=\"fg-200\" variant=\"paragraph-500\">\n            No Wallet found\n          </wui-text>\n        </wui-flex>\n      `}onConnectWallet(e){Ne.selectWalletConnector(e)}};sy.styles=ztt;T9([Ye()],sy.prototype,\"loading\",void 0);T9([ae()],sy.prototype,\"query\",void 0);T9([ae()],sy.prototype,\"badge\",void 0);sy=T9([et(\"w3m-all-wallets-search\")],sy);var fM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let w2=class extends it{constructor(){super(...arguments),this.search=\"\",this.onDebouncedSearch=Me.debounce(e=>{this.search=e})}render(){const e=this.search.length>=2;return ne`\n      <wui-flex .padding=${[\"0\",\"s\",\"s\",\"s\"]} gap=\"xs\">\n        <wui-search-bar @inputChange=${this.onInputChange.bind(this)}></wui-search-bar>\n        <wui-certified-switch\n          ?checked=${this.badge}\n          @click=${this.onClick.bind(this)}\n          data-testid=\"wui-certified-switch\"\n        ></wui-certified-switch>\n        ${this.qrButtonTemplate()}\n      </wui-flex>\n      ${e||this.badge?ne`<w3m-all-wallets-search\n            query=${this.search}\n            badge=${bt(this.badge)}\n          ></w3m-all-wallets-search>`:ne`<w3m-all-wallets-list badge=${bt(this.badge)}></w3m-all-wallets-list>`}\n    `}onInputChange(e){this.onDebouncedSearch(e.detail)}onClick(){if(this.badge===\"certified\"){this.badge=void 0;return}this.badge=\"certified\",Er.showSvg(\"Only WalletConnect certified\",{icon:\"walletConnectBrown\",iconColor:\"accent-100\"})}qrButtonTemplate(){return Me.isMobile()?ne`\n        <wui-icon-box\n          size=\"lg\"\n          iconSize=\"xl\"\n          iconColor=\"accent-100\"\n          backgroundColor=\"accent-100\"\n          icon=\"qrCode\"\n          background=\"transparent\"\n          border\n          borderColor=\"wui-accent-glass-010\"\n          @click=${this.onWalletConnectQr.bind(this)}\n        ></wui-icon-box>\n      `:null}onWalletConnectQr(){Le.push(\"ConnectingWalletConnect\")}};fM([Ye()],w2.prototype,\"search\",void 0);fM([Ye()],w2.prototype,\"badge\",void 0);w2=fM([et(\"w3m-all-wallets-view\")],w2);const Ftt=wt`\n  button {\n    column-gap: var(--wui-spacing-s);\n    padding: 11px 18px 11px var(--wui-spacing-s);\n    width: 100%;\n    background-color: var(--wui-color-gray-glass-002);\n    border-radius: var(--wui-border-radius-xs);\n    color: var(--wui-color-fg-250);\n    transition:\n      color var(--wui-ease-out-power-1) var(--wui-duration-md),\n      background-color var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: color, background-color;\n  }\n\n  button[data-iconvariant='square'],\n  button[data-iconvariant='square-blue'] {\n    padding: 6px 18px 6px 9px;\n  }\n\n  button > wui-flex {\n    flex: 1;\n  }\n\n  button > wui-image {\n    width: 32px;\n    height: 32px;\n    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);\n    border-radius: var(--wui-border-radius-3xl);\n  }\n\n  button > wui-icon {\n    width: 36px;\n    height: 36px;\n    transition: opacity var(--wui-ease-out-power-1) var(--wui-duration-md);\n    will-change: opacity;\n  }\n\n  button > wui-icon-box[data-variant='blue'] {\n    box-shadow: 0 0 0 2px var(--wui-color-accent-glass-005);\n  }\n\n  button > wui-icon-box[data-variant='overlay'] {\n    box-shadow: 0 0 0 2px var(--wui-color-gray-glass-005);\n  }\n\n  button > wui-icon-box[data-variant='square-blue'] {\n    border-radius: var(--wui-border-radius-3xs);\n    position: relative;\n    border: none;\n    width: 36px;\n    height: 36px;\n  }\n\n  button > wui-icon-box[data-variant='square-blue']::after {\n    content: '';\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    border-radius: inherit;\n    border: 1px solid var(--wui-color-accent-glass-010);\n    pointer-events: none;\n  }\n\n  button > wui-icon:last-child {\n    width: 14px;\n    height: 14px;\n  }\n\n  button:disabled {\n    color: var(--wui-color-gray-glass-020);\n  }\n\n  button[data-loading='true'] > wui-icon {\n    opacity: 0;\n  }\n\n  wui-loading-spinner {\n    position: absolute;\n    right: 18px;\n    top: 50%;\n    transform: translateY(-50%);\n  }\n`;var Oc=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Vo=class extends it{constructor(){super(...arguments),this.tabIdx=void 0,this.variant=\"icon\",this.disabled=!1,this.imageSrc=void 0,this.alt=void 0,this.chevron=!1,this.loading=!1}render(){return ne`\n      <button\n        ?disabled=${this.loading?!0:!!this.disabled}\n        data-loading=${this.loading}\n        data-iconvariant=${bt(this.iconVariant)}\n        tabindex=${bt(this.tabIdx)}\n      >\n        ${this.loadingTemplate()} ${this.visualTemplate()}\n        <wui-flex gap=\"3xs\">\n          <slot></slot>\n        </wui-flex>\n        ${this.chevronTemplate()}\n      </button>\n    `}visualTemplate(){if(this.variant===\"image\"&&this.imageSrc)return ne`<wui-image src=${this.imageSrc} alt=${this.alt??\"list item\"}></wui-image>`;if(this.iconVariant===\"square\"&&this.icon&&this.variant===\"icon\")return ne`<wui-icon name=${this.icon}></wui-icon>`;if(this.variant===\"icon\"&&this.icon&&this.iconVariant){const e=[\"blue\",\"square-blue\"].includes(this.iconVariant)?\"accent-100\":\"fg-200\",n=this.iconVariant===\"square-blue\"?\"mdl\":\"md\",r=this.iconSize?this.iconSize:n;return ne`\n        <wui-icon-box\n          data-variant=${this.iconVariant}\n          icon=${this.icon}\n          iconSize=${r}\n          background=\"transparent\"\n          iconColor=${e}\n          backgroundColor=${e}\n          size=${n}\n        ></wui-icon-box>\n      `}return null}loadingTemplate(){return this.loading?ne`<wui-loading-spinner\n        data-testid=\"wui-list-item-loading-spinner\"\n        color=\"fg-300\"\n      ></wui-loading-spinner>`:ne``}chevronTemplate(){return this.chevron?ne`<wui-icon size=\"inherit\" color=\"fg-200\" name=\"chevronRight\"></wui-icon>`:null}};Vo.styles=[fn,Ki,Ftt];Oc([ae()],Vo.prototype,\"icon\",void 0);Oc([ae()],Vo.prototype,\"iconSize\",void 0);Oc([ae()],Vo.prototype,\"tabIdx\",void 0);Oc([ae()],Vo.prototype,\"variant\",void 0);Oc([ae()],Vo.prototype,\"iconVariant\",void 0);Oc([ae({type:Boolean})],Vo.prototype,\"disabled\",void 0);Oc([ae()],Vo.prototype,\"imageSrc\",void 0);Oc([ae()],Vo.prototype,\"alt\",void 0);Oc([ae({type:Boolean})],Vo.prototype,\"chevron\",void 0);Oc([ae({type:Boolean})],Vo.prototype,\"loading\",void 0);Vo=Oc([et(\"wui-list-item\")],Vo);var qtt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let IO=class extends it{constructor(){var e;super(...arguments),this.wallet=(e=Le.state.data)==null?void 0:e.wallet}render(){if(!this.wallet)throw new Error(\"w3m-downloads-view\");return ne`\n      <wui-flex gap=\"xs\" flexDirection=\"column\" .padding=${[\"s\",\"s\",\"l\",\"s\"]}>\n        ${this.chromeTemplate()} ${this.iosTemplate()} ${this.androidTemplate()}\n        ${this.homepageTemplate()}\n      </wui-flex>\n    `}chromeTemplate(){var e;return(e=this.wallet)!=null&&e.chrome_store?ne`<wui-list-item\n      variant=\"icon\"\n      icon=\"chromeStore\"\n      iconVariant=\"square\"\n      @click=${this.onChromeStore.bind(this)}\n      chevron\n    >\n      <wui-text variant=\"paragraph-500\" color=\"fg-100\">Chrome Extension</wui-text>\n    </wui-list-item>`:null}iosTemplate(){var e;return(e=this.wallet)!=null&&e.app_store?ne`<wui-list-item\n      variant=\"icon\"\n      icon=\"appStore\"\n      iconVariant=\"square\"\n      @click=${this.onAppStore.bind(this)}\n      chevron\n    >\n      <wui-text variant=\"paragraph-500\" color=\"fg-100\">iOS App</wui-text>\n    </wui-list-item>`:null}androidTemplate(){var e;return(e=this.wallet)!=null&&e.play_store?ne`<wui-list-item\n      variant=\"icon\"\n      icon=\"playStore\"\n      iconVariant=\"square\"\n      @click=${this.onPlayStore.bind(this)}\n      chevron\n    >\n      <wui-text variant=\"paragraph-500\" color=\"fg-100\">Android App</wui-text>\n    </wui-list-item>`:null}homepageTemplate(){var e;return(e=this.wallet)!=null&&e.homepage?ne`\n      <wui-list-item\n        variant=\"icon\"\n        icon=\"browser\"\n        iconVariant=\"square-blue\"\n        @click=${this.onHomePage.bind(this)}\n        chevron\n      >\n        <wui-text variant=\"paragraph-500\" color=\"fg-100\">Website</wui-text>\n      </wui-list-item>\n    `:null}onChromeStore(){var e;(e=this.wallet)!=null&&e.chrome_store&&Me.openHref(this.wallet.chrome_store,\"_blank\")}onAppStore(){var e;(e=this.wallet)!=null&&e.app_store&&Me.openHref(this.wallet.app_store,\"_blank\")}onPlayStore(){var e;(e=this.wallet)!=null&&e.play_store&&Me.openHref(this.wallet.play_store,\"_blank\")}onHomePage(){var e;(e=this.wallet)!=null&&e.homepage&&Me.openHref(this.wallet.homepage,\"_blank\")}};IO=qtt([et(\"w3m-downloads-view\")],IO);const Htt=Object.freeze(Object.defineProperty({__proto__:null,get W3mAllWalletsView(){return w2},get W3mConnectingWcBasicView(){return D4},get W3mDownloadsView(){return IO}},Symbol.toStringTag,{value:\"Module\"})),Vtt=wt`\n  :host {\n    display: block;\n    border-radius: clamp(0px, var(--wui-border-radius-l), 44px);\n    box-shadow: 0 0 0 1px var(--wui-color-gray-glass-005);\n    background-color: var(--wui-color-modal-bg);\n    overflow: hidden;\n  }\n\n  :host([data-embedded='true']) {\n    box-shadow:\n      0 0 0 1px var(--wui-color-gray-glass-005),\n      0px 4px 12px 4px var(--w3m-card-embedded-shadow-color);\n  }\n`;var Ktt=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let TO=class extends it{render(){return ne`<slot></slot>`}};TO.styles=[fn,Vtt];TO=Ktt([et(\"wui-card\")],TO);const Wtt=wt`\n  :host {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-dark-glass-100);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-325);\n    box-shadow: 0px 0px 16px 0px rgba(0, 0, 0, 0.25);\n  }\n\n  wui-flex {\n    width: 100%;\n  }\n\n  wui-text {\n    word-break: break-word;\n    flex: 1;\n  }\n\n  .close {\n    cursor: pointer;\n  }\n\n  .icon-box {\n    height: 40px;\n    width: 40px;\n    border-radius: var(--wui-border-radius-3xs);\n    background-color: var(--local-icon-bg-value);\n  }\n`;var D5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Cp=class extends it{constructor(){super(...arguments),this.message=\"\",this.backgroundColor=\"accent-100\",this.iconColor=\"accent-100\",this.icon=\"info\"}render(){return this.style.cssText=`\n      --local-icon-bg-value: var(--wui-color-${this.backgroundColor});\n   `,ne`\n      <wui-flex flexDirection=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n        <wui-flex columnGap=\"xs\" flexDirection=\"row\" alignItems=\"center\">\n          <wui-flex\n            flexDirection=\"row\"\n            alignItems=\"center\"\n            justifyContent=\"center\"\n            class=\"icon-box\"\n          >\n            <wui-icon color=${this.iconColor} size=\"md\" name=${this.icon}></wui-icon>\n          </wui-flex>\n          <wui-text variant=\"small-500\" color=\"bg-350\" data-testid=\"wui-alertbar-text\"\n            >${this.message}</wui-text\n          >\n        </wui-flex>\n        <wui-icon\n          class=\"close\"\n          color=\"bg-350\"\n          size=\"sm\"\n          name=\"close\"\n          @click=${this.onClose}\n        ></wui-icon>\n      </wui-flex>\n    `}onClose(){nc.close()}};Cp.styles=[fn,Wtt];D5([ae()],Cp.prototype,\"message\",void 0);D5([ae()],Cp.prototype,\"backgroundColor\",void 0);D5([ae()],Cp.prototype,\"iconColor\",void 0);D5([ae()],Cp.prototype,\"icon\",void 0);Cp=D5([et(\"wui-alertbar\")],Cp);const Gtt=wt`\n  :host {\n    display: block;\n    position: absolute;\n    top: var(--wui-spacing-s);\n    left: var(--wui-spacing-l);\n    right: var(--wui-spacing-l);\n    opacity: 0;\n    pointer-events: none;\n  }\n`;var tue=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Ztt={info:{backgroundColor:\"fg-350\",iconColor:\"fg-325\",icon:\"info\"},success:{backgroundColor:\"success-glass-reown-020\",iconColor:\"success-125\",icon:\"checkmark\"},warning:{backgroundColor:\"warning-glass-reown-020\",iconColor:\"warning-100\",icon:\"warningCircle\"},error:{backgroundColor:\"error-glass-reown-020\",iconColor:\"error-125\",icon:\"exclamationTriangle\"}};let z4=class extends it{constructor(){super(),this.unsubscribe=[],this.open=nc.state.open,this.onOpen(!0),this.unsubscribe.push(nc.subscribeKey(\"open\",e=>{this.open=e,this.onOpen(!1)}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n}=nc.state,r=Ztt[n];return ne`\n      <wui-alertbar\n        message=${e}\n        backgroundColor=${r==null?void 0:r.backgroundColor}\n        iconColor=${r==null?void 0:r.iconColor}\n        icon=${r==null?void 0:r.icon}\n      ></wui-alertbar>\n    `}onOpen(e){this.open?(this.animate([{opacity:0,transform:\"scale(0.85)\"},{opacity:1,transform:\"scale(1)\"}],{duration:150,fill:\"forwards\",easing:\"ease\"}),this.style.cssText=\"pointer-events: auto\"):e||(this.animate([{opacity:1,transform:\"scale(1)\"},{opacity:0,transform:\"scale(0.85)\"}],{duration:150,fill:\"forwards\",easing:\"ease\"}),this.style.cssText=\"pointer-events: none\")}};z4.styles=Gtt;tue([Ye()],z4.prototype,\"open\",void 0);z4=tue([et(\"w3m-alertbar\")],z4);const Ytt=wt`\n  button {\n    border-radius: var(--local-border-radius);\n    color: var(--wui-color-fg-100);\n    padding: var(--local-padding);\n  }\n\n  @media (max-width: 700px) {\n    button {\n      padding: var(--wui-spacing-s);\n    }\n  }\n\n  button > wui-icon {\n    pointer-events: none;\n  }\n\n  button:disabled > wui-icon {\n    color: var(--wui-color-bg-300) !important;\n  }\n\n  button:disabled {\n    background-color: transparent;\n  }\n`;var B5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let Sp=class extends it{constructor(){super(...arguments),this.size=\"md\",this.disabled=!1,this.icon=\"copy\",this.iconColor=\"inherit\"}render(){const e=this.size===\"lg\"?\"--wui-border-radius-xs\":\"--wui-border-radius-xxs\",n=this.size===\"lg\"?\"--wui-spacing-1xs\":\"--wui-spacing-2xs\";return this.style.cssText=`\n    --local-border-radius: var(${e});\n    --local-padding: var(${n});\n`,ne`\n      <button ?disabled=${this.disabled}>\n        <wui-icon color=${this.iconColor} size=${this.size} name=${this.icon}></wui-icon>\n      </button>\n    `}};Sp.styles=[fn,Ki,I5,Ytt];B5([ae()],Sp.prototype,\"size\",void 0);B5([ae({type:Boolean})],Sp.prototype,\"disabled\",void 0);B5([ae()],Sp.prototype,\"icon\",void 0);B5([ae()],Sp.prototype,\"iconColor\",void 0);Sp=B5([et(\"wui-icon-link\")],Sp);const Jtt=wt`\n  button {\n    display: block;\n    display: flex;\n    align-items: center;\n    padding: var(--wui-spacing-xxs);\n    gap: var(--wui-spacing-xxs);\n    transition: all var(--wui-ease-out-power-1) var(--wui-duration-md);\n    border-radius: var(--wui-border-radius-xxs);\n  }\n\n  wui-image {\n    border-radius: 100%;\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  wui-icon-box {\n    width: var(--wui-spacing-xl);\n    height: var(--wui-spacing-xl);\n  }\n\n  button:hover {\n    background-color: var(--wui-color-gray-glass-002);\n  }\n\n  button:active {\n    background-color: var(--wui-color-gray-glass-005);\n  }\n`;var nue=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let F4=class extends it{constructor(){super(...arguments),this.imageSrc=\"\"}render(){return ne`<button>\n      ${this.imageTemplate()}\n      <wui-icon size=\"xs\" color=\"fg-200\" name=\"chevronBottom\"></wui-icon>\n    </button>`}imageTemplate(){return this.imageSrc?ne`<wui-image src=${this.imageSrc} alt=\"select visual\"></wui-image>`:ne`<wui-icon-box\n      size=\"xxs\"\n      iconColor=\"fg-200\"\n      backgroundColor=\"fg-100\"\n      background=\"opaque\"\n      icon=\"networkPlaceholder\"\n    ></wui-icon-box>`}};F4.styles=[fn,Ki,I5,Jtt];nue([ae()],F4.prototype,\"imageSrc\",void 0);F4=nue([et(\"wui-select\")],F4);const Xtt=wt`\n  :host {\n    height: 64px;\n  }\n\n  wui-text {\n    text-transform: capitalize;\n  }\n\n  wui-flex.w3m-header-title {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  wui-flex.w3m-header-title[view-direction='prev'] {\n    animation:\n      slide-down-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-down-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-flex.w3m-header-title[view-direction='next'] {\n    animation:\n      slide-up-out 120ms forwards var(--wui-ease-out-power-2),\n      slide-up-in 120ms forwards var(--wui-ease-out-power-2);\n    animation-delay: 0ms, 200ms;\n  }\n\n  wui-icon-link[data-hidden='true'] {\n    opacity: 0 !important;\n    pointer-events: none;\n  }\n\n  @keyframes slide-up-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-up-in {\n    from {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-down-out {\n    from {\n      transform: translateY(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateY(-3px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-down-in {\n    from {\n      transform: translateY(3px);\n      opacity: 0;\n    }\n    to {\n      transform: translateY(0);\n      opacity: 1;\n    }\n  }\n`;var yd=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const Qtt=[\"SmartSessionList\"];function O$(){var o,a,c,l,d,h,p;const t=(a=(o=Le.state.data)==null?void 0:o.connector)==null?void 0:a.name,e=(l=(c=Le.state.data)==null?void 0:c.wallet)==null?void 0:l.name,n=(h=(d=Le.state.data)==null?void 0:d.network)==null?void 0:h.name,r=e??t,i=Ne.getConnectors();return{Connect:`Connect ${i.length===1&&((p=i[0])==null?void 0:p.id)===\"w3m-email\"?\"Email\":\"\"} Wallet`,Create:\"Create Wallet\",ChooseAccountName:void 0,Account:void 0,AccountSettings:void 0,AllWallets:\"All Wallets\",ApproveTransaction:\"Approve Transaction\",BuyInProgress:\"Buy\",ConnectingExternal:r??\"Connect Wallet\",ConnectingWalletConnect:r??\"WalletConnect\",ConnectingWalletConnectBasic:\"WalletConnect\",ConnectingSiwe:\"Sign In\",Convert:\"Convert\",ConvertSelectToken:\"Select token\",ConvertPreview:\"Preview convert\",Downloads:r?`Get ${r}`:\"Downloads\",EmailLogin:\"Email Login\",EmailVerifyOtp:\"Confirm Email\",EmailVerifyDevice:\"Register Device\",GetWallet:\"Get a wallet\",Networks:\"Choose Network\",OnRampProviders:\"Choose Provider\",OnRampActivity:\"Activity\",OnRampTokenSelect:\"Select Token\",OnRampFiatSelect:\"Select Currency\",Pay:\"How you pay\",Profile:void 0,SwitchNetwork:n??\"Switch Network\",SwitchAddress:\"Switch Address\",Transactions:\"Activity\",UnsupportedChain:\"Switch Network\",UpgradeEmailWallet:\"Upgrade your Wallet\",UpdateEmailWallet:\"Edit Email\",UpdateEmailPrimaryOtp:\"Confirm Current Email\",UpdateEmailSecondaryOtp:\"Confirm New Email\",WhatIsABuy:\"What is Buy?\",RegisterAccountName:\"Choose name\",RegisterAccountNameSuccess:\"\",WalletReceive:\"Receive\",WalletCompatibleNetworks:\"Compatible Networks\",Swap:\"Swap\",SwapSelectToken:\"Select token\",SwapPreview:\"Preview swap\",WalletSend:\"Send\",WalletSendPreview:\"Review send\",WalletSendSelectToken:\"Select Token\",WhatIsANetwork:\"What is a network?\",WhatIsAWallet:\"What is a wallet?\",ConnectWallets:\"Connect wallet\",ConnectSocials:\"All socials\",ConnectingSocial:at.state.socialProvider?at.state.socialProvider:\"Connect Social\",ConnectingMultiChain:\"Select chain\",ConnectingFarcaster:\"Farcaster\",SwitchActiveChain:\"Switch chain\",SmartSessionCreated:void 0,SmartSessionList:\"Smart Sessions\",SIWXSignMessage:\"Sign In\",PayLoading:\"Payment in progress\"}}let Sc=class extends it{constructor(){super(),this.unsubscribe=[],this.heading=O$()[Le.state.view],this.network=ee.state.activeCaipNetwork,this.networkImage=Hr.getNetworkImage(this.network),this.showBack=!1,this.prevHistoryLength=1,this.view=Le.state.view,this.viewDirection=\"\",this.headerText=O$()[Le.state.view],this.unsubscribe.push(Zs.subscribeNetworkImages(()=>{this.networkImage=Hr.getNetworkImage(this.network)}),Le.subscribeKey(\"view\",e=>{setTimeout(()=>{this.view=e,this.headerText=O$()[e]},kf.ANIMATION_DURATIONS.HeaderText),this.onViewChange(),this.onHistoryChange()}),ee.subscribeKey(\"activeCaipNetwork\",e=>{this.network=e,this.networkImage=Hr.getNetworkImage(this.network)}))}disconnectCallback(){this.unsubscribe.forEach(e=>e())}render(){return ne`\n      <wui-flex .padding=${this.getPadding()} justifyContent=\"space-between\" alignItems=\"center\">\n        ${this.leftHeaderTemplate()} ${this.titleTemplate()} ${this.rightHeaderTemplate()}\n      </wui-flex>\n    `}onWalletHelp(){jt.sendEvent({type:\"track\",event:\"CLICK_WALLET_HELP\"}),Le.push(\"WhatIsAWallet\")}async onClose(){await $le.safeClose()}rightHeaderTemplate(){var n,r;const e=(r=(n=Se==null?void 0:Se.state)==null?void 0:n.features)==null?void 0:r.smartSessions;return Le.state.view!==\"Account\"||!e?this.closeButtonTemplate():ne`<wui-flex>\n      <wui-icon-link\n        icon=\"clock\"\n        @click=${()=>Le.push(\"SmartSessionList\")}\n        data-testid=\"w3m-header-smart-sessions\"\n      ></wui-icon-link>\n      ${this.closeButtonTemplate()}\n    </wui-flex> `}closeButtonTemplate(){return ne`\n      <wui-icon-link\n        icon=\"close\"\n        @click=${this.onClose.bind(this)}\n        data-testid=\"w3m-header-close\"\n      ></wui-icon-link>\n    `}titleTemplate(){const e=Qtt.includes(this.view);return ne`\n      <wui-flex\n        view-direction=\"${this.viewDirection}\"\n        class=\"w3m-header-title\"\n        alignItems=\"center\"\n        gap=\"xs\"\n      >\n        <wui-text variant=\"paragraph-700\" color=\"fg-100\" data-testid=\"w3m-header-text\"\n          >${this.headerText}</wui-text\n        >\n        ${e?ne`<wui-tag variant=\"main\">Beta</wui-tag>`:null}\n      </wui-flex>\n    `}leftHeaderTemplate(){var l;const{view:e}=Le.state,n=e===\"Connect\",r=Se.state.enableEmbedded,i=e===\"ApproveTransaction\",s=e===\"ConnectingSiwe\",o=e===\"Account\",a=Se.state.enableNetworkSwitch,c=i||s||n&&r;return o&&a?ne`<wui-select\n        id=\"dynamic\"\n        data-testid=\"w3m-account-select-network\"\n        active-network=${bt((l=this.network)==null?void 0:l.name)}\n        @click=${this.onNetworks.bind(this)}\n        imageSrc=${bt(this.networkImage)}\n      ></wui-select>`:this.showBack&&!c?ne`<wui-icon-link\n        data-testid=\"header-back\"\n        id=\"dynamic\"\n        icon=\"chevronLeft\"\n        @click=${this.onGoBack.bind(this)}\n      ></wui-icon-link>`:ne`<wui-icon-link\n      data-hidden=${!n}\n      id=\"dynamic\"\n      icon=\"helpCircle\"\n      @click=${this.onWalletHelp.bind(this)}\n    ></wui-icon-link>`}onNetworks(){this.isAllowedNetworkSwitch()&&(jt.sendEvent({type:\"track\",event:\"CLICK_NETWORKS\"}),Le.push(\"Networks\"))}isAllowedNetworkSwitch(){const e=ee.getAllRequestedCaipNetworks(),n=e?e.length>1:!1,r=e==null?void 0:e.find(({id:i})=>{var s;return i===((s=this.network)==null?void 0:s.id)});return n||!r}getPadding(){return this.heading?[\"l\",\"2l\",\"l\",\"2l\"]:[\"0\",\"2l\",\"0\",\"2l\"]}onViewChange(){const{history:e}=Le.state;let n=kf.VIEW_DIRECTION.Next;e.length<this.prevHistoryLength&&(n=kf.VIEW_DIRECTION.Prev),this.prevHistoryLength=e.length,this.viewDirection=n}async onHistoryChange(){var r;const{history:e}=Le.state,n=(r=this.shadowRoot)==null?void 0:r.querySelector(\"#dynamic\");e.length>1&&!this.showBack&&n?(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:\"forwards\",easing:\"ease\"}).finished,this.showBack=!0,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:\"forwards\",easing:\"ease\"})):e.length<=1&&this.showBack&&n&&(await n.animate([{opacity:1},{opacity:0}],{duration:200,fill:\"forwards\",easing:\"ease\"}).finished,this.showBack=!1,n.animate([{opacity:0},{opacity:1}],{duration:200,fill:\"forwards\",easing:\"ease\"}))}onGoBack(){Le.goBack()}};Sc.styles=Xtt;yd([Ye()],Sc.prototype,\"heading\",void 0);yd([Ye()],Sc.prototype,\"network\",void 0);yd([Ye()],Sc.prototype,\"networkImage\",void 0);yd([Ye()],Sc.prototype,\"showBack\",void 0);yd([Ye()],Sc.prototype,\"prevHistoryLength\",void 0);yd([Ye()],Sc.prototype,\"view\",void 0);yd([Ye()],Sc.prototype,\"viewDirection\",void 0);yd([Ye()],Sc.prototype,\"headerText\",void 0);Sc=yd([et(\"w3m-header\")],Sc);const ent=wt`\n  :host {\n    display: flex;\n    column-gap: var(--wui-spacing-s);\n    align-items: center;\n    padding: var(--wui-spacing-xs) var(--wui-spacing-m) var(--wui-spacing-xs) var(--wui-spacing-xs);\n    border-radius: var(--wui-border-radius-s);\n    border: 1px solid var(--wui-color-gray-glass-005);\n    box-sizing: border-box;\n    background-color: var(--wui-color-bg-175);\n    box-shadow:\n      0px 14px 64px -4px rgba(0, 0, 0, 0.15),\n      0px 8px 22px -6px rgba(0, 0, 0, 0.15);\n\n    max-width: 300px;\n  }\n\n  :host wui-loading-spinner {\n    margin-left: var(--wui-spacing-3xs);\n  }\n`;var Xp=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let ud=class extends it{constructor(){super(...arguments),this.backgroundColor=\"accent-100\",this.iconColor=\"accent-100\",this.icon=\"checkmark\",this.message=\"\",this.loading=!1,this.iconType=\"default\"}render(){return ne`\n      ${this.templateIcon()}\n      <wui-text variant=\"paragraph-500\" color=\"fg-100\" data-testid=\"wui-snackbar-message\"\n        >${this.message}</wui-text\n      >\n    `}templateIcon(){return this.loading?ne`<wui-loading-spinner size=\"md\" color=\"accent-100\"></wui-loading-spinner>`:this.iconType===\"default\"?ne`<wui-icon size=\"xl\" color=${this.iconColor} name=${this.icon}></wui-icon>`:ne`<wui-icon-box\n      size=\"sm\"\n      iconSize=\"xs\"\n      iconColor=${this.iconColor}\n      backgroundColor=${this.backgroundColor}\n      icon=${this.icon}\n      background=\"opaque\"\n    ></wui-icon-box>`}};ud.styles=[fn,ent];Xp([ae()],ud.prototype,\"backgroundColor\",void 0);Xp([ae()],ud.prototype,\"iconColor\",void 0);Xp([ae()],ud.prototype,\"icon\",void 0);Xp([ae()],ud.prototype,\"message\",void 0);Xp([ae()],ud.prototype,\"loading\",void 0);Xp([ae()],ud.prototype,\"iconType\",void 0);ud=Xp([et(\"wui-snackbar\")],ud);const tnt=wt`\n  :host {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    pointer-events: none;\n    top: 11px;\n    left: 50%;\n    width: max-content;\n  }\n`;var rue=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const nnt={loading:void 0,success:{backgroundColor:\"success-100\",iconColor:\"success-100\",icon:\"checkmark\"},error:{backgroundColor:\"error-100\",iconColor:\"error-100\",icon:\"close\"}};let q4=class extends it{constructor(){super(),this.unsubscribe=[],this.timeout=void 0,this.open=Er.state.open,this.unsubscribe.push(Er.subscribeKey(\"open\",e=>{this.open=e,this.onOpen()}))}disconnectedCallback(){clearTimeout(this.timeout),this.unsubscribe.forEach(e=>e())}render(){const{message:e,variant:n,svg:r}=Er.state,i=nnt[n],{icon:s,iconColor:o}=r??i??{};return ne`\n      <wui-snackbar\n        message=${e}\n        backgroundColor=${i==null?void 0:i.backgroundColor}\n        iconColor=${o}\n        icon=${s}\n        .loading=${n===\"loading\"}\n      ></wui-snackbar>\n    `}onOpen(){clearTimeout(this.timeout),this.open?(this.animate([{opacity:0,transform:\"translateX(-50%) scale(0.85)\"},{opacity:1,transform:\"translateX(-50%) scale(1)\"}],{duration:150,fill:\"forwards\",easing:\"ease\"}),this.timeout&&clearTimeout(this.timeout),Er.state.autoClose&&(this.timeout=setTimeout(()=>Er.hide(),2500))):this.animate([{opacity:1,transform:\"translateX(-50%) scale(1)\"},{opacity:0,transform:\"translateX(-50%) scale(0.85)\"}],{duration:150,fill:\"forwards\",easing:\"ease\"})}};q4.styles=tnt;rue([Ye()],q4.prototype,\"open\",void 0);q4=rue([et(\"w3m-snackbar\")],q4);const rnt=wt`\n  :host {\n    pointer-events: none;\n  }\n\n  :host > wui-flex {\n    display: var(--w3m-tooltip-display);\n    opacity: var(--w3m-tooltip-opacity);\n    padding: 9px var(--wui-spacing-s) 10px var(--wui-spacing-s);\n    border-radius: var(--wui-border-radius-xxs);\n    color: var(--wui-color-bg-100);\n    position: fixed;\n    top: var(--w3m-tooltip-top);\n    left: var(--w3m-tooltip-left);\n    transform: translate(calc(-50% + var(--w3m-tooltip-parent-width)), calc(-100% - 8px));\n    max-width: calc(var(--w3m-modal-width) - var(--wui-spacing-xl));\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host([data-variant='shade']) > wui-flex {\n    background-color: var(--wui-color-bg-150);\n    border: 1px solid var(--wui-color-gray-glass-005);\n  }\n\n  :host([data-variant='shade']) > wui-flex > wui-text {\n    color: var(--wui-color-fg-150);\n  }\n\n  :host([data-variant='fill']) > wui-flex {\n    background-color: var(--wui-color-fg-100);\n    border: none;\n  }\n\n  wui-icon {\n    position: absolute;\n    width: 12px !important;\n    height: 4px !important;\n    color: var(--wui-color-bg-150);\n  }\n\n  wui-icon[data-placement='top'] {\n    bottom: 0px;\n    left: 50%;\n    transform: translate(-50%, 95%);\n  }\n\n  wui-icon[data-placement='bottom'] {\n    top: 0;\n    left: 50%;\n    transform: translate(-50%, -95%) rotate(180deg);\n  }\n\n  wui-icon[data-placement='right'] {\n    top: 50%;\n    left: 0;\n    transform: translate(-65%, -50%) rotate(90deg);\n  }\n\n  wui-icon[data-placement='left'] {\n    top: 50%;\n    right: 0%;\n    transform: translate(65%, -50%) rotate(270deg);\n  }\n`;var L5=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let xp=class extends it{constructor(){super(),this.unsubscribe=[],this.open=D1.state.open,this.message=D1.state.message,this.triggerRect=D1.state.triggerRect,this.variant=D1.state.variant,this.unsubscribe.push(D1.subscribe(e=>{this.open=e.open,this.message=e.message,this.triggerRect=e.triggerRect,this.variant=e.variant}))}disconnectedCallback(){this.unsubscribe.forEach(e=>e())}render(){this.dataset.variant=this.variant;const e=this.triggerRect.top,n=this.triggerRect.left;return this.style.cssText=`\n    --w3m-tooltip-top: ${e}px;\n    --w3m-tooltip-left: ${n}px;\n    --w3m-tooltip-parent-width: ${this.triggerRect.width/2}px;\n    --w3m-tooltip-display: ${this.open?\"flex\":\"none\"};\n    --w3m-tooltip-opacity: ${this.open?1:0};\n    `,ne`<wui-flex>\n      <wui-icon data-placement=\"top\" color=\"fg-100\" size=\"inherit\" name=\"cursor\"></wui-icon>\n      <wui-text color=\"inherit\" variant=\"small-500\">${this.message}</wui-text>\n    </wui-flex>`}};xp.styles=[rnt];L5([Ye()],xp.prototype,\"open\",void 0);L5([Ye()],xp.prototype,\"message\",void 0);L5([Ye()],xp.prototype,\"triggerRect\",void 0);L5([Ye()],xp.prototype,\"variant\",void 0);xp=L5([et(\"w3m-tooltip\"),et(\"w3m-tooltip\")],xp);const int=wt`\n  :host {\n    --prev-height: 0px;\n    --new-height: 0px;\n    display: block;\n  }\n\n  div.w3m-router-container {\n    transform: translateY(0);\n    opacity: 1;\n  }\n\n  div.w3m-router-container[view-direction='prev'] {\n    animation:\n      slide-left-out 150ms forwards ease,\n      slide-left-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  div.w3m-router-container[view-direction='next'] {\n    animation:\n      slide-right-out 150ms forwards ease,\n      slide-right-in 150ms forwards ease;\n    animation-delay: 0ms, 200ms;\n  }\n\n  @keyframes slide-left-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-left-in {\n    from {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n\n  @keyframes slide-right-out {\n    from {\n      transform: translateX(0px);\n      opacity: 1;\n    }\n    to {\n      transform: translateX(-10px);\n      opacity: 0;\n    }\n  }\n\n  @keyframes slide-right-in {\n    from {\n      transform: translateX(10px);\n      opacity: 0;\n    }\n    to {\n      transform: translateX(0);\n      opacity: 1;\n    }\n  }\n`;var hM=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};let v2=class extends it{constructor(){super(),this.resizeObserver=void 0,this.prevHeight=\"0px\",this.prevHistoryLength=1,this.unsubscribe=[],this.view=Le.state.view,this.viewDirection=\"\",this.unsubscribe.push(Le.subscribeKey(\"view\",e=>this.onViewChange(e)))}firstUpdated(){var e;this.resizeObserver=new ResizeObserver(([n])=>{const r=`${n==null?void 0:n.contentRect.height}px`;this.prevHeight!==\"0px\"&&(this.style.setProperty(\"--prev-height\",this.prevHeight),this.style.setProperty(\"--new-height\",r),this.style.animation=\"w3m-view-height 150ms forwards ease\",this.style.height=\"auto\"),setTimeout(()=>{this.prevHeight=r,this.style.animation=\"unset\"},kf.ANIMATION_DURATIONS.ModalHeight)}),(e=this.resizeObserver)==null||e.observe(this.getWrapper())}disconnectedCallback(){var e;(e=this.resizeObserver)==null||e.unobserve(this.getWrapper()),this.unsubscribe.forEach(n=>n())}render(){return ne`<div class=\"w3m-router-container\" view-direction=\"${this.viewDirection}\">\n      ${this.viewTemplate()}\n    </div>`}viewTemplate(){switch(this.view){case\"AccountSettings\":return ne`<w3m-account-settings-view></w3m-account-settings-view>`;case\"Account\":return ne`<w3m-account-view></w3m-account-view>`;case\"AllWallets\":return ne`<w3m-all-wallets-view></w3m-all-wallets-view>`;case\"ApproveTransaction\":return ne`<w3m-approve-transaction-view></w3m-approve-transaction-view>`;case\"BuyInProgress\":return ne`<w3m-buy-in-progress-view></w3m-buy-in-progress-view>`;case\"ChooseAccountName\":return ne`<w3m-choose-account-name-view></w3m-choose-account-name-view>`;case\"Connect\":return ne`<w3m-connect-view></w3m-connect-view>`;case\"Create\":return ne`<w3m-connect-view walletGuide=\"explore\"></w3m-connect-view>`;case\"ConnectingWalletConnect\":return ne`<w3m-connecting-wc-view></w3m-connecting-wc-view>`;case\"ConnectingWalletConnectBasic\":return ne`<w3m-connecting-wc-basic-view></w3m-connecting-wc-basic-view>`;case\"ConnectingExternal\":return ne`<w3m-connecting-external-view></w3m-connecting-external-view>`;case\"ConnectingSiwe\":return ne`<w3m-connecting-siwe-view></w3m-connecting-siwe-view>`;case\"ConnectWallets\":return ne`<w3m-connect-wallets-view></w3m-connect-wallets-view>`;case\"ConnectSocials\":return ne`<w3m-connect-socials-view></w3m-connect-socials-view>`;case\"ConnectingSocial\":return ne`<w3m-connecting-social-view></w3m-connecting-social-view>`;case\"Downloads\":return ne`<w3m-downloads-view></w3m-downloads-view>`;case\"EmailLogin\":return ne`<w3m-email-login-view></w3m-email-login-view>`;case\"EmailVerifyOtp\":return ne`<w3m-email-verify-otp-view></w3m-email-verify-otp-view>`;case\"EmailVerifyDevice\":return ne`<w3m-email-verify-device-view></w3m-email-verify-device-view>`;case\"GetWallet\":return ne`<w3m-get-wallet-view></w3m-get-wallet-view>`;case\"Networks\":return ne`<w3m-networks-view></w3m-networks-view>`;case\"SwitchNetwork\":return ne`<w3m-network-switch-view></w3m-network-switch-view>`;case\"Profile\":return ne`<w3m-profile-view></w3m-profile-view>`;case\"SwitchAddress\":return ne`<w3m-switch-address-view></w3m-switch-address-view>`;case\"Transactions\":return ne`<w3m-transactions-view></w3m-transactions-view>`;case\"OnRampProviders\":return ne`<w3m-onramp-providers-view></w3m-onramp-providers-view>`;case\"OnRampActivity\":return ne`<w3m-onramp-activity-view></w3m-onramp-activity-view>`;case\"OnRampTokenSelect\":return ne`<w3m-onramp-token-select-view></w3m-onramp-token-select-view>`;case\"OnRampFiatSelect\":return ne`<w3m-onramp-fiat-select-view></w3m-onramp-fiat-select-view>`;case\"UpgradeEmailWallet\":return ne`<w3m-upgrade-wallet-view></w3m-upgrade-wallet-view>`;case\"UpdateEmailWallet\":return ne`<w3m-update-email-wallet-view></w3m-update-email-wallet-view>`;case\"UpdateEmailPrimaryOtp\":return ne`<w3m-update-email-primary-otp-view></w3m-update-email-primary-otp-view>`;case\"UpdateEmailSecondaryOtp\":return ne`<w3m-update-email-secondary-otp-view></w3m-update-email-secondary-otp-view>`;case\"UnsupportedChain\":return ne`<w3m-unsupported-chain-view></w3m-unsupported-chain-view>`;case\"Swap\":return ne`<w3m-swap-view></w3m-swap-view>`;case\"SwapSelectToken\":return ne`<w3m-swap-select-token-view></w3m-swap-select-token-view>`;case\"SwapPreview\":return ne`<w3m-swap-preview-view></w3m-swap-preview-view>`;case\"WalletSend\":return ne`<w3m-wallet-send-view></w3m-wallet-send-view>`;case\"WalletSendSelectToken\":return ne`<w3m-wallet-send-select-token-view></w3m-wallet-send-select-token-view>`;case\"WalletSendPreview\":return ne`<w3m-wallet-send-preview-view></w3m-wallet-send-preview-view>`;case\"WhatIsABuy\":return ne`<w3m-what-is-a-buy-view></w3m-what-is-a-buy-view>`;case\"WalletReceive\":return ne`<w3m-wallet-receive-view></w3m-wallet-receive-view>`;case\"WalletCompatibleNetworks\":return ne`<w3m-wallet-compatible-networks-view></w3m-wallet-compatible-networks-view>`;case\"WhatIsAWallet\":return ne`<w3m-what-is-a-wallet-view></w3m-what-is-a-wallet-view>`;case\"ConnectingMultiChain\":return ne`<w3m-connecting-multi-chain-view></w3m-connecting-multi-chain-view>`;case\"WhatIsANetwork\":return ne`<w3m-what-is-a-network-view></w3m-what-is-a-network-view>`;case\"ConnectingFarcaster\":return ne`<w3m-connecting-farcaster-view></w3m-connecting-farcaster-view>`;case\"SwitchActiveChain\":return ne`<w3m-switch-active-chain-view></w3m-switch-active-chain-view>`;case\"RegisterAccountName\":return ne`<w3m-register-account-name-view></w3m-register-account-name-view>`;case\"RegisterAccountNameSuccess\":return ne`<w3m-register-account-name-success-view></w3m-register-account-name-success-view>`;case\"SmartSessionCreated\":return ne`<w3m-smart-session-created-view></w3m-smart-session-created-view>`;case\"SmartSessionList\":return ne`<w3m-smart-session-list-view></w3m-smart-session-list-view>`;case\"SIWXSignMessage\":return ne`<w3m-siwx-sign-message-view></w3m-siwx-sign-message-view>`;case\"Pay\":return ne`<w3m-pay-view></w3m-pay-view>`;case\"PayLoading\":return ne`<w3m-pay-loading-view></w3m-pay-loading-view>`;default:return ne`<w3m-connect-view></w3m-connect-view>`}}onViewChange(e){D1.hide();let n=kf.VIEW_DIRECTION.Next;const{history:r}=Le.state;r.length<this.prevHistoryLength&&(n=kf.VIEW_DIRECTION.Prev),this.prevHistoryLength=r.length,this.viewDirection=n,setTimeout(()=>{this.view=e},kf.ANIMATION_DURATIONS.ViewTransition)}getWrapper(){var e;return(e=this.shadowRoot)==null?void 0:e.querySelector(\"div\")}};v2.styles=int;hM([Ye()],v2.prototype,\"view\",void 0);hM([Ye()],v2.prototype,\"viewDirection\",void 0);v2=hM([et(\"w3m-router\")],v2);const snt=wt`\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: var(--wui-cover);\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n  }\n\n  :host(.appkit-modal) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--w3m-modal-width);\n    width: 100%;\n    position: relative;\n    animation: zoom-in 0.2s var(--wui-ease-out-power-2);\n    animation-fill-mode: backwards;\n    outline: none;\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host(.appkit-modal) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      zoom-in 0.2s var(--wui-ease-out-power-2),\n      w3m-shake 0.5s var(--wui-ease-out-power-2);\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--wui-spacing-xxl) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n      animation: slide-in 0.2s var(--wui-ease-out-power-2);\n    }\n\n    wui-card[shake='true'] {\n      animation:\n        slide-in 0.2s var(--wui-ease-out-power-2),\n        w3m-shake 0.5s var(--wui-ease-out-power-2);\n    }\n  }\n\n  @keyframes zoom-in {\n    0% {\n      transform: scale(0.95) translateY(0);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      transform: scale(1) translateY(50px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes w3m-view-height {\n    from {\n      height: var(--prev-height);\n    }\n    to {\n      height: var(--new-height);\n    }\n  }\n`;var bh=function(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect==\"object\"&&typeof Reflect.decorate==\"function\")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s};const iY=\"scroll-lock\";class kl extends it{constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.hasPrefetched=!1,this.enableEmbedded=Se.state.enableEmbedded,this.open=bn.state.open,this.caipAddress=ee.state.activeCaipAddress,this.caipNetwork=ee.state.activeCaipNetwork,this.shake=bn.state.shake,this.filterByNamespace=Ne.state.filterByNamespace,this.initializeTheming(),Ue.prefetchAnalyticsConfig(),this.unsubscribe.push(bn.subscribeKey(\"open\",e=>e?this.onOpen():this.onClose()),bn.subscribeKey(\"shake\",e=>this.shake=e),ee.subscribeKey(\"activeCaipNetwork\",e=>this.onNewNetwork(e)),ee.subscribeKey(\"activeCaipAddress\",e=>this.onNewAddress(e)),Se.subscribeKey(\"enableEmbedded\",e=>this.enableEmbedded=e),Ne.subscribeKey(\"filterByNamespace\",e=>{var n;this.filterByNamespace!==e&&!((n=ee.getAccountData(e))!=null&&n.caipAddress)&&(Ue.fetchRecommendedWallets(),this.filterByNamespace=e)}))}firstUpdated(){if(this.caipAddress){if(this.enableEmbedded){bn.close(),this.prefetch();return}this.onNewAddress(this.caipAddress)}this.open&&this.onOpen(),this.enableEmbedded&&this.prefetch()}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return this.style.cssText=`\n      --local-border-bottom-mobile-radius: ${this.enableEmbedded?\"clamp(0px, var(--wui-border-radius-l), 44px)\":\"0px\"};\n    `,this.enableEmbedded?ne`${this.contentTemplate()}\n        <w3m-tooltip></w3m-tooltip> `:this.open?ne`\n          <wui-flex @click=${this.onOverlayClick.bind(this)} data-testid=\"w3m-modal-overlay\">\n            ${this.contentTemplate()}\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        `:null}contentTemplate(){return ne` <wui-card\n      shake=\"${this.shake}\"\n      data-embedded=\"${bt(this.enableEmbedded)}\"\n      role=\"alertdialog\"\n      aria-modal=\"true\"\n      tabindex=\"0\"\n      data-testid=\"w3m-modal-card\"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>`}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){await $le.safeClose()}initializeTheming(){const{themeVariables:e,themeMode:n}=ki.state,r=ci.getColorTheme(n);ZQe(e,r)}onClose(){this.open=!1,this.classList.remove(\"open\"),this.onScrollUnlock(),Er.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add(\"open\"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){const e=document.createElement(\"style\");e.dataset.w3m=iY,e.textContent=`\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    `,document.head.appendChild(e)}onScrollUnlock(){const e=document.head.querySelector(`style[data-w3m=\"${iY}\"]`);e&&e.remove()}onAddKeyboardListener(){var n;this.abortController=new AbortController;const e=(n=this.shadowRoot)==null?void 0:n.querySelector(\"wui-card\");e==null||e.focus(),window.addEventListener(\"keydown\",r=>{if(r.key===\"Escape\")this.handleClose();else if(r.key===\"Tab\"){const{tagName:i}=r.target;i&&!i.includes(\"W3M-\")&&!i.includes(\"WUI-\")&&(e==null||e.focus())}},this.abortController)}onRemoveKeyboardListener(){var e;(e=this.abortController)==null||e.abort(),this.abortController=void 0}async onNewAddress(e){const n=ee.state.isSwitchingNamespace,r=Me.getPlainAddress(e);!r&&!n?bn.close():n&&r&&Le.goBack(),await R0.initializeIfEnabled(),this.caipAddress=e,ee.setIsSwitchingNamespace(!1)}onNewNetwork(e){var E,v,_;const n=this.caipNetwork,r=(E=n==null?void 0:n.caipNetworkId)==null?void 0:E.toString(),i=n==null?void 0:n.chainNamespace,s=(v=e==null?void 0:e.caipNetworkId)==null?void 0:v.toString(),o=e==null?void 0:e.chainNamespace,a=r!==s,l=a&&!(i!==o),d=(n==null?void 0:n.name)===ft.UNSUPPORTED_NETWORK_NAME,h=Le.state.view===\"ConnectingExternal\",p=!((_=ee.getAccountData(e==null?void 0:e.chainNamespace))!=null&&_.caipAddress),m=Le.state.view===\"UnsupportedChain\",b=bn.state.open;let y=!1;b&&!h&&(p?a&&(y=!0):(m||l&&!d)&&(y=!0)),y&&Le.state.view!==\"SIWXSignMessage\"&&Le.goBack(),this.caipNetwork=e}prefetch(){this.hasPrefetched||(Ue.prefetch(),Ue.fetchWalletsByPage({page:1}),this.hasPrefetched=!0)}}kl.styles=snt;bh([ae({type:Boolean})],kl.prototype,\"enableEmbedded\",void 0);bh([Ye()],kl.prototype,\"open\",void 0);bh([Ye()],kl.prototype,\"caipAddress\",void 0);bh([Ye()],kl.prototype,\"caipNetwork\",void 0);bh([Ye()],kl.prototype,\"shake\",void 0);bh([Ye()],kl.prototype,\"filterByNamespace\",void 0);let PO=class extends kl{};PO=bh([et(\"w3m-modal\")],PO);let OO=class extends kl{};OO=bh([et(\"appkit-modal\")],OO);const ont=Object.freeze(Object.defineProperty({__proto__:null,get AppKitModal(){return OO},get W3mModal(){return PO},W3mModalBase:kl},Symbol.toStringTag,{value:\"Module\"})),ant=qe`<svg\n  width=\"14\"\n  height=\"14\"\n  viewBox=\"0 0 14 14\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M7.0023 0.875C7.48571 0.875 7.8776 1.26675 7.8776 1.75V6.125H12.2541C12.7375 6.125 13.1294 6.51675 13.1294 7C13.1294 7.48325 12.7375 7.875 12.2541 7.875H7.8776V12.25C7.8776 12.7332 7.48571 13.125 7.0023 13.125C6.51889 13.125 6.12701 12.7332 6.12701 12.25V7.875H1.75054C1.26713 7.875 0.875244 7.48325 0.875244 7C0.875244 6.51675 1.26713 6.125 1.75054 6.125H6.12701V1.75C6.12701 1.26675 6.51889 0.875 7.0023 0.875Z\"\n    fill=\"#667dff\"\n  /></svg\n>`,cnt=Object.freeze(Object.defineProperty({__proto__:null,addSvg:ant},Symbol.toStringTag,{value:\"Module\"})),lnt=qe`<svg fill=\"none\" viewBox=\"0 0 24 24\">\n  <path\n    style=\"fill: var(--wui-color-accent-100);\"\n    d=\"M10.2 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 6.6a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM10.2 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0ZM21 17.4a3.6 3.6 0 1 1-7.2 0 3.6 3.6 0 0 1 7.2 0Z\"\n  />\n</svg>`,unt=Object.freeze(Object.defineProperty({__proto__:null,allWalletsSvg:lnt},Symbol.toStringTag,{value:\"Module\"})),dnt=qe`<svg\n  fill=\"none\"\n  viewBox=\"0 0 21 20\"\n>\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M10.5 2.42908C6.31875 2.42908 2.92859 5.81989 2.92859 10.0034C2.92859 14.1869 6.31875 17.5777 10.5 17.5777C14.6813 17.5777 18.0714 14.1869 18.0714 10.0034C18.0714 5.81989 14.6813 2.42908 10.5 2.42908ZM0.928589 10.0034C0.928589 4.71596 5.21355 0.429077 10.5 0.429077C15.7865 0.429077 20.0714 4.71596 20.0714 10.0034C20.0714 15.2908 15.7865 19.5777 10.5 19.5777C5.21355 19.5777 0.928589 15.2908 0.928589 10.0034ZM10.5 5.75003C11.0523 5.75003 11.5 6.19774 11.5 6.75003L11.5 10.8343L12.7929 9.54137C13.1834 9.15085 13.8166 9.15085 14.2071 9.54137C14.5976 9.9319 14.5976 10.5651 14.2071 10.9556L11.2071 13.9556C10.8166 14.3461 10.1834 14.3461 9.79291 13.9556L6.79291 10.9556C6.40239 10.5651 6.40239 9.9319 6.79291 9.54137C7.18343 9.15085 7.8166 9.15085 8.20712 9.54137L9.50002 10.8343L9.50002 6.75003C9.50002 6.19774 9.94773 5.75003 10.5 5.75003Z\"\n    clip-rule=\"evenodd\"\n  /></svg\n>`,fnt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomCircleSvg:dnt},Symbol.toStringTag,{value:\"Module\"})),hnt=qe`\n<svg width=\"36\" height=\"36\">\n  <path\n    d=\"M28.724 0H7.271A7.269 7.269 0 0 0 0 7.272v21.46A7.268 7.268 0 0 0 7.271 36H28.73A7.272 7.272 0 0 0 36 28.728V7.272A7.275 7.275 0 0 0 28.724 0Z\"\n    fill=\"url(#a)\"\n  />\n  <path\n    d=\"m17.845 8.271.729-1.26a1.64 1.64 0 1 1 2.843 1.638l-7.023 12.159h5.08c1.646 0 2.569 1.935 1.853 3.276H6.434a1.632 1.632 0 0 1-1.638-1.638c0-.909.73-1.638 1.638-1.638h4.176l5.345-9.265-1.67-2.898a1.642 1.642 0 0 1 2.844-1.638l.716 1.264Zm-6.317 17.5-1.575 2.732a1.64 1.64 0 1 1-2.844-1.638l1.17-2.025c1.323-.41 2.398-.095 3.249.931Zm13.56-4.954h4.262c.909 0 1.638.729 1.638 1.638 0 .909-.73 1.638-1.638 1.638h-2.367l1.597 2.772c.45.788.185 1.782-.602 2.241a1.642 1.642 0 0 1-2.241-.603c-2.69-4.666-4.711-8.159-6.052-10.485-1.372-2.367-.391-4.743.576-5.549 1.075 1.846 2.682 4.631 4.828 8.348Z\"\n    fill=\"#fff\"\n  />\n  <defs>\n    <linearGradient id=\"a\" x1=\"18\" y1=\"0\" x2=\"18\" y2=\"36\" gradientUnits=\"userSpaceOnUse\">\n      <stop stop-color=\"#18BFFB\" />\n      <stop offset=\"1\" stop-color=\"#2072F3\" />\n    </linearGradient>\n  </defs>\n</svg>`,pnt=Object.freeze(Object.defineProperty({__proto__:null,appStoreSvg:hnt},Symbol.toStringTag,{value:\"Module\"})),gnt=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <g clip-path=\"url(#a)\">\n    <g clip-path=\"url(#b)\">\n      <circle cx=\"20\" cy=\"19.89\" r=\"20\" fill=\"#000\" />\n      <g clip-path=\"url(#c)\">\n        <path\n          fill=\"#fff\"\n          d=\"M28.77 23.3c-.69 1.99-2.75 5.52-4.87 5.56-1.4.03-1.86-.84-3.46-.84-1.61 0-2.12.81-3.45.86-2.25.1-5.72-5.1-5.72-9.62 0-4.15 2.9-6.2 5.42-6.25 1.36-.02 2.64.92 3.47.92.83 0 2.38-1.13 4.02-.97.68.03 2.6.28 3.84 2.08-3.27 2.14-2.76 6.61.75 8.25ZM24.2 7.88c-2.47.1-4.49 2.69-4.2 4.84 2.28.17 4.47-2.39 4.2-4.84Z\"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id=\"a\"><rect width=\"40\" height=\"40\" fill=\"#fff\" rx=\"20\" /></clipPath>\n    <clipPath id=\"b\"><path fill=\"#fff\" d=\"M0 0h40v40H0z\" /></clipPath>\n    <clipPath id=\"c\"><path fill=\"#fff\" d=\"M8 7.89h24v24H8z\" /></clipPath>\n  </defs>\n</svg>`,mnt=Object.freeze(Object.defineProperty({__proto__:null,appleSvg:gnt},Symbol.toStringTag,{value:\"Module\"})),ynt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M7 1.99a1 1 0 0 1 1 1v7.58l2.46-2.46a1 1 0 0 1 1.41 1.42L7.7 13.69a1 1 0 0 1-1.41 0L2.12 9.53A1 1 0 0 1 3.54 8.1L6 10.57V3a1 1 0 0 1 1-1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,bnt=Object.freeze(Object.defineProperty({__proto__:null,arrowBottomSvg:ynt},Symbol.toStringTag,{value:\"Module\"})),wnt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M13 7.99a1 1 0 0 1-1 1H4.4l2.46 2.46a1 1 0 1 1-1.41 1.41L1.29 8.7a1 1 0 0 1 0-1.41L5.46 3.1a1 1 0 0 1 1.41 1.42L4.41 6.99H12a1 1 0 0 1 1 1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,vnt=Object.freeze(Object.defineProperty({__proto__:null,arrowLeftSvg:wnt},Symbol.toStringTag,{value:\"Module\"})),Ent=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M1 7.99a1 1 0 0 1 1-1h7.58L7.12 4.53A1 1 0 1 1 8.54 3.1l4.16 4.17a1 1 0 0 1 0 1.41l-4.16 4.17a1 1 0 1 1-1.42-1.41l2.46-2.46H2a1 1 0 0 1-1-1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,_nt=Object.freeze(Object.defineProperty({__proto__:null,arrowRightSvg:Ent},Symbol.toStringTag,{value:\"Module\"})),Cnt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M7 13.99a1 1 0 0 1-1-1V5.4L3.54 7.86a1 1 0 0 1-1.42-1.41L6.3 2.28a1 1 0 0 1 1.41 0l4.17 4.17a1 1 0 1 1-1.41 1.41L8 5.4v7.59a1 1 0 0 1-1 1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Snt=Object.freeze(Object.defineProperty({__proto__:null,arrowTopSvg:Cnt},Symbol.toStringTag,{value:\"Module\"})),xnt=qe`<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  width=\"12\"\n  height=\"13\"\n  viewBox=\"0 0 12 13\"\n  fill=\"none\"\n>\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M5.61391 1.57124C5.85142 1.42873 6.14813 1.42873 6.38564 1.57124L11.0793 4.38749C11.9179 4.89067 11.5612 6.17864 10.5832 6.17864H9.96398V10.0358H10.2854C10.6996 10.0358 11.0354 10.3716 11.0354 10.7858C11.0354 11.2 10.6996 11.5358 10.2854 11.5358H1.71416C1.29995 11.5358 0.964172 11.2 0.964172 10.7858C0.964172 10.3716 1.29995 10.0358 1.71416 10.0358H2.03558L2.03558 6.17864H1.41637C0.438389 6.17864 0.0816547 4.89066 0.920263 4.38749L5.61391 1.57124ZM3.53554 6.17864V10.0358H5.24979V6.17864H3.53554ZM6.74976 6.17864V10.0358H8.46401V6.17864H6.74976ZM8.64913 4.67864H3.35043L5.99978 3.089L8.64913 4.67864Z\"\n    fill=\"currentColor\"\n  /></svg\n>`,Ant=Object.freeze(Object.defineProperty({__proto__:null,bankSvg:xnt},Symbol.toStringTag,{value:\"Module\"})),$nt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M4 6.4a1 1 0 0 1-.46.89 6.98 6.98 0 0 0 .38 6.18A7 7 0 0 0 16.46 7.3a1 1 0 0 1-.47-.92 7 7 0 0 0-12 .03Zm-2.02-.5a9 9 0 1 1 16.03 8.2A9 9 0 0 1 1.98 5.9Z\"\n    clip-rule=\"evenodd\"\n  />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M6.03 8.63c-1.46-.3-2.72-.75-3.6-1.35l-.02-.01-.14-.11a1 1 0 0 1 1.2-1.6l.1.08c.6.4 1.52.74 2.69 1 .16-.99.39-1.88.67-2.65.3-.79.68-1.5 1.15-2.02A2.58 2.58 0 0 1 9.99 1c.8 0 1.45.44 1.92.97.47.52.84 1.23 1.14 2.02.29.77.52 1.66.68 2.64a8 8 0 0 0 2.7-1l.26-.18h.48a1 1 0 0 1 .12 2c-.86.51-2.01.91-3.34 1.18a22.24 22.24 0 0 1-.03 3.19c1.45.29 2.7.73 3.58 1.31a1 1 0 0 1-1.1 1.68c-.6-.4-1.56-.76-2.75-1-.15.8-.36 1.55-.6 2.2-.3.79-.67 1.5-1.14 2.02-.47.53-1.12.97-1.92.97-.8 0-1.45-.44-1.91-.97a6.51 6.51 0 0 1-1.15-2.02c-.24-.65-.44-1.4-.6-2.2-1.18.24-2.13.6-2.73.99a1 1 0 1 1-1.1-1.67c.88-.58 2.12-1.03 3.57-1.31a22.03 22.03 0 0 1-.04-3.2Zm2.2-1.7c.15-.86.34-1.61.58-2.24.24-.65.51-1.12.76-1.4.25-.28.4-.29.42-.29.03 0 .17.01.42.3.25.27.52.74.77 1.4.23.62.43 1.37.57 2.22a19.96 19.96 0 0 1-3.52 0Zm-.18 4.6a20.1 20.1 0 0 1-.03-2.62 21.95 21.95 0 0 0 3.94 0 20.4 20.4 0 0 1-.03 2.63 21.97 21.97 0 0 0-3.88 0Zm.27 2c.13.66.3 1.26.49 1.78.24.65.51 1.12.76 1.4.25.28.4.29.42.29.03 0 .17-.01.42-.3.25-.27.52-.74.77-1.4.19-.5.36-1.1.49-1.78a20.03 20.03 0 0 0-3.35 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Int=Object.freeze(Object.defineProperty({__proto__:null,browserSvg:$nt},Symbol.toStringTag,{value:\"Module\"})),Tnt=qe`<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  width=\"12\"\n  height=\"13\"\n  viewBox=\"0 0 12 13\"\n  fill=\"none\"\n>\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M4.16072 2C4.17367 2 4.18665 2 4.19968 2L7.83857 2C8.36772 1.99998 8.82398 1.99996 9.19518 2.04018C9.5895 2.0829 9.97577 2.17811 10.3221 2.42971C10.5131 2.56849 10.6811 2.73647 10.8198 2.92749C11.0714 3.27379 11.1666 3.66007 11.2094 4.0544C11.2496 4.42561 11.2496 4.88188 11.2495 5.41105V7.58896C11.2496 8.11812 11.2496 8.57439 11.2094 8.94561C11.1666 9.33994 11.0714 9.72621 10.8198 10.0725C10.6811 10.2635 10.5131 10.4315 10.3221 10.5703C9.97577 10.8219 9.5895 10.9171 9.19518 10.9598C8.82398 11 8.36772 11 7.83856 11H4.16073C3.63157 11 3.17531 11 2.80411 10.9598C2.40979 10.9171 2.02352 10.8219 1.67722 10.5703C1.48621 10.4315 1.31824 10.2635 1.17946 10.0725C0.927858 9.72621 0.832652 9.33994 0.78993 8.94561C0.749713 8.5744 0.749733 8.11813 0.749757 7.58896L0.749758 5.45C0.749758 5.43697 0.749758 5.42399 0.749757 5.41104C0.749733 4.88188 0.749713 4.42561 0.78993 4.0544C0.832652 3.66007 0.927858 3.27379 1.17946 2.92749C1.31824 2.73647 1.48621 2.56849 1.67722 2.42971C2.02352 2.17811 2.40979 2.0829 2.80411 2.04018C3.17531 1.99996 3.63157 1.99998 4.16072 2ZM2.96567 3.53145C2.69897 3.56034 2.60687 3.60837 2.55888 3.64324C2.49521 3.6895 2.43922 3.74549 2.39296 3.80916C2.35809 3.85715 2.31007 3.94926 2.28117 4.21597C2.26629 4.35335 2.25844 4.51311 2.25431 4.70832H9.74498C9.74085 4.51311 9.733 4.35335 9.71812 4.21597C9.68922 3.94926 9.6412 3.85715 9.60633 3.80916C9.56007 3.74549 9.50408 3.6895 9.44041 3.64324C9.39242 3.60837 9.30031 3.56034 9.03362 3.53145C8.75288 3.50103 8.37876 3.5 7.79961 3.5H4.19968C3.62053 3.5 3.24641 3.50103 2.96567 3.53145ZM9.74956 6.20832H2.24973V7.55C2.24973 8.12917 2.25076 8.5033 2.28117 8.78404C2.31007 9.05074 2.35809 9.14285 2.39296 9.19084C2.43922 9.25451 2.49521 9.31051 2.55888 9.35677C2.60687 9.39163 2.69897 9.43966 2.96567 9.46856C3.24641 9.49897 3.62053 9.5 4.19968 9.5H7.79961C8.37876 9.5 8.75288 9.49897 9.03362 9.46856C9.30032 9.43966 9.39242 9.39163 9.44041 9.35677C9.50408 9.31051 9.56007 9.25451 9.60633 9.19084C9.6412 9.14285 9.68922 9.05075 9.71812 8.78404C9.74854 8.5033 9.74956 8.12917 9.74956 7.55V6.20832ZM6.74963 8C6.74963 7.58579 7.08541 7.25 7.49961 7.25H8.2496C8.6638 7.25 8.99958 7.58579 8.99958 8C8.99958 8.41422 8.6638 8.75 8.2496 8.75H7.49961C7.08541 8.75 6.74963 8.41422 6.74963 8Z\"\n    fill=\"currentColor\"\n  /></svg\n>`,Pnt=Object.freeze(Object.defineProperty({__proto__:null,cardSvg:Tnt},Symbol.toStringTag,{value:\"Module\"})),Ont=qe`<svg\n  width=\"28\"\n  height=\"28\"\n  viewBox=\"0 0 28 28\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M25.5297 4.92733C26.1221 5.4242 26.1996 6.30724 25.7027 6.89966L12.2836 22.8997C12.0316 23.2001 11.6652 23.3811 11.2735 23.3986C10.8817 23.4161 10.5006 23.2686 10.2228 22.9919L2.38218 15.1815C1.83439 14.6358 1.83268 13.7494 2.37835 13.2016C2.92403 12.6538 3.81046 12.6521 4.35825 13.1978L11.1183 19.9317L23.5573 5.10036C24.0542 4.50794 24.9372 4.43047 25.5297 4.92733Z\"\n    fill=\"currentColor\"/>\n</svg>\n`,Nnt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkSvg:Ont},Symbol.toStringTag,{value:\"Module\"})),Rnt=qe`<svg fill=\"none\" viewBox=\"0 0 14 14\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M12.9576 2.23383C13.3807 2.58873 13.4361 3.21947 13.0812 3.64263L6.37159 11.6426C6.19161 11.8572 5.92989 11.9865 5.65009 11.999C5.3703 12.0115 5.09808 11.9062 4.89965 11.7085L0.979321 7.80331C0.588042 7.41354 0.586817 6.78038 0.976585 6.3891C1.36635 5.99782 1.99952 5.99659 2.3908 6.38636L5.53928 9.52268L11.5488 2.35742C11.9037 1.93426 12.5344 1.87893 12.9576 2.23383Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,knt=Object.freeze(Object.defineProperty({__proto__:null,checkmarkBoldSvg:Rnt},Symbol.toStringTag,{value:\"Module\"})),Mnt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M1.46 4.96a1 1 0 0 1 1.41 0L8 10.09l5.13-5.13a1 1 0 1 1 1.41 1.41l-5.83 5.84a1 1 0 0 1-1.42 0L1.46 6.37a1 1 0 0 1 0-1.41Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Dnt=Object.freeze(Object.defineProperty({__proto__:null,chevronBottomSvg:Mnt},Symbol.toStringTag,{value:\"Module\"})),Bnt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M11.04 1.46a1 1 0 0 1 0 1.41L5.91 8l5.13 5.13a1 1 0 1 1-1.41 1.41L3.79 8.71a1 1 0 0 1 0-1.42l5.84-5.83a1 1 0 0 1 1.41 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Lnt=Object.freeze(Object.defineProperty({__proto__:null,chevronLeftSvg:Bnt},Symbol.toStringTag,{value:\"Module\"})),Unt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M4.96 14.54a1 1 0 0 1 0-1.41L10.09 8 4.96 2.87a1 1 0 0 1 1.41-1.41l5.84 5.83a1 1 0 0 1 0 1.42l-5.84 5.83a1 1 0 0 1-1.41 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,jnt=Object.freeze(Object.defineProperty({__proto__:null,chevronRightSvg:Unt},Symbol.toStringTag,{value:\"Module\"})),znt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M14.54 11.04a1 1 0 0 1-1.41 0L8 5.92l-5.13 5.12a1 1 0 1 1-1.41-1.41l5.83-5.84a1 1 0 0 1 1.42 0l5.83 5.84a1 1 0 0 1 0 1.41Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Fnt=Object.freeze(Object.defineProperty({__proto__:null,chevronTopSvg:znt},Symbol.toStringTag,{value:\"Module\"})),qnt=qe`<svg width=\"36\" height=\"36\" fill=\"none\">\n  <path\n    fill=\"#fff\"\n    fill-opacity=\".05\"\n    d=\"M0 14.94c0-5.55 0-8.326 1.182-10.4a9 9 0 0 1 3.359-3.358C6.614 0 9.389 0 14.94 0h6.12c5.55 0 8.326 0 10.4 1.182a9 9 0 0 1 3.358 3.359C36 6.614 36 9.389 36 14.94v6.12c0 5.55 0 8.326-1.182 10.4a9 9 0 0 1-3.359 3.358C29.386 36 26.611 36 21.06 36h-6.12c-5.55 0-8.326 0-10.4-1.182a9 9 0 0 1-3.358-3.359C0 29.386 0 26.611 0 21.06v-6.12Z\"\n  />\n  <path\n    stroke=\"#fff\"\n    stroke-opacity=\".05\"\n    d=\"M14.94.5h6.12c2.785 0 4.84 0 6.46.146 1.612.144 2.743.43 3.691.97a8.5 8.5 0 0 1 3.172 3.173c.541.948.826 2.08.971 3.692.145 1.62.146 3.675.146 6.459v6.12c0 2.785 0 4.84-.146 6.46-.145 1.612-.43 2.743-.97 3.691a8.5 8.5 0 0 1-3.173 3.172c-.948.541-2.08.826-3.692.971-1.62.145-3.674.146-6.459.146h-6.12c-2.784 0-4.84 0-6.46-.146-1.612-.145-2.743-.43-3.691-.97a8.5 8.5 0 0 1-3.172-3.173c-.541-.948-.827-2.08-.971-3.692C.5 25.9.5 23.845.5 21.06v-6.12c0-2.784 0-4.84.146-6.46.144-1.612.43-2.743.97-3.691A8.5 8.5 0 0 1 4.79 1.617C5.737 1.076 6.869.79 8.48.646 10.1.5 12.156.5 14.94.5Z\"\n  />\n  <path\n    fill=\"url(#a)\"\n    d=\"M17.998 10.8h12.469a14.397 14.397 0 0 0-24.938.001l6.234 10.798.006-.001a7.19 7.19 0 0 1 6.23-10.799Z\"\n  />\n  <path\n    fill=\"url(#b)\"\n    d=\"m24.237 21.598-6.234 10.798A14.397 14.397 0 0 0 30.47 10.798H18.002l-.002.006a7.191 7.191 0 0 1 6.237 10.794Z\"\n  />\n  <path\n    fill=\"url(#c)\"\n    d=\"M11.765 21.601 5.531 10.803A14.396 14.396 0 0 0 18.001 32.4l6.235-10.798-.004-.004a7.19 7.19 0 0 1-12.466.004Z\"\n  />\n  <path fill=\"#fff\" d=\"M18 25.2a7.2 7.2 0 1 0 0-14.4 7.2 7.2 0 0 0 0 14.4Z\" />\n  <path fill=\"#1A73E8\" d=\"M18 23.7a5.7 5.7 0 1 0 0-11.4 5.7 5.7 0 0 0 0 11.4Z\" />\n  <defs>\n    <linearGradient\n      id=\"a\"\n      x1=\"6.294\"\n      x2=\"41.1\"\n      y1=\"5.995\"\n      y2=\"5.995\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#D93025\" />\n      <stop offset=\"1\" stop-color=\"#EA4335\" />\n    </linearGradient>\n    <linearGradient\n      id=\"b\"\n      x1=\"20.953\"\n      x2=\"37.194\"\n      y1=\"32.143\"\n      y2=\"2.701\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#FCC934\" />\n      <stop offset=\"1\" stop-color=\"#FBBC04\" />\n    </linearGradient>\n    <linearGradient\n      id=\"c\"\n      x1=\"25.873\"\n      x2=\"9.632\"\n      y1=\"31.2\"\n      y2=\"1.759\"\n      gradientUnits=\"userSpaceOnUse\"\n    >\n      <stop stop-color=\"#1E8E3E\" />\n      <stop offset=\"1\" stop-color=\"#34A853\" />\n    </linearGradient>\n  </defs>\n</svg>`,Hnt=Object.freeze(Object.defineProperty({__proto__:null,chromeStoreSvg:qnt},Symbol.toStringTag,{value:\"Module\"})),Vnt=qe`<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\">\n  <path \n    fill-rule=\"evenodd\" \n    clip-rule=\"evenodd\" \n    d=\"M7.00235 2C4.24 2 2.00067 4.23858 2.00067 7C2.00067 9.76142 4.24 12 7.00235 12C9.7647 12 12.004 9.76142 12.004 7C12.004 4.23858 9.7647 2 7.00235 2ZM0 7C0 3.13401 3.13506 0 7.00235 0C10.8696 0 14.0047 3.13401 14.0047 7C14.0047 10.866 10.8696 14 7.00235 14C3.13506 14 0 10.866 0 7ZM7.00235 3C7.55482 3 8.00269 3.44771 8.00269 4V6.58579L9.85327 8.43575C10.2439 8.82627 10.2439 9.45944 9.85327 9.84996C9.46262 10.2405 8.82924 10.2405 8.43858 9.84996L6.29501 7.70711C6.10741 7.51957 6.00201 7.26522 6.00201 7V4C6.00201 3.44771 6.44988 3 7.00235 3Z\" \n    fill=\"currentColor\"\n  />\n</svg>`,Knt=Object.freeze(Object.defineProperty({__proto__:null,clockSvg:Vnt},Symbol.toStringTag,{value:\"Module\"})),Wnt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M2.54 2.54a1 1 0 0 1 1.42 0L8 6.6l4.04-4.05a1 1 0 1 1 1.42 1.42L9.4 8l4.05 4.04a1 1 0 0 1-1.42 1.42L8 9.4l-4.04 4.05a1 1 0 0 1-1.42-1.42L6.6 8 2.54 3.96a1 1 0 0 1 0-1.42Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Gnt=Object.freeze(Object.defineProperty({__proto__:null,closeSvg:Wnt},Symbol.toStringTag,{value:\"Module\"})),Znt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M8 2a6 6 0 1 0 0 12A6 6 0 0 0 8 2ZM0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm10.66-2.65a1 1 0 0 1 .23 1.06L9.83 9.24a1 1 0 0 1-.59.58l-2.83 1.06A1 1 0 0 1 5.13 9.6l1.06-2.82a1 1 0 0 1 .58-.59L9.6 5.12a1 1 0 0 1 1.06.23ZM7.9 7.89l-.13.35.35-.13.12-.35-.34.13Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Ynt=Object.freeze(Object.defineProperty({__proto__:null,compassSvg:Znt},Symbol.toStringTag,{value:\"Module\"})),Jnt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M10 3a7 7 0 0 0-6.85 8.44l8.29-8.3C10.97 3.06 10.49 3 10 3Zm3.49.93-9.56 9.56c.32.55.71 1.06 1.16 1.5L15 5.1a7.03 7.03 0 0 0-1.5-1.16Zm2.7 2.8-9.46 9.46a7 7 0 0 0 9.46-9.46ZM1.99 5.9A9 9 0 1 1 18 14.09 9 9 0 0 1 1.98 5.91Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Xnt=Object.freeze(Object.defineProperty({__proto__:null,coinPlaceholderSvg:Jnt},Symbol.toStringTag,{value:\"Module\"})),Qnt=qe`<svg\n  xmlns=\"http://www.w3.org/2000/svg\"\n  width=\"16\"\n  height=\"16\"\n  viewBox=\"0 0 16 16\"\n  fill=\"none\"\n>\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M9.21498 1.28565H10.5944C11.1458 1.28562 11.6246 1.2856 12.0182 1.32093C12.4353 1.35836 12.853 1.44155 13.2486 1.66724C13.7005 1.92498 14.0749 2.29935 14.3326 2.75122C14.5583 3.14689 14.6415 3.56456 14.6789 3.9817C14.7143 4.37531 14.7142 4.85403 14.7142 5.40545V6.78489C14.7142 7.33631 14.7143 7.81503 14.6789 8.20865C14.6415 8.62578 14.5583 9.04345 14.3326 9.43912C14.0749 9.89099 13.7005 10.2654 13.2486 10.5231C12.853 10.7488 12.4353 10.832 12.0182 10.8694C11.7003 10.8979 11.3269 10.9034 10.9045 10.9045C10.9034 11.3269 10.8979 11.7003 10.8694 12.0182C10.832 12.4353 10.7488 12.853 10.5231 13.2486C10.2654 13.7005 9.89099 14.0749 9.43912 14.3326C9.04345 14.5583 8.62578 14.6415 8.20865 14.6789C7.81503 14.7143 7.33631 14.7142 6.78489 14.7142H5.40545C4.85403 14.7142 4.37531 14.7143 3.9817 14.6789C3.56456 14.6415 3.14689 14.5583 2.75122 14.3326C2.29935 14.0749 1.92498 13.7005 1.66724 13.2486C1.44155 12.853 1.35836 12.4353 1.32093 12.0182C1.2856 11.6246 1.28562 11.1458 1.28565 10.5944V9.21498C1.28562 8.66356 1.2856 8.18484 1.32093 7.79122C1.35836 7.37409 1.44155 6.95642 1.66724 6.56074C1.92498 6.10887 2.29935 5.73451 2.75122 5.47677C3.14689 5.25108 3.56456 5.16789 3.9817 5.13045C4.2996 5.10192 4.67301 5.09645 5.09541 5.09541C5.09645 4.67302 5.10192 4.2996 5.13045 3.9817C5.16789 3.56456 5.25108 3.14689 5.47676 2.75122C5.73451 2.29935 6.10887 1.92498 6.56074 1.66724C6.95642 1.44155 7.37409 1.35836 7.79122 1.32093C8.18484 1.2856 8.66356 1.28562 9.21498 1.28565ZM5.09541 7.09552C4.68397 7.09667 4.39263 7.10161 4.16046 7.12245C3.88053 7.14757 3.78516 7.18949 3.74214 7.21403C3.60139 7.29431 3.48478 7.41091 3.4045 7.55166C3.37997 7.59468 3.33804 7.69005 3.31292 7.96999C3.28659 8.26345 3.28565 8.65147 3.28565 9.25708V10.5523C3.28565 11.1579 3.28659 11.5459 3.31292 11.8394C3.33804 12.1193 3.37997 12.2147 3.4045 12.2577C3.48478 12.3985 3.60139 12.5151 3.74214 12.5954C3.78516 12.6199 3.88053 12.6618 4.16046 12.6869C4.45393 12.7133 4.84195 12.7142 5.44755 12.7142H6.74279C7.3484 12.7142 7.73641 12.7133 8.02988 12.6869C8.30981 12.6618 8.40518 12.6199 8.44821 12.5954C8.58895 12.5151 8.70556 12.3985 8.78584 12.2577C8.81038 12.2147 8.8523 12.1193 8.87742 11.8394C8.89825 11.6072 8.90319 11.3159 8.90435 10.9045C8.48219 10.9034 8.10898 10.8979 7.79122 10.8694C7.37409 10.832 6.95641 10.7488 6.56074 10.5231C6.10887 10.2654 5.73451 9.89099 5.47676 9.43912C5.25108 9.04345 5.16789 8.62578 5.13045 8.20865C5.10194 7.89089 5.09645 7.51767 5.09541 7.09552ZM7.96999 3.31292C7.69005 3.33804 7.59468 3.37997 7.55166 3.4045C7.41091 3.48478 7.29431 3.60139 7.21403 3.74214C7.18949 3.78516 7.14757 3.88053 7.12245 4.16046C7.09611 4.45393 7.09517 4.84195 7.09517 5.44755V6.74279C7.09517 7.3484 7.09611 7.73641 7.12245 8.02988C7.14757 8.30981 7.18949 8.40518 7.21403 8.4482C7.29431 8.58895 7.41091 8.70556 7.55166 8.78584C7.59468 8.81038 7.69005 8.8523 7.96999 8.87742C8.26345 8.90376 8.65147 8.9047 9.25708 8.9047H10.5523C11.1579 8.9047 11.5459 8.90376 11.8394 8.87742C12.1193 8.8523 12.2147 8.81038 12.2577 8.78584C12.3985 8.70556 12.5151 8.58895 12.5954 8.4482C12.6199 8.40518 12.6618 8.30981 12.6869 8.02988C12.7133 7.73641 12.7142 7.3484 12.7142 6.74279V5.44755C12.7142 4.84195 12.7133 4.45393 12.6869 4.16046C12.6618 3.88053 12.6199 3.78516 12.5954 3.74214C12.5151 3.60139 12.3985 3.48478 12.2577 3.4045C12.2147 3.37997 12.1193 3.33804 11.8394 3.31292C11.5459 3.28659 11.1579 3.28565 10.5523 3.28565H9.25708C8.65147 3.28565 8.26345 3.28659 7.96999 3.31292Z\"\n    fill=\"#788181\"\n  /></svg\n>`,ert=Object.freeze(Object.defineProperty({__proto__:null,copySvg:Qnt},Symbol.toStringTag,{value:\"Module\"})),trt=qe` <svg fill=\"none\" viewBox=\"0 0 13 4\">\n  <path fill=\"currentColor\" d=\"M.5 0h12L8.9 3.13a3.76 3.76 0 0 1-4.8 0L.5 0Z\" />\n</svg>`,nrt=Object.freeze(Object.defineProperty({__proto__:null,cursorSvg:trt},Symbol.toStringTag,{value:\"Module\"})),rrt=qe`<svg fill=\"none\" viewBox=\"0 0 14 6\">\n  <path style=\"fill: var(--wui-color-bg-150);\" d=\"M0 1h14L9.21 5.12a3.31 3.31 0 0 1-4.49 0L0 1Z\" />\n  <path\n    style=\"stroke: var(--wui-color-inverse-100);\"\n    stroke-opacity=\".05\"\n    d=\"M1.33 1.5h11.32L8.88 4.75l-.01.01a2.81 2.81 0 0 1-3.8 0l-.02-.01L1.33 1.5Z\"\n  />\n  <path\n    style=\"fill: var(--wui-color-bg-150);\"\n    d=\"M1.25.71h11.5L9.21 3.88a3.31 3.31 0 0 1-4.49 0L1.25.71Z\"\n  />\n</svg> `,irt=Object.freeze(Object.defineProperty({__proto__:null,cursorTransparentSvg:rrt},Symbol.toStringTag,{value:\"Module\"})),srt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M13.66 2H6.34c-1.07 0-1.96 0-2.68.08-.74.08-1.42.25-2.01.68a4 4 0 0 0-.89.89c-.43.6-.6 1.27-.68 2.01C0 6.38 0 7.26 0 8.34v.89c0 1.07 0 1.96.08 2.68.08.74.25 1.42.68 2.01a4 4 0 0 0 .89.89c.6.43 1.27.6 2.01.68a27 27 0 0 0 2.68.08h7.32a27 27 0 0 0 2.68-.08 4.03 4.03 0 0 0 2.01-.68 4 4 0 0 0 .89-.89c.43-.6.6-1.27.68-2.01.08-.72.08-1.6.08-2.68v-.89c0-1.07 0-1.96-.08-2.68a4.04 4.04 0 0 0-.68-2.01 4 4 0 0 0-.89-.89c-.6-.43-1.27-.6-2.01-.68C15.62 2 14.74 2 13.66 2ZM2.82 4.38c.2-.14.48-.25 1.06-.31C4.48 4 5.25 4 6.4 4h7.2c1.15 0 1.93 0 2.52.07.58.06.86.17 1.06.31a2 2 0 0 1 .44.44c.14.2.25.48.31 1.06.07.6.07 1.37.07 2.52v.77c0 1.15 0 1.93-.07 2.52-.06.58-.17.86-.31 1.06a2 2 0 0 1-.44.44c-.2.14-.48.25-1.06.32-.6.06-1.37.06-2.52.06H6.4c-1.15 0-1.93 0-2.52-.06-.58-.07-.86-.18-1.06-.32a2 2 0 0 1-.44-.44c-.14-.2-.25-.48-.31-1.06C2 11.1 2 10.32 2 9.17V8.4c0-1.15 0-1.93.07-2.52.06-.58.17-.86.31-1.06a2 2 0 0 1 .44-.44Z\"\n    clip-rule=\"evenodd\"\n  />\n  <path fill=\"currentColor\" d=\"M6.14 17.57a1 1 0 1 0 0 2h7.72a1 1 0 1 0 0-2H6.14Z\" />\n</svg>`,ort=Object.freeze(Object.defineProperty({__proto__:null,desktopSvg:srt},Symbol.toStringTag,{value:\"Module\"})),art=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M6.07 1h.57a1 1 0 0 1 0 2h-.52c-.98 0-1.64 0-2.14.06-.48.05-.7.14-.84.24-.13.1-.25.22-.34.35-.1.14-.2.35-.25.83-.05.5-.05 1.16-.05 2.15v2.74c0 .99 0 1.65.05 2.15.05.48.14.7.25.83.1.14.2.25.34.35.14.1.36.2.84.25.5.05 1.16.05 2.14.05h.52a1 1 0 0 1 0 2h-.57c-.92 0-1.69 0-2.3-.07a3.6 3.6 0 0 1-1.8-.61c-.3-.22-.57-.49-.8-.8a3.6 3.6 0 0 1-.6-1.79C.5 11.11.5 10.35.5 9.43V6.58c0-.92 0-1.7.06-2.31a3.6 3.6 0 0 1 .62-1.8c.22-.3.48-.57.79-.79a3.6 3.6 0 0 1 1.8-.61C4.37 1 5.14 1 6.06 1ZM9.5 3a1 1 0 0 1 1.42 0l4.28 4.3a1 1 0 0 1 0 1.4L10.93 13a1 1 0 0 1-1.42-1.42L12.1 9H6.8a1 1 0 1 1 0-2h5.3L9.51 4.42a1 1 0 0 1 0-1.41Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,crt=Object.freeze(Object.defineProperty({__proto__:null,disconnectSvg:art},Symbol.toStringTag,{value:\"Module\"})),lrt=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <g clip-path=\"url(#a)\">\n    <g clip-path=\"url(#b)\">\n      <circle cx=\"20\" cy=\"19.89\" r=\"20\" fill=\"#5865F2\" />\n      <path\n        fill=\"#fff\"\n        fill-rule=\"evenodd\"\n        d=\"M25.71 28.15C30.25 28 32 25.02 32 25.02c0-6.61-2.96-11.98-2.96-11.98-2.96-2.22-5.77-2.15-5.77-2.15l-.29.32c3.5 1.07 5.12 2.61 5.12 2.61a16.75 16.75 0 0 0-10.34-1.93l-.35.04a15.43 15.43 0 0 0-5.88 1.9s1.71-1.63 5.4-2.7l-.2-.24s-2.81-.07-5.77 2.15c0 0-2.96 5.37-2.96 11.98 0 0 1.73 2.98 6.27 3.13l1.37-1.7c-2.6-.79-3.6-2.43-3.6-2.43l.58.35.09.06.08.04.02.01.08.05a17.25 17.25 0 0 0 4.52 1.58 14.4 14.4 0 0 0 8.3-.86c.72-.27 1.52-.66 2.37-1.21 0 0-1.03 1.68-3.72 2.44.61.78 1.35 1.67 1.35 1.67Zm-9.55-9.6c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28.01-1.25-.93-2.28-2.1-2.28Zm7.5 0c-1.17 0-2.1 1.03-2.1 2.28 0 1.25.95 2.28 2.1 2.28 1.17 0 2.1-1.03 2.1-2.28 0-1.25-.93-2.28-2.1-2.28Z\"\n        clip-rule=\"evenodd\"\n      />\n    </g>\n  </g>\n  <defs>\n    <clipPath id=\"a\"><rect width=\"40\" height=\"40\" fill=\"#fff\" rx=\"20\" /></clipPath>\n    <clipPath id=\"b\"><path fill=\"#fff\" d=\"M0 0h40v40H0z\" /></clipPath>\n  </defs>\n</svg>`,urt=Object.freeze(Object.defineProperty({__proto__:null,discordSvg:lrt},Symbol.toStringTag,{value:\"Module\"})),drt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    d=\"M4.25 7a.63.63 0 0 0-.63.63v3.97c0 .28-.2.51-.47.54l-.75.07a.93.93 0 0 1-.9-.47A7.51 7.51 0 0 1 5.54.92a7.5 7.5 0 0 1 9.54 4.62c.12.35.06.72-.16 1-.74.97-1.68 1.78-2.6 2.44V4.44a.64.64 0 0 0-.63-.64h-1.06c-.35 0-.63.3-.63.64v5.5c0 .23-.12.42-.32.5l-.52.23V6.05c0-.36-.3-.64-.64-.64H7.45c-.35 0-.64.3-.64.64v4.97c0 .25-.17.46-.4.52a5.8 5.8 0 0 0-.45.11v-4c0-.36-.3-.65-.64-.65H4.25ZM14.07 12.4A7.49 7.49 0 0 1 3.6 14.08c4.09-.58 9.14-2.5 11.87-6.6v.03a7.56 7.56 0 0 1-1.41 4.91Z\"\n  />\n</svg>`,frt=Object.freeze(Object.defineProperty({__proto__:null,etherscanSvg:drt},Symbol.toStringTag,{value:\"Module\"})),hrt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M6.71 2.99a.57.57 0 0 0-.57.57 1 1 0 0 1-1 1c-.58 0-.96 0-1.24.03-.27.03-.37.07-.42.1a.97.97 0 0 0-.36.35c-.04.08-.09.21-.11.67a2.57 2.57 0 0 1 0 5.13c.02.45.07.6.11.66.09.15.21.28.36.36.07.04.21.1.67.12a2.57 2.57 0 0 1 5.12 0c.46-.03.6-.08.67-.12a.97.97 0 0 0 .36-.36c.03-.04.07-.14.1-.41.02-.29.03-.66.03-1.24a1 1 0 0 1 1-1 .57.57 0 0 0 0-1.15 1 1 0 0 1-1-1c0-.58 0-.95-.03-1.24a1.04 1.04 0 0 0-.1-.42.97.97 0 0 0-.36-.36 1.04 1.04 0 0 0-.42-.1c-.28-.02-.65-.02-1.24-.02a1 1 0 0 1-1-1 .57.57 0 0 0-.57-.57ZM5.15 13.98a1 1 0 0 0 .99-1v-.78a.57.57 0 0 1 1.14 0v.78a1 1 0 0 0 .99 1H8.36a66.26 66.26 0 0 0 .73 0 3.78 3.78 0 0 0 1.84-.38c.46-.26.85-.64 1.1-1.1.23-.4.32-.8.36-1.22.02-.2.03-.4.03-.63a2.57 2.57 0 0 0 0-4.75c0-.23-.01-.44-.03-.63a2.96 2.96 0 0 0-.35-1.22 2.97 2.97 0 0 0-1.1-1.1c-.4-.22-.8-.31-1.22-.35a8.7 8.7 0 0 0-.64-.04 2.57 2.57 0 0 0-4.74 0c-.23 0-.44.02-.63.04-.42.04-.83.13-1.22.35-.46.26-.84.64-1.1 1.1-.33.57-.37 1.2-.39 1.84a21.39 21.39 0 0 0 0 .72v.1a1 1 0 0 0 1 .99h.78a.57.57 0 0 1 0 1.15h-.77a1 1 0 0 0-1 .98v.1a63.87 63.87 0 0 0 0 .73c0 .64.05 1.27.38 1.83.26.47.64.85 1.1 1.11.56.32 1.2.37 1.84.38a20.93 20.93 0 0 0 .72 0h.1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,prt=Object.freeze(Object.defineProperty({__proto__:null,extensionSvg:hrt},Symbol.toStringTag,{value:\"Module\"})),grt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M3.74 3.99a1 1 0 0 1 1-1H11a1 1 0 0 1 1 1v6.26a1 1 0 0 1-2 0V6.4l-6.3 6.3a1 1 0 0 1-1.4-1.42l6.29-6.3H4.74a1 1 0 0 1-1-1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,mrt=Object.freeze(Object.defineProperty({__proto__:null,externalLinkSvg:grt},Symbol.toStringTag,{value:\"Module\"})),yrt=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <g clip-path=\"url(#a)\">\n    <g clip-path=\"url(#b)\">\n      <circle cx=\"20\" cy=\"19.89\" r=\"20\" fill=\"#1877F2\" />\n      <g clip-path=\"url(#c)\">\n        <path\n          fill=\"#fff\"\n          d=\"M26 12.38h-2.89c-.92 0-1.61.38-1.61 1.34v1.66H26l-.36 4.5H21.5v12H17v-12h-3v-4.5h3V12.5c0-3.03 1.6-4.62 5.2-4.62H26v4.5Z\"\n        />\n      </g>\n    </g>\n    <path\n      fill=\"#1877F2\"\n      d=\"M40 20a20 20 0 1 0-23.13 19.76V25.78H11.8V20h5.07v-4.4c0-5.02 3-7.79 7.56-7.79 2.19 0 4.48.4 4.48.4v4.91h-2.53c-2.48 0-3.25 1.55-3.25 3.13V20h5.54l-.88 5.78h-4.66v13.98A20 20 0 0 0 40 20Z\"\n    />\n    <path\n      fill=\"#fff\"\n      d=\"m27.79 25.78.88-5.78h-5.55v-3.75c0-1.58.78-3.13 3.26-3.13h2.53V8.2s-2.3-.39-4.48-.39c-4.57 0-7.55 2.77-7.55 7.78V20H11.8v5.78h5.07v13.98a20.15 20.15 0 0 0 6.25 0V25.78h4.67Z\"\n    />\n  </g>\n  <defs>\n    <clipPath id=\"a\"><rect width=\"40\" height=\"40\" fill=\"#fff\" rx=\"20\" /></clipPath>\n    <clipPath id=\"b\"><path fill=\"#fff\" d=\"M0 0h40v40H0z\" /></clipPath>\n    <clipPath id=\"c\"><path fill=\"#fff\" d=\"M8 7.89h24v24H8z\" /></clipPath>\n  </defs>\n</svg>`,brt=Object.freeze(Object.defineProperty({__proto__:null,facebookSvg:yrt},Symbol.toStringTag,{value:\"Module\"})),wrt=qe`<svg style=\"border-radius: 9999px; overflow: hidden;\"  fill=\"none\" viewBox=\"0 0 1000 1000\">\n  <rect width=\"1000\" height=\"1000\" rx=\"9999\" ry=\"9999\" fill=\"#855DCD\"/>\n  <path fill=\"#855DCD\" d=\"M0 0h1000v1000H0V0Z\" />\n  <path\n    fill=\"#fff\"\n    d=\"M320 248h354v504h-51.96V521.13h-.5c-5.76-63.8-59.31-113.81-124.54-113.81s-118.78 50-124.53 113.81h-.5V752H320V248Z\"\n  />\n  <path\n    fill=\"#fff\"\n    d=\"m225 320 21.16 71.46h17.9v289.09a16.29 16.29 0 0 0-16.28 16.24v19.49h-3.25a16.3 16.3 0 0 0-16.28 16.24V752h182.26v-19.48a16.22 16.22 0 0 0-16.28-16.24h-3.25v-19.5a16.22 16.22 0 0 0-16.28-16.23h-19.52V320H225Zm400.3 360.55a16.3 16.3 0 0 0-15.04 10.02 16.2 16.2 0 0 0-1.24 6.22v19.49h-3.25a16.29 16.29 0 0 0-16.27 16.24V752h182.24v-19.48a16.23 16.23 0 0 0-16.27-16.24h-3.25v-19.5a16.2 16.2 0 0 0-10.04-15 16.3 16.3 0 0 0-6.23-1.23v-289.1h17.9L775 320H644.82v360.55H625.3Z\"\n  />\n</svg>`,vrt=Object.freeze(Object.defineProperty({__proto__:null,farcasterSvg:wrt},Symbol.toStringTag,{value:\"Module\"})),Ert=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M0 3a1 1 0 0 1 1-1h14a1 1 0 1 1 0 2H1a1 1 0 0 1-1-1Zm2.63 5.25a1 1 0 0 1 1-1h8.75a1 1 0 1 1 0 2H3.63a1 1 0 0 1-1-1Zm2.62 5.25a1 1 0 0 1 1-1h3.5a1 1 0 0 1 0 2h-3.5a1 1 0 0 1-1-1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,_rt=Object.freeze(Object.defineProperty({__proto__:null,filtersSvg:Ert},Symbol.toStringTag,{value:\"Module\"})),Crt=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <g clip-path=\"url(#a)\">\n    <g clip-path=\"url(#b)\">\n      <circle cx=\"20\" cy=\"19.89\" r=\"20\" fill=\"#1B1F23\" />\n      <g clip-path=\"url(#c)\">\n        <path\n          fill=\"#fff\"\n          d=\"M8 19.89a12 12 0 1 1 15.8 11.38c-.6.12-.8-.26-.8-.57v-3.3c0-1.12-.4-1.85-.82-2.22 2.67-.3 5.48-1.31 5.48-5.92 0-1.31-.47-2.38-1.24-3.22.13-.3.54-1.52-.12-3.18 0 0-1-.32-3.3 1.23a11.54 11.54 0 0 0-6 0c-2.3-1.55-3.3-1.23-3.3-1.23a4.32 4.32 0 0 0-.12 3.18 4.64 4.64 0 0 0-1.24 3.22c0 4.6 2.8 5.63 5.47 5.93-.34.3-.65.83-.76 1.6-.69.31-2.42.84-3.5-1 0 0-.63-1.15-1.83-1.23 0 0-1.18-.02-.09.73 0 0 .8.37 1.34 1.76 0 0 .7 2.14 4.03 1.41v2.24c0 .31-.2.68-.8.57A12 12 0 0 1 8 19.9Z\"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id=\"a\"><rect width=\"40\" height=\"40\" fill=\"#fff\" rx=\"20\" /></clipPath>\n    <clipPath id=\"b\"><path fill=\"#fff\" d=\"M0 0h40v40H0z\" /></clipPath>\n    <clipPath id=\"c\"><path fill=\"#fff\" d=\"M8 7.89h24v24H8z\" /></clipPath>\n  </defs>\n</svg>`,Srt=Object.freeze(Object.defineProperty({__proto__:null,githubSvg:Crt},Symbol.toStringTag,{value:\"Module\"})),xrt=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <path\n    fill=\"#4285F4\"\n    d=\"M32.74 20.3c0-.93-.08-1.81-.24-2.66H20.26v5.03h7a6 6 0 0 1-2.62 3.91v3.28h4.22c2.46-2.27 3.88-5.6 3.88-9.56Z\"\n  />\n  <path\n    fill=\"#34A853\"\n    d=\"M20.26 33a12.4 12.4 0 0 0 8.6-3.14l-4.22-3.28a7.74 7.74 0 0 1-4.38 1.26 7.76 7.76 0 0 1-7.28-5.36H8.65v3.36A12.99 12.99 0 0 0 20.26 33Z\"\n  />\n  <path\n    fill=\"#FBBC05\"\n    d=\"M12.98 22.47a7.79 7.79 0 0 1 0-4.94v-3.36H8.65a12.84 12.84 0 0 0 0 11.66l3.37-2.63.96-.73Z\"\n  />\n  <path\n    fill=\"#EA4335\"\n    d=\"M20.26 12.18a7.1 7.1 0 0 1 4.98 1.93l3.72-3.72A12.47 12.47 0 0 0 20.26 7c-5.08 0-9.47 2.92-11.6 7.17l4.32 3.36a7.76 7.76 0 0 1 7.28-5.35Z\"\n  />\n</svg>`,Art=Object.freeze(Object.defineProperty({__proto__:null,googleSvg:xrt},Symbol.toStringTag,{value:\"Module\"})),$rt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    d=\"M8.51 5.66a.83.83 0 0 0-.57-.2.83.83 0 0 0-.52.28.8.8 0 0 0-.25.52 1 1 0 0 1-2 0c0-.75.34-1.43.81-1.91a2.75 2.75 0 0 1 4.78 1.92c0 1.24-.8 1.86-1.25 2.2l-.04.03c-.47.36-.5.43-.5.65a1 1 0 1 1-2 0c0-1.25.8-1.86 1.24-2.2l.04-.04c.47-.36.5-.43.5-.65 0-.3-.1-.49-.24-.6ZM9.12 11.87a1.13 1.13 0 1 1-2.25 0 1.13 1.13 0 0 1 2.25 0Z\"\n  />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6a6 6 0 1 0 0 12A6 6 0 0 0 8 2Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Irt=Object.freeze(Object.defineProperty({__proto__:null,helpCircleSvg:$rt},Symbol.toStringTag,{value:\"Module\"})),Trt=qe`<svg width=\"14\" height=\"14\" viewBox=\"0 0 14 14\" fill=\"none\">\n  <path d=\"M4.98926 3.73932C4.2989 3.73932 3.73926 4.29896 3.73926 4.98932C3.73926 5.67968 4.2989 6.23932 4.98926 6.23932C5.67962 6.23932 6.23926 5.67968 6.23926 4.98932C6.23926 4.29896 5.67962 3.73932 4.98926 3.73932Z\" fill=\"currentColor\"/>\n  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.60497 0.500001H6.39504C5.41068 0.499977 4.59185 0.499958 3.93178 0.571471C3.24075 0.64634 2.60613 0.809093 2.04581 1.21619C1.72745 1.44749 1.44749 1.72745 1.21619 2.04581C0.809093 2.60613 0.64634 3.24075 0.571471 3.93178C0.499958 4.59185 0.499977 5.41065 0.500001 6.39501V7.57815C0.499998 8.37476 0.499995 9.05726 0.534869 9.62725C0.570123 10.2034 0.644114 10.7419 0.828442 11.2302C0.925651 11.4877 1.05235 11.7287 1.21619 11.9542C1.44749 12.2726 1.72745 12.5525 2.04581 12.7838C2.60613 13.1909 3.24075 13.3537 3.93178 13.4285C4.59185 13.5001 5.41066 13.5 6.39503 13.5H7.60496C8.58933 13.5 9.40815 13.5001 10.0682 13.4285C10.7593 13.3537 11.3939 13.1909 11.9542 12.7838C12.2726 12.5525 12.5525 12.2726 12.7838 11.9542C13.1909 11.3939 13.3537 10.7593 13.4285 10.0682C13.5 9.40816 13.5 8.58935 13.5 7.60497V6.39505C13.5 5.41068 13.5 4.59185 13.4285 3.93178C13.3537 3.24075 13.1909 2.60613 12.7838 2.04581C12.5525 1.72745 12.2726 1.44749 11.9542 1.21619C11.3939 0.809093 10.7593 0.64634 10.0682 0.571471C9.40816 0.499958 8.58933 0.499977 7.60497 0.500001ZM3.22138 2.83422C3.38394 2.71612 3.62634 2.61627 4.14721 2.55984C4.68679 2.50138 5.39655 2.5 6.45 2.5H7.55C8.60345 2.5 9.31322 2.50138 9.8528 2.55984C10.3737 2.61627 10.6161 2.71612 10.7786 2.83422C10.9272 2.94216 11.0578 3.07281 11.1658 3.22138C11.2839 3.38394 11.3837 3.62634 11.4402 4.14721C11.4986 4.68679 11.5 5.39655 11.5 6.45V6.49703C10.9674 6.11617 10.386 5.84936 9.74213 5.81948C8.40536 5.75745 7.3556 6.73051 6.40509 7.84229C6.33236 7.92737 6.27406 7.98735 6.22971 8.02911L6.1919 8.00514L6.17483 7.99427C6.09523 7.94353 5.98115 7.87083 5.85596 7.80302C5.56887 7.64752 5.18012 7.4921 4.68105 7.4921C4.66697 7.4921 4.6529 7.49239 4.63884 7.49299C3.79163 7.52878 3.09922 8.1106 2.62901 8.55472C2.58751 8.59392 2.54594 8.6339 2.50435 8.6745C2.50011 8.34653 2.5 7.97569 2.5 7.55V6.45C2.5 5.39655 2.50138 4.68679 2.55984 4.14721C2.61627 3.62634 2.71612 3.38394 2.83422 3.22138C2.94216 3.07281 3.07281 2.94216 3.22138 2.83422ZM10.3703 8.14825C10.6798 8.37526 11.043 8.71839 11.4832 9.20889C11.4744 9.44992 11.4608 9.662 11.4402 9.8528C11.3837 10.3737 11.2839 10.6161 11.1658 10.7786C11.0578 10.9272 10.9272 11.0578 10.7786 11.1658C10.6161 11.2839 10.3737 11.3837 9.8528 11.4402C9.31322 11.4986 8.60345 11.5 7.55 11.5H6.45C5.39655 11.5 4.68679 11.4986 4.14721 11.4402C3.62634 11.3837 3.38394 11.2839 3.22138 11.1658C3.15484 11.1174 3.0919 11.0645 3.03298 11.0075C3.10126 10.9356 3.16806 10.8649 3.23317 10.7959L3.29772 10.7276C3.55763 10.4525 3.78639 10.2126 4.00232 10.0087C4.22016 9.80294 4.39412 9.66364 4.53524 9.57742C4.63352 9.51738 4.69022 9.49897 4.71275 9.49345C4.76387 9.49804 4.81803 9.51537 4.90343 9.56162C4.96409 9.59447 5.02355 9.63225 5.11802 9.69238L5.12363 9.69595C5.20522 9.74789 5.32771 9.82587 5.46078 9.89278C5.76529 10.0459 6.21427 10.186 6.74977 10.0158C7.21485 9.86796 7.59367 9.52979 7.92525 9.14195C8.91377 7.98571 9.38267 7.80495 9.64941 7.81733C9.7858 7.82366 10.0101 7.884 10.3703 8.14825Z\" fill=\"currentColor\"/>\n</svg>`,Prt=Object.freeze(Object.defineProperty({__proto__:null,imageSvg:Trt},Symbol.toStringTag,{value:\"Module\"})),Ort=qe`<svg\n xmlns=\"http://www.w3.org/2000/svg\"\n width=\"28\"\n height=\"28\"\n viewBox=\"0 0 28 28\"\n fill=\"none\">\n  <path\n    fill=\"#949E9E\"\n    fill-rule=\"evenodd\"\n    d=\"M7.974 2.975h12.052c1.248 0 2.296 0 3.143.092.89.096 1.723.307 2.461.844a4.9 4.9 0 0 1 1.084 1.084c.537.738.748 1.57.844 2.461.092.847.092 1.895.092 3.143v6.802c0 1.248 0 2.296-.092 3.143-.096.89-.307 1.723-.844 2.461a4.9 4.9 0 0 1-1.084 1.084c-.738.537-1.57.748-2.461.844-.847.092-1.895.092-3.143.092H7.974c-1.247 0-2.296 0-3.143-.092-.89-.096-1.723-.307-2.461-.844a4.901 4.901 0 0 1-1.084-1.084c-.537-.738-.748-1.571-.844-2.461C.35 19.697.35 18.649.35 17.4v-6.802c0-1.248 0-2.296.092-3.143.096-.89.307-1.723.844-2.461A4.9 4.9 0 0 1 2.37 3.91c.738-.537 1.571-.748 2.461-.844.847-.092 1.895-.092 3.143-.092ZM5.133 5.85c-.652.071-.936.194-1.117.326a2.1 2.1 0 0 0-.465.465c-.132.181-.255.465-.325 1.117-.074.678-.076 1.573-.076 2.917v6.65c0 1.344.002 2.239.076 2.917.07.652.193.936.325 1.117a2.1 2.1 0 0 0 .465.465c.181.132.465.255 1.117.326.678.073 1.574.075 2.917.075h11.9c1.344 0 2.239-.002 2.917-.075.652-.071.936-.194 1.117-.326.179-.13.335-.286.465-.465.132-.181.255-.465.326-1.117.073-.678.075-1.573.075-2.917v-6.65c0-1.344-.002-2.239-.075-2.917-.071-.652-.194-.936-.326-1.117a2.1 2.1 0 0 0-.465-.465c-.181-.132-.465-.255-1.117-.326-.678-.073-1.573-.075-2.917-.075H8.05c-1.343 0-2.239.002-2.917.075Zm.467 7.275a3.15 3.15 0 1 1 6.3 0 3.15 3.15 0 0 1-6.3 0Zm8.75-1.75a1.4 1.4 0 0 1 1.4-1.4h3.5a1.4 1.4 0 0 1 0 2.8h-3.5a1.4 1.4 0 0 1-1.4-1.4Zm0 5.25a1.4 1.4 0 0 1 1.4-1.4H21a1.4 1.4 0 1 1 0 2.8h-5.25a1.4 1.4 0 0 1-1.4-1.4Z\"\n    clip-rule=\"evenodd\"/>\n</svg>`,Nrt=Object.freeze(Object.defineProperty({__proto__:null,idSvg:Ort},Symbol.toStringTag,{value:\"Module\"})),Rrt=qe`<svg fill=\"none\" viewBox=\"0 0 14 15\">\n  <path\n    fill=\"currentColor\"\n    d=\"M6 10.49a1 1 0 1 0 2 0v-2a1 1 0 0 0-2 0v2ZM7 4.49a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z\"\n  />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M7 14.99a7 7 0 1 0 0-14 7 7 0 0 0 0 14Zm5-7a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,krt=Object.freeze(Object.defineProperty({__proto__:null,infoCircleSvg:Rrt},Symbol.toStringTag,{value:\"Module\"})),Mrt=qe`<svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M5.00177 1.78569C3.8179 1.78569 2.85819 2.74508 2.85819 3.92855C2.85819 4.52287 3.09928 5.05956 3.49077 5.4485L3.5005 5.45817C3.64381 5.60054 3.76515 5.72108 3.85631 5.81845C3.93747 5.90512 4.05255 6.03218 4.12889 6.1805C4.16999 6.26034 4.19 6.30843 4.21768 6.39385C4.22145 6.40546 4.22499 6.41703 4.22833 6.42855H5.77521C5.77854 6.41703 5.78208 6.40547 5.78585 6.39385C5.81353 6.30843 5.83354 6.26034 5.87464 6.1805C5.95098 6.03218 6.06606 5.90512 6.14722 5.81845C6.23839 5.72108 6.35973 5.60053 6.50304 5.45816L6.51276 5.4485C6.90425 5.05956 7.14534 4.52287 7.14534 3.92855C7.14534 2.74508 6.18563 1.78569 5.00177 1.78569ZM5.71629 7.85712H4.28724C4.28724 8.21403 4.28876 8.40985 4.30703 8.54571C4.30727 8.54748 4.30751 8.54921 4.30774 8.55091C4.30944 8.55115 4.31118 8.55138 4.31295 8.55162C4.44884 8.56989 4.64474 8.5714 5.00177 8.5714C5.3588 8.5714 5.55469 8.56989 5.69059 8.55162C5.69236 8.55138 5.69409 8.55115 5.69579 8.55091C5.69603 8.54921 5.69627 8.54748 5.6965 8.54571C5.71477 8.40985 5.71629 8.21403 5.71629 7.85712ZM2.85819 7.14283C2.85819 6.9948 2.85796 6.91114 2.8548 6.85032C2.85461 6.84656 2.85441 6.84309 2.85421 6.83988C2.84393 6.8282 2.83047 6.81334 2.81301 6.79469C2.74172 6.71856 2.63908 6.61643 2.48342 6.46178C1.83307 5.81566 1.42914 4.91859 1.42914 3.92855C1.42914 1.9561 3.02866 0.357117 5.00177 0.357117C6.97487 0.357117 8.57439 1.9561 8.57439 3.92855C8.57439 4.91859 8.17047 5.81566 7.52012 6.46178C7.36445 6.61643 7.26182 6.71856 7.19053 6.79469C7.17306 6.81334 7.1596 6.8282 7.14932 6.83988C7.14912 6.84309 7.14892 6.84656 7.14873 6.85032C7.14557 6.91114 7.14534 6.9948 7.14534 7.14283V7.85712C7.14534 7.87009 7.14535 7.88304 7.14535 7.89598C7.14541 8.19889 7.14547 8.49326 7.11281 8.73606C7.076 9.00978 6.98631 9.32212 6.72678 9.58156C6.46726 9.841 6.15481 9.93065 5.881 9.96745C5.63813 10.0001 5.34365 10 5.04064 9.99998C5.0277 9.99998 5.01474 9.99998 5.00177 9.99998C4.98879 9.99998 4.97583 9.99998 4.96289 9.99998C4.65988 10 4.36541 10.0001 4.12253 9.96745C3.84872 9.93065 3.53628 9.841 3.27675 9.58156C3.01722 9.32212 2.92753 9.00978 2.89072 8.73606C2.85807 8.49326 2.85812 8.19889 2.85818 7.89598C2.85819 7.88304 2.85819 7.87008 2.85819 7.85712V7.14283ZM7.1243 6.86977C7.12366 6.87069 7.1233 6.87116 7.12327 6.87119C7.12323 6.87123 7.12356 6.87076 7.1243 6.86977ZM2.88027 6.8712C2.88025 6.87119 2.87988 6.8707 2.87921 6.86975C2.87995 6.87072 2.88028 6.8712 2.88027 6.8712Z\" fill=\"#949E9E\"/>\n</svg>`,Drt=Object.freeze(Object.defineProperty({__proto__:null,lightbulbSvg:Mrt},Symbol.toStringTag,{value:\"Module\"})),Brt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M4.83 1.34h6.34c.68 0 1.26 0 1.73.04.5.05.97.15 1.42.4.52.3.95.72 1.24 1.24.26.45.35.92.4 1.42.04.47.04 1.05.04 1.73v3.71c0 .69 0 1.26-.04 1.74-.05.5-.14.97-.4 1.41-.3.52-.72.95-1.24 1.25-.45.25-.92.35-1.42.4-.47.03-1.05.03-1.73.03H4.83c-.68 0-1.26 0-1.73-.04-.5-.04-.97-.14-1.42-.4-.52-.29-.95-.72-1.24-1.24a3.39 3.39 0 0 1-.4-1.41A20.9 20.9 0 0 1 0 9.88v-3.7c0-.7 0-1.27.04-1.74.05-.5.14-.97.4-1.42.3-.52.72-.95 1.24-1.24.45-.25.92-.35 1.42-.4.47-.04 1.05-.04 1.73-.04ZM3.28 3.38c-.36.03-.51.08-.6.14-.21.11-.39.29-.5.5a.8.8 0 0 0-.08.19l5.16 3.44c.45.3 1.03.3 1.48 0L13.9 4.2a.79.79 0 0 0-.08-.2c-.11-.2-.29-.38-.5-.5-.09-.05-.24-.1-.6-.13-.37-.04-.86-.04-1.6-.04H4.88c-.73 0-1.22 0-1.6.04ZM14 6.54 9.85 9.31a3.33 3.33 0 0 1-3.7 0L2 6.54v3.3c0 .74 0 1.22.03 1.6.04.36.1.5.15.6.11.2.29.38.5.5.09.05.24.1.6.14.37.03.86.03 1.6.03h6.25c.73 0 1.22 0 1.6-.03.35-.03.5-.09.6-.14.2-.12.38-.3.5-.5.05-.1.1-.24.14-.6.03-.38.03-.86.03-1.6v-3.3Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Lrt=Object.freeze(Object.defineProperty({__proto__:null,mailSvg:Brt},Symbol.toStringTag,{value:\"Module\"})),Urt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path fill=\"currentColor\" d=\"M10.81 5.81a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z\" />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M3 4.75A4.75 4.75 0 0 1 7.75 0h4.5A4.75 4.75 0 0 1 17 4.75v10.5A4.75 4.75 0 0 1 12.25 20h-4.5A4.75 4.75 0 0 1 3 15.25V4.75ZM7.75 2A2.75 2.75 0 0 0 5 4.75v10.5A2.75 2.75 0 0 0 7.75 18h4.5A2.75 2.75 0 0 0 15 15.25V4.75A2.75 2.75 0 0 0 12.25 2h-4.5Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,jrt=Object.freeze(Object.defineProperty({__proto__:null,mobileSvg:Urt},Symbol.toStringTag,{value:\"Module\"})),zrt=qe`<svg fill=\"none\" viewBox=\"0 0 41 40\">\n  <path\n    style=\"fill: var(--wui-color-fg-100);\"\n    fill-opacity=\".05\"\n    d=\"M.6 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z\"\n  />\n  <path\n    fill=\"#949E9E\"\n    d=\"M15.6 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM23.1 20.31a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0ZM28.1 22.81a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z\"\n  />\n</svg>`,Frt=Object.freeze(Object.defineProperty({__proto__:null,moreSvg:zrt},Symbol.toStringTag,{value:\"Module\"})),qrt=qe`<svg fill=\"none\" viewBox=\"0 0 22 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M16.32 13.62a3.14 3.14 0 1 1-.99 1.72l-1.6-.93a3.83 3.83 0 0 1-3.71 1 3.66 3.66 0 0 1-1.74-1l-1.6.94a3.14 3.14 0 1 1-1-1.73l1.6-.94a3.7 3.7 0 0 1 0-2 3.81 3.81 0 0 1 1.8-2.33c.29-.17.6-.3.92-.38V6.1a3.14 3.14 0 1 1 2 0l-.01.02v1.85H12a3.82 3.82 0 0 1 2.33 1.8 3.7 3.7 0 0 1 .39 2.91l1.6.93ZM2.6 16.54a1.14 1.14 0 0 0 1.98-1.14 1.14 1.14 0 0 0-1.98 1.14ZM11 2.01a1.14 1.14 0 1 0 0 2.28 1.14 1.14 0 0 0 0-2.28Zm1.68 10.45c.08-.19.14-.38.16-.58v-.05l.02-.13v-.13a1.92 1.92 0 0 0-.24-.8l-.11-.15a1.89 1.89 0 0 0-.74-.6 1.86 1.86 0 0 0-.77-.17h-.19a1.97 1.97 0 0 0-.89.34 1.98 1.98 0 0 0-.61.74 1.99 1.99 0 0 0-.16.9v.05a1.87 1.87 0 0 0 .24.74l.1.15c.12.16.26.3.42.42l.16.1.13.07.04.02a1.84 1.84 0 0 0 .76.17h.17a2 2 0 0 0 .91-.35 1.78 1.78 0 0 0 .52-.58l.03-.05a.84.84 0 0 0 .05-.11Zm5.15 4.5a1.14 1.14 0 0 0 1.14-1.97 1.13 1.13 0 0 0-1.55.41c-.32.55-.13 1.25.41 1.56Z\"\n    clip-rule=\"evenodd\"\n  />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M4.63 9.43a1.5 1.5 0 1 0 1.5-2.6 1.5 1.5 0 0 0-1.5 2.6Zm.32-1.55a.5.5 0 0 1 .68-.19.5.5 0 0 1 .18.68.5.5 0 0 1-.68.19.5.5 0 0 1-.18-.68ZM17.94 8.88a1.5 1.5 0 1 1-2.6-1.5 1.5 1.5 0 1 1 2.6 1.5ZM16.9 7.69a.5.5 0 0 0-.68.19.5.5 0 0 0 .18.68.5.5 0 0 0 .68-.19.5.5 0 0 0-.18-.68ZM9.75 17.75a1.5 1.5 0 1 1 2.6 1.5 1.5 1.5 0 1 1-2.6-1.5Zm1.05 1.18a.5.5 0 0 0 .68-.18.5.5 0 0 0-.18-.68.5.5 0 0 0-.68.18.5.5 0 0 0 .18.68Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Hrt=Object.freeze(Object.defineProperty({__proto__:null,networkPlaceholderSvg:qrt},Symbol.toStringTag,{value:\"Module\"})),Vrt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M9.13 1h1.71c1.46 0 2.63 0 3.56.1.97.1 1.8.33 2.53.85a5 5 0 0 1 1.1 1.11c.53.73.75 1.56.86 2.53.1.93.1 2.1.1 3.55v1.72c0 1.45 0 2.62-.1 3.55-.1.97-.33 1.8-.86 2.53a5 5 0 0 1-1.1 1.1c-.73.53-1.56.75-2.53.86-.93.1-2.1.1-3.55.1H9.13c-1.45 0-2.62 0-3.56-.1-.96-.1-1.8-.33-2.52-.85a5 5 0 0 1-1.1-1.11 5.05 5.05 0 0 1-.86-2.53c-.1-.93-.1-2.1-.1-3.55V9.14c0-1.45 0-2.62.1-3.55.1-.97.33-1.8.85-2.53a5 5 0 0 1 1.1-1.1 5.05 5.05 0 0 1 2.53-.86C6.51 1 7.67 1 9.13 1ZM5.79 3.09a3.1 3.1 0 0 0-1.57.48 3 3 0 0 0-.66.67c-.24.32-.4.77-.48 1.56-.1.82-.1 1.88-.1 3.4v1.6c0 1.15 0 2.04.05 2.76l.41-.42c.5-.5.93-.92 1.32-1.24.41-.33.86-.6 1.43-.7a3 3 0 0 1 .94 0c.35.06.66.2.95.37a17.11 17.11 0 0 0 .8.45c.1-.08.2-.2.41-.4l.04-.03a27 27 0 0 1 1.95-1.84 4.03 4.03 0 0 1 1.91-.94 4 4 0 0 1 1.25 0c.73.11 1.33.46 1.91.94l.64.55V9.2c0-1.52 0-2.58-.1-3.4a3.1 3.1 0 0 0-.48-1.56 3 3 0 0 0-.66-.67 3.1 3.1 0 0 0-1.56-.48C13.37 3 12.3 3 10.79 3h-1.6c-1.52 0-2.59 0-3.4.09Zm11.18 10-.04-.05a26.24 26.24 0 0 0-1.83-1.74c-.45-.36-.73-.48-.97-.52a2 2 0 0 0-.63 0c-.24.04-.51.16-.97.52-.46.38-1.01.93-1.83 1.74l-.02.02c-.17.18-.34.34-.49.47a2.04 2.04 0 0 1-1.08.5 1.97 1.97 0 0 1-1.25-.27l-.79-.46-.02-.02a.65.65 0 0 0-.24-.1 1 1 0 0 0-.31 0c-.08.02-.21.06-.49.28-.3.24-.65.59-1.2 1.14l-.56.56-.65.66a3 3 0 0 0 .62.6c.33.24.77.4 1.57.49.81.09 1.88.09 3.4.09h1.6c1.52 0 2.58 0 3.4-.09a3.1 3.1 0 0 0 1.56-.48 3 3 0 0 0 .66-.67c.24-.32.4-.77.49-1.56l.07-1.12Zm-8.02-1.03ZM4.99 7a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Krt=Object.freeze(Object.defineProperty({__proto__:null,nftPlaceholderSvg:Vrt},Symbol.toStringTag,{value:\"Module\"})),Wrt=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M8 0a1 1 0 0 1 1 1v5.38a1 1 0 0 1-2 0V1a1 1 0 0 1 1-1ZM5.26 2.6a1 1 0 0 1-.28 1.39 5.46 5.46 0 1 0 6.04 0 1 1 0 1 1 1.1-1.67 7.46 7.46 0 1 1-8.25 0 1 1 0 0 1 1.4.28Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Grt=Object.freeze(Object.defineProperty({__proto__:null,offSvg:Wrt},Symbol.toStringTag,{value:\"Module\"})),Zrt=qe` <svg\n  width=\"36\"\n  height=\"36\"\n  fill=\"none\"\n>\n  <path\n    d=\"M0 8a8 8 0 0 1 8-8h20a8 8 0 0 1 8 8v20a8 8 0 0 1-8 8H8a8 8 0 0 1-8-8V8Z\"\n    fill=\"#fff\"\n    fill-opacity=\".05\"\n  />\n  <path\n    d=\"m18.262 17.513-8.944 9.49v.01a2.417 2.417 0 0 0 3.56 1.452l.026-.017 10.061-5.803-4.703-5.132Z\"\n    fill=\"#EA4335\"\n  />\n  <path\n    d=\"m27.307 15.9-.008-.008-4.342-2.52-4.896 4.36 4.913 4.912 4.325-2.494a2.42 2.42 0 0 0 .008-4.25Z\"\n    fill=\"#FBBC04\"\n  />\n  <path\n    d=\"M9.318 8.997c-.05.202-.084.403-.084.622V26.39c0 .218.025.42.084.621l9.246-9.247-9.246-8.768Z\"\n    fill=\"#4285F4\"\n  />\n  <path\n    d=\"m18.33 18 4.627-4.628-10.053-5.828a2.427 2.427 0 0 0-3.586 1.444L18.329 18Z\"\n    fill=\"#34A853\"\n  />\n  <path\n    d=\"M8 .5h20A7.5 7.5 0 0 1 35.5 8v20a7.5 7.5 0 0 1-7.5 7.5H8A7.5 7.5 0 0 1 .5 28V8A7.5 7.5 0 0 1 8 .5Z\"\n    stroke=\"#fff\"\n    stroke-opacity=\".05\"\n  />\n</svg>`,Yrt=Object.freeze(Object.defineProperty({__proto__:null,playStoreSvg:Zrt},Symbol.toStringTag,{value:\"Module\"})),Jrt=qe`<svg\n  width=\"13\"\n  height=\"12\"\n  viewBox=\"0 0 13 12\"\n  fill=\"none\"\n>\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M0.794373 5.99982C0.794373 5.52643 1.17812 5.14268 1.6515 5.14268H5.643V1.15109C5.643 0.677701 6.02675 0.293946 6.50012 0.293945C6.9735 0.293946 7.35725 0.677701 7.35725 1.15109V5.14268H11.3488C11.8221 5.14268 12.2059 5.52643 12.2059 5.99982C12.2059 6.47321 11.8221 6.85696 11.3488 6.85696H7.35725V10.8486C7.35725 11.3219 6.9735 11.7057 6.50012 11.7057C6.02675 11.7057 5.643 11.3219 5.643 10.8486V6.85696H1.6515C1.17812 6.85696 0.794373 6.47321 0.794373 5.99982Z\"\n  /></svg\n>`,Xrt=Object.freeze(Object.defineProperty({__proto__:null,plusSvg:Jrt},Symbol.toStringTag,{value:\"Module\"})),Qrt=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    d=\"M3 6a3 3 0 0 1 3-3h1a1 1 0 1 0 0-2H6a5 5 0 0 0-5 5v1a1 1 0 0 0 2 0V6ZM13 1a1 1 0 1 0 0 2h1a3 3 0 0 1 3 3v1a1 1 0 1 0 2 0V6a5 5 0 0 0-5-5h-1ZM3 13a1 1 0 1 0-2 0v1a5 5 0 0 0 5 5h1a1 1 0 1 0 0-2H6a3 3 0 0 1-3-3v-1ZM19 13a1 1 0 1 0-2 0v1a3 3 0 0 1-3 3h-1a1 1 0 1 0 0 2h1.01a5 5 0 0 0 5-5v-1ZM5.3 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05A1.5 1.5 0 0 0 9.2 8.14c.06-.2.06-.43.06-.89s0-.7-.06-.89A1.5 1.5 0 0 0 8.14 5.3c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM10.8 6.36c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06ZM5.26 12.75c0-.46 0-.7.05-.89a1.5 1.5 0 0 1 1.06-1.06c.19-.05.42-.05.89-.05.46 0 .7 0 .88.05.52.14.93.54 1.06 1.06.06.2.06.43.06.89s0 .7-.06.89a1.5 1.5 0 0 1-1.06 1.06c-.19.05-.42.05-.88.05-.47 0-.7 0-.9-.05a1.5 1.5 0 0 1-1.05-1.06c-.05-.2-.05-.43-.05-.89ZM10.8 11.86c-.04.2-.04.43-.04.89s0 .7.05.89c.14.52.54.92 1.06 1.06.19.05.42.05.89.05.46 0 .7 0 .88-.05a1.5 1.5 0 0 0 1.06-1.06c.06-.2.06-.43.06-.89s0-.7-.06-.89a1.5 1.5 0 0 0-1.06-1.06c-.19-.05-.42-.05-.88-.05-.47 0-.7 0-.9.05a1.5 1.5 0 0 0-1.05 1.06Z\"\n  />\n</svg>`,eit=Object.freeze(Object.defineProperty({__proto__:null,qrCodeIcon:Qrt},Symbol.toStringTag,{value:\"Module\"})),tit=qe`<svg\n  fill=\"none\"\n  viewBox=\"0 0 21 20\"\n>\n  <path\n    fill=\"currentColor\"\n    d=\"M8.8071 0.292893C9.19763 0.683417 9.19763 1.31658 8.8071 1.70711L6.91421 3.6H11.8404C14.3368 3.6 16.5533 5.1975 17.3427 7.56588L17.4487 7.88377C17.6233 8.40772 17.3402 8.97404 16.8162 9.14868C16.2923 9.32333 15.726 9.04017 15.5513 8.51623L15.4453 8.19834C14.9281 6.64664 13.476 5.6 11.8404 5.6H6.91421L8.8071 7.49289C9.19763 7.88342 9.19763 8.51658 8.8071 8.90711C8.41658 9.29763 7.78341 9.29763 7.39289 8.90711L3.79289 5.30711C3.40236 4.91658 3.40236 4.28342 3.79289 3.89289L7.39289 0.292893C7.78341 -0.0976311 8.41658 -0.0976311 8.8071 0.292893ZM4.18377 10.8513C4.70771 10.6767 5.27403 10.9598 5.44868 11.4838L5.55464 11.8017C6.07188 13.3534 7.52401 14.4 9.15964 14.4L14.0858 14.4L12.1929 12.5071C11.8024 12.1166 11.8024 11.4834 12.1929 11.0929C12.5834 10.7024 13.2166 10.7024 13.6071 11.0929L17.2071 14.6929C17.5976 15.0834 17.5976 15.7166 17.2071 16.1071L13.6071 19.7071C13.2166 20.0976 12.5834 20.0976 12.1929 19.7071C11.8024 19.3166 11.8024 18.6834 12.1929 18.2929L14.0858 16.4L9.15964 16.4C6.66314 16.4 4.44674 14.8025 3.65728 12.4341L3.55131 12.1162C3.37667 11.5923 3.65983 11.026 4.18377 10.8513Z\"\n  /></svg\n>`,nit=Object.freeze(Object.defineProperty({__proto__:null,recycleHorizontalSvg:tit},Symbol.toStringTag,{value:\"Module\"})),rit=qe`<svg fill=\"none\" viewBox=\"0 0 14 16\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M3.94 1.04a1 1 0 0 1 .7 1.23l-.48 1.68a5.85 5.85 0 0 1 8.53 4.32 5.86 5.86 0 0 1-11.4 2.56 1 1 0 0 1 1.9-.57 3.86 3.86 0 1 0 1.83-4.5l1.87.53a1 1 0 0 1-.55 1.92l-4.1-1.15a1 1 0 0 1-.69-1.23l1.16-4.1a1 1 0 0 1 1.23-.7Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,iit=Object.freeze(Object.defineProperty({__proto__:null,refreshSvg:rit},Symbol.toStringTag,{value:\"Module\"})),sit=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M9.36 4.21a5.14 5.14 0 1 0 0 10.29 5.14 5.14 0 0 0 0-10.29ZM1.64 9.36a7.71 7.71 0 1 1 14 4.47l2.52 2.5a1.29 1.29 0 1 1-1.82 1.83l-2.51-2.51A7.71 7.71 0 0 1 1.65 9.36Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,oit=Object.freeze(Object.defineProperty({__proto__:null,searchSvg:sit},Symbol.toStringTag,{value:\"Module\"})),ait=qe`<svg fill=\"none\" viewBox=\"0 0 21 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M14.3808 4.34812C13.72 4.47798 12.8501 4.7587 11.5748 5.17296L9.00869 6.00646C6.90631 6.68935 5.40679 7.17779 4.38121 7.63178C3.87166 7.85734 3.5351 8.05091 3.32022 8.22035C3.11183 8.38466 3.07011 8.48486 3.05969 8.51817C2.98058 8.77103 2.98009 9.04195 3.05831 9.29509C3.06861 9.32844 3.10998 9.42878 3.31777 9.59384C3.53205 9.76404 3.86792 9.95881 4.37667 10.1862C5.29287 10.5957 6.58844 11.0341 8.35529 11.6164L10.8876 8.59854C11.2426 8.17547 11.8733 8.12028 12.2964 8.47528C12.7195 8.83029 12.7746 9.46104 12.4196 9.88412L9.88738 12.9019C10.7676 14.5408 11.4244 15.7406 11.9867 16.5718C12.299 17.0333 12.5491 17.3303 12.7539 17.5117C12.9526 17.6877 13.0586 17.711 13.0932 17.7154C13.3561 17.7484 13.6228 17.7009 13.8581 17.5791C13.8891 17.563 13.9805 17.5046 14.1061 17.2708C14.2357 17.0298 14.3679 16.6647 14.5015 16.1237C14.7705 15.0349 14.9912 13.4733 15.2986 11.2843L15.6738 8.61249C15.8603 7.28456 15.9857 6.37917 15.9989 5.7059C16.012 5.03702 15.9047 4.8056 15.8145 4.69183C15.7044 4.55297 15.5673 4.43792 15.4114 4.35365C15.2837 4.28459 15.0372 4.2191 14.3808 4.34812ZM7.99373 13.603C6.11919 12.9864 4.6304 12.4902 3.5606 12.0121C2.98683 11.7557 2.4778 11.4808 2.07383 11.1599C1.66337 10.8339 1.31312 10.4217 1.14744 9.88551C0.949667 9.24541 0.950886 8.56035 1.15094 7.92096C1.31852 7.38534 1.67024 6.97442 2.08185 6.64985C2.48697 6.33041 2.99697 6.05734 3.57166 5.80295C4.70309 5.3021 6.30179 4.78283 8.32903 4.12437L11.0196 3.25042C12.2166 2.86159 13.2017 2.54158 13.9951 2.38566C14.8065 2.22618 15.6202 2.19289 16.3627 2.59437C16.7568 2.80747 17.1035 3.09839 17.3818 3.4495C17.9062 4.111 18.0147 4.91815 17.9985 5.74496C17.9827 6.55332 17.8386 7.57903 17.6636 8.82534L17.2701 11.6268C16.9737 13.7376 16.7399 15.4022 16.4432 16.6034C16.2924 17.2135 16.1121 17.7632 15.8678 18.2176C15.6197 18.6794 15.2761 19.0971 14.7777 19.3551C14.1827 19.6632 13.5083 19.7833 12.8436 19.6997C12.2867 19.6297 11.82 19.3563 11.4277 19.0087C11.0415 18.6666 10.6824 18.213 10.3302 17.6925C9.67361 16.722 8.92648 15.342 7.99373 13.603Z\"\n    clip-rule=\"evenodd\"\n  />\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"21\"\n    height=\"20\"\n    viewBox=\"0 0 21 20\"\n    fill=\"none\"\n  ></svg></svg\n>`,cit=Object.freeze(Object.defineProperty({__proto__:null,sendSvg:ait},Symbol.toStringTag,{value:\"Module\"})),lit=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M6.76.3a1 1 0 0 1 0 1.4L4.07 4.4h9a1 1 0 1 1 0 2h-9l2.69 2.68a1 1 0 1 1-1.42 1.42L.95 6.09a1 1 0 0 1 0-1.4l4.4-4.4a1 1 0 0 1 1.4 0Zm6.49 9.21a1 1 0 0 1 1.41 0l4.39 4.4a1 1 0 0 1 0 1.4l-4.39 4.4a1 1 0 0 1-1.41-1.42l2.68-2.68h-9a1 1 0 0 1 0-2h9l-2.68-2.68a1 1 0 0 1 0-1.42Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,uit=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalSvg:lit},Symbol.toStringTag,{value:\"Module\"})),dit=qe`<svg\n  width=\"14\"\n  height=\"14\"\n  viewBox=\"0 0 14 14\"\n  fill=\"none\"\n  xmlns=\"http://www.w3.org/2000/svg\"\n>\n  <path\n    fill-rule=\"evenodd\"\n    clip-rule=\"evenodd\"\n    d=\"M13.7306 3.24213C14.0725 3.58384 14.0725 4.13786 13.7306 4.47957L10.7418 7.46737C10.4 7.80908 9.84581 7.80908 9.50399 7.46737C9.16216 7.12567 9.16216 6.57165 9.50399 6.22994L10.9986 4.73585H5.34082C4.85741 4.73585 4.46553 4.3441 4.46553 3.86085C4.46553 3.3776 4.85741 2.98585 5.34082 2.98585L10.9986 2.98585L9.50399 1.49177C9.16216 1.15006 9.16216 0.596037 9.50399 0.254328C9.84581 -0.0873803 10.4 -0.0873803 10.7418 0.254328L13.7306 3.24213ZM9.52515 10.1352C9.52515 10.6185 9.13327 11.0102 8.64986 11.0102L2.9921 11.0102L4.48669 12.5043C4.82852 12.846 4.82852 13.4001 4.48669 13.7418C4.14487 14.0835 3.59066 14.0835 3.24884 13.7418L0.26003 10.754C0.0958806 10.5899 0.0036621 10.3673 0.00366211 10.1352C0.00366212 9.90318 0.0958806 9.68062 0.26003 9.51652L3.24884 6.52872C3.59066 6.18701 4.14487 6.18701 4.48669 6.52872C4.82851 6.87043 4.82851 7.42445 4.48669 7.76616L2.9921 9.26024L8.64986 9.26024C9.13327 9.26024 9.52515 9.65199 9.52515 10.1352Z\"\n    fill=\"currentColor\"\n  />\n</svg>\n\n`,fit=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalMediumSvg:dit},Symbol.toStringTag,{value:\"Module\"})),hit=qe`<svg width=\"10\" height=\"10\" viewBox=\"0 0 10 10\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M3.77986 0.566631C4.0589 0.845577 4.0589 1.29784 3.77986 1.57678L3.08261 2.2738H6.34184C6.73647 2.2738 7.05637 2.5936 7.05637 2.98808C7.05637 3.38257 6.73647 3.70237 6.34184 3.70237H3.08261L3.77986 4.39938C4.0589 4.67833 4.0589 5.13059 3.77986 5.40954C3.50082 5.68848 3.04841 5.68848 2.76937 5.40954L0.852346 3.49316C0.573306 3.21421 0.573306 2.76195 0.852346 2.48301L2.76937 0.566631C3.04841 0.287685 3.50082 0.287685 3.77986 0.566631ZM6.22 4.59102C6.49904 4.31208 6.95145 4.31208 7.23049 4.59102L9.14751 6.5074C9.42655 6.78634 9.42655 7.23861 9.14751 7.51755L7.23049 9.43393C6.95145 9.71287 6.49904 9.71287 6.22 9.43393C5.94096 9.15498 5.94096 8.70272 6.22 8.42377L6.91725 7.72676L3.65802 7.72676C3.26339 7.72676 2.94349 7.40696 2.94349 7.01247C2.94349 6.61798 3.26339 6.29819 3.65802 6.29819L6.91725 6.29819L6.22 5.60117C5.94096 5.32223 5.94096 4.86997 6.22 4.59102Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,pit=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalBoldSvg:hit},Symbol.toStringTag,{value:\"Module\"})),git=qe`<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 20 20\" fill=\"none\">\n  <path \n    fill=\"currentColor\"\n    fill-rule=\"evenodd\" \n    clip-rule=\"evenodd\" \n    d=\"M8.3071 0.292893C8.69763 0.683417 8.69763 1.31658 8.3071 1.70711L6.41421 3.6H11.3404C13.8368 3.6 16.0533 5.1975 16.8427 7.56588L16.9487 7.88377C17.1233 8.40772 16.8402 8.97404 16.3162 9.14868C15.7923 9.32333 15.226 9.04017 15.0513 8.51623L14.9453 8.19834C14.4281 6.64664 12.976 5.6 11.3404 5.6H6.41421L8.3071 7.49289C8.69763 7.88342 8.69763 8.51658 8.3071 8.90711C7.91658 9.29763 7.28341 9.29763 6.89289 8.90711L3.29289 5.30711C2.90236 4.91658 2.90236 4.28342 3.29289 3.89289L6.89289 0.292893C7.28341 -0.0976311 7.91658 -0.0976311 8.3071 0.292893ZM3.68377 10.8513C4.20771 10.6767 4.77403 10.9598 4.94868 11.4838L5.05464 11.8017C5.57188 13.3534 7.024 14.4 8.65964 14.4L13.5858 14.4L11.6929 12.5071C11.3024 12.1166 11.3024 11.4834 11.6929 11.0929C12.0834 10.7024 12.7166 10.7024 13.1071 11.0929L16.7071 14.6929C17.0976 15.0834 17.0976 15.7166 16.7071 16.1071L13.1071 19.7071C12.7166 20.0976 12.0834 20.0976 11.6929 19.7071C11.3024 19.3166 11.3024 18.6834 11.6929 18.2929L13.5858 16.4L8.65964 16.4C6.16314 16.4 3.94674 14.8025 3.15728 12.4341L3.05131 12.1162C2.87667 11.5923 3.15983 11.026 3.68377 10.8513Z\" \n  />\n</svg>`,mit=Object.freeze(Object.defineProperty({__proto__:null,swapHorizontalRoundedBoldSvg:git},Symbol.toStringTag,{value:\"Module\"})),yit=qe`<svg fill=\"none\" viewBox=\"0 0 14 14\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M3.48 2.18a1 1 0 0 1 1.41 0l2.68 2.68a1 1 0 1 1-1.41 1.42l-.98-.98v4.56a1 1 0 0 1-2 0V5.3l-.97.98A1 1 0 0 1 .79 4.86l2.69-2.68Zm6.34 2.93a1 1 0 0 1 1 1v4.56l.97-.98a1 1 0 1 1 1.42 1.42l-2.69 2.68a1 1 0 0 1-1.41 0l-2.68-2.68a1 1 0 0 1 1.41-1.42l.98.98V6.1a1 1 0 0 1 1-1Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,bit=Object.freeze(Object.defineProperty({__proto__:null,swapVerticalSvg:yit},Symbol.toStringTag,{value:\"Module\"})),wit=qe`<svg width=\"32\" height=\"32\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\">\n  <g clip-path=\"url(#a)\">\n    <path fill=\"url(#b)\" d=\"M0 0h32v32H0z\"/>\n    <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M7.034 15.252c4.975-2.167 8.293-3.596 9.953-4.287 4.74-1.971 5.725-2.314 6.366-2.325.142-.002.457.033.662.198.172.14.22.33.243.463.022.132.05.435.028.671-.257 2.7-1.368 9.248-1.933 12.27-.24 1.28-.71 1.708-1.167 1.75-.99.091-1.743-.655-2.703-1.284-1.502-.985-2.351-1.598-3.81-2.558-1.684-1.11-.592-1.721.368-2.718.252-.261 4.619-4.233 4.703-4.594.01-.045.02-.213-.08-.301-.1-.09-.246-.059-.353-.035-.15.034-2.55 1.62-7.198 4.758-.682.468-1.298.696-1.851.684-.61-.013-1.782-.344-2.653-.628-1.069-.347-1.918-.53-1.845-1.12.039-.308.462-.623 1.27-.944Z\" fill=\"#fff\"/>\n  </g>\n  <path d=\"M.5 16C.5 7.44 7.44.5 16 .5 24.56.5 31.5 7.44 31.5 16c0 8.56-6.94 15.5-15.5 15.5C7.44 31.5.5 24.56.5 16Z\" stroke=\"#141414\" stroke-opacity=\".05\"/>\n  <defs>\n    <linearGradient id=\"b\" x1=\"1600\" y1=\"0\" x2=\"1600\" y2=\"3176.27\" gradientUnits=\"userSpaceOnUse\">\n      <stop stop-color=\"#2AABEE\"/>\n      <stop offset=\"1\" stop-color=\"#229ED9\"/>\n    </linearGradient>\n    <clipPath id=\"a\">\n      <path d=\"M0 16C0 7.163 7.163 0 16 0s16 7.163 16 16-7.163 16-16 16S0 24.837 0 16Z\" fill=\"#fff\"/>\n    </clipPath>\n  </defs>\n</svg>`,vit=Object.freeze(Object.defineProperty({__proto__:null,telegramSvg:wit},Symbol.toStringTag,{value:\"Module\"})),Eit=qe`<svg width=\"14\" height=\"15\" viewBox=\"0 0 14 15\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M7 3.71875C6.0335 3.71875 5.25 2.93525 5.25 1.96875C5.25 1.00225 6.0335 0.21875 7 0.21875C7.9665 0.21875 8.75 1.00225 8.75 1.96875C8.75 2.93525 7.9665 3.71875 7 3.71875Z\" fill=\"#949E9E\"/>\n  <path d=\"M7 8.96875C6.0335 8.96875 5.25 8.18525 5.25 7.21875C5.25 6.25225 6.0335 5.46875 7 5.46875C7.9665 5.46875 8.75 6.25225 8.75 7.21875C8.75 8.18525 7.9665 8.96875 7 8.96875Z\" fill=\"#949E9E\"/>\n  <path d=\"M5.25 12.4688C5.25 13.4352 6.0335 14.2187 7 14.2187C7.9665 14.2187 8.75 13.4352 8.75 12.4688C8.75 11.5023 7.9665 10.7188 7 10.7188C6.0335 10.7188 5.25 11.5023 5.25 12.4688Z\" fill=\"#949E9E\"/>\n</svg>`,_it=Object.freeze(Object.defineProperty({__proto__:null,threeDotsSvg:Eit},Symbol.toStringTag,{value:\"Module\"})),Cit=qe`<svg fill=\"none\" viewBox=\"0 0 40 40\">\n  <g clip-path=\"url(#a)\">\n    <g clip-path=\"url(#b)\">\n      <circle cx=\"20\" cy=\"19.89\" r=\"20\" fill=\"#5A3E85\" />\n      <g clip-path=\"url(#c)\">\n        <path\n          fill=\"#fff\"\n          d=\"M18.22 25.7 20 23.91h3.34l2.1-2.1v-6.68H15.4v8.78h2.82v1.77Zm3.87-8.16h1.25v3.66H22.1v-3.66Zm-3.34 0H20v3.66h-1.25v-3.66ZM20 7.9a12 12 0 1 0 0 24 12 12 0 0 0 0-24Zm6.69 14.56-3.66 3.66h-2.72l-1.77 1.78h-1.88V26.1H13.3v-9.82l.94-2.4H26.7v8.56Z\"\n        />\n      </g>\n    </g>\n  </g>\n  <defs>\n    <clipPath id=\"a\"><rect width=\"40\" height=\"40\" fill=\"#fff\" rx=\"20\" /></clipPath>\n    <clipPath id=\"b\"><path fill=\"#fff\" d=\"M0 0h40v40H0z\" /></clipPath>\n    <clipPath id=\"c\"><path fill=\"#fff\" d=\"M8 7.89h24v24H8z\" /></clipPath>\n  </defs>\n</svg>`,Sit=Object.freeze(Object.defineProperty({__proto__:null,twitchSvg:Cit},Symbol.toStringTag,{value:\"Module\"})),xit=qe`<svg fill=\"none\" viewBox=\"0 0 41 40\">\n  <g clip-path=\"url(#a)\">\n    <path fill=\"#000\" d=\"M.8 0h40v40H.8z\" />\n    <path\n      fill=\"#fff\"\n      d=\"m22.63 18.46 7.14-8.3h-1.69l-6.2 7.2-4.96-7.2H11.2l7.5 10.9-7.5 8.71h1.7l6.55-7.61 5.23 7.61h5.72l-7.77-11.31Zm-9.13-7.03h2.6l11.98 17.13h-2.6L13.5 11.43Z\"\n    />\n  </g>\n  <defs>\n    <clipPath id=\"a\"><path fill=\"#fff\" d=\"M.8 20a20 20 0 1 1 40 0 20 20 0 0 1-40 0Z\" /></clipPath>\n  </defs>\n</svg>`,sY=Object.freeze(Object.defineProperty({__proto__:null,xSvg:xit},Symbol.toStringTag,{value:\"Module\"})),Ait=qe`<svg fill=\"none\" viewBox=\"0 0 16 16\">\n  <path\n    fill=\"currentColor\"\n    d=\"m14.36 4.74.01.42c0 4.34-3.3 9.34-9.34 9.34A9.3 9.3 0 0 1 0 13.03a6.6 6.6 0 0 0 4.86-1.36 3.29 3.29 0 0 1-3.07-2.28c.5.1 1 .07 1.48-.06A3.28 3.28 0 0 1 .64 6.11v-.04c.46.26.97.4 1.49.41A3.29 3.29 0 0 1 1.11 2.1a9.32 9.32 0 0 0 6.77 3.43 3.28 3.28 0 0 1 5.6-3 6.59 6.59 0 0 0 2.08-.8 3.3 3.3 0 0 1-1.45 1.82A6.53 6.53 0 0 0 16 3.04c-.44.66-1 1.23-1.64 1.7Z\"\n  />\n</svg>`,$it=Object.freeze(Object.defineProperty({__proto__:null,twitterIconSvg:Ait},Symbol.toStringTag,{value:\"Module\"})),Iit=qe`<svg fill=\"none\" viewBox=\"0 0 28 28\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M18.1 4.76c-.42-.73-1.33-1.01-2.09-.66l-1.42.66c-.37.18-.8.18-1.18 0l-1.4-.65a1.63 1.63 0 0 0-2.1.66l-.84 1.45c-.2.34-.53.59-.92.67l-1.7.35c-.83.17-1.39.94-1.3 1.78l.19 1.56c.04.39-.08.78-.33 1.07l-1.12 1.3c-.52.6-.52 1.5 0 2.11L5 16.38c.25.3.37.68.33 1.06l-.18 1.57c-.1.83.46 1.6 1.28 1.78l1.7.35c.4.08.73.32.93.66l.84 1.43a1.63 1.63 0 0 0 2.09.66l1.41-.66c.37-.17.8-.17 1.18 0l1.43.67c.76.35 1.66.07 2.08-.65l.86-1.45c.2-.34.54-.58.92-.66l1.68-.35A1.63 1.63 0 0 0 22.84 19l-.18-1.57a1.4 1.4 0 0 1 .33-1.06l1.12-1.32c.52-.6.52-1.5 0-2.11l-1.12-1.3a1.4 1.4 0 0 1-.33-1.07l.18-1.57c.1-.83-.46-1.6-1.28-1.77l-1.68-.35a1.4 1.4 0 0 1-.92-.66l-.86-1.47Zm-3.27-3.2a4.43 4.43 0 0 1 5.69 1.78l.54.93 1.07.22a4.43 4.43 0 0 1 3.5 4.84l-.11.96.7.83a4.43 4.43 0 0 1 .02 5.76l-.72.85.1.96a4.43 4.43 0 0 1-3.5 4.84l-1.06.22-.54.92a4.43 4.43 0 0 1-5.68 1.77l-.84-.4-.82.39a4.43 4.43 0 0 1-5.7-1.79l-.51-.89-1.09-.22a4.43 4.43 0 0 1-3.5-4.84l.1-.96-.72-.85a4.43 4.43 0 0 1 .01-5.76l.71-.83-.1-.95a4.43 4.43 0 0 1 3.5-4.84l1.08-.23.53-.9a4.43 4.43 0 0 1 5.7-1.8l.81.38.83-.39ZM18.2 9.4c.65.42.84 1.28.42 1.93l-4.4 6.87a1.4 1.4 0 0 1-2.26.14L9.5 15.39a1.4 1.4 0 0 1 2.15-1.8l1.23 1.48 3.38-5.26a1.4 1.4 0 0 1 1.93-.42Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Tit=Object.freeze(Object.defineProperty({__proto__:null,verifySvg:Iit},Symbol.toStringTag,{value:\"Module\"})),Pit=qe`<svg fill=\"none\" viewBox=\"0 0 14 14\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"m4.1 12.43-.45-.78-.93-.2a1.65 1.65 0 0 1-1.31-1.8l.1-.86-.61-.71a1.65 1.65 0 0 1 0-2.16l.6-.7-.09-.85c-.1-.86.47-1.64 1.3-1.81l.94-.2.45-.78A1.65 1.65 0 0 1 6.23.9l.77.36.78-.36c.77-.36 1.69-.07 2.12.66l.47.8.91.2c.84.17 1.4.95 1.31 1.8l-.1.86.6.7c.54.62.54 1.54.01 2.16l-.6.71.09.86c.1.85-.47 1.63-1.3 1.8l-.92.2-.47.79a1.65 1.65 0 0 1-2.12.66L7 12.74l-.77.36c-.78.35-1.7.07-2.13-.67Zm5.74-6.9a1 1 0 1 0-1.68-1.07L6.32 7.3l-.55-.66a1 1 0 0 0-1.54 1.28l1.43 1.71a1 1 0 0 0 1.61-.1l2.57-4Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Oit=Object.freeze(Object.defineProperty({__proto__:null,verifyFilledSvg:Pit},Symbol.toStringTag,{value:\"Module\"})),Nit=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M0 5.5c0-1.8 1.46-3.25 3.25-3.25H14.5c1.8 0 3.25 1.46 3.25 3.25v.28A3.25 3.25 0 0 1 20 8.88v2.24c0 1.45-.94 2.68-2.25 3.1v.28c0 1.8-1.46 3.25-3.25 3.25H3.25A3.25 3.25 0 0 1 0 14.5v-9Zm15.75 8.88h-2.38a4.38 4.38 0 0 1 0-8.76h2.38V5.5c0-.69-.56-1.25-1.25-1.25H3.25C2.56 4.25 2 4.81 2 5.5v9c0 .69.56 1.25 1.25 1.25H14.5c.69 0 1.25-.56 1.25-1.25v-.13Zm-2.38-6.76a2.37 2.37 0 1 0 0 4.75h3.38c.69 0 1.25-.55 1.25-1.24V8.87c0-.69-.56-1.24-1.25-1.24h-3.38Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,Rit=Object.freeze(Object.defineProperty({__proto__:null,walletSvg:Nit},Symbol.toStringTag,{value:\"Module\"})),kit=qe`<svg fill=\"none\" viewBox=\"0 0 96 67\">\n  <path\n    fill=\"currentColor\"\n    d=\"M25.32 18.8a32.56 32.56 0 0 1 45.36 0l1.5 1.47c.63.62.63 1.61 0 2.22l-5.15 5.05c-.31.3-.82.3-1.14 0l-2.07-2.03a22.71 22.71 0 0 0-31.64 0l-2.22 2.18c-.31.3-.82.3-1.14 0l-5.15-5.05a1.55 1.55 0 0 1 0-2.22l1.65-1.62Zm56.02 10.44 4.59 4.5c.63.6.63 1.6 0 2.21l-20.7 20.26c-.62.61-1.63.61-2.26 0L48.28 41.83a.4.4 0 0 0-.56 0L33.03 56.21c-.63.61-1.64.61-2.27 0L10.07 35.95a1.55 1.55 0 0 1 0-2.22l4.59-4.5a1.63 1.63 0 0 1 2.27 0L31.6 43.63a.4.4 0 0 0 .57 0l14.69-14.38a1.63 1.63 0 0 1 2.26 0l14.69 14.38a.4.4 0 0 0 .57 0l14.68-14.38a1.63 1.63 0 0 1 2.27 0Z\"\n  />\n  <path\n    stroke=\"#000\"\n    stroke-opacity=\".1\"\n    d=\"M25.67 19.15a32.06 32.06 0 0 1 44.66 0l1.5 1.48c.43.42.43 1.09 0 1.5l-5.15 5.05a.31.31 0 0 1-.44 0l-2.07-2.03a23.21 23.21 0 0 0-32.34 0l-2.22 2.18a.31.31 0 0 1-.44 0l-5.15-5.05a1.05 1.05 0 0 1 0-1.5l1.65-1.63ZM81 29.6l4.6 4.5c.42.41.42 1.09 0 1.5l-20.7 20.26c-.43.43-1.14.43-1.57 0L48.63 41.47a.9.9 0 0 0-1.26 0L32.68 55.85c-.43.43-1.14.43-1.57 0L10.42 35.6a1.05 1.05 0 0 1 0-1.5l4.59-4.5a1.13 1.13 0 0 1 1.57 0l14.68 14.38a.9.9 0 0 0 1.27 0l-.35-.35.35.35L47.22 29.6a1.13 1.13 0 0 1 1.56 0l14.7 14.38a.9.9 0 0 0 1.26 0L79.42 29.6a1.13 1.13 0 0 1 1.57 0Z\"\n  />\n</svg>`,Mit=qe`\n<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<g clip-path=\"url(#clip0_22274_4692)\">\n<path d=\"M0 6.64C0 4.17295 0 2.93942 0.525474 2.01817C0.880399 1.39592 1.39592 0.880399 2.01817 0.525474C2.93942 0 4.17295 0 6.64 0H9.36C11.8271 0 13.0606 0 13.9818 0.525474C14.6041 0.880399 15.1196 1.39592 15.4745 2.01817C16 2.93942 16 4.17295 16 6.64V9.36C16 11.8271 16 13.0606 15.4745 13.9818C15.1196 14.6041 14.6041 15.1196 13.9818 15.4745C13.0606 16 11.8271 16 9.36 16H6.64C4.17295 16 2.93942 16 2.01817 15.4745C1.39592 15.1196 0.880399 14.6041 0.525474 13.9818C0 13.0606 0 11.8271 0 9.36V6.64Z\" fill=\"#C7B994\"/>\n<path d=\"M4.49038 5.76609C6.42869 3.86833 9.5713 3.86833 11.5096 5.76609L11.7429 5.99449C11.8398 6.08938 11.8398 6.24323 11.7429 6.33811L10.9449 7.11942C10.8964 7.16686 10.8179 7.16686 10.7694 7.11942L10.4484 6.80512C9.09617 5.48119 6.90381 5.48119 5.5516 6.80512L5.20782 7.14171C5.15936 7.18915 5.08079 7.18915 5.03234 7.14171L4.23434 6.3604C4.13742 6.26552 4.13742 6.11167 4.23434 6.01678L4.49038 5.76609ZM13.1599 7.38192L13.8702 8.07729C13.9671 8.17217 13.9671 8.32602 13.8702 8.4209L10.6677 11.5564C10.5708 11.6513 10.4137 11.6513 10.3168 11.5564L8.04388 9.33105C8.01965 9.30733 7.98037 9.30733 7.95614 9.33105L5.6833 11.5564C5.58638 11.6513 5.42925 11.6513 5.33234 11.5564L2.12982 8.42087C2.0329 8.32598 2.0329 8.17213 2.12982 8.07724L2.84004 7.38188C2.93695 7.28699 3.09408 7.28699 3.191 7.38188L5.46392 9.60726C5.48815 9.63098 5.52743 9.63098 5.55166 9.60726L7.82447 7.38188C7.92138 7.28699 8.07851 7.28699 8.17543 7.38187L10.4484 9.60726C10.4726 9.63098 10.5119 9.63098 10.5361 9.60726L12.809 7.38192C12.9059 7.28703 13.063 7.28703 13.1599 7.38192Z\" fill=\"#202020\"/>\n</g>\n<defs>\n<clipPath id=\"clip0_22274_4692\">\n<path d=\"M0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8Z\" fill=\"white\"/>\n</clipPath>\n</defs>\n</svg>\n`,Dit=qe`\n<svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<circle cx=\"11\" cy=\"11\" r=\"11\" transform=\"matrix(-1 0 0 1 23 1)\" fill=\"#202020\"/>\n<circle cx=\"11\" cy=\"11\" r=\"11.5\" transform=\"matrix(-1 0 0 1 23 1)\" stroke=\"#C7B994\" stroke-opacity=\"0.7\"/>\n<path d=\"M15.4523 11.0686L16.7472 9.78167C13.8205 6.87297 10.1838 6.87297 7.25708 9.78167L8.55201 11.0686C10.7779 8.85645 13.2279 8.85645 15.4538 11.0686H15.4523Z\" fill=\"#C7B994\"/>\n<path d=\"M15.0199 14.067L12 11.0656L8.98 14.067L5.96004 11.0656L4.66663 12.3511L8.98 16.6393L12 13.638L15.0199 16.6393L19.3333 12.3511L18.0399 11.0656L15.0199 14.067Z\" fill=\"#C7B994\"/>\n</svg>\n`,N$=Object.freeze(Object.defineProperty({__proto__:null,walletConnectBrownSvg:Dit,walletConnectLightBrownSvg:Mit,walletConnectSvg:kit},Symbol.toStringTag,{value:\"Module\"})),Bit=qe`\n  <svg fill=\"none\" viewBox=\"0 0 48 44\">\n    <path\n      style=\"fill: var(--wui-color-bg-300);\"\n      d=\"M4.56 8.64c-1.23 1.68-1.23 4.08-1.23 8.88v8.96c0 4.8 0 7.2 1.23 8.88.39.55.87 1.02 1.41 1.42C7.65 38 10.05 38 14.85 38h14.3c4.8 0 7.2 0 8.88-1.22a6.4 6.4 0 0 0 1.41-1.42c.83-1.14 1.1-2.6 1.19-4.92a6.4 6.4 0 0 0 5.16-4.65c.21-.81.21-1.8.21-3.79 0-1.98 0-2.98-.22-3.79a6.4 6.4 0 0 0-5.15-4.65c-.1-2.32-.36-3.78-1.19-4.92a6.4 6.4 0 0 0-1.41-1.42C36.35 6 33.95 6 29.15 6h-14.3c-4.8 0-7.2 0-8.88 1.22a6.4 6.4 0 0 0-1.41 1.42Z\"\n    />\n    <path\n      style=\"fill: var(--wui-color-fg-200);\"\n      fill-rule=\"evenodd\"\n      d=\"M2.27 11.33a6.4 6.4 0 0 1 6.4-6.4h26.66a6.4 6.4 0 0 1 6.4 6.4v1.7a6.4 6.4 0 0 1 5.34 6.3v5.34a6.4 6.4 0 0 1-5.34 6.3v1.7a6.4 6.4 0 0 1-6.4 6.4H8.67a6.4 6.4 0 0 1-6.4-6.4V11.33ZM39.6 31.07h-6.93a9.07 9.07 0 1 1 0-18.14h6.93v-1.6a4.27 4.27 0 0 0-4.27-4.26H8.67a4.27 4.27 0 0 0-4.27 4.26v21.34a4.27 4.27 0 0 0 4.27 4.26h26.66a4.27 4.27 0 0 0 4.27-4.26v-1.6Zm-6.93-16a6.93 6.93 0 0 0 0 13.86h8a4.27 4.27 0 0 0 4.26-4.26v-5.34a4.27 4.27 0 0 0-4.26-4.26h-8Z\"\n      clip-rule=\"evenodd\"\n    />\n  </svg>\n`,Lit=Object.freeze(Object.defineProperty({__proto__:null,walletPlaceholderSvg:Bit},Symbol.toStringTag,{value:\"Module\"})),Uit=qe`<svg fill=\"none\" viewBox=\"0 0 20 20\">\n  <path\n    fill=\"currentColor\"\n    d=\"M11 6.67a1 1 0 1 0-2 0v2.66a1 1 0 0 0 2 0V6.67ZM10 14.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z\"\n  />\n  <path\n    fill=\"currentColor\"\n    fill-rule=\"evenodd\"\n    d=\"M10 1a9 9 0 1 0 0 18 9 9 0 0 0 0-18Zm-7 9a7 7 0 1 1 14 0 7 7 0 0 1-14 0Z\"\n    clip-rule=\"evenodd\"\n  />\n</svg>`,jit=Object.freeze(Object.defineProperty({__proto__:null,warningCircleSvg:Uit},Symbol.toStringTag,{value:\"Module\"})),zit=qe`<svg width=\"22\" height=\"22\" viewBox=\"0 0 22 22\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M9.125 6.875C9.125 6.57833 9.21298 6.28832 9.3778 6.04165C9.54262 5.79497 9.77689 5.60271 10.051 5.48918C10.3251 5.37565 10.6267 5.34594 10.9176 5.40382C11.2086 5.4617 11.4759 5.60456 11.6857 5.81434C11.8954 6.02412 12.0383 6.29139 12.0962 6.58236C12.1541 6.87334 12.1244 7.17494 12.0108 7.44903C11.8973 7.72311 11.705 7.95738 11.4584 8.1222C11.2117 8.28703 10.9217 8.375 10.625 8.375C10.2272 8.375 9.84565 8.21696 9.56434 7.93566C9.28304 7.65436 9.125 7.27282 9.125 6.875ZM21.125 11C21.125 13.0025 20.5312 14.9601 19.4186 16.6251C18.3061 18.2902 16.7248 19.5879 14.8747 20.3543C13.0246 21.1206 10.9888 21.3211 9.02471 20.9305C7.06066 20.5398 5.25656 19.5755 3.84055 18.1595C2.42454 16.7435 1.46023 14.9393 1.06955 12.9753C0.678878 11.0112 0.879387 8.97543 1.64572 7.12533C2.41206 5.27523 3.70981 3.69392 5.37486 2.58137C7.0399 1.46882 8.99747 0.875 11 0.875C13.6844 0.877978 16.258 1.94567 18.1562 3.84383C20.0543 5.74199 21.122 8.3156 21.125 11ZM18.875 11C18.875 9.44247 18.4131 7.91992 17.5478 6.62488C16.6825 5.32985 15.4526 4.32049 14.0136 3.72445C12.5747 3.12841 10.9913 2.97246 9.46367 3.27632C7.93607 3.58017 6.53288 4.3302 5.43154 5.43153C4.3302 6.53287 3.58018 7.93606 3.27632 9.46366C2.97246 10.9913 3.12841 12.5747 3.72445 14.0136C4.32049 15.4526 5.32985 16.6825 6.62489 17.5478C7.91993 18.4131 9.44248 18.875 11 18.875C13.0879 18.8728 15.0896 18.0424 16.566 16.566C18.0424 15.0896 18.8728 13.0879 18.875 11ZM12.125 14.4387V11.375C12.125 10.8777 11.9275 10.4008 11.5758 10.0492C11.2242 9.69754 10.7473 9.5 10.25 9.5C9.98433 9.4996 9.72708 9.59325 9.52383 9.76435C9.32058 9.93544 9.18444 10.173 9.13952 10.4348C9.09461 10.6967 9.14381 10.966 9.27843 11.195C9.41304 11.4241 9.62438 11.5981 9.875 11.6863V14.75C9.875 15.2473 10.0725 15.7242 10.4242 16.0758C10.7758 16.4275 11.2527 16.625 11.75 16.625C12.0157 16.6254 12.2729 16.5318 12.4762 16.3607C12.6794 16.1896 12.8156 15.952 12.8605 15.6902C12.9054 15.4283 12.8562 15.159 12.7216 14.93C12.587 14.7009 12.3756 14.5269 12.125 14.4387Z\" fill=\"currentColor\"/>\n</svg>`,Fit=Object.freeze(Object.defineProperty({__proto__:null,infoSvg:zit},Symbol.toStringTag,{value:\"Module\"})),qit=qe`<svg width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path d=\"M15.0162 11.6312L9.55059 2.13937C9.39228 1.86862 9.16584 1.64405 8.8938 1.48798C8.62176 1.33192 8.3136 1.2498 7.99997 1.2498C7.68634 1.2498 7.37817 1.33192 7.10613 1.48798C6.83409 1.64405 6.60765 1.86862 6.44934 2.13937L0.983716 11.6312C0.830104 11.894 0.749146 12.1928 0.749146 12.4972C0.749146 12.8015 0.830104 13.1004 0.983716 13.3631C1.14027 13.6352 1.3664 13.8608 1.63889 14.0166C1.91139 14.1725 2.22044 14.253 2.53434 14.25H13.4656C13.7793 14.2528 14.0881 14.1721 14.3603 14.0163C14.6326 13.8604 14.8585 13.635 15.015 13.3631C15.1688 13.1005 15.2499 12.8017 15.2502 12.4973C15.2504 12.193 15.1696 11.8941 15.0162 11.6312ZM13.7162 12.6125C13.6908 12.6558 13.6541 12.6914 13.6101 12.7157C13.5661 12.7399 13.5164 12.7517 13.4662 12.75H2.53434C2.48415 12.7517 2.43442 12.7399 2.39042 12.7157C2.34641 12.6914 2.30976 12.6558 2.28434 12.6125C2.26278 12.5774 2.25137 12.5371 2.25137 12.4959C2.25137 12.4548 2.26278 12.4144 2.28434 12.3794L7.74997 2.88749C7.77703 2.84583 7.81408 2.8116 7.85774 2.7879C7.9014 2.7642 7.95029 2.75178 7.99997 2.75178C8.04964 2.75178 8.09854 2.7642 8.1422 2.7879C8.18586 2.8116 8.2229 2.84583 8.24997 2.88749L13.715 12.3794C13.7367 12.4143 13.7483 12.4546 13.7486 12.4958C13.7488 12.5369 13.7376 12.5773 13.7162 12.6125ZM7.24997 8.49999V6.49999C7.24997 6.30108 7.32898 6.11031 7.46964 5.96966C7.61029 5.82901 7.80105 5.74999 7.99997 5.74999C8.19888 5.74999 8.38964 5.82901 8.5303 5.96966C8.67095 6.11031 8.74997 6.30108 8.74997 6.49999V8.49999C8.74997 8.6989 8.67095 8.88967 8.5303 9.03032C8.38964 9.17097 8.19888 9.24999 7.99997 9.24999C7.80105 9.24999 7.61029 9.17097 7.46964 9.03032C7.32898 8.88967 7.24997 8.6989 7.24997 8.49999ZM8.99997 11C8.99997 11.1978 8.94132 11.3911 8.83144 11.5556C8.72155 11.72 8.56538 11.8482 8.38265 11.9239C8.19992 11.9996 7.99886 12.0194 7.80488 11.9808C7.6109 11.9422 7.43271 11.847 7.29286 11.7071C7.15301 11.5672 7.05777 11.3891 7.01918 11.1951C6.9806 11.0011 7.0004 10.8 7.07609 10.6173C7.15177 10.4346 7.27995 10.2784 7.4444 10.1685C7.60885 10.0586 7.80219 9.99999 7.99997 9.99999C8.26518 9.99999 8.51954 10.1053 8.70707 10.2929C8.89461 10.4804 8.99997 10.7348 8.99997 11Z\" fill=\"currentColor\"/>\n</svg>\n`,Hit=Object.freeze(Object.defineProperty({__proto__:null,exclamationTriangleSvg:qit},Symbol.toStringTag,{value:\"Module\"})),Vit=qe`<svg width=\"60\" height=\"16\" viewBox=\"0 0 60 16\" fill=\"none\"\">\n  <path d=\"M9.3335 4.66667C9.3335 2.08934 11.4229 0 14.0002 0H20.6669C23.2442 0 25.3335 2.08934 25.3335 4.66667V11.3333C25.3335 13.9106 23.2442 16 20.6669 16H14.0002C11.4229 16 9.3335 13.9106 9.3335 11.3333V4.66667Z\" fill=\"#363636\"/>\n  <path d=\"M15.6055 11.0003L17.9448 4.66699H18.6316L16.2923 11.0003H15.6055Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M0 4.33333C0 1.9401 1.9401 0 4.33333 0C6.72657 0 8.66669 1.9401 8.66669 4.33333V11.6667C8.66669 14.0599 6.72657 16 4.33333 16C1.9401 16 0 14.0599 0 11.6667V4.33333Z\" fill=\"#363636\"/>\n  <path d=\"M3.9165 9.99934V9.16602H4.74983V9.99934H3.9165Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M26 8C26 3.58172 29.3517 0 33.4863 0H52.5137C56.6483 0 60 3.58172 60 8C60 12.4183 56.6483 16 52.5137 16H33.4863C29.3517 16 26 12.4183 26 8Z\" fill=\"#363636\"/>\n  <path d=\"M49.3687 9.95834V6.26232H50.0213V6.81966C50.256 6.40899 50.7326 6.16699 51.2606 6.16699C52.0599 6.16699 52.6173 6.67299 52.6173 7.65566V9.95834H51.972V7.69234C51.972 7.04696 51.6053 6.70966 51.07 6.70966C50.4906 6.70966 50.0213 7.17168 50.0213 7.82433V9.95834H49.3687Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M45.2538 9.95773L44.5718 6.26172H45.1877L45.6717 9.31242L46.3098 7.30306H46.9184L47.5491 9.29041L48.0404 6.26172H48.6564L47.9744 9.95773H47.2411L46.6178 8.03641L45.9871 9.95773H45.2538Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M42.3709 10.0536C41.2489 10.0536 40.5889 9.21765 40.5889 8.1103C40.5889 7.01035 41.2489 6.16699 42.3709 6.16699C43.4929 6.16699 44.1529 7.01035 44.1529 8.1103C44.1529 9.21765 43.4929 10.0536 42.3709 10.0536ZM42.3709 9.51096C43.1775 9.51096 43.4856 8.82164 43.4856 8.10296C43.4856 7.39163 43.1775 6.70966 42.3709 6.70966C41.5642 6.70966 41.2562 7.39163 41.2562 8.10296C41.2562 8.82164 41.5642 9.51096 42.3709 9.51096Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M38.2805 10.0536C37.1952 10.0536 36.5132 9.22499 36.5132 8.1103C36.5132 7.00302 37.1952 6.16699 38.2805 6.16699C39.1972 6.16699 40.0038 6.68766 39.9159 8.27896H37.1805C37.2319 8.96103 37.5472 9.5183 38.2805 9.5183C38.7718 9.5183 39.0945 9.21765 39.2045 8.87299H39.8499C39.7472 9.48903 39.1679 10.0536 38.2805 10.0536ZM37.1952 7.78765H39.2852C39.2338 7.04696 38.8892 6.70232 38.2805 6.70232C37.6132 6.70232 37.2832 7.18635 37.1952 7.78765Z\" fill=\"#F6F6F6\"/>\n  <path d=\"M33.3828 9.95773V6.26172H34.0501V6.88506C34.2848 6.47439 34.6882 6.26172 35.1061 6.26172H35.9935V6.88506H35.0548C34.4682 6.88506 34.0501 7.26638 34.0501 8.00706V9.95773H33.3828Z\" fill=\"#F6F6F6\"/>\n</svg>`,Kit=Object.freeze(Object.defineProperty({__proto__:null,reownSvg:Vit},Symbol.toStringTag,{value:\"Module\"}));</script>\n    <style rel=\"stylesheet\" crossorigin>/*! tailwindcss v4.1.16 | MIT License | https://tailwindcss.com */@layer properties{@supports (((-webkit-hyphens:none)) and (not (margin-trim:inline))) or ((-moz-orient:inline) and (not (color:rgb(from red r g b)))){*,:before,:after,::backdrop{--tw-rotate-x:initial;--tw-rotate-y:initial;--tw-rotate-z:initial;--tw-skew-x:initial;--tw-skew-y:initial;--tw-space-y-reverse:0;--tw-border-style:solid;--tw-font-weight:initial;--tw-shadow:0 0 #0000;--tw-shadow-color:initial;--tw-shadow-alpha:100%;--tw-inset-shadow:0 0 #0000;--tw-inset-shadow-color:initial;--tw-inset-shadow-alpha:100%;--tw-ring-color:initial;--tw-ring-shadow:0 0 #0000;--tw-inset-ring-color:initial;--tw-inset-ring-shadow:0 0 #0000;--tw-ring-inset:initial;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-offset-shadow:0 0 #0000;--tw-duration:initial}}}@layer theme{:root,:host{--font-sans:var(--font-geist-sans);--font-mono:var(--font-geist-mono);--color-red-50:oklch(97.1% .013 17.38);--color-red-200:oklch(88.5% .062 18.334);--color-red-500:oklch(63.7% .237 25.331);--color-red-700:oklch(50.5% .213 27.518);--color-yellow-50:oklch(98.7% .026 102.212);--color-yellow-200:oklch(94.5% .129 101.54);--color-yellow-500:oklch(79.5% .184 86.047);--color-yellow-900:oklch(42.1% .095 57.708);--color-blue-50:oklch(97% .014 254.604);--color-blue-500:oklch(62.3% .214 259.815);--color-blue-600:oklch(54.6% .245 262.881);--color-blue-700:oklch(48.8% .243 264.376);--color-gray-50:oklch(98.5% .002 247.839);--color-gray-100:oklch(96.7% .003 264.542);--color-gray-200:oklch(92.8% .006 264.531);--color-gray-300:oklch(87.2% .01 258.338);--color-gray-400:oklch(70.7% .022 261.325);--color-gray-500:oklch(55.1% .027 264.364);--color-gray-600:oklch(44.6% .03 256.802);--color-gray-700:oklch(37.3% .034 259.733);--color-gray-800:oklch(27.8% .033 256.848);--color-gray-900:oklch(21% .034 264.665);--color-black:#000;--color-white:#fff;--spacing:.25rem;--text-sm:.875rem;--text-sm--line-height:calc(1.25/.875);--text-base:1rem;--text-base--line-height: 1.5 ;--text-xl:1.25rem;--text-xl--line-height:calc(1.75/1.25);--text-2xl:1.5rem;--text-2xl--line-height:calc(2/1.5);--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--radius-md:.375rem;--radius-lg:.5rem;--shadow-md:0 4px 6px -1px #0000001a,0 2px 4px -2px #0000001a;--animate-pulse:pulse 2s cubic-bezier(.4,0,.6,1)infinite;--default-transition-duration:.15s;--default-transition-timing-function:cubic-bezier(.4,0,.2,1);--default-font-family:var(--font-geist-sans);--default-mono-font-family:var(--font-geist-mono)}}@layer base{*,:after,:before,::backdrop{box-sizing:border-box;border:0 solid;margin:0;padding:0}::file-selector-button{box-sizing:border-box;border:0 solid;margin:0;padding:0}html,:host{-webkit-text-size-adjust:100%;-moz-tab-size:4;tab-size:4;line-height:1.5;font-family:var(--default-font-family,ui-sans-serif,system-ui,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\",\"Segoe UI Symbol\",\"Noto Color Emoji\");font-feature-settings:var(--default-font-feature-settings,normal);font-variation-settings:var(--default-font-variation-settings,normal);-webkit-tap-highlight-color:transparent}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;-webkit-text-decoration:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:var(--default-mono-font-family,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,\"Liberation Mono\",\"Courier New\",monospace);font-feature-settings:var(--default-mono-font-feature-settings,normal);font-variation-settings:var(--default-mono-font-variation-settings,normal);font-size:1em}small{font-size:80%}sub,sup{vertical-align:baseline;font-size:75%;line-height:0;position:relative}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}:-moz-focusring{outline:auto}progress{vertical-align:baseline}summary{display:list-item}ol,ul,menu{list-style:none}img,svg,video,canvas,audio,iframe,embed,object{vertical-align:middle;display:block}img,video{max-width:100%;height:auto}button,input,select,optgroup,textarea{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}::file-selector-button{font:inherit;font-feature-settings:inherit;font-variation-settings:inherit;letter-spacing:inherit;color:inherit;opacity:1;background-color:#0000;border-radius:0}:where(select:is([multiple],[size])) optgroup{font-weight:bolder}:where(select:is([multiple],[size])) optgroup option{padding-inline-start:20px}::file-selector-button{margin-inline-end:4px}::placeholder{opacity:1}@supports (not ((-webkit-appearance:-apple-pay-button))) or (contain-intrinsic-size:1px){::placeholder{color:currentColor}@supports (color:color-mix(in lab,red,red)){::placeholder{color:color-mix(in oklab,currentcolor 50%,transparent)}}}textarea{resize:vertical}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-date-and-time-value{min-height:1lh;text-align:inherit}::-webkit-datetime-edit{display:inline-flex}::-webkit-datetime-edit-fields-wrapper{padding:0}::-webkit-datetime-edit{padding-block:0}::-webkit-datetime-edit-year-field{padding-block:0}::-webkit-datetime-edit-month-field{padding-block:0}::-webkit-datetime-edit-day-field{padding-block:0}::-webkit-datetime-edit-hour-field{padding-block:0}::-webkit-datetime-edit-minute-field{padding-block:0}::-webkit-datetime-edit-second-field{padding-block:0}::-webkit-datetime-edit-millisecond-field{padding-block:0}::-webkit-datetime-edit-meridiem-field{padding-block:0}::-webkit-calendar-picker-indicator{line-height:1}:-moz-ui-invalid{box-shadow:none}button,input:where([type=button],[type=reset],[type=submit]){-webkit-appearance:button;-moz-appearance:button;appearance:button}::file-selector-button{-webkit-appearance:button;-moz-appearance:button;appearance:button}::-webkit-inner-spin-button{height:auto}::-webkit-outer-spin-button{height:auto}[hidden]:where(:not([hidden=until-found])){display:none!important}}@layer components;@layer utilities{.sr-only{clip-path:inset(50%);white-space:nowrap;border-width:0;width:1px;height:1px;margin:-1px;padding:0;position:absolute;overflow:hidden}.absolute{position:absolute}.relative{position:relative}.-top-2{top:calc(var(--spacing)*-2)}.-right-2{right:calc(var(--spacing)*-2)}.z-10{z-index:10}.mx-auto{margin-inline:auto}.mt-1{margin-top:calc(var(--spacing)*1)}.mt-2{margin-top:calc(var(--spacing)*2)}.mr-2{margin-right:calc(var(--spacing)*2)}.mr-3{margin-right:calc(var(--spacing)*3)}.-mb-20{margin-bottom:calc(var(--spacing)*-20)}.mb-2{margin-bottom:calc(var(--spacing)*2)}.mb-4{margin-bottom:calc(var(--spacing)*4)}.mb-6{margin-bottom:calc(var(--spacing)*6)}.mb-8{margin-bottom:calc(var(--spacing)*8)}.ml-2{margin-left:calc(var(--spacing)*2)}.block{display:block}.flex{display:flex}.grid{display:grid}.h-2\\.5{height:calc(var(--spacing)*2.5)}.h-4{height:calc(var(--spacing)*4)}.h-5{height:calc(var(--spacing)*5)}.h-6{height:calc(var(--spacing)*6)}.h-dvh{height:100dvh}.min-h-screen{min-height:100vh}.w-1\\/2{width:50%}.w-2\\.5{width:calc(var(--spacing)*2.5)}.w-3\\/4{width:75%}.w-5{width:calc(var(--spacing)*5)}.w-6{width:calc(var(--spacing)*6)}.w-dvw{width:100dvw}.w-full{width:100%}.max-w-\\[800px\\]{max-width:800px}.flex-shrink-0{flex-shrink:0}.transform{transform:var(--tw-rotate-x,)var(--tw-rotate-y,)var(--tw-rotate-z,)var(--tw-skew-x,)var(--tw-skew-y,)}.animate-pulse{animation:var(--animate-pulse)}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-col{flex-direction:column}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-3{gap:calc(var(--spacing)*3)}.gap-4{gap:calc(var(--spacing)*4)}:where(.space-y-4>:not(:last-child)){--tw-space-y-reverse:0;margin-block-start:calc(calc(var(--spacing)*4)*var(--tw-space-y-reverse));margin-block-end:calc(calc(var(--spacing)*4)*calc(1 - var(--tw-space-y-reverse)))}.truncate{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.rounded{border-radius:.25rem}.rounded-full{border-radius:3.40282e38px}.rounded-lg{border-radius:var(--radius-lg)}.rounded-md{border-radius:var(--radius-md)}.border{border-style:var(--tw-border-style);border-width:1px}.\\!border-gray-200{border-color:var(--color-gray-200)!important}.\\!border-gray-600{border-color:var(--color-gray-600)!important}.border-blue-500{border-color:var(--color-blue-500)}.border-gray-200{border-color:var(--color-gray-200)}.border-gray-300{border-color:var(--color-gray-300)}.border-gray-600{border-color:var(--color-gray-600)}.border-gray-700{border-color:var(--color-gray-700)}.border-red-200{border-color:var(--color-red-200)}.border-yellow-200{border-color:var(--color-yellow-200)}.border-yellow-900\\/50{border-color:#733e0a80}@supports (color:color-mix(in lab,red,red)){.border-yellow-900\\/50{border-color:color-mix(in oklab,var(--color-yellow-900)50%,transparent)}}.bg-\\[\\#2E74FF\\]{background-color:#2e74ff}.bg-blue-50{background-color:var(--color-blue-50)}.bg-blue-500{background-color:var(--color-blue-500)}.bg-gray-50{background-color:var(--color-gray-50)}.bg-gray-200{background-color:var(--color-gray-200)}.bg-gray-700{background-color:var(--color-gray-700)}.bg-gray-800{background-color:var(--color-gray-800)}.bg-gray-900{background-color:var(--color-gray-900)}.bg-red-50{background-color:var(--color-red-50)}.bg-white{background-color:var(--color-white)}.bg-yellow-50{background-color:var(--color-yellow-50)}.bg-yellow-900\\/20{background-color:#733e0a33}@supports (color:color-mix(in lab,red,red)){.bg-yellow-900\\/20{background-color:color-mix(in oklab,var(--color-yellow-900)20%,transparent)}}.object-contain{object-fit:contain}.p-2{padding:calc(var(--spacing)*2)}.p-3{padding:calc(var(--spacing)*3)}.p-4{padding:calc(var(--spacing)*4)}.p-6{padding:calc(var(--spacing)*6)}.p-8{padding:calc(var(--spacing)*8)}.px-4{padding-inline:calc(var(--spacing)*4)}.py-2{padding-block:calc(var(--spacing)*2)}.py-2\\.5{padding-block:calc(var(--spacing)*2.5)}.pt-4{padding-top:calc(var(--spacing)*4)}.text-center{text-align:center}.text-left{text-align:left}.text-2xl{font-size:var(--text-2xl);line-height:var(--tw-leading,var(--text-2xl--line-height))}.text-base{font-size:var(--text-base);line-height:var(--tw-leading,var(--text-base--line-height))}.text-sm{font-size:var(--text-sm);line-height:var(--tw-leading,var(--text-sm--line-height))}.text-xl{font-size:var(--text-xl);line-height:var(--tw-leading,var(--text-xl--line-height))}.font-bold{--tw-font-weight:var(--font-weight-bold);font-weight:var(--font-weight-bold)}.font-medium{--tw-font-weight:var(--font-weight-medium);font-weight:var(--font-weight-medium)}.font-semibold{--tw-font-weight:var(--font-weight-semibold);font-weight:var(--font-weight-semibold)}.text-black{color:var(--color-black)}.text-blue-500{color:var(--color-blue-500)}.text-gray-200{color:var(--color-gray-200)}.text-gray-300{color:var(--color-gray-300)}.text-gray-400{color:var(--color-gray-400)}.text-gray-500{color:var(--color-gray-500)}.text-gray-700{color:var(--color-gray-700)}.text-gray-800{color:var(--color-gray-800)}.text-gray-900{color:var(--color-gray-900)}.text-red-500{color:var(--color-red-500)}.text-red-700{color:var(--color-red-700)}.text-white{color:var(--color-white)}.text-yellow-500{color:var(--color-yellow-500)}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-25{opacity:.25}.opacity-50{opacity:.5}.opacity-75{opacity:.75}.shadow-lg{--tw-shadow:0 10px 15px -3px var(--tw-shadow-color,#0000001a),0 4px 6px -4px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.shadow-sm{--tw-shadow:0 1px 3px 0 var(--tw-shadow-color,#0000001a),0 1px 2px -1px var(--tw-shadow-color,#0000001a);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-2{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.ring-blue-500{--tw-ring-color:var(--color-blue-500)}.transition-all{transition-property:all;transition-timing-function:var(--tw-ease,var(--default-transition-timing-function));transition-duration:var(--tw-duration,var(--default-transition-duration))}.duration-200{--tw-duration:.2s;transition-duration:.2s}@media(hover:hover){.hover\\:bg-\\[\\#2361DB\\]:hover{background-color:#2361db}.hover\\:bg-gray-50:hover{background-color:var(--color-gray-50)}.hover\\:bg-gray-100:hover{background-color:var(--color-gray-100)}.hover\\:bg-gray-600:hover{background-color:var(--color-gray-600)}.hover\\:bg-gray-700:hover{background-color:var(--color-gray-700)}}.focus\\:ring-2:focus{--tw-ring-shadow:var(--tw-ring-inset,)0 0 0 calc(2px + var(--tw-ring-offset-width))var(--tw-ring-color,currentcolor);box-shadow:var(--tw-inset-shadow),var(--tw-inset-ring-shadow),var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow)}.focus\\:ring-blue-500:focus{--tw-ring-color:var(--color-blue-500)}.focus\\:outline-none:focus{--tw-outline-style:none;outline-style:none}@media(min-width:40rem){.sm\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}}@media(prefers-color-scheme:dark){.dark\\:bg-blue-600{background-color:var(--color-blue-600)}.dark\\:bg-gray-700{background-color:var(--color-gray-700)}.dark\\:text-gray-400{color:var(--color-gray-400)}.dark\\:text-white{color:var(--color-white)}@media(hover:hover){.dark\\:hover\\:bg-blue-700:hover{background-color:var(--color-blue-700)}}}}:root{--background:#f8fafb;--foreground:#1a1a1a;--color-card-bg:#fff;--color-card-border:#e2e8f0;--color-card-hover:#f8fafc;--color-border:#e2e8f0;--color-border-hover:#cbd5e1;--color-text-primary:#1e293b;--color-text-secondary:#64748b;--color-text-tertiary:#475569;--color-text-disabled:#94a3b8;--color-button-bg:#f1f5f9;--color-button-hover:#e2e8f0;--color-button-disabled:#e2e8f0;--color-button-bg-disabled:#f8fafc;--color-primary:#2563eb;--color-primary-hover:#1d4ed8;--color-primary-light:#dbeafe;--color-success:#22c55e;--color-success-bg:#dcfce7;--color-error:#ef4444;--color-error-bg:#fee2e2;--color-warning:#f59e0b;--color-warning-bg:#fef3c7;--color-info:#3b82f6;--color-info-bg:#dbeafe;--color-surface-1:#f9fafb;--color-surface-2:#f3f4f6;--color-surface-3:#e5e7eb;--color-red:#fee2e2;--color-red-hover:#fecaca;--color-red-text:#dc2626;--color-blue-text:#3b82f6;--color-purple-text:#9333ea;--color-green-text:#16a34a;--color-shadow:#0000001a;--color-shadow-strong:#00000026;--transition:all .2s ease}.dark{--background:#0f0f10;--foreground:#f7f7f7;--color-card-bg:#1a1a1b;--color-card-border:#2a2a2b;--color-card-hover:#252526;--color-border:#2a2a2b;--color-border-hover:#383838;--color-text-primary:#f7f7f7;--color-text-secondary:#a8a8a8;--color-text-tertiary:#c2c2c2;--color-text-disabled:#787878;--color-button-bg:#2a2a2b;--color-button-hover:#353536;--color-button-disabled:#242425;--color-button-bg-disabled:#1a1a1b;--color-primary:#3b82f6;--color-primary-hover:#60a5fa;--color-primary-light:#1e3a8a;--color-success:#4ade80;--color-success-bg:#14532d;--color-error:#f87171;--color-error-bg:#7f1d1d;--color-warning:#fbbf24;--color-warning-bg:#713f12;--color-info:#60a5fa;--color-info-bg:#1e3a8a;--color-surface-1:#252525;--color-surface-2:#2f2f30;--color-surface-3:#3a3a3b;--color-red:#991b1b;--color-red-hover:#b91c1c;--color-red-text:#fca5a5;--color-blue-text:#93c5fd;--color-purple-text:#c084fc;--color-green-text:#86efac;--color-shadow:#0000004d;--color-shadow-strong:#00000080}body{background:var(--background);color:var(--foreground);font-family:var(--font-sans),system-ui,-apple-system,sans-serif;transition:var(--transition);line-height:1.5}*{box-sizing:border-box}h1,h2,h3,h4,h5,h6{color:var(--color-text-primary);font-weight:600;line-height:1.3}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.5rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}p{color:var(--color-text-secondary);line-height:1.6}.card{background:var(--color-card-bg);border:1px solid var(--color-card-border);border-radius:8px;padding:1.5rem}button{transition:var(--transition);cursor:pointer;border:none;border-radius:6px;padding:.5rem 1rem;font-weight:500}button.primary{background:var(--color-primary);color:#fff}button.primary:hover:not([disabled]){background:var(--color-primary-hover)}button.secondary{background:var(--color-button-bg);color:var(--color-text-primary);border:1px solid var(--color-border)}button.secondary:hover:not([disabled]){background:var(--color-button-hover);border-color:var(--color-border-hover)}button[disabled]{cursor:not-allowed;opacity:.7;background:var(--color-button-bg-disabled);color:var(--color-text-disabled)}.payment-button{background-image:linear-gradient(to right,var(--color-primary),var(--color-purple-text));color:#fff;box-shadow:var(--shadow-md);border-radius:.5rem;justify-content:center;align-items:center;width:100%;padding:.75rem 1.5rem;font-weight:500;transition:all .2s;display:flex}.payment-button:focus{box-shadow:0 0 0 3px rgba(var(--color-primary-rgb),.5);outline:none}.payment-button-processing{opacity:.9;cursor:wait}.payment-button-spinner{width:1.25rem;height:1.25rem;margin-right:.75rem;animation:1s linear infinite spin}.payment-error-message{color:var(--color-error);background-color:rgba(var(--color-error-rgb),.1);border:1px solid rgba(var(--color-error-rgb),.2);text-align:left;border-radius:.25rem;margin-top:.5rem;padding:.5rem;font-size:.875rem}input,textarea{border:1px solid var(--color-border);background:var(--color-surface-1);color:var(--color-text-primary);transition:var(--transition);border-radius:6px;padding:.5rem .75rem;font-size:1rem}input:focus,textarea:focus{border-color:var(--color-primary);box-shadow:0 0 0 3px var(--color-primary-light);outline:none}input::placeholder,textarea::placeholder{color:var(--color-text-secondary);opacity:.7}.dark input::placeholder,.dark textarea::placeholder{color:var(--color-text-secondary);opacity:.9}input:disabled,textarea:disabled{background:var(--color-surface-2);color:var(--color-text-disabled);cursor:not-allowed}.surface-1{background:var(--color-surface-1)}.surface-2{background:var(--color-surface-2)}.surface-3{background:var(--color-surface-3)}.text-primary{color:var(--color-text-primary)}.text-secondary{color:var(--color-text-secondary)}.text-tertiary{color:var(--color-text-tertiary)}.text-disabled{color:var(--color-text-disabled)}.border{border:1px solid var(--color-border)}.border-none{border:none}.status-success{color:var(--color-success);background:var(--color-success-bg);border-radius:6px;padding:.75rem}.status-error{color:var(--color-error);background:var(--color-error-bg);border-radius:6px;padding:.75rem}.status-warning{color:var(--color-warning);background:var(--color-warning-bg);border-radius:6px;padding:.75rem}.status-info{color:var(--color-info);background:var(--color-info-bg);border-radius:6px;padding:.75rem}code{background:var(--color-surface-2);color:var(--color-text-primary);font-family:var(--font-mono),monospace;border-radius:4px;padding:.125rem .375rem}pre{background:var(--color-surface-1);border:1px solid var(--color-border);border-radius:6px;padding:1rem;overflow-x:auto}pre code{background:0 0;padding:0}.shadow-sm{box-shadow:0 1px 2px 0 var(--color-shadow)}.shadow{box-shadow:0 4px 6px -1px var(--color-shadow),0 2px 4px -1px var(--color-shadow)}.shadow-lg{box-shadow:0 10px 15px -3px var(--color-shadow),0 4px 6px -2px var(--color-shadow)}.gradient-primary{background:linear-gradient(135deg,var(--color-primary),var(--color-purple-text))}.gradient-surface{background:linear-gradient(135deg,var(--color-surface-1),var(--color-surface-2))}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.animate-fade-in{animation:.3s ease-out fadeIn}.animate-slide-in{animation:.3s ease-out slideIn}@media(max-width:768px){h1{font-size:2rem}h2{font-size:1.75rem}h3{font-size:1.25rem}.card{padding:1rem}}@media(forced-colors:active){.card{border-color:canvastext}button[disabled]{color:graytext;border-color:graytext}}@media(prefers-reduced-motion:reduce){*{transition:none!important;animation:none!important}}@property --tw-rotate-x{syntax:\"*\";inherits:false}@property --tw-rotate-y{syntax:\"*\";inherits:false}@property --tw-rotate-z{syntax:\"*\";inherits:false}@property --tw-skew-x{syntax:\"*\";inherits:false}@property --tw-skew-y{syntax:\"*\";inherits:false}@property --tw-space-y-reverse{syntax:\"*\";inherits:false;initial-value:0}@property --tw-border-style{syntax:\"*\";inherits:false;initial-value:solid}@property --tw-font-weight{syntax:\"*\";inherits:false}@property --tw-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-shadow-color{syntax:\"*\";inherits:false}@property --tw-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-inset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-shadow-color{syntax:\"*\";inherits:false}@property --tw-inset-shadow-alpha{syntax:\"<percentage>\";inherits:false;initial-value:100%}@property --tw-ring-color{syntax:\"*\";inherits:false}@property --tw-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-inset-ring-color{syntax:\"*\";inherits:false}@property --tw-inset-ring-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-ring-inset{syntax:\"*\";inherits:false}@property --tw-ring-offset-width{syntax:\"<length>\";inherits:false;initial-value:0}@property --tw-ring-offset-color{syntax:\"*\";inherits:false;initial-value:#fff}@property --tw-ring-offset-shadow{syntax:\"*\";inherits:false;initial-value:0 0 #0000}@property --tw-duration{syntax:\"*\";inherits:false}@keyframes spin{to{transform:rotate(360deg)}}@keyframes pulse{50%{opacity:.5}}</style>\n  </head>\r\n  <body>\r\n    <div id=\"root\"></div>\r\r\n  </body>\r\n</html>\r\n";
